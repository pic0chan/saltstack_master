2016-08-27 19:19:08,497 [salt.pillar      ][CRITICAL][4044] Pillar render error: Error encountered while render pillar top file.
2016-08-27 19:19:08,524 [salt.pillar      ][CRITICAL][4044] Pillar render error: Error encountered while render pillar top file.
2016-08-27 20:02:45,436 [salt.utils.templates][ERROR   ][5649] Rendering exception occurred: Jinja variable 'network' is undefined
2016-08-27 20:02:45,436 [salt.state       ][CRITICAL][5649] Rendering SLS 'base:rsyslog' failed: Jinja variable 'network' is undefined
2016-08-27 20:05:17,200 [salt.utils.templates][ERROR   ][5719] Rendering exception occurred: Jinja variable 'network' is undefined
2016-08-27 20:05:17,201 [salt.state       ][CRITICAL][5719] Rendering SLS 'base:rsyslog' failed: Jinja variable 'network' is undefined
2016-08-27 20:05:59,785 [salt.utils.templates][ERROR   ][5755] Rendering exception occurred: Jinja variable 'dict object' has no attribute 'eth0'
2016-08-27 20:05:59,786 [salt.state       ][CRITICAL][5755] Rendering SLS 'base:rsyslog' failed: Jinja variable 'dict object' has no attribute 'eth0'
2016-08-27 20:51:12,903 [salt.utils.lazy  ][DEBUG   ][6969] LazyLoaded flat.targets
2016-08-27 20:51:12,904 [salt.utils.lazy  ][DEBUG   ][6969] LazyLoaded jinja.render
2016-08-27 20:51:12,905 [salt.utils.lazy  ][DEBUG   ][6969] LazyLoaded yaml.render
2016-08-27 20:51:12,905 [salt.template    ][DEBUG   ][6969] compile template: ./roster
2016-08-27 20:51:12,905 [salt.utils.jinja ][DEBUG   ][6969] Jinja search path: ['/root/saltstack_master/var/cache/salt/master/files/base']
2016-08-27 20:51:12,909 [salt.template    ][PROFILE ][6969] Time (in seconds) to render './roster' using 'jinja' renderer: 0.00372505187988
2016-08-27 20:51:12,909 [salt.template    ][DEBUG   ][6969] Rendered data from file: ./roster:
local:
  host: 127.0.0.1
  user: salt-ope
  passwd: salt-ope
  sudo: True
syslog:
  host: 192.168.1.12
  user: salt-ope
  passwd: salt-ope
  sudo: True


2016-08-27 20:51:12,912 [salt.loaded.int.render.yaml][DEBUG   ][6969] Results of YAML rendering: 
OrderedDict([('local', OrderedDict([('host', '127.0.0.1'), ('user', 'salt-ope'), ('passwd', 'salt-ope'), ('sudo', True)])), ('syslog', OrderedDict([('host', '192.168.1.12'), ('user', 'salt-ope'), ('passwd', 'salt-ope'), ('sudo', True)]))])
2016-08-27 20:51:12,912 [salt.template    ][PROFILE ][6969] Time (in seconds) to render './roster' using 'yaml' renderer: 0.00262904167175
2016-08-27 20:51:12,912 [salt.roster      ][DEBUG   ][6969] Matched minions: {'local': OrderedDict([('host', '127.0.0.1'), ('user', 'salt-ope'), ('passwd', 'salt-ope'), ('sudo', True)])}
2016-08-27 20:51:12,915 [salt.utils.lazy  ][DEBUG   ][6969] LazyLoaded roots.envs
2016-08-27 20:51:12,919 [salt.utils.lazy  ][DEBUG   ][6969] Could not LazyLoad roots.init
2016-08-27 20:51:12,919 [salt.fileserver  ][DEBUG   ][6969] Updating roots fileserver cache
2016-08-27 20:51:12,920 [salt.fileserver  ][TRACE   ][6969] Returning file_lists cache data from /root/saltstack_master/var/cache/salt/master/file_lists/roots/base.p
2016-08-27 20:51:12,921 [salt.utils.lazy  ][DEBUG   ][6969] LazyLoaded local_cache.prep_jid
2016-08-27 20:51:12,921 [salt.loaded.int.returner.local_cache][DEBUG   ][6969] Adding minions for job 20160827205112920990: ['local']
2016-08-27 20:51:12,951 [salt.utils.lazy  ][DEBUG   ][6985] LazyLoaded state.apply
2016-08-27 20:51:12,970 [salt.client.ssh  ][DEBUG   ][6985] Performing shimmed, blocking command as follows:
test.opts_pkg
2016-08-27 20:51:12,985 [salt.client.ssh.shell][DEBUG   ][6985] Executed SHIM command. Command logged to TRACE
2016-08-27 20:51:12,985 [salt.client.ssh.shell][TRACE   ][6985] Executing command: ssh 127.0.0.1  -o KbdInteractiveAuthentication=no -o PasswordAuthentication=yes -o GSSAPIAuthentication=no -o ConnectTimeout=65 -o Port=22 -o IdentityFile=/root/saltstack_master/etc/salt/pki/master/ssh/salt-ssh.rsa -o User=******  /bin/sh << 'EOF'
set -e
set -u
DEBUG="1"
if [ -n "$DEBUG" ]
then set -x
fi
SUDO=""
if [ -n "sudo" ]
then SUDO="sudo "
fi
EX_PYTHON_INVALID=10
PYTHON_CMDS="python3 python27 python2.7 python26 python2.6 python2 python"
for py_cmd in $PYTHON_CMDS
do
if command -v "$py_cmd" >/dev/null 2>&1 && "$py_cmd" -c \
"import sys; sys.exit(not (sys.version_info >= (2, 6)
and sys.version_info[0] == 2));"
then
py_cmd_path=`"$py_cmd" -c \
'from __future__ import print_function;
import sys; print(sys.executable);'`
cmdpath=$(which $py_cmd 2>&1)
if file $cmdpath | grep "shell script" > /dev/null
then
ex_vars="'PATH', 'LD_LIBRARY_PATH', 'MANPATH', \
'XDG_DATA_DIRS', 'PKG_CONFIG_PATH'"
export $($py_cmd -c \
"from __future__ import print_function;
import sys;
import os;
map(sys.stdout.write, ['{0}={1} ' \
.format(x, os.environ[x]) for x in [$ex_vars]])")
exec $SUDO PATH=$PATH LD_LIBRARY_PATH=$LD_LIBRARY_PATH \
MANPATH=$MANPATH XDG_DATA_DIRS=$XDG_DATA_DIRS \
PKG_CONFIG_PATH=$PKG_CONFIG_PATH \
"$py_cmd_path" -c \
'import base64;
exec(base64.b64decode("""IyBweWxpbnQ6IGRpc2FibGU9Vzk5MDMKJycnClRoaXMgaXMgYSBzaGltIHRoYXQgaGFuZGxlcyBj
aGVja2luZyBhbmQgdXBkYXRpbmcgc2FsdCB0aGluIGFuZAp0aGVuIGludm9raW5nIHRoaW4uCgpU
aGlzIGlzIG5vdCBpbnRlbmRlZCB0byBiZSBpbnN0YW50aWF0ZWQgYXMgYSBtb2R1bGUsIHJhdGhl
ciBpdCBpcyBhCmhlbHBlciBzY3JpcHQgdXNlZCBieSBzYWx0LmNsaWVudC5zc2guU2luZ2xlLiAg
SXQgaXMgaGVyZSwgaW4gYQpzZXBhcmF0ZSBmaWxlLCBmb3IgY29udmVuaWVuY2Ugb2YgZGV2ZWxv
cG1lbnQuCicnJwoKZnJvbSBfX2Z1dHVyZV9fIGltcG9ydCBhYnNvbHV0ZV9pbXBvcnQKCmltcG9y
dCBoYXNobGliCmltcG9ydCB0YXJmaWxlCmltcG9ydCBzaHV0aWwKaW1wb3J0IHN5cwppbXBvcnQg
b3MKaW1wb3J0IHN0YXQKaW1wb3J0IHN1YnByb2Nlc3MKClRISU5fQVJDSElWRSA9ICdzYWx0LXRo
aW4udGd6JwpFWFRfQVJDSElWRSA9ICdzYWx0LWV4dF9tb2RzLnRneicKCiMgS2VlcCB0aGVzZSBp
biBzeW5jIHdpdGggc2FsdC9kZWZhdWx0cy9leGl0Y29kZXMucHkKRVhfVEhJTl9ERVBMT1kgPSAx
MQpFWF9USElOX0NIRUNLU1VNID0gMTIKRVhfTU9EX0RFUExPWSA9IDEzCkVYX1NDUF9OT1RfRk9V
TkQgPSAxNApFWF9DQU5UQ1JFQVQgPSA3MwoKCmNsYXNzIE9CSihvYmplY3QpOgogICAgIiIiQW4g
ZW1wdHkgY2xhc3MgZm9yIGhvbGRpbmcgaW5zdGFuY2UgYXR0cmlidXRlIHZhbHVlcy4iIiIKICAg
IHBhc3MKCgpPUFRJT05TID0gTm9uZQpBUkdTID0gTm9uZQojIFRoZSBiZWxvdyBsaW5lIGlzIHdo
ZXJlIE9QVElPTlMgY2FuIGJlIHJlZGVmaW5lZCB3aXRoIGludGVybmFsIG9wdGlvbnMKIyAocmF0
aGVyIHRoYW4gY2xpIGFyZ3VtZW50cykgd2hlbiB0aGUgc2hpbSBpcyBidW5kbGVkIGJ5CiMgY2xp
ZW50LnNzaC5TaW5nbGUuX2NtZF9zdHIoKQojIHB5bGludDogZGlzYWJsZT1ibG9jay1jb21tZW50
LXNob3VsZC1zdGFydC13aXRoLWNhcmRpbmFsLXNwYWNlCgpPUFRJT05TID0gT0JKKCkKT1BUSU9O
Uy5jb25maWcgPSAiIiIKe2ZpbGVzZXJ2ZXJfbGlzdF9jYWNoZV90aW1lOiAzLCBncmFpbnNfY2Fj
aGU6IHRydWUsIGlkOiBsb2NhbCwgbG9nX2ZpbGU6IHNhbHQtY2FsbC5sb2csCiAgcm9vdF9kaXI6
IC92YXIvdG1wLy5zYWx0LW9wZV8xYTM1MzJfc2FsdC9ydW5uaW5nX2RhdGEsIHNvY2tfZGlyOiAv
fQoiIiIKT1BUSU9OUy5kZWxpbWl0ZXIgPSAnX2VkYmM3ODg1ZTRmOWFhYzliODNiMzU5OTliNjhk
MDE1MTQ4Y2FmNDY3Yjc4ZmEzOWMwNWY2NjljMGZmODk4NzgnCk9QVElPTlMuc2FsdGRpciA9ICcv
dmFyL3RtcC8uc2FsdC1vcGVfMWEzNTMyX3NhbHQnCk9QVElPTlMuY2hlY2tzdW0gPSAnMmUyNWZj
YmI2YWEyNTU5OWQ1MmU4OTVkZTZlMjExOTZkNWM2ZTU5NScKT1BUSU9OUy5oYXNoZnVuYyA9ICdz
aGExJwpPUFRJT05TLnZlcnNpb24gPSAnMjAxNi4zLjInCk9QVElPTlMuZXh0X21vZHMgPSAnJwpP
UFRJT05TLndpcGUgPSBGYWxzZQpPUFRJT05TLnR0eSA9IEZhbHNlCk9QVElPTlMuY21kX3VtYXNr
ID0gTm9uZQpBUkdTID0gWyd0ZXN0Lm9wdHNfcGtnJ10KCgoKZGVmIG5lZWRfZGVwbG95bWVudCgp
OgogICAgIiIiCiAgICBTYWx0IHRoaW4gbmVlZHMgdG8gYmUgZGVwbG95ZWQgLSBwcmVwIHRoZSB0
YXJnZXQgZGlyZWN0b3J5IGFuZCBlbWl0IHRoZQogICAgZGVsaW1ldGVyIGFuZCBleGl0IGNvZGUg
dGhhdCBzaWduYWxzIGEgcmVxdWlyZWQgZGVwbG95bWVudC4KICAgICIiIgogICAgaWYgb3MucGF0
aC5leGlzdHMoT1BUSU9OUy5zYWx0ZGlyKToKICAgICAgICBzaHV0aWwucm10cmVlKE9QVElPTlMu
c2FsdGRpcikKICAgIG9sZF91bWFzayA9IG9zLnVtYXNrKDBvMDc3KQogICAgb3MubWFrZWRpcnMo
T1BUSU9OUy5zYWx0ZGlyKQogICAgb3MudW1hc2sob2xkX3VtYXNrKQogICAgIyBWZXJpZnkgcGVy
bXMgb24gc2FsdGRpcgogICAgZXVpZCA9IG9zLmdldGV1aWQoKQogICAgZHN0YXQgPSBvcy5zdGF0
KE9QVElPTlMuc2FsdGRpcikKICAgIGlmIGRzdGF0LnN0X3VpZCAhPSBldWlkOgogICAgICAgICMg
QXR0YWNrIGRldGVjdGVkLCB0cnkgYWdhaW4KICAgICAgICBuZWVkX2RlcGxveW1lbnQoKQogICAg
aWYgZHN0YXQuc3RfbW9kZSAhPSAxNjgzMjoKICAgICAgICAjIEF0dGFjayBkZXRlY3RlZAogICAg
ICAgIG5lZWRfZGVwbG95bWVudCgpCiAgICAjIElmIFNVRE9pbmcgdGhlbiBhbHNvIGdpdmUgdGhl
IHN1cGVyIHVzZXIgZ3JvdXAgd3JpdGUgcGVybWlzc2lvbnMKICAgIHN1ZG9fZ2lkID0gb3MuZW52
aXJvbi5nZXQoJ1NVRE9fR0lEJykKICAgIGlmIHN1ZG9fZ2lkOgogICAgICAgIG9zLmNob3duKE9Q
VElPTlMuc2FsdGRpciwgLTEsIGludChzdWRvX2dpZCkpCiAgICAgICAgc3R0ID0gb3Muc3RhdChP
UFRJT05TLnNhbHRkaXIpCiAgICAgICAgb3MuY2htb2QoT1BUSU9OUy5zYWx0ZGlyLCBzdHQuc3Rf
bW9kZSB8IHN0YXQuU19JV0dSUCB8IHN0YXQuU19JUkdSUCB8IHN0YXQuU19JWEdSUCkKCiAgICAj
IERlbGltaXRlciBlbWl0dGVkIG9uIHN0ZG91dCAqb25seSogdG8gaW5kaWNhdGUgc2hpbSBtZXNz
YWdlIHRvIG1hc3Rlci4KICAgIHN5cy5zdGRvdXQud3JpdGUoInswfVxuZGVwbG95XG4iLmZvcm1h
dChPUFRJT05TLmRlbGltaXRlcikpCiAgICBzeXMuZXhpdChFWF9USElOX0RFUExPWSkKCgojIEFk
YXB0ZWQgZnJvbSBzYWx0LnV0aWxzLmdldF9oYXNoKCkKZGVmIGdldF9oYXNoKHBhdGgsIGZvcm09
J3NoYTEnLCBjaHVua19zaXplPTQwOTYpOgogICAgIiIiR2VuZXJhdGUgYSBoYXNoIGRpZ2VzdCBz
dHJpbmcgZm9yIGEgZmlsZS4iIiIKICAgIHRyeToKICAgICAgICBoYXNoX3R5cGUgPSBnZXRhdHRy
KGhhc2hsaWIsIGZvcm0pCiAgICBleGNlcHQgQXR0cmlidXRlRXJyb3I6CiAgICAgICAgcmFpc2Ug
VmFsdWVFcnJvcignSW52YWxpZCBoYXNoIHR5cGU6IHswfScuZm9ybWF0KGZvcm0pKQogICAgd2l0
aCBvcGVuKHBhdGgsICdyYicpIGFzIGlmaWxlOgogICAgICAgIGhhc2hfb2JqID0gaGFzaF90eXBl
KCkKICAgICAgICAjIHJlYWQgdGhlIGZpbGUgaW4gaW4gY2h1bmtzLCBub3QgdGhlIGVudGlyZSBm
aWxlCiAgICAgICAgZm9yIGNodW5rIGluIGl0ZXIobGFtYmRhOiBpZmlsZS5yZWFkKGNodW5rX3Np
emUpLCBiJycpOgogICAgICAgICAgICBoYXNoX29iai51cGRhdGUoY2h1bmspCiAgICAgICAgcmV0
dXJuIGhhc2hfb2JqLmhleGRpZ2VzdCgpCgoKZGVmIHVucGFja190aGluKHRoaW5fcGF0aCk6CiAg
ICAiIiJVbnBhY2sgdGhlIFNhbHQgdGhpbiBhcmNoaXZlLiIiIgogICAgdGZpbGUgPSB0YXJmaWxl
LlRhckZpbGUuZ3pvcGVuKHRoaW5fcGF0aCkKICAgIG9sZF91bWFzayA9IG9zLnVtYXNrKDBvMDc3
KQogICAgdGZpbGUuZXh0cmFjdGFsbChwYXRoPU9QVElPTlMuc2FsdGRpcikKICAgIHRmaWxlLmNs
b3NlKCkKICAgIG9zLnVtYXNrKG9sZF91bWFzaykKICAgIG9zLnVubGluayh0aGluX3BhdGgpCgoK
ZGVmIG5lZWRfZXh0KCk6CiAgICAiIiJTaWduYWwgdGhhdCBleHRlcm5hbCBtb2R1bGVzIG5lZWQg
dG8gYmUgZGVwbG95ZWQuIiIiCiAgICBzeXMuc3Rkb3V0LndyaXRlKCJ7MH1cbmV4dF9tb2RzXG4i
LmZvcm1hdChPUFRJT05TLmRlbGltaXRlcikpCiAgICBzeXMuZXhpdChFWF9NT0RfREVQTE9ZKQoK
CmRlZiB1bnBhY2tfZXh0KGV4dF9wYXRoKToKICAgICIiIlVucGFjayB0aGUgZXh0ZXJuYWwgbW9k
dWxlcy4iIiIKICAgIG1vZGNhY2hlID0gb3MucGF0aC5qb2luKAogICAgICAgICAgICBPUFRJT05T
LnNhbHRkaXIsCiAgICAgICAgICAgICdydW5uaW5nX2RhdGEnLAogICAgICAgICAgICAndmFyJywK
ICAgICAgICAgICAgJ2NhY2hlJywKICAgICAgICAgICAgJ3NhbHQnLAogICAgICAgICAgICAnbWlu
aW9uJywKICAgICAgICAgICAgJ2V4dG1vZHMnKQogICAgdGZpbGUgPSB0YXJmaWxlLlRhckZpbGUu
Z3pvcGVuKGV4dF9wYXRoKQogICAgb2xkX3VtYXNrID0gb3MudW1hc2soMG8wNzcpCiAgICB0Zmls
ZS5leHRyYWN0YWxsKHBhdGg9bW9kY2FjaGUpCiAgICB0ZmlsZS5jbG9zZSgpCiAgICBvcy51bWFz
ayhvbGRfdW1hc2spCiAgICBvcy51bmxpbmsoZXh0X3BhdGgpCiAgICB2ZXJfcGF0aCA9IG9zLnBh
dGguam9pbihtb2RjYWNoZSwgJ2V4dF92ZXJzaW9uJykKICAgIHZlcl9kc3QgPSBvcy5wYXRoLmpv
aW4oT1BUSU9OUy5zYWx0ZGlyLCAnZXh0X3ZlcnNpb24nKQogICAgc2h1dGlsLm1vdmUodmVyX3Bh
dGgsIHZlcl9kc3QpCgoKZGVmIG1haW4oYXJndik6ICAjIHB5bGludDogZGlzYWJsZT1XMDYxMwog
ICAgIiIiTWFpbiBwcm9ncmFtIGJvZHkiIiIKICAgIHRoaW5fcGF0aCA9IG9zLnBhdGguam9pbihP
UFRJT05TLnNhbHRkaXIsIFRISU5fQVJDSElWRSkKICAgIGlmIG9zLnBhdGguaXNmaWxlKHRoaW5f
cGF0aCk6CiAgICAgICAgaWYgT1BUSU9OUy5jaGVja3N1bSAhPSBnZXRfaGFzaCh0aGluX3BhdGgs
IE9QVElPTlMuaGFzaGZ1bmMpOgogICAgICAgICAgICBzeXMuc3RkZXJyLndyaXRlKCd7MH1cbicu
Zm9ybWF0KE9QVElPTlMuY2hlY2tzdW0pKQogICAgICAgICAgICBzeXMuc3RkZXJyLndyaXRlKCd7
MH1cbicuZm9ybWF0KGdldF9oYXNoKHRoaW5fcGF0aCwgT1BUSU9OUy5oYXNoZnVuYykpKQogICAg
ICAgICAgICBvcy51bmxpbmsodGhpbl9wYXRoKQogICAgICAgICAgICBzeXMuc3RkZXJyLndyaXRl
KCdXQVJOSU5HOiBjaGVja3N1bSBtaXNtYXRjaCBmb3IgInswfSJcbicuZm9ybWF0KHRoaW5fcGF0
aCkpCiAgICAgICAgICAgIHN5cy5leGl0KEVYX1RISU5fQ0hFQ0tTVU0pCiAgICAgICAgdW5wYWNr
X3RoaW4odGhpbl9wYXRoKQogICAgICAgICMgU2FsdCB0aGluIG5vdyBpcyBhdmFpbGFibGUgdG8g
dXNlCiAgICBlbHNlOgogICAgICAgIHNjcHN0YXQgPSBzdWJwcm9jZXNzLlBvcGVuKFsnL2Jpbi9z
aCcsICctYycsICdjb21tYW5kIC12IHNjcCddKS53YWl0KCkKICAgICAgICBpZiBzY3BzdGF0ICE9
IDA6CiAgICAgICAgICAgIHN5cy5leGl0KEVYX1NDUF9OT1RfRk9VTkQpCgogICAgICAgIGlmIG5v
dCBvcy5wYXRoLmV4aXN0cyhPUFRJT05TLnNhbHRkaXIpOgogICAgICAgICAgICBuZWVkX2RlcGxv
eW1lbnQoKQoKICAgICAgICBpZiBub3Qgb3MucGF0aC5pc2RpcihPUFRJT05TLnNhbHRkaXIpOgog
ICAgICAgICAgICBzeXMuc3RkZXJyLndyaXRlKAogICAgICAgICAgICAgICAgJ0VSUk9SOiBzYWx0
IHBhdGggInswfSIgZXhpc3RzIGJ1dCBpcycKICAgICAgICAgICAgICAgICcgbm90IGEgZGlyZWN0
b3J5XG4nLmZvcm1hdChPUFRJT05TLnNhbHRkaXIpCiAgICAgICAgICAgICkKICAgICAgICAgICAg
c3lzLmV4aXQoRVhfQ0FOVENSRUFUKQoKICAgICAgICB2ZXJzaW9uX3BhdGggPSBvcy5wYXRoLmpv
aW4oT1BUSU9OUy5zYWx0ZGlyLCAndmVyc2lvbicpCiAgICAgICAgaWYgbm90IG9zLnBhdGguZXhp
c3RzKHZlcnNpb25fcGF0aCkgb3Igbm90IG9zLnBhdGguaXNmaWxlKHZlcnNpb25fcGF0aCk6CiAg
ICAgICAgICAgIHN5cy5zdGRlcnIud3JpdGUoCiAgICAgICAgICAgICAgICAnV0FSTklORzogVW5h
YmxlIHRvIGxvY2F0ZSBjdXJyZW50IHRoaW4gJwogICAgICAgICAgICAgICAgJyB2ZXJzaW9uOiB7
MH0uXG4nLmZvcm1hdCh2ZXJzaW9uX3BhdGgpCiAgICAgICAgICAgICkKICAgICAgICAgICAgbmVl
ZF9kZXBsb3ltZW50KCkKICAgICAgICB3aXRoIG9wZW4odmVyc2lvbl9wYXRoLCAncicpIGFzIHZw
bzoKICAgICAgICAgICAgY3VyX3ZlcnNpb24gPSB2cG8ucmVhZGxpbmUoKS5zdHJpcCgpCiAgICAg
ICAgaWYgY3VyX3ZlcnNpb24gIT0gT1BUSU9OUy52ZXJzaW9uOgogICAgICAgICAgICBzeXMuc3Rk
ZXJyLndyaXRlKAogICAgICAgICAgICAgICAgJ1dBUk5JTkc6IGN1cnJlbnQgdGhpbiB2ZXJzaW9u
IHswfScKICAgICAgICAgICAgICAgICcgaXMgbm90IHVwLXRvLWRhdGUgd2l0aCB7MX0uXG4nLmZv
cm1hdCgKICAgICAgICAgICAgICAgICAgICBjdXJfdmVyc2lvbiwgT1BUSU9OUy52ZXJzaW9uCiAg
ICAgICAgICAgICAgICApCiAgICAgICAgICAgICkKICAgICAgICAgICAgbmVlZF9kZXBsb3ltZW50
KCkKICAgICAgICAjIFNhbHQgdGhpbiBleGlzdHMgYW5kIGlzIHVwLXRvLWRhdGUgLSBmYWxsIHRo
cm91Z2ggYW5kIHVzZSBpdAoKICAgIHNhbHRfY2FsbF9wYXRoID0gb3MucGF0aC5qb2luKE9QVElP
TlMuc2FsdGRpciwgJ3NhbHQtY2FsbCcpCiAgICBpZiBub3Qgb3MucGF0aC5pc2ZpbGUoc2FsdF9j
YWxsX3BhdGgpOgogICAgICAgIHN5cy5zdGRlcnIud3JpdGUoJ0VSUk9SOiB0aGluIGlzIG1pc3Np
bmcgInswfSJcbicuZm9ybWF0KHNhbHRfY2FsbF9wYXRoKSkKICAgICAgICBuZWVkX2RlcGxveW1l
bnQoKQoKICAgIHdpdGggb3Blbihvcy5wYXRoLmpvaW4oT1BUSU9OUy5zYWx0ZGlyLCAnbWluaW9u
JyksICd3JykgYXMgY29uZmlnOgogICAgICAgIGNvbmZpZy53cml0ZShPUFRJT05TLmNvbmZpZyAr
ICdcbicpCiAgICBpZiBPUFRJT05TLmV4dF9tb2RzOgogICAgICAgIGV4dF9wYXRoID0gb3MucGF0
aC5qb2luKE9QVElPTlMuc2FsdGRpciwgRVhUX0FSQ0hJVkUpCiAgICAgICAgaWYgb3MucGF0aC5l
eGlzdHMoZXh0X3BhdGgpOgogICAgICAgICAgICB1bnBhY2tfZXh0KGV4dF9wYXRoKQogICAgICAg
IGVsc2U6CiAgICAgICAgICAgIHZlcnNpb25fcGF0aCA9IG9zLnBhdGguam9pbihPUFRJT05TLnNh
bHRkaXIsICdleHRfdmVyc2lvbicpCiAgICAgICAgICAgIGlmIG5vdCBvcy5wYXRoLmV4aXN0cyh2
ZXJzaW9uX3BhdGgpIG9yIG5vdCBvcy5wYXRoLmlzZmlsZSh2ZXJzaW9uX3BhdGgpOgogICAgICAg
ICAgICAgICAgbmVlZF9leHQoKQogICAgICAgICAgICB3aXRoIG9wZW4odmVyc2lvbl9wYXRoLCAn
cicpIGFzIHZwbzoKICAgICAgICAgICAgICAgIGN1cl92ZXJzaW9uID0gdnBvLnJlYWRsaW5lKCku
c3RyaXAoKQogICAgICAgICAgICBpZiBjdXJfdmVyc2lvbiAhPSBPUFRJT05TLmV4dF9tb2RzOgog
ICAgICAgICAgICAgICAgbmVlZF9leHQoKQogICAgIyBGaXggcGFyYW1ldGVyIHBhc3NpbmcgaXNz
dWUKICAgIGlmIGxlbihBUkdTKSA9PSAxOgogICAgICAgIGFyZ3ZfcHJlcGFyZWQgPSBBUkdTWzBd
LnNwbGl0KCkKICAgIGVsc2U6CiAgICAgICAgYXJndl9wcmVwYXJlZCA9IEFSR1MKCiAgICBzYWx0
X2FyZ3YgPSBbCiAgICAgICAgc3lzLmV4ZWN1dGFibGUsCiAgICAgICAgc2FsdF9jYWxsX3BhdGgs
CiAgICAgICAgJy0tcmV0Y29kZS1wYXNzdGhyb3VnaCcsCiAgICAgICAgJy0tbG9jYWwnLAogICAg
ICAgICctLW1ldGFkYXRhJywKICAgICAgICAnLS1vdXQnLCAnanNvbicsCiAgICAgICAgJy1sJywg
J3F1aWV0JywKICAgICAgICAnLWMnLCBPUFRJT05TLnNhbHRkaXIsCiAgICAgICAgJy0tJywKICAg
IF0gKyBhcmd2X3ByZXBhcmVkCgogICAgc3lzLnN0ZGVyci53cml0ZSgnU0FMVF9BUkdWOiB7MH1c
bicuZm9ybWF0KHNhbHRfYXJndikpCgogICAgIyBPbmx5IGVtaXQgdGhlIGRlbGltaXRlciBvbiAq
Ym90aCogc3Rkb3V0IGFuZCBzdGRlcnIgd2hlbiBjb21wbGV0ZWx5IHN1Y2Nlc3NmdWwuCiAgICAj
IFllcywgdGhlIGZsdXNoKCkgaXMgbmVjZXNzYXJ5LgogICAgc3lzLnN0ZG91dC53cml0ZShPUFRJ
T05TLmRlbGltaXRlciArICdcbicpCiAgICBzeXMuc3Rkb3V0LmZsdXNoKCkKICAgIGlmIG5vdCBP
UFRJT05TLnR0eToKICAgICAgICBzeXMuc3RkZXJyLndyaXRlKE9QVElPTlMuZGVsaW1pdGVyICsg
J1xuJykKICAgICAgICBzeXMuc3RkZXJyLmZsdXNoKCkKICAgIGlmIE9QVElPTlMuY21kX3VtYXNr
IGlzIG5vdCBOb25lOgogICAgICAgIG9sZF91bWFzayA9IG9zLnVtYXNrKE9QVElPTlMuY21kX3Vt
YXNrKQogICAgaWYgT1BUSU9OUy50dHk6CiAgICAgICAgc3Rkb3V0LCBfID0gc3VicHJvY2Vzcy5Q
b3BlbihzYWx0X2FyZ3YsIHN0ZG91dD1zdWJwcm9jZXNzLlBJUEUsIHN0ZGVycj1zdWJwcm9jZXNz
LlBJUEUpLmNvbW11bmljYXRlKCkKICAgICAgICBzeXMuc3Rkb3V0LndyaXRlKHN0ZG91dCkKICAg
ICAgICBzeXMuc3Rkb3V0LmZsdXNoKCkKICAgICAgICBpZiBPUFRJT05TLndpcGU6CiAgICAgICAg
ICAgIHNodXRpbC5ybXRyZWUoT1BUSU9OUy5zYWx0ZGlyKQogICAgZWxpZiBPUFRJT05TLndpcGU6
CiAgICAgICAgc3VicHJvY2Vzcy5jYWxsKHNhbHRfYXJndikKICAgICAgICBzaHV0aWwucm10cmVl
KE9QVElPTlMuc2FsdGRpcikKICAgIGVsc2U6CiAgICAgICAgb3MuZXhlY3Yoc3lzLmV4ZWN1dGFi
bGUsIHNhbHRfYXJndikKICAgIGlmIE9QVElPTlMuY21kX3VtYXNrIGlzIG5vdCBOb25lOgogICAg
ICAgIG9zLnVtYXNrKG9sZF91bWFzaykKCmlmIF9fbmFtZV9fID09ICdfX21haW5fXyc6CiAgICBz
eXMuZXhpdChtYWluKHN5cy5hcmd2KSkK
""").decode("utf-8"))'
else
exec $SUDO "$py_cmd_path" -c \
'import base64;
exec(base64.b64decode("""IyBweWxpbnQ6IGRpc2FibGU9Vzk5MDMKJycnClRoaXMgaXMgYSBzaGltIHRoYXQgaGFuZGxlcyBj
aGVja2luZyBhbmQgdXBkYXRpbmcgc2FsdCB0aGluIGFuZAp0aGVuIGludm9raW5nIHRoaW4uCgpU
aGlzIGlzIG5vdCBpbnRlbmRlZCB0byBiZSBpbnN0YW50aWF0ZWQgYXMgYSBtb2R1bGUsIHJhdGhl
ciBpdCBpcyBhCmhlbHBlciBzY3JpcHQgdXNlZCBieSBzYWx0LmNsaWVudC5zc2guU2luZ2xlLiAg
SXQgaXMgaGVyZSwgaW4gYQpzZXBhcmF0ZSBmaWxlLCBmb3IgY29udmVuaWVuY2Ugb2YgZGV2ZWxv
cG1lbnQuCicnJwoKZnJvbSBfX2Z1dHVyZV9fIGltcG9ydCBhYnNvbHV0ZV9pbXBvcnQKCmltcG9y
dCBoYXNobGliCmltcG9ydCB0YXJmaWxlCmltcG9ydCBzaHV0aWwKaW1wb3J0IHN5cwppbXBvcnQg
b3MKaW1wb3J0IHN0YXQKaW1wb3J0IHN1YnByb2Nlc3MKClRISU5fQVJDSElWRSA9ICdzYWx0LXRo
aW4udGd6JwpFWFRfQVJDSElWRSA9ICdzYWx0LWV4dF9tb2RzLnRneicKCiMgS2VlcCB0aGVzZSBp
biBzeW5jIHdpdGggc2FsdC9kZWZhdWx0cy9leGl0Y29kZXMucHkKRVhfVEhJTl9ERVBMT1kgPSAx
MQpFWF9USElOX0NIRUNLU1VNID0gMTIKRVhfTU9EX0RFUExPWSA9IDEzCkVYX1NDUF9OT1RfRk9V
TkQgPSAxNApFWF9DQU5UQ1JFQVQgPSA3MwoKCmNsYXNzIE9CSihvYmplY3QpOgogICAgIiIiQW4g
ZW1wdHkgY2xhc3MgZm9yIGhvbGRpbmcgaW5zdGFuY2UgYXR0cmlidXRlIHZhbHVlcy4iIiIKICAg
IHBhc3MKCgpPUFRJT05TID0gTm9uZQpBUkdTID0gTm9uZQojIFRoZSBiZWxvdyBsaW5lIGlzIHdo
ZXJlIE9QVElPTlMgY2FuIGJlIHJlZGVmaW5lZCB3aXRoIGludGVybmFsIG9wdGlvbnMKIyAocmF0
aGVyIHRoYW4gY2xpIGFyZ3VtZW50cykgd2hlbiB0aGUgc2hpbSBpcyBidW5kbGVkIGJ5CiMgY2xp
ZW50LnNzaC5TaW5nbGUuX2NtZF9zdHIoKQojIHB5bGludDogZGlzYWJsZT1ibG9jay1jb21tZW50
LXNob3VsZC1zdGFydC13aXRoLWNhcmRpbmFsLXNwYWNlCgpPUFRJT05TID0gT0JKKCkKT1BUSU9O
Uy5jb25maWcgPSAiIiIKe2ZpbGVzZXJ2ZXJfbGlzdF9jYWNoZV90aW1lOiAzLCBncmFpbnNfY2Fj
aGU6IHRydWUsIGlkOiBsb2NhbCwgbG9nX2ZpbGU6IHNhbHQtY2FsbC5sb2csCiAgcm9vdF9kaXI6
IC92YXIvdG1wLy5zYWx0LW9wZV8xYTM1MzJfc2FsdC9ydW5uaW5nX2RhdGEsIHNvY2tfZGlyOiAv
fQoiIiIKT1BUSU9OUy5kZWxpbWl0ZXIgPSAnX2VkYmM3ODg1ZTRmOWFhYzliODNiMzU5OTliNjhk
MDE1MTQ4Y2FmNDY3Yjc4ZmEzOWMwNWY2NjljMGZmODk4NzgnCk9QVElPTlMuc2FsdGRpciA9ICcv
dmFyL3RtcC8uc2FsdC1vcGVfMWEzNTMyX3NhbHQnCk9QVElPTlMuY2hlY2tzdW0gPSAnMmUyNWZj
YmI2YWEyNTU5OWQ1MmU4OTVkZTZlMjExOTZkNWM2ZTU5NScKT1BUSU9OUy5oYXNoZnVuYyA9ICdz
aGExJwpPUFRJT05TLnZlcnNpb24gPSAnMjAxNi4zLjInCk9QVElPTlMuZXh0X21vZHMgPSAnJwpP
UFRJT05TLndpcGUgPSBGYWxzZQpPUFRJT05TLnR0eSA9IEZhbHNlCk9QVElPTlMuY21kX3VtYXNr
ID0gTm9uZQpBUkdTID0gWyd0ZXN0Lm9wdHNfcGtnJ10KCgoKZGVmIG5lZWRfZGVwbG95bWVudCgp
OgogICAgIiIiCiAgICBTYWx0IHRoaW4gbmVlZHMgdG8gYmUgZGVwbG95ZWQgLSBwcmVwIHRoZSB0
YXJnZXQgZGlyZWN0b3J5IGFuZCBlbWl0IHRoZQogICAgZGVsaW1ldGVyIGFuZCBleGl0IGNvZGUg
dGhhdCBzaWduYWxzIGEgcmVxdWlyZWQgZGVwbG95bWVudC4KICAgICIiIgogICAgaWYgb3MucGF0
aC5leGlzdHMoT1BUSU9OUy5zYWx0ZGlyKToKICAgICAgICBzaHV0aWwucm10cmVlKE9QVElPTlMu
c2FsdGRpcikKICAgIG9sZF91bWFzayA9IG9zLnVtYXNrKDBvMDc3KQogICAgb3MubWFrZWRpcnMo
T1BUSU9OUy5zYWx0ZGlyKQogICAgb3MudW1hc2sob2xkX3VtYXNrKQogICAgIyBWZXJpZnkgcGVy
bXMgb24gc2FsdGRpcgogICAgZXVpZCA9IG9zLmdldGV1aWQoKQogICAgZHN0YXQgPSBvcy5zdGF0
KE9QVElPTlMuc2FsdGRpcikKICAgIGlmIGRzdGF0LnN0X3VpZCAhPSBldWlkOgogICAgICAgICMg
QXR0YWNrIGRldGVjdGVkLCB0cnkgYWdhaW4KICAgICAgICBuZWVkX2RlcGxveW1lbnQoKQogICAg
aWYgZHN0YXQuc3RfbW9kZSAhPSAxNjgzMjoKICAgICAgICAjIEF0dGFjayBkZXRlY3RlZAogICAg
ICAgIG5lZWRfZGVwbG95bWVudCgpCiAgICAjIElmIFNVRE9pbmcgdGhlbiBhbHNvIGdpdmUgdGhl
IHN1cGVyIHVzZXIgZ3JvdXAgd3JpdGUgcGVybWlzc2lvbnMKICAgIHN1ZG9fZ2lkID0gb3MuZW52
aXJvbi5nZXQoJ1NVRE9fR0lEJykKICAgIGlmIHN1ZG9fZ2lkOgogICAgICAgIG9zLmNob3duKE9Q
VElPTlMuc2FsdGRpciwgLTEsIGludChzdWRvX2dpZCkpCiAgICAgICAgc3R0ID0gb3Muc3RhdChP
UFRJT05TLnNhbHRkaXIpCiAgICAgICAgb3MuY2htb2QoT1BUSU9OUy5zYWx0ZGlyLCBzdHQuc3Rf
bW9kZSB8IHN0YXQuU19JV0dSUCB8IHN0YXQuU19JUkdSUCB8IHN0YXQuU19JWEdSUCkKCiAgICAj
IERlbGltaXRlciBlbWl0dGVkIG9uIHN0ZG91dCAqb25seSogdG8gaW5kaWNhdGUgc2hpbSBtZXNz
YWdlIHRvIG1hc3Rlci4KICAgIHN5cy5zdGRvdXQud3JpdGUoInswfVxuZGVwbG95XG4iLmZvcm1h
dChPUFRJT05TLmRlbGltaXRlcikpCiAgICBzeXMuZXhpdChFWF9USElOX0RFUExPWSkKCgojIEFk
YXB0ZWQgZnJvbSBzYWx0LnV0aWxzLmdldF9oYXNoKCkKZGVmIGdldF9oYXNoKHBhdGgsIGZvcm09
J3NoYTEnLCBjaHVua19zaXplPTQwOTYpOgogICAgIiIiR2VuZXJhdGUgYSBoYXNoIGRpZ2VzdCBz
dHJpbmcgZm9yIGEgZmlsZS4iIiIKICAgIHRyeToKICAgICAgICBoYXNoX3R5cGUgPSBnZXRhdHRy
KGhhc2hsaWIsIGZvcm0pCiAgICBleGNlcHQgQXR0cmlidXRlRXJyb3I6CiAgICAgICAgcmFpc2Ug
VmFsdWVFcnJvcignSW52YWxpZCBoYXNoIHR5cGU6IHswfScuZm9ybWF0KGZvcm0pKQogICAgd2l0
aCBvcGVuKHBhdGgsICdyYicpIGFzIGlmaWxlOgogICAgICAgIGhhc2hfb2JqID0gaGFzaF90eXBl
KCkKICAgICAgICAjIHJlYWQgdGhlIGZpbGUgaW4gaW4gY2h1bmtzLCBub3QgdGhlIGVudGlyZSBm
aWxlCiAgICAgICAgZm9yIGNodW5rIGluIGl0ZXIobGFtYmRhOiBpZmlsZS5yZWFkKGNodW5rX3Np
emUpLCBiJycpOgogICAgICAgICAgICBoYXNoX29iai51cGRhdGUoY2h1bmspCiAgICAgICAgcmV0
dXJuIGhhc2hfb2JqLmhleGRpZ2VzdCgpCgoKZGVmIHVucGFja190aGluKHRoaW5fcGF0aCk6CiAg
ICAiIiJVbnBhY2sgdGhlIFNhbHQgdGhpbiBhcmNoaXZlLiIiIgogICAgdGZpbGUgPSB0YXJmaWxl
LlRhckZpbGUuZ3pvcGVuKHRoaW5fcGF0aCkKICAgIG9sZF91bWFzayA9IG9zLnVtYXNrKDBvMDc3
KQogICAgdGZpbGUuZXh0cmFjdGFsbChwYXRoPU9QVElPTlMuc2FsdGRpcikKICAgIHRmaWxlLmNs
b3NlKCkKICAgIG9zLnVtYXNrKG9sZF91bWFzaykKICAgIG9zLnVubGluayh0aGluX3BhdGgpCgoK
ZGVmIG5lZWRfZXh0KCk6CiAgICAiIiJTaWduYWwgdGhhdCBleHRlcm5hbCBtb2R1bGVzIG5lZWQg
dG8gYmUgZGVwbG95ZWQuIiIiCiAgICBzeXMuc3Rkb3V0LndyaXRlKCJ7MH1cbmV4dF9tb2RzXG4i
LmZvcm1hdChPUFRJT05TLmRlbGltaXRlcikpCiAgICBzeXMuZXhpdChFWF9NT0RfREVQTE9ZKQoK
CmRlZiB1bnBhY2tfZXh0KGV4dF9wYXRoKToKICAgICIiIlVucGFjayB0aGUgZXh0ZXJuYWwgbW9k
dWxlcy4iIiIKICAgIG1vZGNhY2hlID0gb3MucGF0aC5qb2luKAogICAgICAgICAgICBPUFRJT05T
LnNhbHRkaXIsCiAgICAgICAgICAgICdydW5uaW5nX2RhdGEnLAogICAgICAgICAgICAndmFyJywK
ICAgICAgICAgICAgJ2NhY2hlJywKICAgICAgICAgICAgJ3NhbHQnLAogICAgICAgICAgICAnbWlu
aW9uJywKICAgICAgICAgICAgJ2V4dG1vZHMnKQogICAgdGZpbGUgPSB0YXJmaWxlLlRhckZpbGUu
Z3pvcGVuKGV4dF9wYXRoKQogICAgb2xkX3VtYXNrID0gb3MudW1hc2soMG8wNzcpCiAgICB0Zmls
ZS5leHRyYWN0YWxsKHBhdGg9bW9kY2FjaGUpCiAgICB0ZmlsZS5jbG9zZSgpCiAgICBvcy51bWFz
ayhvbGRfdW1hc2spCiAgICBvcy51bmxpbmsoZXh0X3BhdGgpCiAgICB2ZXJfcGF0aCA9IG9zLnBh
dGguam9pbihtb2RjYWNoZSwgJ2V4dF92ZXJzaW9uJykKICAgIHZlcl9kc3QgPSBvcy5wYXRoLmpv
aW4oT1BUSU9OUy5zYWx0ZGlyLCAnZXh0X3ZlcnNpb24nKQogICAgc2h1dGlsLm1vdmUodmVyX3Bh
dGgsIHZlcl9kc3QpCgoKZGVmIG1haW4oYXJndik6ICAjIHB5bGludDogZGlzYWJsZT1XMDYxMwog
ICAgIiIiTWFpbiBwcm9ncmFtIGJvZHkiIiIKICAgIHRoaW5fcGF0aCA9IG9zLnBhdGguam9pbihP
UFRJT05TLnNhbHRkaXIsIFRISU5fQVJDSElWRSkKICAgIGlmIG9zLnBhdGguaXNmaWxlKHRoaW5f
cGF0aCk6CiAgICAgICAgaWYgT1BUSU9OUy5jaGVja3N1bSAhPSBnZXRfaGFzaCh0aGluX3BhdGgs
IE9QVElPTlMuaGFzaGZ1bmMpOgogICAgICAgICAgICBzeXMuc3RkZXJyLndyaXRlKCd7MH1cbicu
Zm9ybWF0KE9QVElPTlMuY2hlY2tzdW0pKQogICAgICAgICAgICBzeXMuc3RkZXJyLndyaXRlKCd7
MH1cbicuZm9ybWF0KGdldF9oYXNoKHRoaW5fcGF0aCwgT1BUSU9OUy5oYXNoZnVuYykpKQogICAg
ICAgICAgICBvcy51bmxpbmsodGhpbl9wYXRoKQogICAgICAgICAgICBzeXMuc3RkZXJyLndyaXRl
KCdXQVJOSU5HOiBjaGVja3N1bSBtaXNtYXRjaCBmb3IgInswfSJcbicuZm9ybWF0KHRoaW5fcGF0
aCkpCiAgICAgICAgICAgIHN5cy5leGl0KEVYX1RISU5fQ0hFQ0tTVU0pCiAgICAgICAgdW5wYWNr
X3RoaW4odGhpbl9wYXRoKQogICAgICAgICMgU2FsdCB0aGluIG5vdyBpcyBhdmFpbGFibGUgdG8g
dXNlCiAgICBlbHNlOgogICAgICAgIHNjcHN0YXQgPSBzdWJwcm9jZXNzLlBvcGVuKFsnL2Jpbi9z
aCcsICctYycsICdjb21tYW5kIC12IHNjcCddKS53YWl0KCkKICAgICAgICBpZiBzY3BzdGF0ICE9
IDA6CiAgICAgICAgICAgIHN5cy5leGl0KEVYX1NDUF9OT1RfRk9VTkQpCgogICAgICAgIGlmIG5v
dCBvcy5wYXRoLmV4aXN0cyhPUFRJT05TLnNhbHRkaXIpOgogICAgICAgICAgICBuZWVkX2RlcGxv
eW1lbnQoKQoKICAgICAgICBpZiBub3Qgb3MucGF0aC5pc2RpcihPUFRJT05TLnNhbHRkaXIpOgog
ICAgICAgICAgICBzeXMuc3RkZXJyLndyaXRlKAogICAgICAgICAgICAgICAgJ0VSUk9SOiBzYWx0
IHBhdGggInswfSIgZXhpc3RzIGJ1dCBpcycKICAgICAgICAgICAgICAgICcgbm90IGEgZGlyZWN0
b3J5XG4nLmZvcm1hdChPUFRJT05TLnNhbHRkaXIpCiAgICAgICAgICAgICkKICAgICAgICAgICAg
c3lzLmV4aXQoRVhfQ0FOVENSRUFUKQoKICAgICAgICB2ZXJzaW9uX3BhdGggPSBvcy5wYXRoLmpv
aW4oT1BUSU9OUy5zYWx0ZGlyLCAndmVyc2lvbicpCiAgICAgICAgaWYgbm90IG9zLnBhdGguZXhp
c3RzKHZlcnNpb25fcGF0aCkgb3Igbm90IG9zLnBhdGguaXNmaWxlKHZlcnNpb25fcGF0aCk6CiAg
ICAgICAgICAgIHN5cy5zdGRlcnIud3JpdGUoCiAgICAgICAgICAgICAgICAnV0FSTklORzogVW5h
YmxlIHRvIGxvY2F0ZSBjdXJyZW50IHRoaW4gJwogICAgICAgICAgICAgICAgJyB2ZXJzaW9uOiB7
MH0uXG4nLmZvcm1hdCh2ZXJzaW9uX3BhdGgpCiAgICAgICAgICAgICkKICAgICAgICAgICAgbmVl
ZF9kZXBsb3ltZW50KCkKICAgICAgICB3aXRoIG9wZW4odmVyc2lvbl9wYXRoLCAncicpIGFzIHZw
bzoKICAgICAgICAgICAgY3VyX3ZlcnNpb24gPSB2cG8ucmVhZGxpbmUoKS5zdHJpcCgpCiAgICAg
ICAgaWYgY3VyX3ZlcnNpb24gIT0gT1BUSU9OUy52ZXJzaW9uOgogICAgICAgICAgICBzeXMuc3Rk
ZXJyLndyaXRlKAogICAgICAgICAgICAgICAgJ1dBUk5JTkc6IGN1cnJlbnQgdGhpbiB2ZXJzaW9u
IHswfScKICAgICAgICAgICAgICAgICcgaXMgbm90IHVwLXRvLWRhdGUgd2l0aCB7MX0uXG4nLmZv
cm1hdCgKICAgICAgICAgICAgICAgICAgICBjdXJfdmVyc2lvbiwgT1BUSU9OUy52ZXJzaW9uCiAg
ICAgICAgICAgICAgICApCiAgICAgICAgICAgICkKICAgICAgICAgICAgbmVlZF9kZXBsb3ltZW50
KCkKICAgICAgICAjIFNhbHQgdGhpbiBleGlzdHMgYW5kIGlzIHVwLXRvLWRhdGUgLSBmYWxsIHRo
cm91Z2ggYW5kIHVzZSBpdAoKICAgIHNhbHRfY2FsbF9wYXRoID0gb3MucGF0aC5qb2luKE9QVElP
TlMuc2FsdGRpciwgJ3NhbHQtY2FsbCcpCiAgICBpZiBub3Qgb3MucGF0aC5pc2ZpbGUoc2FsdF9j
YWxsX3BhdGgpOgogICAgICAgIHN5cy5zdGRlcnIud3JpdGUoJ0VSUk9SOiB0aGluIGlzIG1pc3Np
bmcgInswfSJcbicuZm9ybWF0KHNhbHRfY2FsbF9wYXRoKSkKICAgICAgICBuZWVkX2RlcGxveW1l
bnQoKQoKICAgIHdpdGggb3Blbihvcy5wYXRoLmpvaW4oT1BUSU9OUy5zYWx0ZGlyLCAnbWluaW9u
JyksICd3JykgYXMgY29uZmlnOgogICAgICAgIGNvbmZpZy53cml0ZShPUFRJT05TLmNvbmZpZyAr
ICdcbicpCiAgICBpZiBPUFRJT05TLmV4dF9tb2RzOgogICAgICAgIGV4dF9wYXRoID0gb3MucGF0
aC5qb2luKE9QVElPTlMuc2FsdGRpciwgRVhUX0FSQ0hJVkUpCiAgICAgICAgaWYgb3MucGF0aC5l
eGlzdHMoZXh0X3BhdGgpOgogICAgICAgICAgICB1bnBhY2tfZXh0KGV4dF9wYXRoKQogICAgICAg
IGVsc2U6CiAgICAgICAgICAgIHZlcnNpb25fcGF0aCA9IG9zLnBhdGguam9pbihPUFRJT05TLnNh
bHRkaXIsICdleHRfdmVyc2lvbicpCiAgICAgICAgICAgIGlmIG5vdCBvcy5wYXRoLmV4aXN0cyh2
ZXJzaW9uX3BhdGgpIG9yIG5vdCBvcy5wYXRoLmlzZmlsZSh2ZXJzaW9uX3BhdGgpOgogICAgICAg
ICAgICAgICAgbmVlZF9leHQoKQogICAgICAgICAgICB3aXRoIG9wZW4odmVyc2lvbl9wYXRoLCAn
cicpIGFzIHZwbzoKICAgICAgICAgICAgICAgIGN1cl92ZXJzaW9uID0gdnBvLnJlYWRsaW5lKCku
c3RyaXAoKQogICAgICAgICAgICBpZiBjdXJfdmVyc2lvbiAhPSBPUFRJT05TLmV4dF9tb2RzOgog
ICAgICAgICAgICAgICAgbmVlZF9leHQoKQogICAgIyBGaXggcGFyYW1ldGVyIHBhc3NpbmcgaXNz
dWUKICAgIGlmIGxlbihBUkdTKSA9PSAxOgogICAgICAgIGFyZ3ZfcHJlcGFyZWQgPSBBUkdTWzBd
LnNwbGl0KCkKICAgIGVsc2U6CiAgICAgICAgYXJndl9wcmVwYXJlZCA9IEFSR1MKCiAgICBzYWx0
X2FyZ3YgPSBbCiAgICAgICAgc3lzLmV4ZWN1dGFibGUsCiAgICAgICAgc2FsdF9jYWxsX3BhdGgs
CiAgICAgICAgJy0tcmV0Y29kZS1wYXNzdGhyb3VnaCcsCiAgICAgICAgJy0tbG9jYWwnLAogICAg
ICAgICctLW1ldGFkYXRhJywKICAgICAgICAnLS1vdXQnLCAnanNvbicsCiAgICAgICAgJy1sJywg
J3F1aWV0JywKICAgICAgICAnLWMnLCBPUFRJT05TLnNhbHRkaXIsCiAgICAgICAgJy0tJywKICAg
IF0gKyBhcmd2X3ByZXBhcmVkCgogICAgc3lzLnN0ZGVyci53cml0ZSgnU0FMVF9BUkdWOiB7MH1c
bicuZm9ybWF0KHNhbHRfYXJndikpCgogICAgIyBPbmx5IGVtaXQgdGhlIGRlbGltaXRlciBvbiAq
Ym90aCogc3Rkb3V0IGFuZCBzdGRlcnIgd2hlbiBjb21wbGV0ZWx5IHN1Y2Nlc3NmdWwuCiAgICAj
IFllcywgdGhlIGZsdXNoKCkgaXMgbmVjZXNzYXJ5LgogICAgc3lzLnN0ZG91dC53cml0ZShPUFRJ
T05TLmRlbGltaXRlciArICdcbicpCiAgICBzeXMuc3Rkb3V0LmZsdXNoKCkKICAgIGlmIG5vdCBP
UFRJT05TLnR0eToKICAgICAgICBzeXMuc3RkZXJyLndyaXRlKE9QVElPTlMuZGVsaW1pdGVyICsg
J1xuJykKICAgICAgICBzeXMuc3RkZXJyLmZsdXNoKCkKICAgIGlmIE9QVElPTlMuY21kX3VtYXNr
IGlzIG5vdCBOb25lOgogICAgICAgIG9sZF91bWFzayA9IG9zLnVtYXNrKE9QVElPTlMuY21kX3Vt
YXNrKQogICAgaWYgT1BUSU9OUy50dHk6CiAgICAgICAgc3Rkb3V0LCBfID0gc3VicHJvY2Vzcy5Q
b3BlbihzYWx0X2FyZ3YsIHN0ZG91dD1zdWJwcm9jZXNzLlBJUEUsIHN0ZGVycj1zdWJwcm9jZXNz
LlBJUEUpLmNvbW11bmljYXRlKCkKICAgICAgICBzeXMuc3Rkb3V0LndyaXRlKHN0ZG91dCkKICAg
ICAgICBzeXMuc3Rkb3V0LmZsdXNoKCkKICAgICAgICBpZiBPUFRJT05TLndpcGU6CiAgICAgICAg
ICAgIHNodXRpbC5ybXRyZWUoT1BUSU9OUy5zYWx0ZGlyKQogICAgZWxpZiBPUFRJT05TLndpcGU6
CiAgICAgICAgc3VicHJvY2Vzcy5jYWxsKHNhbHRfYXJndikKICAgICAgICBzaHV0aWwucm10cmVl
KE9QVElPTlMuc2FsdGRpcikKICAgIGVsc2U6CiAgICAgICAgb3MuZXhlY3Yoc3lzLmV4ZWN1dGFi
bGUsIHNhbHRfYXJndikKICAgIGlmIE9QVElPTlMuY21kX3VtYXNrIGlzIG5vdCBOb25lOgogICAg
ICAgIG9zLnVtYXNrKG9sZF91bWFzaykKCmlmIF9fbmFtZV9fID09ICdfX21haW5fXyc6CiAgICBz
eXMuZXhpdChtYWluKHN5cy5hcmd2KSkK
""").decode("utf-8"))'
fi
exit 0
else
continue
fi
done
echo "ERROR: Unable to locate appropriate python command" >&2
exit $EX_PYTHON_INVALID
EOF
2016-08-27 20:51:12,996 [salt.utils.vt    ][DEBUG   ][6985] Child Forked! PID: 6986  STDOUT_FD: 9  STDERR_FD: 11
2016-08-27 20:51:12,997 [salt.utils.vt    ][DEBUG   ][6985] VT: Salt-SSH SHIM Terminal Command executed. Logged to TRACE
2016-08-27 20:51:12,997 [salt.utils.vt    ][TRACE   ][6985] Terminal Command: /bin/sh -c ssh 127.0.0.1  -o KbdInteractiveAuthentication=no -o PasswordAuthentication=yes -o GSSAPIAuthentication=no -o ConnectTimeout=65 -o Port=22 -o IdentityFile=/root/saltstack_master/etc/salt/pki/master/ssh/salt-ssh.rsa -o User=salt-ope  /bin/sh << 'EOF'
set -e
set -u
DEBUG="1"
if [ -n "$DEBUG" ]
then set -x
fi
SUDO=""
if [ -n "sudo" ]
then SUDO="sudo "
fi
EX_PYTHON_INVALID=10
PYTHON_CMDS="python3 python27 python2.7 python26 python2.6 python2 python"
for py_cmd in $PYTHON_CMDS
do
if command -v "$py_cmd" >/dev/null 2>&1 && "$py_cmd" -c \
"import sys; sys.exit(not (sys.version_info >= (2, 6)
and sys.version_info[0] == 2));"
then
py_cmd_path=`"$py_cmd" -c \
'from __future__ import print_function;
import sys; print(sys.executable);'`
cmdpath=$(which $py_cmd 2>&1)
if file $cmdpath | grep "shell script" > /dev/null
then
ex_vars="'PATH', 'LD_LIBRARY_PATH', 'MANPATH', \
'XDG_DATA_DIRS', 'PKG_CONFIG_PATH'"
export $($py_cmd -c \
"from __future__ import print_function;
import sys;
import os;
map(sys.stdout.write, ['{0}={1} ' \
.format(x, os.environ[x]) for x in [$ex_vars]])")
exec $SUDO PATH=$PATH LD_LIBRARY_PATH=$LD_LIBRARY_PATH \
MANPATH=$MANPATH XDG_DATA_DIRS=$XDG_DATA_DIRS \
PKG_CONFIG_PATH=$PKG_CONFIG_PATH \
"$py_cmd_path" -c \
'import base64;
exec(base64.b64decode("""IyBweWxpbnQ6IGRpc2FibGU9Vzk5MDMKJycnClRoaXMgaXMgYSBzaGltIHRoYXQgaGFuZGxlcyBj
aGVja2luZyBhbmQgdXBkYXRpbmcgc2FsdCB0aGluIGFuZAp0aGVuIGludm9raW5nIHRoaW4uCgpU
aGlzIGlzIG5vdCBpbnRlbmRlZCB0byBiZSBpbnN0YW50aWF0ZWQgYXMgYSBtb2R1bGUsIHJhdGhl
ciBpdCBpcyBhCmhlbHBlciBzY3JpcHQgdXNlZCBieSBzYWx0LmNsaWVudC5zc2guU2luZ2xlLiAg
SXQgaXMgaGVyZSwgaW4gYQpzZXBhcmF0ZSBmaWxlLCBmb3IgY29udmVuaWVuY2Ugb2YgZGV2ZWxv
cG1lbnQuCicnJwoKZnJvbSBfX2Z1dHVyZV9fIGltcG9ydCBhYnNvbHV0ZV9pbXBvcnQKCmltcG9y
dCBoYXNobGliCmltcG9ydCB0YXJmaWxlCmltcG9ydCBzaHV0aWwKaW1wb3J0IHN5cwppbXBvcnQg
b3MKaW1wb3J0IHN0YXQKaW1wb3J0IHN1YnByb2Nlc3MKClRISU5fQVJDSElWRSA9ICdzYWx0LXRo
aW4udGd6JwpFWFRfQVJDSElWRSA9ICdzYWx0LWV4dF9tb2RzLnRneicKCiMgS2VlcCB0aGVzZSBp
biBzeW5jIHdpdGggc2FsdC9kZWZhdWx0cy9leGl0Y29kZXMucHkKRVhfVEhJTl9ERVBMT1kgPSAx
MQpFWF9USElOX0NIRUNLU1VNID0gMTIKRVhfTU9EX0RFUExPWSA9IDEzCkVYX1NDUF9OT1RfRk9V
TkQgPSAxNApFWF9DQU5UQ1JFQVQgPSA3MwoKCmNsYXNzIE9CSihvYmplY3QpOgogICAgIiIiQW4g
ZW1wdHkgY2xhc3MgZm9yIGhvbGRpbmcgaW5zdGFuY2UgYXR0cmlidXRlIHZhbHVlcy4iIiIKICAg
IHBhc3MKCgpPUFRJT05TID0gTm9uZQpBUkdTID0gTm9uZQojIFRoZSBiZWxvdyBsaW5lIGlzIHdo
ZXJlIE9QVElPTlMgY2FuIGJlIHJlZGVmaW5lZCB3aXRoIGludGVybmFsIG9wdGlvbnMKIyAocmF0
aGVyIHRoYW4gY2xpIGFyZ3VtZW50cykgd2hlbiB0aGUgc2hpbSBpcyBidW5kbGVkIGJ5CiMgY2xp
ZW50LnNzaC5TaW5nbGUuX2NtZF9zdHIoKQojIHB5bGludDogZGlzYWJsZT1ibG9jay1jb21tZW50
LXNob3VsZC1zdGFydC13aXRoLWNhcmRpbmFsLXNwYWNlCgpPUFRJT05TID0gT0JKKCkKT1BUSU9O
Uy5jb25maWcgPSAiIiIKe2ZpbGVzZXJ2ZXJfbGlzdF9jYWNoZV90aW1lOiAzLCBncmFpbnNfY2Fj
aGU6IHRydWUsIGlkOiBsb2NhbCwgbG9nX2ZpbGU6IHNhbHQtY2FsbC5sb2csCiAgcm9vdF9kaXI6
IC92YXIvdG1wLy5zYWx0LW9wZV8xYTM1MzJfc2FsdC9ydW5uaW5nX2RhdGEsIHNvY2tfZGlyOiAv
fQoiIiIKT1BUSU9OUy5kZWxpbWl0ZXIgPSAnX2VkYmM3ODg1ZTRmOWFhYzliODNiMzU5OTliNjhk
MDE1MTQ4Y2FmNDY3Yjc4ZmEzOWMwNWY2NjljMGZmODk4NzgnCk9QVElPTlMuc2FsdGRpciA9ICcv
dmFyL3RtcC8uc2FsdC1vcGVfMWEzNTMyX3NhbHQnCk9QVElPTlMuY2hlY2tzdW0gPSAnMmUyNWZj
YmI2YWEyNTU5OWQ1MmU4OTVkZTZlMjExOTZkNWM2ZTU5NScKT1BUSU9OUy5oYXNoZnVuYyA9ICdz
aGExJwpPUFRJT05TLnZlcnNpb24gPSAnMjAxNi4zLjInCk9QVElPTlMuZXh0X21vZHMgPSAnJwpP
UFRJT05TLndpcGUgPSBGYWxzZQpPUFRJT05TLnR0eSA9IEZhbHNlCk9QVElPTlMuY21kX3VtYXNr
ID0gTm9uZQpBUkdTID0gWyd0ZXN0Lm9wdHNfcGtnJ10KCgoKZGVmIG5lZWRfZGVwbG95bWVudCgp
OgogICAgIiIiCiAgICBTYWx0IHRoaW4gbmVlZHMgdG8gYmUgZGVwbG95ZWQgLSBwcmVwIHRoZSB0
YXJnZXQgZGlyZWN0b3J5IGFuZCBlbWl0IHRoZQogICAgZGVsaW1ldGVyIGFuZCBleGl0IGNvZGUg
dGhhdCBzaWduYWxzIGEgcmVxdWlyZWQgZGVwbG95bWVudC4KICAgICIiIgogICAgaWYgb3MucGF0
aC5leGlzdHMoT1BUSU9OUy5zYWx0ZGlyKToKICAgICAgICBzaHV0aWwucm10cmVlKE9QVElPTlMu
c2FsdGRpcikKICAgIG9sZF91bWFzayA9IG9zLnVtYXNrKDBvMDc3KQogICAgb3MubWFrZWRpcnMo
T1BUSU9OUy5zYWx0ZGlyKQogICAgb3MudW1hc2sob2xkX3VtYXNrKQogICAgIyBWZXJpZnkgcGVy
bXMgb24gc2FsdGRpcgogICAgZXVpZCA9IG9zLmdldGV1aWQoKQogICAgZHN0YXQgPSBvcy5zdGF0
KE9QVElPTlMuc2FsdGRpcikKICAgIGlmIGRzdGF0LnN0X3VpZCAhPSBldWlkOgogICAgICAgICMg
QXR0YWNrIGRldGVjdGVkLCB0cnkgYWdhaW4KICAgICAgICBuZWVkX2RlcGxveW1lbnQoKQogICAg
aWYgZHN0YXQuc3RfbW9kZSAhPSAxNjgzMjoKICAgICAgICAjIEF0dGFjayBkZXRlY3RlZAogICAg
ICAgIG5lZWRfZGVwbG95bWVudCgpCiAgICAjIElmIFNVRE9pbmcgdGhlbiBhbHNvIGdpdmUgdGhl
IHN1cGVyIHVzZXIgZ3JvdXAgd3JpdGUgcGVybWlzc2lvbnMKICAgIHN1ZG9fZ2lkID0gb3MuZW52
aXJvbi5nZXQoJ1NVRE9fR0lEJykKICAgIGlmIHN1ZG9fZ2lkOgogICAgICAgIG9zLmNob3duKE9Q
VElPTlMuc2FsdGRpciwgLTEsIGludChzdWRvX2dpZCkpCiAgICAgICAgc3R0ID0gb3Muc3RhdChP
UFRJT05TLnNhbHRkaXIpCiAgICAgICAgb3MuY2htb2QoT1BUSU9OUy5zYWx0ZGlyLCBzdHQuc3Rf
bW9kZSB8IHN0YXQuU19JV0dSUCB8IHN0YXQuU19JUkdSUCB8IHN0YXQuU19JWEdSUCkKCiAgICAj
IERlbGltaXRlciBlbWl0dGVkIG9uIHN0ZG91dCAqb25seSogdG8gaW5kaWNhdGUgc2hpbSBtZXNz
YWdlIHRvIG1hc3Rlci4KICAgIHN5cy5zdGRvdXQud3JpdGUoInswfVxuZGVwbG95XG4iLmZvcm1h
dChPUFRJT05TLmRlbGltaXRlcikpCiAgICBzeXMuZXhpdChFWF9USElOX0RFUExPWSkKCgojIEFk
YXB0ZWQgZnJvbSBzYWx0LnV0aWxzLmdldF9oYXNoKCkKZGVmIGdldF9oYXNoKHBhdGgsIGZvcm09
J3NoYTEnLCBjaHVua19zaXplPTQwOTYpOgogICAgIiIiR2VuZXJhdGUgYSBoYXNoIGRpZ2VzdCBz
dHJpbmcgZm9yIGEgZmlsZS4iIiIKICAgIHRyeToKICAgICAgICBoYXNoX3R5cGUgPSBnZXRhdHRy
KGhhc2hsaWIsIGZvcm0pCiAgICBleGNlcHQgQXR0cmlidXRlRXJyb3I6CiAgICAgICAgcmFpc2Ug
VmFsdWVFcnJvcignSW52YWxpZCBoYXNoIHR5cGU6IHswfScuZm9ybWF0KGZvcm0pKQogICAgd2l0
aCBvcGVuKHBhdGgsICdyYicpIGFzIGlmaWxlOgogICAgICAgIGhhc2hfb2JqID0gaGFzaF90eXBl
KCkKICAgICAgICAjIHJlYWQgdGhlIGZpbGUgaW4gaW4gY2h1bmtzLCBub3QgdGhlIGVudGlyZSBm
aWxlCiAgICAgICAgZm9yIGNodW5rIGluIGl0ZXIobGFtYmRhOiBpZmlsZS5yZWFkKGNodW5rX3Np
emUpLCBiJycpOgogICAgICAgICAgICBoYXNoX29iai51cGRhdGUoY2h1bmspCiAgICAgICAgcmV0
dXJuIGhhc2hfb2JqLmhleGRpZ2VzdCgpCgoKZGVmIHVucGFja190aGluKHRoaW5fcGF0aCk6CiAg
ICAiIiJVbnBhY2sgdGhlIFNhbHQgdGhpbiBhcmNoaXZlLiIiIgogICAgdGZpbGUgPSB0YXJmaWxl
LlRhckZpbGUuZ3pvcGVuKHRoaW5fcGF0aCkKICAgIG9sZF91bWFzayA9IG9zLnVtYXNrKDBvMDc3
KQogICAgdGZpbGUuZXh0cmFjdGFsbChwYXRoPU9QVElPTlMuc2FsdGRpcikKICAgIHRmaWxlLmNs
b3NlKCkKICAgIG9zLnVtYXNrKG9sZF91bWFzaykKICAgIG9zLnVubGluayh0aGluX3BhdGgpCgoK
ZGVmIG5lZWRfZXh0KCk6CiAgICAiIiJTaWduYWwgdGhhdCBleHRlcm5hbCBtb2R1bGVzIG5lZWQg
dG8gYmUgZGVwbG95ZWQuIiIiCiAgICBzeXMuc3Rkb3V0LndyaXRlKCJ7MH1cbmV4dF9tb2RzXG4i
LmZvcm1hdChPUFRJT05TLmRlbGltaXRlcikpCiAgICBzeXMuZXhpdChFWF9NT0RfREVQTE9ZKQoK
CmRlZiB1bnBhY2tfZXh0KGV4dF9wYXRoKToKICAgICIiIlVucGFjayB0aGUgZXh0ZXJuYWwgbW9k
dWxlcy4iIiIKICAgIG1vZGNhY2hlID0gb3MucGF0aC5qb2luKAogICAgICAgICAgICBPUFRJT05T
LnNhbHRkaXIsCiAgICAgICAgICAgICdydW5uaW5nX2RhdGEnLAogICAgICAgICAgICAndmFyJywK
ICAgICAgICAgICAgJ2NhY2hlJywKICAgICAgICAgICAgJ3NhbHQnLAogICAgICAgICAgICAnbWlu
aW9uJywKICAgICAgICAgICAgJ2V4dG1vZHMnKQogICAgdGZpbGUgPSB0YXJmaWxlLlRhckZpbGUu
Z3pvcGVuKGV4dF9wYXRoKQogICAgb2xkX3VtYXNrID0gb3MudW1hc2soMG8wNzcpCiAgICB0Zmls
ZS5leHRyYWN0YWxsKHBhdGg9bW9kY2FjaGUpCiAgICB0ZmlsZS5jbG9zZSgpCiAgICBvcy51bWFz
ayhvbGRfdW1hc2spCiAgICBvcy51bmxpbmsoZXh0X3BhdGgpCiAgICB2ZXJfcGF0aCA9IG9zLnBh
dGguam9pbihtb2RjYWNoZSwgJ2V4dF92ZXJzaW9uJykKICAgIHZlcl9kc3QgPSBvcy5wYXRoLmpv
aW4oT1BUSU9OUy5zYWx0ZGlyLCAnZXh0X3ZlcnNpb24nKQogICAgc2h1dGlsLm1vdmUodmVyX3Bh
dGgsIHZlcl9kc3QpCgoKZGVmIG1haW4oYXJndik6ICAjIHB5bGludDogZGlzYWJsZT1XMDYxMwog
ICAgIiIiTWFpbiBwcm9ncmFtIGJvZHkiIiIKICAgIHRoaW5fcGF0aCA9IG9zLnBhdGguam9pbihP
UFRJT05TLnNhbHRkaXIsIFRISU5fQVJDSElWRSkKICAgIGlmIG9zLnBhdGguaXNmaWxlKHRoaW5f
cGF0aCk6CiAgICAgICAgaWYgT1BUSU9OUy5jaGVja3N1bSAhPSBnZXRfaGFzaCh0aGluX3BhdGgs
IE9QVElPTlMuaGFzaGZ1bmMpOgogICAgICAgICAgICBzeXMuc3RkZXJyLndyaXRlKCd7MH1cbicu
Zm9ybWF0KE9QVElPTlMuY2hlY2tzdW0pKQogICAgICAgICAgICBzeXMuc3RkZXJyLndyaXRlKCd7
MH1cbicuZm9ybWF0KGdldF9oYXNoKHRoaW5fcGF0aCwgT1BUSU9OUy5oYXNoZnVuYykpKQogICAg
ICAgICAgICBvcy51bmxpbmsodGhpbl9wYXRoKQogICAgICAgICAgICBzeXMuc3RkZXJyLndyaXRl
KCdXQVJOSU5HOiBjaGVja3N1bSBtaXNtYXRjaCBmb3IgInswfSJcbicuZm9ybWF0KHRoaW5fcGF0
aCkpCiAgICAgICAgICAgIHN5cy5leGl0KEVYX1RISU5fQ0hFQ0tTVU0pCiAgICAgICAgdW5wYWNr
X3RoaW4odGhpbl9wYXRoKQogICAgICAgICMgU2FsdCB0aGluIG5vdyBpcyBhdmFpbGFibGUgdG8g
dXNlCiAgICBlbHNlOgogICAgICAgIHNjcHN0YXQgPSBzdWJwcm9jZXNzLlBvcGVuKFsnL2Jpbi9z
aCcsICctYycsICdjb21tYW5kIC12IHNjcCddKS53YWl0KCkKICAgICAgICBpZiBzY3BzdGF0ICE9
IDA6CiAgICAgICAgICAgIHN5cy5leGl0KEVYX1NDUF9OT1RfRk9VTkQpCgogICAgICAgIGlmIG5v
dCBvcy5wYXRoLmV4aXN0cyhPUFRJT05TLnNhbHRkaXIpOgogICAgICAgICAgICBuZWVkX2RlcGxv
eW1lbnQoKQoKICAgICAgICBpZiBub3Qgb3MucGF0aC5pc2RpcihPUFRJT05TLnNhbHRkaXIpOgog
ICAgICAgICAgICBzeXMuc3RkZXJyLndyaXRlKAogICAgICAgICAgICAgICAgJ0VSUk9SOiBzYWx0
IHBhdGggInswfSIgZXhpc3RzIGJ1dCBpcycKICAgICAgICAgICAgICAgICcgbm90IGEgZGlyZWN0
b3J5XG4nLmZvcm1hdChPUFRJT05TLnNhbHRkaXIpCiAgICAgICAgICAgICkKICAgICAgICAgICAg
c3lzLmV4aXQoRVhfQ0FOVENSRUFUKQoKICAgICAgICB2ZXJzaW9uX3BhdGggPSBvcy5wYXRoLmpv
aW4oT1BUSU9OUy5zYWx0ZGlyLCAndmVyc2lvbicpCiAgICAgICAgaWYgbm90IG9zLnBhdGguZXhp
c3RzKHZlcnNpb25fcGF0aCkgb3Igbm90IG9zLnBhdGguaXNmaWxlKHZlcnNpb25fcGF0aCk6CiAg
ICAgICAgICAgIHN5cy5zdGRlcnIud3JpdGUoCiAgICAgICAgICAgICAgICAnV0FSTklORzogVW5h
YmxlIHRvIGxvY2F0ZSBjdXJyZW50IHRoaW4gJwogICAgICAgICAgICAgICAgJyB2ZXJzaW9uOiB7
MH0uXG4nLmZvcm1hdCh2ZXJzaW9uX3BhdGgpCiAgICAgICAgICAgICkKICAgICAgICAgICAgbmVl
ZF9kZXBsb3ltZW50KCkKICAgICAgICB3aXRoIG9wZW4odmVyc2lvbl9wYXRoLCAncicpIGFzIHZw
bzoKICAgICAgICAgICAgY3VyX3ZlcnNpb24gPSB2cG8ucmVhZGxpbmUoKS5zdHJpcCgpCiAgICAg
ICAgaWYgY3VyX3ZlcnNpb24gIT0gT1BUSU9OUy52ZXJzaW9uOgogICAgICAgICAgICBzeXMuc3Rk
ZXJyLndyaXRlKAogICAgICAgICAgICAgICAgJ1dBUk5JTkc6IGN1cnJlbnQgdGhpbiB2ZXJzaW9u
IHswfScKICAgICAgICAgICAgICAgICcgaXMgbm90IHVwLXRvLWRhdGUgd2l0aCB7MX0uXG4nLmZv
cm1hdCgKICAgICAgICAgICAgICAgICAgICBjdXJfdmVyc2lvbiwgT1BUSU9OUy52ZXJzaW9uCiAg
ICAgICAgICAgICAgICApCiAgICAgICAgICAgICkKICAgICAgICAgICAgbmVlZF9kZXBsb3ltZW50
KCkKICAgICAgICAjIFNhbHQgdGhpbiBleGlzdHMgYW5kIGlzIHVwLXRvLWRhdGUgLSBmYWxsIHRo
cm91Z2ggYW5kIHVzZSBpdAoKICAgIHNhbHRfY2FsbF9wYXRoID0gb3MucGF0aC5qb2luKE9QVElP
TlMuc2FsdGRpciwgJ3NhbHQtY2FsbCcpCiAgICBpZiBub3Qgb3MucGF0aC5pc2ZpbGUoc2FsdF9j
YWxsX3BhdGgpOgogICAgICAgIHN5cy5zdGRlcnIud3JpdGUoJ0VSUk9SOiB0aGluIGlzIG1pc3Np
bmcgInswfSJcbicuZm9ybWF0KHNhbHRfY2FsbF9wYXRoKSkKICAgICAgICBuZWVkX2RlcGxveW1l
bnQoKQoKICAgIHdpdGggb3Blbihvcy5wYXRoLmpvaW4oT1BUSU9OUy5zYWx0ZGlyLCAnbWluaW9u
JyksICd3JykgYXMgY29uZmlnOgogICAgICAgIGNvbmZpZy53cml0ZShPUFRJT05TLmNvbmZpZyAr
ICdcbicpCiAgICBpZiBPUFRJT05TLmV4dF9tb2RzOgogICAgICAgIGV4dF9wYXRoID0gb3MucGF0
aC5qb2luKE9QVElPTlMuc2FsdGRpciwgRVhUX0FSQ0hJVkUpCiAgICAgICAgaWYgb3MucGF0aC5l
eGlzdHMoZXh0X3BhdGgpOgogICAgICAgICAgICB1bnBhY2tfZXh0KGV4dF9wYXRoKQogICAgICAg
IGVsc2U6CiAgICAgICAgICAgIHZlcnNpb25fcGF0aCA9IG9zLnBhdGguam9pbihPUFRJT05TLnNh
bHRkaXIsICdleHRfdmVyc2lvbicpCiAgICAgICAgICAgIGlmIG5vdCBvcy5wYXRoLmV4aXN0cyh2
ZXJzaW9uX3BhdGgpIG9yIG5vdCBvcy5wYXRoLmlzZmlsZSh2ZXJzaW9uX3BhdGgpOgogICAgICAg
ICAgICAgICAgbmVlZF9leHQoKQogICAgICAgICAgICB3aXRoIG9wZW4odmVyc2lvbl9wYXRoLCAn
cicpIGFzIHZwbzoKICAgICAgICAgICAgICAgIGN1cl92ZXJzaW9uID0gdnBvLnJlYWRsaW5lKCku
c3RyaXAoKQogICAgICAgICAgICBpZiBjdXJfdmVyc2lvbiAhPSBPUFRJT05TLmV4dF9tb2RzOgog
ICAgICAgICAgICAgICAgbmVlZF9leHQoKQogICAgIyBGaXggcGFyYW1ldGVyIHBhc3NpbmcgaXNz
dWUKICAgIGlmIGxlbihBUkdTKSA9PSAxOgogICAgICAgIGFyZ3ZfcHJlcGFyZWQgPSBBUkdTWzBd
LnNwbGl0KCkKICAgIGVsc2U6CiAgICAgICAgYXJndl9wcmVwYXJlZCA9IEFSR1MKCiAgICBzYWx0
X2FyZ3YgPSBbCiAgICAgICAgc3lzLmV4ZWN1dGFibGUsCiAgICAgICAgc2FsdF9jYWxsX3BhdGgs
CiAgICAgICAgJy0tcmV0Y29kZS1wYXNzdGhyb3VnaCcsCiAgICAgICAgJy0tbG9jYWwnLAogICAg
ICAgICctLW1ldGFkYXRhJywKICAgICAgICAnLS1vdXQnLCAnanNvbicsCiAgICAgICAgJy1sJywg
J3F1aWV0JywKICAgICAgICAnLWMnLCBPUFRJT05TLnNhbHRkaXIsCiAgICAgICAgJy0tJywKICAg
IF0gKyBhcmd2X3ByZXBhcmVkCgogICAgc3lzLnN0ZGVyci53cml0ZSgnU0FMVF9BUkdWOiB7MH1c
bicuZm9ybWF0KHNhbHRfYXJndikpCgogICAgIyBPbmx5IGVtaXQgdGhlIGRlbGltaXRlciBvbiAq
Ym90aCogc3Rkb3V0IGFuZCBzdGRlcnIgd2hlbiBjb21wbGV0ZWx5IHN1Y2Nlc3NmdWwuCiAgICAj
IFllcywgdGhlIGZsdXNoKCkgaXMgbmVjZXNzYXJ5LgogICAgc3lzLnN0ZG91dC53cml0ZShPUFRJ
T05TLmRlbGltaXRlciArICdcbicpCiAgICBzeXMuc3Rkb3V0LmZsdXNoKCkKICAgIGlmIG5vdCBP
UFRJT05TLnR0eToKICAgICAgICBzeXMuc3RkZXJyLndyaXRlKE9QVElPTlMuZGVsaW1pdGVyICsg
J1xuJykKICAgICAgICBzeXMuc3RkZXJyLmZsdXNoKCkKICAgIGlmIE9QVElPTlMuY21kX3VtYXNr
IGlzIG5vdCBOb25lOgogICAgICAgIG9sZF91bWFzayA9IG9zLnVtYXNrKE9QVElPTlMuY21kX3Vt
YXNrKQogICAgaWYgT1BUSU9OUy50dHk6CiAgICAgICAgc3Rkb3V0LCBfID0gc3VicHJvY2Vzcy5Q
b3BlbihzYWx0X2FyZ3YsIHN0ZG91dD1zdWJwcm9jZXNzLlBJUEUsIHN0ZGVycj1zdWJwcm9jZXNz
LlBJUEUpLmNvbW11bmljYXRlKCkKICAgICAgICBzeXMuc3Rkb3V0LndyaXRlKHN0ZG91dCkKICAg
ICAgICBzeXMuc3Rkb3V0LmZsdXNoKCkKICAgICAgICBpZiBPUFRJT05TLndpcGU6CiAgICAgICAg
ICAgIHNodXRpbC5ybXRyZWUoT1BUSU9OUy5zYWx0ZGlyKQogICAgZWxpZiBPUFRJT05TLndpcGU6
CiAgICAgICAgc3VicHJvY2Vzcy5jYWxsKHNhbHRfYXJndikKICAgICAgICBzaHV0aWwucm10cmVl
KE9QVElPTlMuc2FsdGRpcikKICAgIGVsc2U6CiAgICAgICAgb3MuZXhlY3Yoc3lzLmV4ZWN1dGFi
bGUsIHNhbHRfYXJndikKICAgIGlmIE9QVElPTlMuY21kX3VtYXNrIGlzIG5vdCBOb25lOgogICAg
ICAgIG9zLnVtYXNrKG9sZF91bWFzaykKCmlmIF9fbmFtZV9fID09ICdfX21haW5fXyc6CiAgICBz
eXMuZXhpdChtYWluKHN5cy5hcmd2KSkK
""").decode("utf-8"))'
else
exec $SUDO "$py_cmd_path" -c \
'import base64;
exec(base64.b64decode("""IyBweWxpbnQ6IGRpc2FibGU9Vzk5MDMKJycnClRoaXMgaXMgYSBzaGltIHRoYXQgaGFuZGxlcyBj
aGVja2luZyBhbmQgdXBkYXRpbmcgc2FsdCB0aGluIGFuZAp0aGVuIGludm9raW5nIHRoaW4uCgpU
aGlzIGlzIG5vdCBpbnRlbmRlZCB0byBiZSBpbnN0YW50aWF0ZWQgYXMgYSBtb2R1bGUsIHJhdGhl
ciBpdCBpcyBhCmhlbHBlciBzY3JpcHQgdXNlZCBieSBzYWx0LmNsaWVudC5zc2guU2luZ2xlLiAg
SXQgaXMgaGVyZSwgaW4gYQpzZXBhcmF0ZSBmaWxlLCBmb3IgY29udmVuaWVuY2Ugb2YgZGV2ZWxv
cG1lbnQuCicnJwoKZnJvbSBfX2Z1dHVyZV9fIGltcG9ydCBhYnNvbHV0ZV9pbXBvcnQKCmltcG9y
dCBoYXNobGliCmltcG9ydCB0YXJmaWxlCmltcG9ydCBzaHV0aWwKaW1wb3J0IHN5cwppbXBvcnQg
b3MKaW1wb3J0IHN0YXQKaW1wb3J0IHN1YnByb2Nlc3MKClRISU5fQVJDSElWRSA9ICdzYWx0LXRo
aW4udGd6JwpFWFRfQVJDSElWRSA9ICdzYWx0LWV4dF9tb2RzLnRneicKCiMgS2VlcCB0aGVzZSBp
biBzeW5jIHdpdGggc2FsdC9kZWZhdWx0cy9leGl0Y29kZXMucHkKRVhfVEhJTl9ERVBMT1kgPSAx
MQpFWF9USElOX0NIRUNLU1VNID0gMTIKRVhfTU9EX0RFUExPWSA9IDEzCkVYX1NDUF9OT1RfRk9V
TkQgPSAxNApFWF9DQU5UQ1JFQVQgPSA3MwoKCmNsYXNzIE9CSihvYmplY3QpOgogICAgIiIiQW4g
ZW1wdHkgY2xhc3MgZm9yIGhvbGRpbmcgaW5zdGFuY2UgYXR0cmlidXRlIHZhbHVlcy4iIiIKICAg
IHBhc3MKCgpPUFRJT05TID0gTm9uZQpBUkdTID0gTm9uZQojIFRoZSBiZWxvdyBsaW5lIGlzIHdo
ZXJlIE9QVElPTlMgY2FuIGJlIHJlZGVmaW5lZCB3aXRoIGludGVybmFsIG9wdGlvbnMKIyAocmF0
aGVyIHRoYW4gY2xpIGFyZ3VtZW50cykgd2hlbiB0aGUgc2hpbSBpcyBidW5kbGVkIGJ5CiMgY2xp
ZW50LnNzaC5TaW5nbGUuX2NtZF9zdHIoKQojIHB5bGludDogZGlzYWJsZT1ibG9jay1jb21tZW50
LXNob3VsZC1zdGFydC13aXRoLWNhcmRpbmFsLXNwYWNlCgpPUFRJT05TID0gT0JKKCkKT1BUSU9O
Uy5jb25maWcgPSAiIiIKe2ZpbGVzZXJ2ZXJfbGlzdF9jYWNoZV90aW1lOiAzLCBncmFpbnNfY2Fj
aGU6IHRydWUsIGlkOiBsb2NhbCwgbG9nX2ZpbGU6IHNhbHQtY2FsbC5sb2csCiAgcm9vdF9kaXI6
IC92YXIvdG1wLy5zYWx0LW9wZV8xYTM1MzJfc2FsdC9ydW5uaW5nX2RhdGEsIHNvY2tfZGlyOiAv
fQoiIiIKT1BUSU9OUy5kZWxpbWl0ZXIgPSAnX2VkYmM3ODg1ZTRmOWFhYzliODNiMzU5OTliNjhk
MDE1MTQ4Y2FmNDY3Yjc4ZmEzOWMwNWY2NjljMGZmODk4NzgnCk9QVElPTlMuc2FsdGRpciA9ICcv
dmFyL3RtcC8uc2FsdC1vcGVfMWEzNTMyX3NhbHQnCk9QVElPTlMuY2hlY2tzdW0gPSAnMmUyNWZj
YmI2YWEyNTU5OWQ1MmU4OTVkZTZlMjExOTZkNWM2ZTU5NScKT1BUSU9OUy5oYXNoZnVuYyA9ICdz
aGExJwpPUFRJT05TLnZlcnNpb24gPSAnMjAxNi4zLjInCk9QVElPTlMuZXh0X21vZHMgPSAnJwpP
UFRJT05TLndpcGUgPSBGYWxzZQpPUFRJT05TLnR0eSA9IEZhbHNlCk9QVElPTlMuY21kX3VtYXNr
ID0gTm9uZQpBUkdTID0gWyd0ZXN0Lm9wdHNfcGtnJ10KCgoKZGVmIG5lZWRfZGVwbG95bWVudCgp
OgogICAgIiIiCiAgICBTYWx0IHRoaW4gbmVlZHMgdG8gYmUgZGVwbG95ZWQgLSBwcmVwIHRoZSB0
YXJnZXQgZGlyZWN0b3J5IGFuZCBlbWl0IHRoZQogICAgZGVsaW1ldGVyIGFuZCBleGl0IGNvZGUg
dGhhdCBzaWduYWxzIGEgcmVxdWlyZWQgZGVwbG95bWVudC4KICAgICIiIgogICAgaWYgb3MucGF0
aC5leGlzdHMoT1BUSU9OUy5zYWx0ZGlyKToKICAgICAgICBzaHV0aWwucm10cmVlKE9QVElPTlMu
c2FsdGRpcikKICAgIG9sZF91bWFzayA9IG9zLnVtYXNrKDBvMDc3KQogICAgb3MubWFrZWRpcnMo
T1BUSU9OUy5zYWx0ZGlyKQogICAgb3MudW1hc2sob2xkX3VtYXNrKQogICAgIyBWZXJpZnkgcGVy
bXMgb24gc2FsdGRpcgogICAgZXVpZCA9IG9zLmdldGV1aWQoKQogICAgZHN0YXQgPSBvcy5zdGF0
KE9QVElPTlMuc2FsdGRpcikKICAgIGlmIGRzdGF0LnN0X3VpZCAhPSBldWlkOgogICAgICAgICMg
QXR0YWNrIGRldGVjdGVkLCB0cnkgYWdhaW4KICAgICAgICBuZWVkX2RlcGxveW1lbnQoKQogICAg
aWYgZHN0YXQuc3RfbW9kZSAhPSAxNjgzMjoKICAgICAgICAjIEF0dGFjayBkZXRlY3RlZAogICAg
ICAgIG5lZWRfZGVwbG95bWVudCgpCiAgICAjIElmIFNVRE9pbmcgdGhlbiBhbHNvIGdpdmUgdGhl
IHN1cGVyIHVzZXIgZ3JvdXAgd3JpdGUgcGVybWlzc2lvbnMKICAgIHN1ZG9fZ2lkID0gb3MuZW52
aXJvbi5nZXQoJ1NVRE9fR0lEJykKICAgIGlmIHN1ZG9fZ2lkOgogICAgICAgIG9zLmNob3duKE9Q
VElPTlMuc2FsdGRpciwgLTEsIGludChzdWRvX2dpZCkpCiAgICAgICAgc3R0ID0gb3Muc3RhdChP
UFRJT05TLnNhbHRkaXIpCiAgICAgICAgb3MuY2htb2QoT1BUSU9OUy5zYWx0ZGlyLCBzdHQuc3Rf
bW9kZSB8IHN0YXQuU19JV0dSUCB8IHN0YXQuU19JUkdSUCB8IHN0YXQuU19JWEdSUCkKCiAgICAj
IERlbGltaXRlciBlbWl0dGVkIG9uIHN0ZG91dCAqb25seSogdG8gaW5kaWNhdGUgc2hpbSBtZXNz
YWdlIHRvIG1hc3Rlci4KICAgIHN5cy5zdGRvdXQud3JpdGUoInswfVxuZGVwbG95XG4iLmZvcm1h
dChPUFRJT05TLmRlbGltaXRlcikpCiAgICBzeXMuZXhpdChFWF9USElOX0RFUExPWSkKCgojIEFk
YXB0ZWQgZnJvbSBzYWx0LnV0aWxzLmdldF9oYXNoKCkKZGVmIGdldF9oYXNoKHBhdGgsIGZvcm09
J3NoYTEnLCBjaHVua19zaXplPTQwOTYpOgogICAgIiIiR2VuZXJhdGUgYSBoYXNoIGRpZ2VzdCBz
dHJpbmcgZm9yIGEgZmlsZS4iIiIKICAgIHRyeToKICAgICAgICBoYXNoX3R5cGUgPSBnZXRhdHRy
KGhhc2hsaWIsIGZvcm0pCiAgICBleGNlcHQgQXR0cmlidXRlRXJyb3I6CiAgICAgICAgcmFpc2Ug
VmFsdWVFcnJvcignSW52YWxpZCBoYXNoIHR5cGU6IHswfScuZm9ybWF0KGZvcm0pKQogICAgd2l0
aCBvcGVuKHBhdGgsICdyYicpIGFzIGlmaWxlOgogICAgICAgIGhhc2hfb2JqID0gaGFzaF90eXBl
KCkKICAgICAgICAjIHJlYWQgdGhlIGZpbGUgaW4gaW4gY2h1bmtzLCBub3QgdGhlIGVudGlyZSBm
aWxlCiAgICAgICAgZm9yIGNodW5rIGluIGl0ZXIobGFtYmRhOiBpZmlsZS5yZWFkKGNodW5rX3Np
emUpLCBiJycpOgogICAgICAgICAgICBoYXNoX29iai51cGRhdGUoY2h1bmspCiAgICAgICAgcmV0
dXJuIGhhc2hfb2JqLmhleGRpZ2VzdCgpCgoKZGVmIHVucGFja190aGluKHRoaW5fcGF0aCk6CiAg
ICAiIiJVbnBhY2sgdGhlIFNhbHQgdGhpbiBhcmNoaXZlLiIiIgogICAgdGZpbGUgPSB0YXJmaWxl
LlRhckZpbGUuZ3pvcGVuKHRoaW5fcGF0aCkKICAgIG9sZF91bWFzayA9IG9zLnVtYXNrKDBvMDc3
KQogICAgdGZpbGUuZXh0cmFjdGFsbChwYXRoPU9QVElPTlMuc2FsdGRpcikKICAgIHRmaWxlLmNs
b3NlKCkKICAgIG9zLnVtYXNrKG9sZF91bWFzaykKICAgIG9zLnVubGluayh0aGluX3BhdGgpCgoK
ZGVmIG5lZWRfZXh0KCk6CiAgICAiIiJTaWduYWwgdGhhdCBleHRlcm5hbCBtb2R1bGVzIG5lZWQg
dG8gYmUgZGVwbG95ZWQuIiIiCiAgICBzeXMuc3Rkb3V0LndyaXRlKCJ7MH1cbmV4dF9tb2RzXG4i
LmZvcm1hdChPUFRJT05TLmRlbGltaXRlcikpCiAgICBzeXMuZXhpdChFWF9NT0RfREVQTE9ZKQoK
CmRlZiB1bnBhY2tfZXh0KGV4dF9wYXRoKToKICAgICIiIlVucGFjayB0aGUgZXh0ZXJuYWwgbW9k
dWxlcy4iIiIKICAgIG1vZGNhY2hlID0gb3MucGF0aC5qb2luKAogICAgICAgICAgICBPUFRJT05T
LnNhbHRkaXIsCiAgICAgICAgICAgICdydW5uaW5nX2RhdGEnLAogICAgICAgICAgICAndmFyJywK
ICAgICAgICAgICAgJ2NhY2hlJywKICAgICAgICAgICAgJ3NhbHQnLAogICAgICAgICAgICAnbWlu
aW9uJywKICAgICAgICAgICAgJ2V4dG1vZHMnKQogICAgdGZpbGUgPSB0YXJmaWxlLlRhckZpbGUu
Z3pvcGVuKGV4dF9wYXRoKQogICAgb2xkX3VtYXNrID0gb3MudW1hc2soMG8wNzcpCiAgICB0Zmls
ZS5leHRyYWN0YWxsKHBhdGg9bW9kY2FjaGUpCiAgICB0ZmlsZS5jbG9zZSgpCiAgICBvcy51bWFz
ayhvbGRfdW1hc2spCiAgICBvcy51bmxpbmsoZXh0X3BhdGgpCiAgICB2ZXJfcGF0aCA9IG9zLnBh
dGguam9pbihtb2RjYWNoZSwgJ2V4dF92ZXJzaW9uJykKICAgIHZlcl9kc3QgPSBvcy5wYXRoLmpv
aW4oT1BUSU9OUy5zYWx0ZGlyLCAnZXh0X3ZlcnNpb24nKQogICAgc2h1dGlsLm1vdmUodmVyX3Bh
dGgsIHZlcl9kc3QpCgoKZGVmIG1haW4oYXJndik6ICAjIHB5bGludDogZGlzYWJsZT1XMDYxMwog
ICAgIiIiTWFpbiBwcm9ncmFtIGJvZHkiIiIKICAgIHRoaW5fcGF0aCA9IG9zLnBhdGguam9pbihP
UFRJT05TLnNhbHRkaXIsIFRISU5fQVJDSElWRSkKICAgIGlmIG9zLnBhdGguaXNmaWxlKHRoaW5f
cGF0aCk6CiAgICAgICAgaWYgT1BUSU9OUy5jaGVja3N1bSAhPSBnZXRfaGFzaCh0aGluX3BhdGgs
IE9QVElPTlMuaGFzaGZ1bmMpOgogICAgICAgICAgICBzeXMuc3RkZXJyLndyaXRlKCd7MH1cbicu
Zm9ybWF0KE9QVElPTlMuY2hlY2tzdW0pKQogICAgICAgICAgICBzeXMuc3RkZXJyLndyaXRlKCd7
MH1cbicuZm9ybWF0KGdldF9oYXNoKHRoaW5fcGF0aCwgT1BUSU9OUy5oYXNoZnVuYykpKQogICAg
ICAgICAgICBvcy51bmxpbmsodGhpbl9wYXRoKQogICAgICAgICAgICBzeXMuc3RkZXJyLndyaXRl
KCdXQVJOSU5HOiBjaGVja3N1bSBtaXNtYXRjaCBmb3IgInswfSJcbicuZm9ybWF0KHRoaW5fcGF0
aCkpCiAgICAgICAgICAgIHN5cy5leGl0KEVYX1RISU5fQ0hFQ0tTVU0pCiAgICAgICAgdW5wYWNr
X3RoaW4odGhpbl9wYXRoKQogICAgICAgICMgU2FsdCB0aGluIG5vdyBpcyBhdmFpbGFibGUgdG8g
dXNlCiAgICBlbHNlOgogICAgICAgIHNjcHN0YXQgPSBzdWJwcm9jZXNzLlBvcGVuKFsnL2Jpbi9z
aCcsICctYycsICdjb21tYW5kIC12IHNjcCddKS53YWl0KCkKICAgICAgICBpZiBzY3BzdGF0ICE9
IDA6CiAgICAgICAgICAgIHN5cy5leGl0KEVYX1NDUF9OT1RfRk9VTkQpCgogICAgICAgIGlmIG5v
dCBvcy5wYXRoLmV4aXN0cyhPUFRJT05TLnNhbHRkaXIpOgogICAgICAgICAgICBuZWVkX2RlcGxv
eW1lbnQoKQoKICAgICAgICBpZiBub3Qgb3MucGF0aC5pc2RpcihPUFRJT05TLnNhbHRkaXIpOgog
ICAgICAgICAgICBzeXMuc3RkZXJyLndyaXRlKAogICAgICAgICAgICAgICAgJ0VSUk9SOiBzYWx0
IHBhdGggInswfSIgZXhpc3RzIGJ1dCBpcycKICAgICAgICAgICAgICAgICcgbm90IGEgZGlyZWN0
b3J5XG4nLmZvcm1hdChPUFRJT05TLnNhbHRkaXIpCiAgICAgICAgICAgICkKICAgICAgICAgICAg
c3lzLmV4aXQoRVhfQ0FOVENSRUFUKQoKICAgICAgICB2ZXJzaW9uX3BhdGggPSBvcy5wYXRoLmpv
aW4oT1BUSU9OUy5zYWx0ZGlyLCAndmVyc2lvbicpCiAgICAgICAgaWYgbm90IG9zLnBhdGguZXhp
c3RzKHZlcnNpb25fcGF0aCkgb3Igbm90IG9zLnBhdGguaXNmaWxlKHZlcnNpb25fcGF0aCk6CiAg
ICAgICAgICAgIHN5cy5zdGRlcnIud3JpdGUoCiAgICAgICAgICAgICAgICAnV0FSTklORzogVW5h
YmxlIHRvIGxvY2F0ZSBjdXJyZW50IHRoaW4gJwogICAgICAgICAgICAgICAgJyB2ZXJzaW9uOiB7
MH0uXG4nLmZvcm1hdCh2ZXJzaW9uX3BhdGgpCiAgICAgICAgICAgICkKICAgICAgICAgICAgbmVl
ZF9kZXBsb3ltZW50KCkKICAgICAgICB3aXRoIG9wZW4odmVyc2lvbl9wYXRoLCAncicpIGFzIHZw
bzoKICAgICAgICAgICAgY3VyX3ZlcnNpb24gPSB2cG8ucmVhZGxpbmUoKS5zdHJpcCgpCiAgICAg
ICAgaWYgY3VyX3ZlcnNpb24gIT0gT1BUSU9OUy52ZXJzaW9uOgogICAgICAgICAgICBzeXMuc3Rk
ZXJyLndyaXRlKAogICAgICAgICAgICAgICAgJ1dBUk5JTkc6IGN1cnJlbnQgdGhpbiB2ZXJzaW9u
IHswfScKICAgICAgICAgICAgICAgICcgaXMgbm90IHVwLXRvLWRhdGUgd2l0aCB7MX0uXG4nLmZv
cm1hdCgKICAgICAgICAgICAgICAgICAgICBjdXJfdmVyc2lvbiwgT1BUSU9OUy52ZXJzaW9uCiAg
ICAgICAgICAgICAgICApCiAgICAgICAgICAgICkKICAgICAgICAgICAgbmVlZF9kZXBsb3ltZW50
KCkKICAgICAgICAjIFNhbHQgdGhpbiBleGlzdHMgYW5kIGlzIHVwLXRvLWRhdGUgLSBmYWxsIHRo
cm91Z2ggYW5kIHVzZSBpdAoKICAgIHNhbHRfY2FsbF9wYXRoID0gb3MucGF0aC5qb2luKE9QVElP
TlMuc2FsdGRpciwgJ3NhbHQtY2FsbCcpCiAgICBpZiBub3Qgb3MucGF0aC5pc2ZpbGUoc2FsdF9j
YWxsX3BhdGgpOgogICAgICAgIHN5cy5zdGRlcnIud3JpdGUoJ0VSUk9SOiB0aGluIGlzIG1pc3Np
bmcgInswfSJcbicuZm9ybWF0KHNhbHRfY2FsbF9wYXRoKSkKICAgICAgICBuZWVkX2RlcGxveW1l
bnQoKQoKICAgIHdpdGggb3Blbihvcy5wYXRoLmpvaW4oT1BUSU9OUy5zYWx0ZGlyLCAnbWluaW9u
JyksICd3JykgYXMgY29uZmlnOgogICAgICAgIGNvbmZpZy53cml0ZShPUFRJT05TLmNvbmZpZyAr
ICdcbicpCiAgICBpZiBPUFRJT05TLmV4dF9tb2RzOgogICAgICAgIGV4dF9wYXRoID0gb3MucGF0
aC5qb2luKE9QVElPTlMuc2FsdGRpciwgRVhUX0FSQ0hJVkUpCiAgICAgICAgaWYgb3MucGF0aC5l
eGlzdHMoZXh0X3BhdGgpOgogICAgICAgICAgICB1bnBhY2tfZXh0KGV4dF9wYXRoKQogICAgICAg
IGVsc2U6CiAgICAgICAgICAgIHZlcnNpb25fcGF0aCA9IG9zLnBhdGguam9pbihPUFRJT05TLnNh
bHRkaXIsICdleHRfdmVyc2lvbicpCiAgICAgICAgICAgIGlmIG5vdCBvcy5wYXRoLmV4aXN0cyh2
ZXJzaW9uX3BhdGgpIG9yIG5vdCBvcy5wYXRoLmlzZmlsZSh2ZXJzaW9uX3BhdGgpOgogICAgICAg
ICAgICAgICAgbmVlZF9leHQoKQogICAgICAgICAgICB3aXRoIG9wZW4odmVyc2lvbl9wYXRoLCAn
cicpIGFzIHZwbzoKICAgICAgICAgICAgICAgIGN1cl92ZXJzaW9uID0gdnBvLnJlYWRsaW5lKCku
c3RyaXAoKQogICAgICAgICAgICBpZiBjdXJfdmVyc2lvbiAhPSBPUFRJT05TLmV4dF9tb2RzOgog
ICAgICAgICAgICAgICAgbmVlZF9leHQoKQogICAgIyBGaXggcGFyYW1ldGVyIHBhc3NpbmcgaXNz
dWUKICAgIGlmIGxlbihBUkdTKSA9PSAxOgogICAgICAgIGFyZ3ZfcHJlcGFyZWQgPSBBUkdTWzBd
LnNwbGl0KCkKICAgIGVsc2U6CiAgICAgICAgYXJndl9wcmVwYXJlZCA9IEFSR1MKCiAgICBzYWx0
X2FyZ3YgPSBbCiAgICAgICAgc3lzLmV4ZWN1dGFibGUsCiAgICAgICAgc2FsdF9jYWxsX3BhdGgs
CiAgICAgICAgJy0tcmV0Y29kZS1wYXNzdGhyb3VnaCcsCiAgICAgICAgJy0tbG9jYWwnLAogICAg
ICAgICctLW1ldGFkYXRhJywKICAgICAgICAnLS1vdXQnLCAnanNvbicsCiAgICAgICAgJy1sJywg
J3F1aWV0JywKICAgICAgICAnLWMnLCBPUFRJT05TLnNhbHRkaXIsCiAgICAgICAgJy0tJywKICAg
IF0gKyBhcmd2X3ByZXBhcmVkCgogICAgc3lzLnN0ZGVyci53cml0ZSgnU0FMVF9BUkdWOiB7MH1c
bicuZm9ybWF0KHNhbHRfYXJndikpCgogICAgIyBPbmx5IGVtaXQgdGhlIGRlbGltaXRlciBvbiAq
Ym90aCogc3Rkb3V0IGFuZCBzdGRlcnIgd2hlbiBjb21wbGV0ZWx5IHN1Y2Nlc3NmdWwuCiAgICAj
IFllcywgdGhlIGZsdXNoKCkgaXMgbmVjZXNzYXJ5LgogICAgc3lzLnN0ZG91dC53cml0ZShPUFRJ
T05TLmRlbGltaXRlciArICdcbicpCiAgICBzeXMuc3Rkb3V0LmZsdXNoKCkKICAgIGlmIG5vdCBP
UFRJT05TLnR0eToKICAgICAgICBzeXMuc3RkZXJyLndyaXRlKE9QVElPTlMuZGVsaW1pdGVyICsg
J1xuJykKICAgICAgICBzeXMuc3RkZXJyLmZsdXNoKCkKICAgIGlmIE9QVElPTlMuY21kX3VtYXNr
IGlzIG5vdCBOb25lOgogICAgICAgIG9sZF91bWFzayA9IG9zLnVtYXNrKE9QVElPTlMuY21kX3Vt
YXNrKQogICAgaWYgT1BUSU9OUy50dHk6CiAgICAgICAgc3Rkb3V0LCBfID0gc3VicHJvY2Vzcy5Q
b3BlbihzYWx0X2FyZ3YsIHN0ZG91dD1zdWJwcm9jZXNzLlBJUEUsIHN0ZGVycj1zdWJwcm9jZXNz
LlBJUEUpLmNvbW11bmljYXRlKCkKICAgICAgICBzeXMuc3Rkb3V0LndyaXRlKHN0ZG91dCkKICAg
ICAgICBzeXMuc3Rkb3V0LmZsdXNoKCkKICAgICAgICBpZiBPUFRJT05TLndpcGU6CiAgICAgICAg
ICAgIHNodXRpbC5ybXRyZWUoT1BUSU9OUy5zYWx0ZGlyKQogICAgZWxpZiBPUFRJT05TLndpcGU6
CiAgICAgICAgc3VicHJvY2Vzcy5jYWxsKHNhbHRfYXJndikKICAgICAgICBzaHV0aWwucm10cmVl
KE9QVElPTlMuc2FsdGRpcikKICAgIGVsc2U6CiAgICAgICAgb3MuZXhlY3Yoc3lzLmV4ZWN1dGFi
bGUsIHNhbHRfYXJndikKICAgIGlmIE9QVElPTlMuY21kX3VtYXNrIGlzIG5vdCBOb25lOgogICAg
ICAgIG9zLnVtYXNrKG9sZF91bWFzaykKCmlmIF9fbmFtZV9fID09ICdfX21haW5fXyc6CiAgICBz
eXMuZXhpdChtYWluKHN5cy5hcmd2KSkK
""").decode("utf-8"))'
fi
exit 0
else
continue
fi
done
echo "ERROR: Unable to locate appropriate python command" >&2
exit $EX_PYTHON_INVALID
EOF
2016-08-27 20:51:13,064 [salt.utils.vt.Terminal.PID-6986.STDOUT][TRACE   ][6985] salt-ope@127.0.0.1's password:
2016-08-27 20:51:15,002 [salt.utils.vt.Terminal.PID-6986.STDERR][TRACE   ][6985] Permission denied, please try again.
2016-08-27 20:51:15,003 [salt.utils.vt.Terminal.PID-6986.STDOUT][TRACE   ][6985] salt-ope@127.0.0.1's password:
2016-08-27 20:51:16,880 [salt.utils.vt.Terminal.PID-6986.STDERR][TRACE   ][6985] Permission denied, please try again.
2016-08-27 20:51:16,880 [salt.utils.vt.Terminal.PID-6986.STDOUT][TRACE   ][6985] salt-ope@127.0.0.1's password:
2016-08-27 20:51:18,563 [salt.utils.vt.Terminal.PID-6986.STDERR][TRACE   ][6985] Permission denied (publickey,gssapi-keyex,gssapi-with-mic,password).
2016-08-27 20:51:18,785 [salt.client.ssh  ][TRACE   ][6985] STDOUT 127.0.0.1
salt-ope@127.0.0.1's password: 
salt-ope@127.0.0.1's password: 
salt-ope@127.0.0.1's password: 

2016-08-27 20:51:18,785 [salt.client.ssh  ][TRACE   ][6985] STDERR 127.0.0.1
Permission denied, please try again.
Permission denied, please try again.
Permission denied (publickey,gssapi-keyex,gssapi-with-mic,password).

2016-08-27 20:51:18,786 [salt.client.ssh  ][DEBUG   ][6985] RETCODE 127.0.0.1: 255
2016-08-27 20:51:18,787 [salt.client.ssh  ][DEBUG   ][6985] SHIM retcode(255) and command: salt-ope@127.0.0.1's password:
2016-08-27 20:51:18,871 [salt.utils.vt    ][DEBUG   ][6969] Child Forked! PID: 6994  STDOUT_FD: 8  STDERR_FD: 10
2016-08-27 20:51:18,875 [salt.utils.vt    ][DEBUG   ][6969] Terminal Command: /bin/sh -c ssh-copy-id -i /root/saltstack_master/etc/salt/pki/master/ssh/salt-ssh.rsa.pub '-o ControlMaster=auto -o StrictHostKeyChecking=no -o GSSAPIAuthentication=no -o ConnectTimeout=65 -o PasswordAuthentication=yes -o PubkeyAuthentication=yes -o Port=22 -o User=salt-ope  -p 22 salt-ope@127.0.0.1'
2016-08-27 20:51:18,937 [salt.utils.vt.Terminal.PID-6994.STDOUT][TRACE   ][6969] salt-ope@127.0.0.1's password:
2016-08-27 20:51:20,895 [salt.utils.vt.Terminal.PID-6994.STDERR][TRACE   ][6969] Permission denied, please try again.
2016-08-27 20:51:20,896 [salt.utils.vt.Terminal.PID-6994.STDOUT][TRACE   ][6969] salt-ope@127.0.0.1's password:
2016-08-27 20:51:22,793 [salt.utils.vt.Terminal.PID-6994.STDERR][TRACE   ][6969] Permission denied, please try again.
2016-08-27 20:51:22,794 [salt.utils.vt.Terminal.PID-6994.STDOUT][TRACE   ][6969] salt-ope@127.0.0.1's password:
2016-08-27 20:51:24,969 [salt.utils.vt.Terminal.PID-6994.STDERR][TRACE   ][6969] Permission denied (publickey,gssapi-keyex,gssapi-with-mic,password).
2016-08-27 20:51:25,193 [salt.utils.lazy  ][DEBUG   ][6969] LazyLoaded nested.output
2016-08-27 20:51:25,194 [salt.output      ][TRACE   ][6969] data = {'local': 'Failed to return clean data'}
2016-08-27 20:51:52,411 [salt.utils.lazy  ][DEBUG   ][7053] LazyLoaded flat.targets
2016-08-27 20:51:52,412 [salt.utils.lazy  ][DEBUG   ][7053] LazyLoaded jinja.render
2016-08-27 20:51:52,413 [salt.utils.lazy  ][DEBUG   ][7053] LazyLoaded yaml.render
2016-08-27 20:51:52,413 [salt.template    ][DEBUG   ][7053] compile template: ./roster
2016-08-27 20:51:52,414 [salt.utils.jinja ][DEBUG   ][7053] Jinja search path: ['/root/saltstack_master/var/cache/salt/master/files/base']
2016-08-27 20:51:52,417 [salt.template    ][PROFILE ][7053] Time (in seconds) to render './roster' using 'jinja' renderer: 0.00375699996948
2016-08-27 20:51:52,417 [salt.template    ][DEBUG   ][7053] Rendered data from file: ./roster:
local:
  host: 127.0.0.1
  user: salt-ope
  passwd: salt-ope
  sudo: True
syslog:
  host: 192.168.1.12
  user: salt-ope
  passwd: salt-ope
  sudo: True


2016-08-27 20:51:52,420 [salt.loaded.int.render.yaml][DEBUG   ][7053] Results of YAML rendering: 
OrderedDict([('local', OrderedDict([('host', '127.0.0.1'), ('user', 'salt-ope'), ('passwd', 'salt-ope'), ('sudo', True)])), ('syslog', OrderedDict([('host', '192.168.1.12'), ('user', 'salt-ope'), ('passwd', 'salt-ope'), ('sudo', True)]))])
2016-08-27 20:51:52,420 [salt.template    ][PROFILE ][7053] Time (in seconds) to render './roster' using 'yaml' renderer: 0.00263905525208
2016-08-27 20:51:52,421 [salt.roster      ][DEBUG   ][7053] Matched minions: {'local': OrderedDict([('host', '127.0.0.1'), ('user', 'salt-ope'), ('passwd', 'salt-ope'), ('sudo', True)])}
2016-08-27 20:51:52,423 [salt.utils.lazy  ][DEBUG   ][7053] LazyLoaded roots.envs
2016-08-27 20:51:52,427 [salt.utils.lazy  ][DEBUG   ][7053] Could not LazyLoad roots.init
2016-08-27 20:51:52,427 [salt.fileserver  ][DEBUG   ][7053] Updating roots fileserver cache
2016-08-27 20:51:52,428 [salt.fileserver  ][TRACE   ][7053] Lockfile /root/saltstack_master/var/cache/salt/master/file_lists/roots/.base.w created
2016-08-27 20:51:52,429 [salt.fileserver  ][TRACE   ][7053] Lockfile /root/saltstack_master/var/cache/salt/master/file_lists/roots/.base.w removed
2016-08-27 20:51:52,430 [salt.utils.lazy  ][DEBUG   ][7053] LazyLoaded local_cache.prep_jid
2016-08-27 20:51:52,431 [salt.loaded.int.returner.local_cache][DEBUG   ][7053] Adding minions for job 20160827205152430077: ['local']
2016-08-27 20:51:52,461 [salt.utils.lazy  ][DEBUG   ][7069] LazyLoaded state.apply
2016-08-27 20:51:52,483 [salt.client.ssh  ][DEBUG   ][7069] Performing shimmed, blocking command as follows:
test.opts_pkg
2016-08-27 20:51:52,499 [salt.client.ssh.shell][DEBUG   ][7069] Executed SHIM command. Command logged to TRACE
2016-08-27 20:51:52,499 [salt.client.ssh.shell][TRACE   ][7069] Executing command: ssh 127.0.0.1  -o KbdInteractiveAuthentication=no -o PasswordAuthentication=yes -o GSSAPIAuthentication=no -o ConnectTimeout=65 -o Port=22 -o IdentityFile=/root/saltstack_master/etc/salt/pki/master/ssh/salt-ssh.rsa -o User=******  /bin/sh << 'EOF'
set -e
set -u
DEBUG="1"
if [ -n "$DEBUG" ]
then set -x
fi
SUDO=""
if [ -n "sudo" ]
then SUDO="sudo "
fi
EX_PYTHON_INVALID=10
PYTHON_CMDS="python3 python27 python2.7 python26 python2.6 python2 python"
for py_cmd in $PYTHON_CMDS
do
if command -v "$py_cmd" >/dev/null 2>&1 && "$py_cmd" -c \
"import sys; sys.exit(not (sys.version_info >= (2, 6)
and sys.version_info[0] == 2));"
then
py_cmd_path=`"$py_cmd" -c \
'from __future__ import print_function;
import sys; print(sys.executable);'`
cmdpath=$(which $py_cmd 2>&1)
if file $cmdpath | grep "shell script" > /dev/null
then
ex_vars="'PATH', 'LD_LIBRARY_PATH', 'MANPATH', \
'XDG_DATA_DIRS', 'PKG_CONFIG_PATH'"
export $($py_cmd -c \
"from __future__ import print_function;
import sys;
import os;
map(sys.stdout.write, ['{0}={1} ' \
.format(x, os.environ[x]) for x in [$ex_vars]])")
exec $SUDO PATH=$PATH LD_LIBRARY_PATH=$LD_LIBRARY_PATH \
MANPATH=$MANPATH XDG_DATA_DIRS=$XDG_DATA_DIRS \
PKG_CONFIG_PATH=$PKG_CONFIG_PATH \
"$py_cmd_path" -c \
'import base64;
exec(base64.b64decode("""IyBweWxpbnQ6IGRpc2FibGU9Vzk5MDMKJycnClRoaXMgaXMgYSBzaGltIHRoYXQgaGFuZGxlcyBj
aGVja2luZyBhbmQgdXBkYXRpbmcgc2FsdCB0aGluIGFuZAp0aGVuIGludm9raW5nIHRoaW4uCgpU
aGlzIGlzIG5vdCBpbnRlbmRlZCB0byBiZSBpbnN0YW50aWF0ZWQgYXMgYSBtb2R1bGUsIHJhdGhl
ciBpdCBpcyBhCmhlbHBlciBzY3JpcHQgdXNlZCBieSBzYWx0LmNsaWVudC5zc2guU2luZ2xlLiAg
SXQgaXMgaGVyZSwgaW4gYQpzZXBhcmF0ZSBmaWxlLCBmb3IgY29udmVuaWVuY2Ugb2YgZGV2ZWxv
cG1lbnQuCicnJwoKZnJvbSBfX2Z1dHVyZV9fIGltcG9ydCBhYnNvbHV0ZV9pbXBvcnQKCmltcG9y
dCBoYXNobGliCmltcG9ydCB0YXJmaWxlCmltcG9ydCBzaHV0aWwKaW1wb3J0IHN5cwppbXBvcnQg
b3MKaW1wb3J0IHN0YXQKaW1wb3J0IHN1YnByb2Nlc3MKClRISU5fQVJDSElWRSA9ICdzYWx0LXRo
aW4udGd6JwpFWFRfQVJDSElWRSA9ICdzYWx0LWV4dF9tb2RzLnRneicKCiMgS2VlcCB0aGVzZSBp
biBzeW5jIHdpdGggc2FsdC9kZWZhdWx0cy9leGl0Y29kZXMucHkKRVhfVEhJTl9ERVBMT1kgPSAx
MQpFWF9USElOX0NIRUNLU1VNID0gMTIKRVhfTU9EX0RFUExPWSA9IDEzCkVYX1NDUF9OT1RfRk9V
TkQgPSAxNApFWF9DQU5UQ1JFQVQgPSA3MwoKCmNsYXNzIE9CSihvYmplY3QpOgogICAgIiIiQW4g
ZW1wdHkgY2xhc3MgZm9yIGhvbGRpbmcgaW5zdGFuY2UgYXR0cmlidXRlIHZhbHVlcy4iIiIKICAg
IHBhc3MKCgpPUFRJT05TID0gTm9uZQpBUkdTID0gTm9uZQojIFRoZSBiZWxvdyBsaW5lIGlzIHdo
ZXJlIE9QVElPTlMgY2FuIGJlIHJlZGVmaW5lZCB3aXRoIGludGVybmFsIG9wdGlvbnMKIyAocmF0
aGVyIHRoYW4gY2xpIGFyZ3VtZW50cykgd2hlbiB0aGUgc2hpbSBpcyBidW5kbGVkIGJ5CiMgY2xp
ZW50LnNzaC5TaW5nbGUuX2NtZF9zdHIoKQojIHB5bGludDogZGlzYWJsZT1ibG9jay1jb21tZW50
LXNob3VsZC1zdGFydC13aXRoLWNhcmRpbmFsLXNwYWNlCgpPUFRJT05TID0gT0JKKCkKT1BUSU9O
Uy5jb25maWcgPSAiIiIKe2ZpbGVzZXJ2ZXJfbGlzdF9jYWNoZV90aW1lOiAzLCBncmFpbnNfY2Fj
aGU6IHRydWUsIGlkOiBsb2NhbCwgbG9nX2ZpbGU6IHNhbHQtY2FsbC5sb2csCiAgcm9vdF9kaXI6
IC92YXIvdG1wLy5zYWx0LW9wZV8xYTM1MzJfc2FsdC9ydW5uaW5nX2RhdGEsIHNvY2tfZGlyOiAv
fQoiIiIKT1BUSU9OUy5kZWxpbWl0ZXIgPSAnX2VkYmM3ODg1ZTRmOWFhYzliODNiMzU5OTliNjhk
MDE1MTQ4Y2FmNDY3Yjc4ZmEzOWMwNWY2NjljMGZmODk4NzgnCk9QVElPTlMuc2FsdGRpciA9ICcv
dmFyL3RtcC8uc2FsdC1vcGVfMWEzNTMyX3NhbHQnCk9QVElPTlMuY2hlY2tzdW0gPSAnMmUyNWZj
YmI2YWEyNTU5OWQ1MmU4OTVkZTZlMjExOTZkNWM2ZTU5NScKT1BUSU9OUy5oYXNoZnVuYyA9ICdz
aGExJwpPUFRJT05TLnZlcnNpb24gPSAnMjAxNi4zLjInCk9QVElPTlMuZXh0X21vZHMgPSAnJwpP
UFRJT05TLndpcGUgPSBGYWxzZQpPUFRJT05TLnR0eSA9IEZhbHNlCk9QVElPTlMuY21kX3VtYXNr
ID0gTm9uZQpBUkdTID0gWyd0ZXN0Lm9wdHNfcGtnJ10KCgoKZGVmIG5lZWRfZGVwbG95bWVudCgp
OgogICAgIiIiCiAgICBTYWx0IHRoaW4gbmVlZHMgdG8gYmUgZGVwbG95ZWQgLSBwcmVwIHRoZSB0
YXJnZXQgZGlyZWN0b3J5IGFuZCBlbWl0IHRoZQogICAgZGVsaW1ldGVyIGFuZCBleGl0IGNvZGUg
dGhhdCBzaWduYWxzIGEgcmVxdWlyZWQgZGVwbG95bWVudC4KICAgICIiIgogICAgaWYgb3MucGF0
aC5leGlzdHMoT1BUSU9OUy5zYWx0ZGlyKToKICAgICAgICBzaHV0aWwucm10cmVlKE9QVElPTlMu
c2FsdGRpcikKICAgIG9sZF91bWFzayA9IG9zLnVtYXNrKDBvMDc3KQogICAgb3MubWFrZWRpcnMo
T1BUSU9OUy5zYWx0ZGlyKQogICAgb3MudW1hc2sob2xkX3VtYXNrKQogICAgIyBWZXJpZnkgcGVy
bXMgb24gc2FsdGRpcgogICAgZXVpZCA9IG9zLmdldGV1aWQoKQogICAgZHN0YXQgPSBvcy5zdGF0
KE9QVElPTlMuc2FsdGRpcikKICAgIGlmIGRzdGF0LnN0X3VpZCAhPSBldWlkOgogICAgICAgICMg
QXR0YWNrIGRldGVjdGVkLCB0cnkgYWdhaW4KICAgICAgICBuZWVkX2RlcGxveW1lbnQoKQogICAg
aWYgZHN0YXQuc3RfbW9kZSAhPSAxNjgzMjoKICAgICAgICAjIEF0dGFjayBkZXRlY3RlZAogICAg
ICAgIG5lZWRfZGVwbG95bWVudCgpCiAgICAjIElmIFNVRE9pbmcgdGhlbiBhbHNvIGdpdmUgdGhl
IHN1cGVyIHVzZXIgZ3JvdXAgd3JpdGUgcGVybWlzc2lvbnMKICAgIHN1ZG9fZ2lkID0gb3MuZW52
aXJvbi5nZXQoJ1NVRE9fR0lEJykKICAgIGlmIHN1ZG9fZ2lkOgogICAgICAgIG9zLmNob3duKE9Q
VElPTlMuc2FsdGRpciwgLTEsIGludChzdWRvX2dpZCkpCiAgICAgICAgc3R0ID0gb3Muc3RhdChP
UFRJT05TLnNhbHRkaXIpCiAgICAgICAgb3MuY2htb2QoT1BUSU9OUy5zYWx0ZGlyLCBzdHQuc3Rf
bW9kZSB8IHN0YXQuU19JV0dSUCB8IHN0YXQuU19JUkdSUCB8IHN0YXQuU19JWEdSUCkKCiAgICAj
IERlbGltaXRlciBlbWl0dGVkIG9uIHN0ZG91dCAqb25seSogdG8gaW5kaWNhdGUgc2hpbSBtZXNz
YWdlIHRvIG1hc3Rlci4KICAgIHN5cy5zdGRvdXQud3JpdGUoInswfVxuZGVwbG95XG4iLmZvcm1h
dChPUFRJT05TLmRlbGltaXRlcikpCiAgICBzeXMuZXhpdChFWF9USElOX0RFUExPWSkKCgojIEFk
YXB0ZWQgZnJvbSBzYWx0LnV0aWxzLmdldF9oYXNoKCkKZGVmIGdldF9oYXNoKHBhdGgsIGZvcm09
J3NoYTEnLCBjaHVua19zaXplPTQwOTYpOgogICAgIiIiR2VuZXJhdGUgYSBoYXNoIGRpZ2VzdCBz
dHJpbmcgZm9yIGEgZmlsZS4iIiIKICAgIHRyeToKICAgICAgICBoYXNoX3R5cGUgPSBnZXRhdHRy
KGhhc2hsaWIsIGZvcm0pCiAgICBleGNlcHQgQXR0cmlidXRlRXJyb3I6CiAgICAgICAgcmFpc2Ug
VmFsdWVFcnJvcignSW52YWxpZCBoYXNoIHR5cGU6IHswfScuZm9ybWF0KGZvcm0pKQogICAgd2l0
aCBvcGVuKHBhdGgsICdyYicpIGFzIGlmaWxlOgogICAgICAgIGhhc2hfb2JqID0gaGFzaF90eXBl
KCkKICAgICAgICAjIHJlYWQgdGhlIGZpbGUgaW4gaW4gY2h1bmtzLCBub3QgdGhlIGVudGlyZSBm
aWxlCiAgICAgICAgZm9yIGNodW5rIGluIGl0ZXIobGFtYmRhOiBpZmlsZS5yZWFkKGNodW5rX3Np
emUpLCBiJycpOgogICAgICAgICAgICBoYXNoX29iai51cGRhdGUoY2h1bmspCiAgICAgICAgcmV0
dXJuIGhhc2hfb2JqLmhleGRpZ2VzdCgpCgoKZGVmIHVucGFja190aGluKHRoaW5fcGF0aCk6CiAg
ICAiIiJVbnBhY2sgdGhlIFNhbHQgdGhpbiBhcmNoaXZlLiIiIgogICAgdGZpbGUgPSB0YXJmaWxl
LlRhckZpbGUuZ3pvcGVuKHRoaW5fcGF0aCkKICAgIG9sZF91bWFzayA9IG9zLnVtYXNrKDBvMDc3
KQogICAgdGZpbGUuZXh0cmFjdGFsbChwYXRoPU9QVElPTlMuc2FsdGRpcikKICAgIHRmaWxlLmNs
b3NlKCkKICAgIG9zLnVtYXNrKG9sZF91bWFzaykKICAgIG9zLnVubGluayh0aGluX3BhdGgpCgoK
ZGVmIG5lZWRfZXh0KCk6CiAgICAiIiJTaWduYWwgdGhhdCBleHRlcm5hbCBtb2R1bGVzIG5lZWQg
dG8gYmUgZGVwbG95ZWQuIiIiCiAgICBzeXMuc3Rkb3V0LndyaXRlKCJ7MH1cbmV4dF9tb2RzXG4i
LmZvcm1hdChPUFRJT05TLmRlbGltaXRlcikpCiAgICBzeXMuZXhpdChFWF9NT0RfREVQTE9ZKQoK
CmRlZiB1bnBhY2tfZXh0KGV4dF9wYXRoKToKICAgICIiIlVucGFjayB0aGUgZXh0ZXJuYWwgbW9k
dWxlcy4iIiIKICAgIG1vZGNhY2hlID0gb3MucGF0aC5qb2luKAogICAgICAgICAgICBPUFRJT05T
LnNhbHRkaXIsCiAgICAgICAgICAgICdydW5uaW5nX2RhdGEnLAogICAgICAgICAgICAndmFyJywK
ICAgICAgICAgICAgJ2NhY2hlJywKICAgICAgICAgICAgJ3NhbHQnLAogICAgICAgICAgICAnbWlu
aW9uJywKICAgICAgICAgICAgJ2V4dG1vZHMnKQogICAgdGZpbGUgPSB0YXJmaWxlLlRhckZpbGUu
Z3pvcGVuKGV4dF9wYXRoKQogICAgb2xkX3VtYXNrID0gb3MudW1hc2soMG8wNzcpCiAgICB0Zmls
ZS5leHRyYWN0YWxsKHBhdGg9bW9kY2FjaGUpCiAgICB0ZmlsZS5jbG9zZSgpCiAgICBvcy51bWFz
ayhvbGRfdW1hc2spCiAgICBvcy51bmxpbmsoZXh0X3BhdGgpCiAgICB2ZXJfcGF0aCA9IG9zLnBh
dGguam9pbihtb2RjYWNoZSwgJ2V4dF92ZXJzaW9uJykKICAgIHZlcl9kc3QgPSBvcy5wYXRoLmpv
aW4oT1BUSU9OUy5zYWx0ZGlyLCAnZXh0X3ZlcnNpb24nKQogICAgc2h1dGlsLm1vdmUodmVyX3Bh
dGgsIHZlcl9kc3QpCgoKZGVmIG1haW4oYXJndik6ICAjIHB5bGludDogZGlzYWJsZT1XMDYxMwog
ICAgIiIiTWFpbiBwcm9ncmFtIGJvZHkiIiIKICAgIHRoaW5fcGF0aCA9IG9zLnBhdGguam9pbihP
UFRJT05TLnNhbHRkaXIsIFRISU5fQVJDSElWRSkKICAgIGlmIG9zLnBhdGguaXNmaWxlKHRoaW5f
cGF0aCk6CiAgICAgICAgaWYgT1BUSU9OUy5jaGVja3N1bSAhPSBnZXRfaGFzaCh0aGluX3BhdGgs
IE9QVElPTlMuaGFzaGZ1bmMpOgogICAgICAgICAgICBzeXMuc3RkZXJyLndyaXRlKCd7MH1cbicu
Zm9ybWF0KE9QVElPTlMuY2hlY2tzdW0pKQogICAgICAgICAgICBzeXMuc3RkZXJyLndyaXRlKCd7
MH1cbicuZm9ybWF0KGdldF9oYXNoKHRoaW5fcGF0aCwgT1BUSU9OUy5oYXNoZnVuYykpKQogICAg
ICAgICAgICBvcy51bmxpbmsodGhpbl9wYXRoKQogICAgICAgICAgICBzeXMuc3RkZXJyLndyaXRl
KCdXQVJOSU5HOiBjaGVja3N1bSBtaXNtYXRjaCBmb3IgInswfSJcbicuZm9ybWF0KHRoaW5fcGF0
aCkpCiAgICAgICAgICAgIHN5cy5leGl0KEVYX1RISU5fQ0hFQ0tTVU0pCiAgICAgICAgdW5wYWNr
X3RoaW4odGhpbl9wYXRoKQogICAgICAgICMgU2FsdCB0aGluIG5vdyBpcyBhdmFpbGFibGUgdG8g
dXNlCiAgICBlbHNlOgogICAgICAgIHNjcHN0YXQgPSBzdWJwcm9jZXNzLlBvcGVuKFsnL2Jpbi9z
aCcsICctYycsICdjb21tYW5kIC12IHNjcCddKS53YWl0KCkKICAgICAgICBpZiBzY3BzdGF0ICE9
IDA6CiAgICAgICAgICAgIHN5cy5leGl0KEVYX1NDUF9OT1RfRk9VTkQpCgogICAgICAgIGlmIG5v
dCBvcy5wYXRoLmV4aXN0cyhPUFRJT05TLnNhbHRkaXIpOgogICAgICAgICAgICBuZWVkX2RlcGxv
eW1lbnQoKQoKICAgICAgICBpZiBub3Qgb3MucGF0aC5pc2RpcihPUFRJT05TLnNhbHRkaXIpOgog
ICAgICAgICAgICBzeXMuc3RkZXJyLndyaXRlKAogICAgICAgICAgICAgICAgJ0VSUk9SOiBzYWx0
IHBhdGggInswfSIgZXhpc3RzIGJ1dCBpcycKICAgICAgICAgICAgICAgICcgbm90IGEgZGlyZWN0
b3J5XG4nLmZvcm1hdChPUFRJT05TLnNhbHRkaXIpCiAgICAgICAgICAgICkKICAgICAgICAgICAg
c3lzLmV4aXQoRVhfQ0FOVENSRUFUKQoKICAgICAgICB2ZXJzaW9uX3BhdGggPSBvcy5wYXRoLmpv
aW4oT1BUSU9OUy5zYWx0ZGlyLCAndmVyc2lvbicpCiAgICAgICAgaWYgbm90IG9zLnBhdGguZXhp
c3RzKHZlcnNpb25fcGF0aCkgb3Igbm90IG9zLnBhdGguaXNmaWxlKHZlcnNpb25fcGF0aCk6CiAg
ICAgICAgICAgIHN5cy5zdGRlcnIud3JpdGUoCiAgICAgICAgICAgICAgICAnV0FSTklORzogVW5h
YmxlIHRvIGxvY2F0ZSBjdXJyZW50IHRoaW4gJwogICAgICAgICAgICAgICAgJyB2ZXJzaW9uOiB7
MH0uXG4nLmZvcm1hdCh2ZXJzaW9uX3BhdGgpCiAgICAgICAgICAgICkKICAgICAgICAgICAgbmVl
ZF9kZXBsb3ltZW50KCkKICAgICAgICB3aXRoIG9wZW4odmVyc2lvbl9wYXRoLCAncicpIGFzIHZw
bzoKICAgICAgICAgICAgY3VyX3ZlcnNpb24gPSB2cG8ucmVhZGxpbmUoKS5zdHJpcCgpCiAgICAg
ICAgaWYgY3VyX3ZlcnNpb24gIT0gT1BUSU9OUy52ZXJzaW9uOgogICAgICAgICAgICBzeXMuc3Rk
ZXJyLndyaXRlKAogICAgICAgICAgICAgICAgJ1dBUk5JTkc6IGN1cnJlbnQgdGhpbiB2ZXJzaW9u
IHswfScKICAgICAgICAgICAgICAgICcgaXMgbm90IHVwLXRvLWRhdGUgd2l0aCB7MX0uXG4nLmZv
cm1hdCgKICAgICAgICAgICAgICAgICAgICBjdXJfdmVyc2lvbiwgT1BUSU9OUy52ZXJzaW9uCiAg
ICAgICAgICAgICAgICApCiAgICAgICAgICAgICkKICAgICAgICAgICAgbmVlZF9kZXBsb3ltZW50
KCkKICAgICAgICAjIFNhbHQgdGhpbiBleGlzdHMgYW5kIGlzIHVwLXRvLWRhdGUgLSBmYWxsIHRo
cm91Z2ggYW5kIHVzZSBpdAoKICAgIHNhbHRfY2FsbF9wYXRoID0gb3MucGF0aC5qb2luKE9QVElP
TlMuc2FsdGRpciwgJ3NhbHQtY2FsbCcpCiAgICBpZiBub3Qgb3MucGF0aC5pc2ZpbGUoc2FsdF9j
YWxsX3BhdGgpOgogICAgICAgIHN5cy5zdGRlcnIud3JpdGUoJ0VSUk9SOiB0aGluIGlzIG1pc3Np
bmcgInswfSJcbicuZm9ybWF0KHNhbHRfY2FsbF9wYXRoKSkKICAgICAgICBuZWVkX2RlcGxveW1l
bnQoKQoKICAgIHdpdGggb3Blbihvcy5wYXRoLmpvaW4oT1BUSU9OUy5zYWx0ZGlyLCAnbWluaW9u
JyksICd3JykgYXMgY29uZmlnOgogICAgICAgIGNvbmZpZy53cml0ZShPUFRJT05TLmNvbmZpZyAr
ICdcbicpCiAgICBpZiBPUFRJT05TLmV4dF9tb2RzOgogICAgICAgIGV4dF9wYXRoID0gb3MucGF0
aC5qb2luKE9QVElPTlMuc2FsdGRpciwgRVhUX0FSQ0hJVkUpCiAgICAgICAgaWYgb3MucGF0aC5l
eGlzdHMoZXh0X3BhdGgpOgogICAgICAgICAgICB1bnBhY2tfZXh0KGV4dF9wYXRoKQogICAgICAg
IGVsc2U6CiAgICAgICAgICAgIHZlcnNpb25fcGF0aCA9IG9zLnBhdGguam9pbihPUFRJT05TLnNh
bHRkaXIsICdleHRfdmVyc2lvbicpCiAgICAgICAgICAgIGlmIG5vdCBvcy5wYXRoLmV4aXN0cyh2
ZXJzaW9uX3BhdGgpIG9yIG5vdCBvcy5wYXRoLmlzZmlsZSh2ZXJzaW9uX3BhdGgpOgogICAgICAg
ICAgICAgICAgbmVlZF9leHQoKQogICAgICAgICAgICB3aXRoIG9wZW4odmVyc2lvbl9wYXRoLCAn
cicpIGFzIHZwbzoKICAgICAgICAgICAgICAgIGN1cl92ZXJzaW9uID0gdnBvLnJlYWRsaW5lKCku
c3RyaXAoKQogICAgICAgICAgICBpZiBjdXJfdmVyc2lvbiAhPSBPUFRJT05TLmV4dF9tb2RzOgog
ICAgICAgICAgICAgICAgbmVlZF9leHQoKQogICAgIyBGaXggcGFyYW1ldGVyIHBhc3NpbmcgaXNz
dWUKICAgIGlmIGxlbihBUkdTKSA9PSAxOgogICAgICAgIGFyZ3ZfcHJlcGFyZWQgPSBBUkdTWzBd
LnNwbGl0KCkKICAgIGVsc2U6CiAgICAgICAgYXJndl9wcmVwYXJlZCA9IEFSR1MKCiAgICBzYWx0
X2FyZ3YgPSBbCiAgICAgICAgc3lzLmV4ZWN1dGFibGUsCiAgICAgICAgc2FsdF9jYWxsX3BhdGgs
CiAgICAgICAgJy0tcmV0Y29kZS1wYXNzdGhyb3VnaCcsCiAgICAgICAgJy0tbG9jYWwnLAogICAg
ICAgICctLW1ldGFkYXRhJywKICAgICAgICAnLS1vdXQnLCAnanNvbicsCiAgICAgICAgJy1sJywg
J3F1aWV0JywKICAgICAgICAnLWMnLCBPUFRJT05TLnNhbHRkaXIsCiAgICAgICAgJy0tJywKICAg
IF0gKyBhcmd2X3ByZXBhcmVkCgogICAgc3lzLnN0ZGVyci53cml0ZSgnU0FMVF9BUkdWOiB7MH1c
bicuZm9ybWF0KHNhbHRfYXJndikpCgogICAgIyBPbmx5IGVtaXQgdGhlIGRlbGltaXRlciBvbiAq
Ym90aCogc3Rkb3V0IGFuZCBzdGRlcnIgd2hlbiBjb21wbGV0ZWx5IHN1Y2Nlc3NmdWwuCiAgICAj
IFllcywgdGhlIGZsdXNoKCkgaXMgbmVjZXNzYXJ5LgogICAgc3lzLnN0ZG91dC53cml0ZShPUFRJ
T05TLmRlbGltaXRlciArICdcbicpCiAgICBzeXMuc3Rkb3V0LmZsdXNoKCkKICAgIGlmIG5vdCBP
UFRJT05TLnR0eToKICAgICAgICBzeXMuc3RkZXJyLndyaXRlKE9QVElPTlMuZGVsaW1pdGVyICsg
J1xuJykKICAgICAgICBzeXMuc3RkZXJyLmZsdXNoKCkKICAgIGlmIE9QVElPTlMuY21kX3VtYXNr
IGlzIG5vdCBOb25lOgogICAgICAgIG9sZF91bWFzayA9IG9zLnVtYXNrKE9QVElPTlMuY21kX3Vt
YXNrKQogICAgaWYgT1BUSU9OUy50dHk6CiAgICAgICAgc3Rkb3V0LCBfID0gc3VicHJvY2Vzcy5Q
b3BlbihzYWx0X2FyZ3YsIHN0ZG91dD1zdWJwcm9jZXNzLlBJUEUsIHN0ZGVycj1zdWJwcm9jZXNz
LlBJUEUpLmNvbW11bmljYXRlKCkKICAgICAgICBzeXMuc3Rkb3V0LndyaXRlKHN0ZG91dCkKICAg
ICAgICBzeXMuc3Rkb3V0LmZsdXNoKCkKICAgICAgICBpZiBPUFRJT05TLndpcGU6CiAgICAgICAg
ICAgIHNodXRpbC5ybXRyZWUoT1BUSU9OUy5zYWx0ZGlyKQogICAgZWxpZiBPUFRJT05TLndpcGU6
CiAgICAgICAgc3VicHJvY2Vzcy5jYWxsKHNhbHRfYXJndikKICAgICAgICBzaHV0aWwucm10cmVl
KE9QVElPTlMuc2FsdGRpcikKICAgIGVsc2U6CiAgICAgICAgb3MuZXhlY3Yoc3lzLmV4ZWN1dGFi
bGUsIHNhbHRfYXJndikKICAgIGlmIE9QVElPTlMuY21kX3VtYXNrIGlzIG5vdCBOb25lOgogICAg
ICAgIG9zLnVtYXNrKG9sZF91bWFzaykKCmlmIF9fbmFtZV9fID09ICdfX21haW5fXyc6CiAgICBz
eXMuZXhpdChtYWluKHN5cy5hcmd2KSkK
""").decode("utf-8"))'
else
exec $SUDO "$py_cmd_path" -c \
'import base64;
exec(base64.b64decode("""IyBweWxpbnQ6IGRpc2FibGU9Vzk5MDMKJycnClRoaXMgaXMgYSBzaGltIHRoYXQgaGFuZGxlcyBj
aGVja2luZyBhbmQgdXBkYXRpbmcgc2FsdCB0aGluIGFuZAp0aGVuIGludm9raW5nIHRoaW4uCgpU
aGlzIGlzIG5vdCBpbnRlbmRlZCB0byBiZSBpbnN0YW50aWF0ZWQgYXMgYSBtb2R1bGUsIHJhdGhl
ciBpdCBpcyBhCmhlbHBlciBzY3JpcHQgdXNlZCBieSBzYWx0LmNsaWVudC5zc2guU2luZ2xlLiAg
SXQgaXMgaGVyZSwgaW4gYQpzZXBhcmF0ZSBmaWxlLCBmb3IgY29udmVuaWVuY2Ugb2YgZGV2ZWxv
cG1lbnQuCicnJwoKZnJvbSBfX2Z1dHVyZV9fIGltcG9ydCBhYnNvbHV0ZV9pbXBvcnQKCmltcG9y
dCBoYXNobGliCmltcG9ydCB0YXJmaWxlCmltcG9ydCBzaHV0aWwKaW1wb3J0IHN5cwppbXBvcnQg
b3MKaW1wb3J0IHN0YXQKaW1wb3J0IHN1YnByb2Nlc3MKClRISU5fQVJDSElWRSA9ICdzYWx0LXRo
aW4udGd6JwpFWFRfQVJDSElWRSA9ICdzYWx0LWV4dF9tb2RzLnRneicKCiMgS2VlcCB0aGVzZSBp
biBzeW5jIHdpdGggc2FsdC9kZWZhdWx0cy9leGl0Y29kZXMucHkKRVhfVEhJTl9ERVBMT1kgPSAx
MQpFWF9USElOX0NIRUNLU1VNID0gMTIKRVhfTU9EX0RFUExPWSA9IDEzCkVYX1NDUF9OT1RfRk9V
TkQgPSAxNApFWF9DQU5UQ1JFQVQgPSA3MwoKCmNsYXNzIE9CSihvYmplY3QpOgogICAgIiIiQW4g
ZW1wdHkgY2xhc3MgZm9yIGhvbGRpbmcgaW5zdGFuY2UgYXR0cmlidXRlIHZhbHVlcy4iIiIKICAg
IHBhc3MKCgpPUFRJT05TID0gTm9uZQpBUkdTID0gTm9uZQojIFRoZSBiZWxvdyBsaW5lIGlzIHdo
ZXJlIE9QVElPTlMgY2FuIGJlIHJlZGVmaW5lZCB3aXRoIGludGVybmFsIG9wdGlvbnMKIyAocmF0
aGVyIHRoYW4gY2xpIGFyZ3VtZW50cykgd2hlbiB0aGUgc2hpbSBpcyBidW5kbGVkIGJ5CiMgY2xp
ZW50LnNzaC5TaW5nbGUuX2NtZF9zdHIoKQojIHB5bGludDogZGlzYWJsZT1ibG9jay1jb21tZW50
LXNob3VsZC1zdGFydC13aXRoLWNhcmRpbmFsLXNwYWNlCgpPUFRJT05TID0gT0JKKCkKT1BUSU9O
Uy5jb25maWcgPSAiIiIKe2ZpbGVzZXJ2ZXJfbGlzdF9jYWNoZV90aW1lOiAzLCBncmFpbnNfY2Fj
aGU6IHRydWUsIGlkOiBsb2NhbCwgbG9nX2ZpbGU6IHNhbHQtY2FsbC5sb2csCiAgcm9vdF9kaXI6
IC92YXIvdG1wLy5zYWx0LW9wZV8xYTM1MzJfc2FsdC9ydW5uaW5nX2RhdGEsIHNvY2tfZGlyOiAv
fQoiIiIKT1BUSU9OUy5kZWxpbWl0ZXIgPSAnX2VkYmM3ODg1ZTRmOWFhYzliODNiMzU5OTliNjhk
MDE1MTQ4Y2FmNDY3Yjc4ZmEzOWMwNWY2NjljMGZmODk4NzgnCk9QVElPTlMuc2FsdGRpciA9ICcv
dmFyL3RtcC8uc2FsdC1vcGVfMWEzNTMyX3NhbHQnCk9QVElPTlMuY2hlY2tzdW0gPSAnMmUyNWZj
YmI2YWEyNTU5OWQ1MmU4OTVkZTZlMjExOTZkNWM2ZTU5NScKT1BUSU9OUy5oYXNoZnVuYyA9ICdz
aGExJwpPUFRJT05TLnZlcnNpb24gPSAnMjAxNi4zLjInCk9QVElPTlMuZXh0X21vZHMgPSAnJwpP
UFRJT05TLndpcGUgPSBGYWxzZQpPUFRJT05TLnR0eSA9IEZhbHNlCk9QVElPTlMuY21kX3VtYXNr
ID0gTm9uZQpBUkdTID0gWyd0ZXN0Lm9wdHNfcGtnJ10KCgoKZGVmIG5lZWRfZGVwbG95bWVudCgp
OgogICAgIiIiCiAgICBTYWx0IHRoaW4gbmVlZHMgdG8gYmUgZGVwbG95ZWQgLSBwcmVwIHRoZSB0
YXJnZXQgZGlyZWN0b3J5IGFuZCBlbWl0IHRoZQogICAgZGVsaW1ldGVyIGFuZCBleGl0IGNvZGUg
dGhhdCBzaWduYWxzIGEgcmVxdWlyZWQgZGVwbG95bWVudC4KICAgICIiIgogICAgaWYgb3MucGF0
aC5leGlzdHMoT1BUSU9OUy5zYWx0ZGlyKToKICAgICAgICBzaHV0aWwucm10cmVlKE9QVElPTlMu
c2FsdGRpcikKICAgIG9sZF91bWFzayA9IG9zLnVtYXNrKDBvMDc3KQogICAgb3MubWFrZWRpcnMo
T1BUSU9OUy5zYWx0ZGlyKQogICAgb3MudW1hc2sob2xkX3VtYXNrKQogICAgIyBWZXJpZnkgcGVy
bXMgb24gc2FsdGRpcgogICAgZXVpZCA9IG9zLmdldGV1aWQoKQogICAgZHN0YXQgPSBvcy5zdGF0
KE9QVElPTlMuc2FsdGRpcikKICAgIGlmIGRzdGF0LnN0X3VpZCAhPSBldWlkOgogICAgICAgICMg
QXR0YWNrIGRldGVjdGVkLCB0cnkgYWdhaW4KICAgICAgICBuZWVkX2RlcGxveW1lbnQoKQogICAg
aWYgZHN0YXQuc3RfbW9kZSAhPSAxNjgzMjoKICAgICAgICAjIEF0dGFjayBkZXRlY3RlZAogICAg
ICAgIG5lZWRfZGVwbG95bWVudCgpCiAgICAjIElmIFNVRE9pbmcgdGhlbiBhbHNvIGdpdmUgdGhl
IHN1cGVyIHVzZXIgZ3JvdXAgd3JpdGUgcGVybWlzc2lvbnMKICAgIHN1ZG9fZ2lkID0gb3MuZW52
aXJvbi5nZXQoJ1NVRE9fR0lEJykKICAgIGlmIHN1ZG9fZ2lkOgogICAgICAgIG9zLmNob3duKE9Q
VElPTlMuc2FsdGRpciwgLTEsIGludChzdWRvX2dpZCkpCiAgICAgICAgc3R0ID0gb3Muc3RhdChP
UFRJT05TLnNhbHRkaXIpCiAgICAgICAgb3MuY2htb2QoT1BUSU9OUy5zYWx0ZGlyLCBzdHQuc3Rf
bW9kZSB8IHN0YXQuU19JV0dSUCB8IHN0YXQuU19JUkdSUCB8IHN0YXQuU19JWEdSUCkKCiAgICAj
IERlbGltaXRlciBlbWl0dGVkIG9uIHN0ZG91dCAqb25seSogdG8gaW5kaWNhdGUgc2hpbSBtZXNz
YWdlIHRvIG1hc3Rlci4KICAgIHN5cy5zdGRvdXQud3JpdGUoInswfVxuZGVwbG95XG4iLmZvcm1h
dChPUFRJT05TLmRlbGltaXRlcikpCiAgICBzeXMuZXhpdChFWF9USElOX0RFUExPWSkKCgojIEFk
YXB0ZWQgZnJvbSBzYWx0LnV0aWxzLmdldF9oYXNoKCkKZGVmIGdldF9oYXNoKHBhdGgsIGZvcm09
J3NoYTEnLCBjaHVua19zaXplPTQwOTYpOgogICAgIiIiR2VuZXJhdGUgYSBoYXNoIGRpZ2VzdCBz
dHJpbmcgZm9yIGEgZmlsZS4iIiIKICAgIHRyeToKICAgICAgICBoYXNoX3R5cGUgPSBnZXRhdHRy
KGhhc2hsaWIsIGZvcm0pCiAgICBleGNlcHQgQXR0cmlidXRlRXJyb3I6CiAgICAgICAgcmFpc2Ug
VmFsdWVFcnJvcignSW52YWxpZCBoYXNoIHR5cGU6IHswfScuZm9ybWF0KGZvcm0pKQogICAgd2l0
aCBvcGVuKHBhdGgsICdyYicpIGFzIGlmaWxlOgogICAgICAgIGhhc2hfb2JqID0gaGFzaF90eXBl
KCkKICAgICAgICAjIHJlYWQgdGhlIGZpbGUgaW4gaW4gY2h1bmtzLCBub3QgdGhlIGVudGlyZSBm
aWxlCiAgICAgICAgZm9yIGNodW5rIGluIGl0ZXIobGFtYmRhOiBpZmlsZS5yZWFkKGNodW5rX3Np
emUpLCBiJycpOgogICAgICAgICAgICBoYXNoX29iai51cGRhdGUoY2h1bmspCiAgICAgICAgcmV0
dXJuIGhhc2hfb2JqLmhleGRpZ2VzdCgpCgoKZGVmIHVucGFja190aGluKHRoaW5fcGF0aCk6CiAg
ICAiIiJVbnBhY2sgdGhlIFNhbHQgdGhpbiBhcmNoaXZlLiIiIgogICAgdGZpbGUgPSB0YXJmaWxl
LlRhckZpbGUuZ3pvcGVuKHRoaW5fcGF0aCkKICAgIG9sZF91bWFzayA9IG9zLnVtYXNrKDBvMDc3
KQogICAgdGZpbGUuZXh0cmFjdGFsbChwYXRoPU9QVElPTlMuc2FsdGRpcikKICAgIHRmaWxlLmNs
b3NlKCkKICAgIG9zLnVtYXNrKG9sZF91bWFzaykKICAgIG9zLnVubGluayh0aGluX3BhdGgpCgoK
ZGVmIG5lZWRfZXh0KCk6CiAgICAiIiJTaWduYWwgdGhhdCBleHRlcm5hbCBtb2R1bGVzIG5lZWQg
dG8gYmUgZGVwbG95ZWQuIiIiCiAgICBzeXMuc3Rkb3V0LndyaXRlKCJ7MH1cbmV4dF9tb2RzXG4i
LmZvcm1hdChPUFRJT05TLmRlbGltaXRlcikpCiAgICBzeXMuZXhpdChFWF9NT0RfREVQTE9ZKQoK
CmRlZiB1bnBhY2tfZXh0KGV4dF9wYXRoKToKICAgICIiIlVucGFjayB0aGUgZXh0ZXJuYWwgbW9k
dWxlcy4iIiIKICAgIG1vZGNhY2hlID0gb3MucGF0aC5qb2luKAogICAgICAgICAgICBPUFRJT05T
LnNhbHRkaXIsCiAgICAgICAgICAgICdydW5uaW5nX2RhdGEnLAogICAgICAgICAgICAndmFyJywK
ICAgICAgICAgICAgJ2NhY2hlJywKICAgICAgICAgICAgJ3NhbHQnLAogICAgICAgICAgICAnbWlu
aW9uJywKICAgICAgICAgICAgJ2V4dG1vZHMnKQogICAgdGZpbGUgPSB0YXJmaWxlLlRhckZpbGUu
Z3pvcGVuKGV4dF9wYXRoKQogICAgb2xkX3VtYXNrID0gb3MudW1hc2soMG8wNzcpCiAgICB0Zmls
ZS5leHRyYWN0YWxsKHBhdGg9bW9kY2FjaGUpCiAgICB0ZmlsZS5jbG9zZSgpCiAgICBvcy51bWFz
ayhvbGRfdW1hc2spCiAgICBvcy51bmxpbmsoZXh0X3BhdGgpCiAgICB2ZXJfcGF0aCA9IG9zLnBh
dGguam9pbihtb2RjYWNoZSwgJ2V4dF92ZXJzaW9uJykKICAgIHZlcl9kc3QgPSBvcy5wYXRoLmpv
aW4oT1BUSU9OUy5zYWx0ZGlyLCAnZXh0X3ZlcnNpb24nKQogICAgc2h1dGlsLm1vdmUodmVyX3Bh
dGgsIHZlcl9kc3QpCgoKZGVmIG1haW4oYXJndik6ICAjIHB5bGludDogZGlzYWJsZT1XMDYxMwog
ICAgIiIiTWFpbiBwcm9ncmFtIGJvZHkiIiIKICAgIHRoaW5fcGF0aCA9IG9zLnBhdGguam9pbihP
UFRJT05TLnNhbHRkaXIsIFRISU5fQVJDSElWRSkKICAgIGlmIG9zLnBhdGguaXNmaWxlKHRoaW5f
cGF0aCk6CiAgICAgICAgaWYgT1BUSU9OUy5jaGVja3N1bSAhPSBnZXRfaGFzaCh0aGluX3BhdGgs
IE9QVElPTlMuaGFzaGZ1bmMpOgogICAgICAgICAgICBzeXMuc3RkZXJyLndyaXRlKCd7MH1cbicu
Zm9ybWF0KE9QVElPTlMuY2hlY2tzdW0pKQogICAgICAgICAgICBzeXMuc3RkZXJyLndyaXRlKCd7
MH1cbicuZm9ybWF0KGdldF9oYXNoKHRoaW5fcGF0aCwgT1BUSU9OUy5oYXNoZnVuYykpKQogICAg
ICAgICAgICBvcy51bmxpbmsodGhpbl9wYXRoKQogICAgICAgICAgICBzeXMuc3RkZXJyLndyaXRl
KCdXQVJOSU5HOiBjaGVja3N1bSBtaXNtYXRjaCBmb3IgInswfSJcbicuZm9ybWF0KHRoaW5fcGF0
aCkpCiAgICAgICAgICAgIHN5cy5leGl0KEVYX1RISU5fQ0hFQ0tTVU0pCiAgICAgICAgdW5wYWNr
X3RoaW4odGhpbl9wYXRoKQogICAgICAgICMgU2FsdCB0aGluIG5vdyBpcyBhdmFpbGFibGUgdG8g
dXNlCiAgICBlbHNlOgogICAgICAgIHNjcHN0YXQgPSBzdWJwcm9jZXNzLlBvcGVuKFsnL2Jpbi9z
aCcsICctYycsICdjb21tYW5kIC12IHNjcCddKS53YWl0KCkKICAgICAgICBpZiBzY3BzdGF0ICE9
IDA6CiAgICAgICAgICAgIHN5cy5leGl0KEVYX1NDUF9OT1RfRk9VTkQpCgogICAgICAgIGlmIG5v
dCBvcy5wYXRoLmV4aXN0cyhPUFRJT05TLnNhbHRkaXIpOgogICAgICAgICAgICBuZWVkX2RlcGxv
eW1lbnQoKQoKICAgICAgICBpZiBub3Qgb3MucGF0aC5pc2RpcihPUFRJT05TLnNhbHRkaXIpOgog
ICAgICAgICAgICBzeXMuc3RkZXJyLndyaXRlKAogICAgICAgICAgICAgICAgJ0VSUk9SOiBzYWx0
IHBhdGggInswfSIgZXhpc3RzIGJ1dCBpcycKICAgICAgICAgICAgICAgICcgbm90IGEgZGlyZWN0
b3J5XG4nLmZvcm1hdChPUFRJT05TLnNhbHRkaXIpCiAgICAgICAgICAgICkKICAgICAgICAgICAg
c3lzLmV4aXQoRVhfQ0FOVENSRUFUKQoKICAgICAgICB2ZXJzaW9uX3BhdGggPSBvcy5wYXRoLmpv
aW4oT1BUSU9OUy5zYWx0ZGlyLCAndmVyc2lvbicpCiAgICAgICAgaWYgbm90IG9zLnBhdGguZXhp
c3RzKHZlcnNpb25fcGF0aCkgb3Igbm90IG9zLnBhdGguaXNmaWxlKHZlcnNpb25fcGF0aCk6CiAg
ICAgICAgICAgIHN5cy5zdGRlcnIud3JpdGUoCiAgICAgICAgICAgICAgICAnV0FSTklORzogVW5h
YmxlIHRvIGxvY2F0ZSBjdXJyZW50IHRoaW4gJwogICAgICAgICAgICAgICAgJyB2ZXJzaW9uOiB7
MH0uXG4nLmZvcm1hdCh2ZXJzaW9uX3BhdGgpCiAgICAgICAgICAgICkKICAgICAgICAgICAgbmVl
ZF9kZXBsb3ltZW50KCkKICAgICAgICB3aXRoIG9wZW4odmVyc2lvbl9wYXRoLCAncicpIGFzIHZw
bzoKICAgICAgICAgICAgY3VyX3ZlcnNpb24gPSB2cG8ucmVhZGxpbmUoKS5zdHJpcCgpCiAgICAg
ICAgaWYgY3VyX3ZlcnNpb24gIT0gT1BUSU9OUy52ZXJzaW9uOgogICAgICAgICAgICBzeXMuc3Rk
ZXJyLndyaXRlKAogICAgICAgICAgICAgICAgJ1dBUk5JTkc6IGN1cnJlbnQgdGhpbiB2ZXJzaW9u
IHswfScKICAgICAgICAgICAgICAgICcgaXMgbm90IHVwLXRvLWRhdGUgd2l0aCB7MX0uXG4nLmZv
cm1hdCgKICAgICAgICAgICAgICAgICAgICBjdXJfdmVyc2lvbiwgT1BUSU9OUy52ZXJzaW9uCiAg
ICAgICAgICAgICAgICApCiAgICAgICAgICAgICkKICAgICAgICAgICAgbmVlZF9kZXBsb3ltZW50
KCkKICAgICAgICAjIFNhbHQgdGhpbiBleGlzdHMgYW5kIGlzIHVwLXRvLWRhdGUgLSBmYWxsIHRo
cm91Z2ggYW5kIHVzZSBpdAoKICAgIHNhbHRfY2FsbF9wYXRoID0gb3MucGF0aC5qb2luKE9QVElP
TlMuc2FsdGRpciwgJ3NhbHQtY2FsbCcpCiAgICBpZiBub3Qgb3MucGF0aC5pc2ZpbGUoc2FsdF9j
YWxsX3BhdGgpOgogICAgICAgIHN5cy5zdGRlcnIud3JpdGUoJ0VSUk9SOiB0aGluIGlzIG1pc3Np
bmcgInswfSJcbicuZm9ybWF0KHNhbHRfY2FsbF9wYXRoKSkKICAgICAgICBuZWVkX2RlcGxveW1l
bnQoKQoKICAgIHdpdGggb3Blbihvcy5wYXRoLmpvaW4oT1BUSU9OUy5zYWx0ZGlyLCAnbWluaW9u
JyksICd3JykgYXMgY29uZmlnOgogICAgICAgIGNvbmZpZy53cml0ZShPUFRJT05TLmNvbmZpZyAr
ICdcbicpCiAgICBpZiBPUFRJT05TLmV4dF9tb2RzOgogICAgICAgIGV4dF9wYXRoID0gb3MucGF0
aC5qb2luKE9QVElPTlMuc2FsdGRpciwgRVhUX0FSQ0hJVkUpCiAgICAgICAgaWYgb3MucGF0aC5l
eGlzdHMoZXh0X3BhdGgpOgogICAgICAgICAgICB1bnBhY2tfZXh0KGV4dF9wYXRoKQogICAgICAg
IGVsc2U6CiAgICAgICAgICAgIHZlcnNpb25fcGF0aCA9IG9zLnBhdGguam9pbihPUFRJT05TLnNh
bHRkaXIsICdleHRfdmVyc2lvbicpCiAgICAgICAgICAgIGlmIG5vdCBvcy5wYXRoLmV4aXN0cyh2
ZXJzaW9uX3BhdGgpIG9yIG5vdCBvcy5wYXRoLmlzZmlsZSh2ZXJzaW9uX3BhdGgpOgogICAgICAg
ICAgICAgICAgbmVlZF9leHQoKQogICAgICAgICAgICB3aXRoIG9wZW4odmVyc2lvbl9wYXRoLCAn
cicpIGFzIHZwbzoKICAgICAgICAgICAgICAgIGN1cl92ZXJzaW9uID0gdnBvLnJlYWRsaW5lKCku
c3RyaXAoKQogICAgICAgICAgICBpZiBjdXJfdmVyc2lvbiAhPSBPUFRJT05TLmV4dF9tb2RzOgog
ICAgICAgICAgICAgICAgbmVlZF9leHQoKQogICAgIyBGaXggcGFyYW1ldGVyIHBhc3NpbmcgaXNz
dWUKICAgIGlmIGxlbihBUkdTKSA9PSAxOgogICAgICAgIGFyZ3ZfcHJlcGFyZWQgPSBBUkdTWzBd
LnNwbGl0KCkKICAgIGVsc2U6CiAgICAgICAgYXJndl9wcmVwYXJlZCA9IEFSR1MKCiAgICBzYWx0
X2FyZ3YgPSBbCiAgICAgICAgc3lzLmV4ZWN1dGFibGUsCiAgICAgICAgc2FsdF9jYWxsX3BhdGgs
CiAgICAgICAgJy0tcmV0Y29kZS1wYXNzdGhyb3VnaCcsCiAgICAgICAgJy0tbG9jYWwnLAogICAg
ICAgICctLW1ldGFkYXRhJywKICAgICAgICAnLS1vdXQnLCAnanNvbicsCiAgICAgICAgJy1sJywg
J3F1aWV0JywKICAgICAgICAnLWMnLCBPUFRJT05TLnNhbHRkaXIsCiAgICAgICAgJy0tJywKICAg
IF0gKyBhcmd2X3ByZXBhcmVkCgogICAgc3lzLnN0ZGVyci53cml0ZSgnU0FMVF9BUkdWOiB7MH1c
bicuZm9ybWF0KHNhbHRfYXJndikpCgogICAgIyBPbmx5IGVtaXQgdGhlIGRlbGltaXRlciBvbiAq
Ym90aCogc3Rkb3V0IGFuZCBzdGRlcnIgd2hlbiBjb21wbGV0ZWx5IHN1Y2Nlc3NmdWwuCiAgICAj
IFllcywgdGhlIGZsdXNoKCkgaXMgbmVjZXNzYXJ5LgogICAgc3lzLnN0ZG91dC53cml0ZShPUFRJ
T05TLmRlbGltaXRlciArICdcbicpCiAgICBzeXMuc3Rkb3V0LmZsdXNoKCkKICAgIGlmIG5vdCBP
UFRJT05TLnR0eToKICAgICAgICBzeXMuc3RkZXJyLndyaXRlKE9QVElPTlMuZGVsaW1pdGVyICsg
J1xuJykKICAgICAgICBzeXMuc3RkZXJyLmZsdXNoKCkKICAgIGlmIE9QVElPTlMuY21kX3VtYXNr
IGlzIG5vdCBOb25lOgogICAgICAgIG9sZF91bWFzayA9IG9zLnVtYXNrKE9QVElPTlMuY21kX3Vt
YXNrKQogICAgaWYgT1BUSU9OUy50dHk6CiAgICAgICAgc3Rkb3V0LCBfID0gc3VicHJvY2Vzcy5Q
b3BlbihzYWx0X2FyZ3YsIHN0ZG91dD1zdWJwcm9jZXNzLlBJUEUsIHN0ZGVycj1zdWJwcm9jZXNz
LlBJUEUpLmNvbW11bmljYXRlKCkKICAgICAgICBzeXMuc3Rkb3V0LndyaXRlKHN0ZG91dCkKICAg
ICAgICBzeXMuc3Rkb3V0LmZsdXNoKCkKICAgICAgICBpZiBPUFRJT05TLndpcGU6CiAgICAgICAg
ICAgIHNodXRpbC5ybXRyZWUoT1BUSU9OUy5zYWx0ZGlyKQogICAgZWxpZiBPUFRJT05TLndpcGU6
CiAgICAgICAgc3VicHJvY2Vzcy5jYWxsKHNhbHRfYXJndikKICAgICAgICBzaHV0aWwucm10cmVl
KE9QVElPTlMuc2FsdGRpcikKICAgIGVsc2U6CiAgICAgICAgb3MuZXhlY3Yoc3lzLmV4ZWN1dGFi
bGUsIHNhbHRfYXJndikKICAgIGlmIE9QVElPTlMuY21kX3VtYXNrIGlzIG5vdCBOb25lOgogICAg
ICAgIG9zLnVtYXNrKG9sZF91bWFzaykKCmlmIF9fbmFtZV9fID09ICdfX21haW5fXyc6CiAgICBz
eXMuZXhpdChtYWluKHN5cy5hcmd2KSkK
""").decode("utf-8"))'
fi
exit 0
else
continue
fi
done
echo "ERROR: Unable to locate appropriate python command" >&2
exit $EX_PYTHON_INVALID
EOF
2016-08-27 20:51:52,510 [salt.utils.vt    ][DEBUG   ][7069] Child Forked! PID: 7070  STDOUT_FD: 9  STDERR_FD: 11
2016-08-27 20:51:52,511 [salt.utils.vt    ][DEBUG   ][7069] VT: Salt-SSH SHIM Terminal Command executed. Logged to TRACE
2016-08-27 20:51:52,512 [salt.utils.vt    ][TRACE   ][7069] Terminal Command: /bin/sh -c ssh 127.0.0.1  -o KbdInteractiveAuthentication=no -o PasswordAuthentication=yes -o GSSAPIAuthentication=no -o ConnectTimeout=65 -o Port=22 -o IdentityFile=/root/saltstack_master/etc/salt/pki/master/ssh/salt-ssh.rsa -o User=salt-ope  /bin/sh << 'EOF'
set -e
set -u
DEBUG="1"
if [ -n "$DEBUG" ]
then set -x
fi
SUDO=""
if [ -n "sudo" ]
then SUDO="sudo "
fi
EX_PYTHON_INVALID=10
PYTHON_CMDS="python3 python27 python2.7 python26 python2.6 python2 python"
for py_cmd in $PYTHON_CMDS
do
if command -v "$py_cmd" >/dev/null 2>&1 && "$py_cmd" -c \
"import sys; sys.exit(not (sys.version_info >= (2, 6)
and sys.version_info[0] == 2));"
then
py_cmd_path=`"$py_cmd" -c \
'from __future__ import print_function;
import sys; print(sys.executable);'`
cmdpath=$(which $py_cmd 2>&1)
if file $cmdpath | grep "shell script" > /dev/null
then
ex_vars="'PATH', 'LD_LIBRARY_PATH', 'MANPATH', \
'XDG_DATA_DIRS', 'PKG_CONFIG_PATH'"
export $($py_cmd -c \
"from __future__ import print_function;
import sys;
import os;
map(sys.stdout.write, ['{0}={1} ' \
.format(x, os.environ[x]) for x in [$ex_vars]])")
exec $SUDO PATH=$PATH LD_LIBRARY_PATH=$LD_LIBRARY_PATH \
MANPATH=$MANPATH XDG_DATA_DIRS=$XDG_DATA_DIRS \
PKG_CONFIG_PATH=$PKG_CONFIG_PATH \
"$py_cmd_path" -c \
'import base64;
exec(base64.b64decode("""IyBweWxpbnQ6IGRpc2FibGU9Vzk5MDMKJycnClRoaXMgaXMgYSBzaGltIHRoYXQgaGFuZGxlcyBj
aGVja2luZyBhbmQgdXBkYXRpbmcgc2FsdCB0aGluIGFuZAp0aGVuIGludm9raW5nIHRoaW4uCgpU
aGlzIGlzIG5vdCBpbnRlbmRlZCB0byBiZSBpbnN0YW50aWF0ZWQgYXMgYSBtb2R1bGUsIHJhdGhl
ciBpdCBpcyBhCmhlbHBlciBzY3JpcHQgdXNlZCBieSBzYWx0LmNsaWVudC5zc2guU2luZ2xlLiAg
SXQgaXMgaGVyZSwgaW4gYQpzZXBhcmF0ZSBmaWxlLCBmb3IgY29udmVuaWVuY2Ugb2YgZGV2ZWxv
cG1lbnQuCicnJwoKZnJvbSBfX2Z1dHVyZV9fIGltcG9ydCBhYnNvbHV0ZV9pbXBvcnQKCmltcG9y
dCBoYXNobGliCmltcG9ydCB0YXJmaWxlCmltcG9ydCBzaHV0aWwKaW1wb3J0IHN5cwppbXBvcnQg
b3MKaW1wb3J0IHN0YXQKaW1wb3J0IHN1YnByb2Nlc3MKClRISU5fQVJDSElWRSA9ICdzYWx0LXRo
aW4udGd6JwpFWFRfQVJDSElWRSA9ICdzYWx0LWV4dF9tb2RzLnRneicKCiMgS2VlcCB0aGVzZSBp
biBzeW5jIHdpdGggc2FsdC9kZWZhdWx0cy9leGl0Y29kZXMucHkKRVhfVEhJTl9ERVBMT1kgPSAx
MQpFWF9USElOX0NIRUNLU1VNID0gMTIKRVhfTU9EX0RFUExPWSA9IDEzCkVYX1NDUF9OT1RfRk9V
TkQgPSAxNApFWF9DQU5UQ1JFQVQgPSA3MwoKCmNsYXNzIE9CSihvYmplY3QpOgogICAgIiIiQW4g
ZW1wdHkgY2xhc3MgZm9yIGhvbGRpbmcgaW5zdGFuY2UgYXR0cmlidXRlIHZhbHVlcy4iIiIKICAg
IHBhc3MKCgpPUFRJT05TID0gTm9uZQpBUkdTID0gTm9uZQojIFRoZSBiZWxvdyBsaW5lIGlzIHdo
ZXJlIE9QVElPTlMgY2FuIGJlIHJlZGVmaW5lZCB3aXRoIGludGVybmFsIG9wdGlvbnMKIyAocmF0
aGVyIHRoYW4gY2xpIGFyZ3VtZW50cykgd2hlbiB0aGUgc2hpbSBpcyBidW5kbGVkIGJ5CiMgY2xp
ZW50LnNzaC5TaW5nbGUuX2NtZF9zdHIoKQojIHB5bGludDogZGlzYWJsZT1ibG9jay1jb21tZW50
LXNob3VsZC1zdGFydC13aXRoLWNhcmRpbmFsLXNwYWNlCgpPUFRJT05TID0gT0JKKCkKT1BUSU9O
Uy5jb25maWcgPSAiIiIKe2ZpbGVzZXJ2ZXJfbGlzdF9jYWNoZV90aW1lOiAzLCBncmFpbnNfY2Fj
aGU6IHRydWUsIGlkOiBsb2NhbCwgbG9nX2ZpbGU6IHNhbHQtY2FsbC5sb2csCiAgcm9vdF9kaXI6
IC92YXIvdG1wLy5zYWx0LW9wZV8xYTM1MzJfc2FsdC9ydW5uaW5nX2RhdGEsIHNvY2tfZGlyOiAv
fQoiIiIKT1BUSU9OUy5kZWxpbWl0ZXIgPSAnX2VkYmM3ODg1ZTRmOWFhYzliODNiMzU5OTliNjhk
MDE1MTQ4Y2FmNDY3Yjc4ZmEzOWMwNWY2NjljMGZmODk4NzgnCk9QVElPTlMuc2FsdGRpciA9ICcv
dmFyL3RtcC8uc2FsdC1vcGVfMWEzNTMyX3NhbHQnCk9QVElPTlMuY2hlY2tzdW0gPSAnMmUyNWZj
YmI2YWEyNTU5OWQ1MmU4OTVkZTZlMjExOTZkNWM2ZTU5NScKT1BUSU9OUy5oYXNoZnVuYyA9ICdz
aGExJwpPUFRJT05TLnZlcnNpb24gPSAnMjAxNi4zLjInCk9QVElPTlMuZXh0X21vZHMgPSAnJwpP
UFRJT05TLndpcGUgPSBGYWxzZQpPUFRJT05TLnR0eSA9IEZhbHNlCk9QVElPTlMuY21kX3VtYXNr
ID0gTm9uZQpBUkdTID0gWyd0ZXN0Lm9wdHNfcGtnJ10KCgoKZGVmIG5lZWRfZGVwbG95bWVudCgp
OgogICAgIiIiCiAgICBTYWx0IHRoaW4gbmVlZHMgdG8gYmUgZGVwbG95ZWQgLSBwcmVwIHRoZSB0
YXJnZXQgZGlyZWN0b3J5IGFuZCBlbWl0IHRoZQogICAgZGVsaW1ldGVyIGFuZCBleGl0IGNvZGUg
dGhhdCBzaWduYWxzIGEgcmVxdWlyZWQgZGVwbG95bWVudC4KICAgICIiIgogICAgaWYgb3MucGF0
aC5leGlzdHMoT1BUSU9OUy5zYWx0ZGlyKToKICAgICAgICBzaHV0aWwucm10cmVlKE9QVElPTlMu
c2FsdGRpcikKICAgIG9sZF91bWFzayA9IG9zLnVtYXNrKDBvMDc3KQogICAgb3MubWFrZWRpcnMo
T1BUSU9OUy5zYWx0ZGlyKQogICAgb3MudW1hc2sob2xkX3VtYXNrKQogICAgIyBWZXJpZnkgcGVy
bXMgb24gc2FsdGRpcgogICAgZXVpZCA9IG9zLmdldGV1aWQoKQogICAgZHN0YXQgPSBvcy5zdGF0
KE9QVElPTlMuc2FsdGRpcikKICAgIGlmIGRzdGF0LnN0X3VpZCAhPSBldWlkOgogICAgICAgICMg
QXR0YWNrIGRldGVjdGVkLCB0cnkgYWdhaW4KICAgICAgICBuZWVkX2RlcGxveW1lbnQoKQogICAg
aWYgZHN0YXQuc3RfbW9kZSAhPSAxNjgzMjoKICAgICAgICAjIEF0dGFjayBkZXRlY3RlZAogICAg
ICAgIG5lZWRfZGVwbG95bWVudCgpCiAgICAjIElmIFNVRE9pbmcgdGhlbiBhbHNvIGdpdmUgdGhl
IHN1cGVyIHVzZXIgZ3JvdXAgd3JpdGUgcGVybWlzc2lvbnMKICAgIHN1ZG9fZ2lkID0gb3MuZW52
aXJvbi5nZXQoJ1NVRE9fR0lEJykKICAgIGlmIHN1ZG9fZ2lkOgogICAgICAgIG9zLmNob3duKE9Q
VElPTlMuc2FsdGRpciwgLTEsIGludChzdWRvX2dpZCkpCiAgICAgICAgc3R0ID0gb3Muc3RhdChP
UFRJT05TLnNhbHRkaXIpCiAgICAgICAgb3MuY2htb2QoT1BUSU9OUy5zYWx0ZGlyLCBzdHQuc3Rf
bW9kZSB8IHN0YXQuU19JV0dSUCB8IHN0YXQuU19JUkdSUCB8IHN0YXQuU19JWEdSUCkKCiAgICAj
IERlbGltaXRlciBlbWl0dGVkIG9uIHN0ZG91dCAqb25seSogdG8gaW5kaWNhdGUgc2hpbSBtZXNz
YWdlIHRvIG1hc3Rlci4KICAgIHN5cy5zdGRvdXQud3JpdGUoInswfVxuZGVwbG95XG4iLmZvcm1h
dChPUFRJT05TLmRlbGltaXRlcikpCiAgICBzeXMuZXhpdChFWF9USElOX0RFUExPWSkKCgojIEFk
YXB0ZWQgZnJvbSBzYWx0LnV0aWxzLmdldF9oYXNoKCkKZGVmIGdldF9oYXNoKHBhdGgsIGZvcm09
J3NoYTEnLCBjaHVua19zaXplPTQwOTYpOgogICAgIiIiR2VuZXJhdGUgYSBoYXNoIGRpZ2VzdCBz
dHJpbmcgZm9yIGEgZmlsZS4iIiIKICAgIHRyeToKICAgICAgICBoYXNoX3R5cGUgPSBnZXRhdHRy
KGhhc2hsaWIsIGZvcm0pCiAgICBleGNlcHQgQXR0cmlidXRlRXJyb3I6CiAgICAgICAgcmFpc2Ug
VmFsdWVFcnJvcignSW52YWxpZCBoYXNoIHR5cGU6IHswfScuZm9ybWF0KGZvcm0pKQogICAgd2l0
aCBvcGVuKHBhdGgsICdyYicpIGFzIGlmaWxlOgogICAgICAgIGhhc2hfb2JqID0gaGFzaF90eXBl
KCkKICAgICAgICAjIHJlYWQgdGhlIGZpbGUgaW4gaW4gY2h1bmtzLCBub3QgdGhlIGVudGlyZSBm
aWxlCiAgICAgICAgZm9yIGNodW5rIGluIGl0ZXIobGFtYmRhOiBpZmlsZS5yZWFkKGNodW5rX3Np
emUpLCBiJycpOgogICAgICAgICAgICBoYXNoX29iai51cGRhdGUoY2h1bmspCiAgICAgICAgcmV0
dXJuIGhhc2hfb2JqLmhleGRpZ2VzdCgpCgoKZGVmIHVucGFja190aGluKHRoaW5fcGF0aCk6CiAg
ICAiIiJVbnBhY2sgdGhlIFNhbHQgdGhpbiBhcmNoaXZlLiIiIgogICAgdGZpbGUgPSB0YXJmaWxl
LlRhckZpbGUuZ3pvcGVuKHRoaW5fcGF0aCkKICAgIG9sZF91bWFzayA9IG9zLnVtYXNrKDBvMDc3
KQogICAgdGZpbGUuZXh0cmFjdGFsbChwYXRoPU9QVElPTlMuc2FsdGRpcikKICAgIHRmaWxlLmNs
b3NlKCkKICAgIG9zLnVtYXNrKG9sZF91bWFzaykKICAgIG9zLnVubGluayh0aGluX3BhdGgpCgoK
ZGVmIG5lZWRfZXh0KCk6CiAgICAiIiJTaWduYWwgdGhhdCBleHRlcm5hbCBtb2R1bGVzIG5lZWQg
dG8gYmUgZGVwbG95ZWQuIiIiCiAgICBzeXMuc3Rkb3V0LndyaXRlKCJ7MH1cbmV4dF9tb2RzXG4i
LmZvcm1hdChPUFRJT05TLmRlbGltaXRlcikpCiAgICBzeXMuZXhpdChFWF9NT0RfREVQTE9ZKQoK
CmRlZiB1bnBhY2tfZXh0KGV4dF9wYXRoKToKICAgICIiIlVucGFjayB0aGUgZXh0ZXJuYWwgbW9k
dWxlcy4iIiIKICAgIG1vZGNhY2hlID0gb3MucGF0aC5qb2luKAogICAgICAgICAgICBPUFRJT05T
LnNhbHRkaXIsCiAgICAgICAgICAgICdydW5uaW5nX2RhdGEnLAogICAgICAgICAgICAndmFyJywK
ICAgICAgICAgICAgJ2NhY2hlJywKICAgICAgICAgICAgJ3NhbHQnLAogICAgICAgICAgICAnbWlu
aW9uJywKICAgICAgICAgICAgJ2V4dG1vZHMnKQogICAgdGZpbGUgPSB0YXJmaWxlLlRhckZpbGUu
Z3pvcGVuKGV4dF9wYXRoKQogICAgb2xkX3VtYXNrID0gb3MudW1hc2soMG8wNzcpCiAgICB0Zmls
ZS5leHRyYWN0YWxsKHBhdGg9bW9kY2FjaGUpCiAgICB0ZmlsZS5jbG9zZSgpCiAgICBvcy51bWFz
ayhvbGRfdW1hc2spCiAgICBvcy51bmxpbmsoZXh0X3BhdGgpCiAgICB2ZXJfcGF0aCA9IG9zLnBh
dGguam9pbihtb2RjYWNoZSwgJ2V4dF92ZXJzaW9uJykKICAgIHZlcl9kc3QgPSBvcy5wYXRoLmpv
aW4oT1BUSU9OUy5zYWx0ZGlyLCAnZXh0X3ZlcnNpb24nKQogICAgc2h1dGlsLm1vdmUodmVyX3Bh
dGgsIHZlcl9kc3QpCgoKZGVmIG1haW4oYXJndik6ICAjIHB5bGludDogZGlzYWJsZT1XMDYxMwog
ICAgIiIiTWFpbiBwcm9ncmFtIGJvZHkiIiIKICAgIHRoaW5fcGF0aCA9IG9zLnBhdGguam9pbihP
UFRJT05TLnNhbHRkaXIsIFRISU5fQVJDSElWRSkKICAgIGlmIG9zLnBhdGguaXNmaWxlKHRoaW5f
cGF0aCk6CiAgICAgICAgaWYgT1BUSU9OUy5jaGVja3N1bSAhPSBnZXRfaGFzaCh0aGluX3BhdGgs
IE9QVElPTlMuaGFzaGZ1bmMpOgogICAgICAgICAgICBzeXMuc3RkZXJyLndyaXRlKCd7MH1cbicu
Zm9ybWF0KE9QVElPTlMuY2hlY2tzdW0pKQogICAgICAgICAgICBzeXMuc3RkZXJyLndyaXRlKCd7
MH1cbicuZm9ybWF0KGdldF9oYXNoKHRoaW5fcGF0aCwgT1BUSU9OUy5oYXNoZnVuYykpKQogICAg
ICAgICAgICBvcy51bmxpbmsodGhpbl9wYXRoKQogICAgICAgICAgICBzeXMuc3RkZXJyLndyaXRl
KCdXQVJOSU5HOiBjaGVja3N1bSBtaXNtYXRjaCBmb3IgInswfSJcbicuZm9ybWF0KHRoaW5fcGF0
aCkpCiAgICAgICAgICAgIHN5cy5leGl0KEVYX1RISU5fQ0hFQ0tTVU0pCiAgICAgICAgdW5wYWNr
X3RoaW4odGhpbl9wYXRoKQogICAgICAgICMgU2FsdCB0aGluIG5vdyBpcyBhdmFpbGFibGUgdG8g
dXNlCiAgICBlbHNlOgogICAgICAgIHNjcHN0YXQgPSBzdWJwcm9jZXNzLlBvcGVuKFsnL2Jpbi9z
aCcsICctYycsICdjb21tYW5kIC12IHNjcCddKS53YWl0KCkKICAgICAgICBpZiBzY3BzdGF0ICE9
IDA6CiAgICAgICAgICAgIHN5cy5leGl0KEVYX1NDUF9OT1RfRk9VTkQpCgogICAgICAgIGlmIG5v
dCBvcy5wYXRoLmV4aXN0cyhPUFRJT05TLnNhbHRkaXIpOgogICAgICAgICAgICBuZWVkX2RlcGxv
eW1lbnQoKQoKICAgICAgICBpZiBub3Qgb3MucGF0aC5pc2RpcihPUFRJT05TLnNhbHRkaXIpOgog
ICAgICAgICAgICBzeXMuc3RkZXJyLndyaXRlKAogICAgICAgICAgICAgICAgJ0VSUk9SOiBzYWx0
IHBhdGggInswfSIgZXhpc3RzIGJ1dCBpcycKICAgICAgICAgICAgICAgICcgbm90IGEgZGlyZWN0
b3J5XG4nLmZvcm1hdChPUFRJT05TLnNhbHRkaXIpCiAgICAgICAgICAgICkKICAgICAgICAgICAg
c3lzLmV4aXQoRVhfQ0FOVENSRUFUKQoKICAgICAgICB2ZXJzaW9uX3BhdGggPSBvcy5wYXRoLmpv
aW4oT1BUSU9OUy5zYWx0ZGlyLCAndmVyc2lvbicpCiAgICAgICAgaWYgbm90IG9zLnBhdGguZXhp
c3RzKHZlcnNpb25fcGF0aCkgb3Igbm90IG9zLnBhdGguaXNmaWxlKHZlcnNpb25fcGF0aCk6CiAg
ICAgICAgICAgIHN5cy5zdGRlcnIud3JpdGUoCiAgICAgICAgICAgICAgICAnV0FSTklORzogVW5h
YmxlIHRvIGxvY2F0ZSBjdXJyZW50IHRoaW4gJwogICAgICAgICAgICAgICAgJyB2ZXJzaW9uOiB7
MH0uXG4nLmZvcm1hdCh2ZXJzaW9uX3BhdGgpCiAgICAgICAgICAgICkKICAgICAgICAgICAgbmVl
ZF9kZXBsb3ltZW50KCkKICAgICAgICB3aXRoIG9wZW4odmVyc2lvbl9wYXRoLCAncicpIGFzIHZw
bzoKICAgICAgICAgICAgY3VyX3ZlcnNpb24gPSB2cG8ucmVhZGxpbmUoKS5zdHJpcCgpCiAgICAg
ICAgaWYgY3VyX3ZlcnNpb24gIT0gT1BUSU9OUy52ZXJzaW9uOgogICAgICAgICAgICBzeXMuc3Rk
ZXJyLndyaXRlKAogICAgICAgICAgICAgICAgJ1dBUk5JTkc6IGN1cnJlbnQgdGhpbiB2ZXJzaW9u
IHswfScKICAgICAgICAgICAgICAgICcgaXMgbm90IHVwLXRvLWRhdGUgd2l0aCB7MX0uXG4nLmZv
cm1hdCgKICAgICAgICAgICAgICAgICAgICBjdXJfdmVyc2lvbiwgT1BUSU9OUy52ZXJzaW9uCiAg
ICAgICAgICAgICAgICApCiAgICAgICAgICAgICkKICAgICAgICAgICAgbmVlZF9kZXBsb3ltZW50
KCkKICAgICAgICAjIFNhbHQgdGhpbiBleGlzdHMgYW5kIGlzIHVwLXRvLWRhdGUgLSBmYWxsIHRo
cm91Z2ggYW5kIHVzZSBpdAoKICAgIHNhbHRfY2FsbF9wYXRoID0gb3MucGF0aC5qb2luKE9QVElP
TlMuc2FsdGRpciwgJ3NhbHQtY2FsbCcpCiAgICBpZiBub3Qgb3MucGF0aC5pc2ZpbGUoc2FsdF9j
YWxsX3BhdGgpOgogICAgICAgIHN5cy5zdGRlcnIud3JpdGUoJ0VSUk9SOiB0aGluIGlzIG1pc3Np
bmcgInswfSJcbicuZm9ybWF0KHNhbHRfY2FsbF9wYXRoKSkKICAgICAgICBuZWVkX2RlcGxveW1l
bnQoKQoKICAgIHdpdGggb3Blbihvcy5wYXRoLmpvaW4oT1BUSU9OUy5zYWx0ZGlyLCAnbWluaW9u
JyksICd3JykgYXMgY29uZmlnOgogICAgICAgIGNvbmZpZy53cml0ZShPUFRJT05TLmNvbmZpZyAr
ICdcbicpCiAgICBpZiBPUFRJT05TLmV4dF9tb2RzOgogICAgICAgIGV4dF9wYXRoID0gb3MucGF0
aC5qb2luKE9QVElPTlMuc2FsdGRpciwgRVhUX0FSQ0hJVkUpCiAgICAgICAgaWYgb3MucGF0aC5l
eGlzdHMoZXh0X3BhdGgpOgogICAgICAgICAgICB1bnBhY2tfZXh0KGV4dF9wYXRoKQogICAgICAg
IGVsc2U6CiAgICAgICAgICAgIHZlcnNpb25fcGF0aCA9IG9zLnBhdGguam9pbihPUFRJT05TLnNh
bHRkaXIsICdleHRfdmVyc2lvbicpCiAgICAgICAgICAgIGlmIG5vdCBvcy5wYXRoLmV4aXN0cyh2
ZXJzaW9uX3BhdGgpIG9yIG5vdCBvcy5wYXRoLmlzZmlsZSh2ZXJzaW9uX3BhdGgpOgogICAgICAg
ICAgICAgICAgbmVlZF9leHQoKQogICAgICAgICAgICB3aXRoIG9wZW4odmVyc2lvbl9wYXRoLCAn
cicpIGFzIHZwbzoKICAgICAgICAgICAgICAgIGN1cl92ZXJzaW9uID0gdnBvLnJlYWRsaW5lKCku
c3RyaXAoKQogICAgICAgICAgICBpZiBjdXJfdmVyc2lvbiAhPSBPUFRJT05TLmV4dF9tb2RzOgog
ICAgICAgICAgICAgICAgbmVlZF9leHQoKQogICAgIyBGaXggcGFyYW1ldGVyIHBhc3NpbmcgaXNz
dWUKICAgIGlmIGxlbihBUkdTKSA9PSAxOgogICAgICAgIGFyZ3ZfcHJlcGFyZWQgPSBBUkdTWzBd
LnNwbGl0KCkKICAgIGVsc2U6CiAgICAgICAgYXJndl9wcmVwYXJlZCA9IEFSR1MKCiAgICBzYWx0
X2FyZ3YgPSBbCiAgICAgICAgc3lzLmV4ZWN1dGFibGUsCiAgICAgICAgc2FsdF9jYWxsX3BhdGgs
CiAgICAgICAgJy0tcmV0Y29kZS1wYXNzdGhyb3VnaCcsCiAgICAgICAgJy0tbG9jYWwnLAogICAg
ICAgICctLW1ldGFkYXRhJywKICAgICAgICAnLS1vdXQnLCAnanNvbicsCiAgICAgICAgJy1sJywg
J3F1aWV0JywKICAgICAgICAnLWMnLCBPUFRJT05TLnNhbHRkaXIsCiAgICAgICAgJy0tJywKICAg
IF0gKyBhcmd2X3ByZXBhcmVkCgogICAgc3lzLnN0ZGVyci53cml0ZSgnU0FMVF9BUkdWOiB7MH1c
bicuZm9ybWF0KHNhbHRfYXJndikpCgogICAgIyBPbmx5IGVtaXQgdGhlIGRlbGltaXRlciBvbiAq
Ym90aCogc3Rkb3V0IGFuZCBzdGRlcnIgd2hlbiBjb21wbGV0ZWx5IHN1Y2Nlc3NmdWwuCiAgICAj
IFllcywgdGhlIGZsdXNoKCkgaXMgbmVjZXNzYXJ5LgogICAgc3lzLnN0ZG91dC53cml0ZShPUFRJ
T05TLmRlbGltaXRlciArICdcbicpCiAgICBzeXMuc3Rkb3V0LmZsdXNoKCkKICAgIGlmIG5vdCBP
UFRJT05TLnR0eToKICAgICAgICBzeXMuc3RkZXJyLndyaXRlKE9QVElPTlMuZGVsaW1pdGVyICsg
J1xuJykKICAgICAgICBzeXMuc3RkZXJyLmZsdXNoKCkKICAgIGlmIE9QVElPTlMuY21kX3VtYXNr
IGlzIG5vdCBOb25lOgogICAgICAgIG9sZF91bWFzayA9IG9zLnVtYXNrKE9QVElPTlMuY21kX3Vt
YXNrKQogICAgaWYgT1BUSU9OUy50dHk6CiAgICAgICAgc3Rkb3V0LCBfID0gc3VicHJvY2Vzcy5Q
b3BlbihzYWx0X2FyZ3YsIHN0ZG91dD1zdWJwcm9jZXNzLlBJUEUsIHN0ZGVycj1zdWJwcm9jZXNz
LlBJUEUpLmNvbW11bmljYXRlKCkKICAgICAgICBzeXMuc3Rkb3V0LndyaXRlKHN0ZG91dCkKICAg
ICAgICBzeXMuc3Rkb3V0LmZsdXNoKCkKICAgICAgICBpZiBPUFRJT05TLndpcGU6CiAgICAgICAg
ICAgIHNodXRpbC5ybXRyZWUoT1BUSU9OUy5zYWx0ZGlyKQogICAgZWxpZiBPUFRJT05TLndpcGU6
CiAgICAgICAgc3VicHJvY2Vzcy5jYWxsKHNhbHRfYXJndikKICAgICAgICBzaHV0aWwucm10cmVl
KE9QVElPTlMuc2FsdGRpcikKICAgIGVsc2U6CiAgICAgICAgb3MuZXhlY3Yoc3lzLmV4ZWN1dGFi
bGUsIHNhbHRfYXJndikKICAgIGlmIE9QVElPTlMuY21kX3VtYXNrIGlzIG5vdCBOb25lOgogICAg
ICAgIG9zLnVtYXNrKG9sZF91bWFzaykKCmlmIF9fbmFtZV9fID09ICdfX21haW5fXyc6CiAgICBz
eXMuZXhpdChtYWluKHN5cy5hcmd2KSkK
""").decode("utf-8"))'
else
exec $SUDO "$py_cmd_path" -c \
'import base64;
exec(base64.b64decode("""IyBweWxpbnQ6IGRpc2FibGU9Vzk5MDMKJycnClRoaXMgaXMgYSBzaGltIHRoYXQgaGFuZGxlcyBj
aGVja2luZyBhbmQgdXBkYXRpbmcgc2FsdCB0aGluIGFuZAp0aGVuIGludm9raW5nIHRoaW4uCgpU
aGlzIGlzIG5vdCBpbnRlbmRlZCB0byBiZSBpbnN0YW50aWF0ZWQgYXMgYSBtb2R1bGUsIHJhdGhl
ciBpdCBpcyBhCmhlbHBlciBzY3JpcHQgdXNlZCBieSBzYWx0LmNsaWVudC5zc2guU2luZ2xlLiAg
SXQgaXMgaGVyZSwgaW4gYQpzZXBhcmF0ZSBmaWxlLCBmb3IgY29udmVuaWVuY2Ugb2YgZGV2ZWxv
cG1lbnQuCicnJwoKZnJvbSBfX2Z1dHVyZV9fIGltcG9ydCBhYnNvbHV0ZV9pbXBvcnQKCmltcG9y
dCBoYXNobGliCmltcG9ydCB0YXJmaWxlCmltcG9ydCBzaHV0aWwKaW1wb3J0IHN5cwppbXBvcnQg
b3MKaW1wb3J0IHN0YXQKaW1wb3J0IHN1YnByb2Nlc3MKClRISU5fQVJDSElWRSA9ICdzYWx0LXRo
aW4udGd6JwpFWFRfQVJDSElWRSA9ICdzYWx0LWV4dF9tb2RzLnRneicKCiMgS2VlcCB0aGVzZSBp
biBzeW5jIHdpdGggc2FsdC9kZWZhdWx0cy9leGl0Y29kZXMucHkKRVhfVEhJTl9ERVBMT1kgPSAx
MQpFWF9USElOX0NIRUNLU1VNID0gMTIKRVhfTU9EX0RFUExPWSA9IDEzCkVYX1NDUF9OT1RfRk9V
TkQgPSAxNApFWF9DQU5UQ1JFQVQgPSA3MwoKCmNsYXNzIE9CSihvYmplY3QpOgogICAgIiIiQW4g
ZW1wdHkgY2xhc3MgZm9yIGhvbGRpbmcgaW5zdGFuY2UgYXR0cmlidXRlIHZhbHVlcy4iIiIKICAg
IHBhc3MKCgpPUFRJT05TID0gTm9uZQpBUkdTID0gTm9uZQojIFRoZSBiZWxvdyBsaW5lIGlzIHdo
ZXJlIE9QVElPTlMgY2FuIGJlIHJlZGVmaW5lZCB3aXRoIGludGVybmFsIG9wdGlvbnMKIyAocmF0
aGVyIHRoYW4gY2xpIGFyZ3VtZW50cykgd2hlbiB0aGUgc2hpbSBpcyBidW5kbGVkIGJ5CiMgY2xp
ZW50LnNzaC5TaW5nbGUuX2NtZF9zdHIoKQojIHB5bGludDogZGlzYWJsZT1ibG9jay1jb21tZW50
LXNob3VsZC1zdGFydC13aXRoLWNhcmRpbmFsLXNwYWNlCgpPUFRJT05TID0gT0JKKCkKT1BUSU9O
Uy5jb25maWcgPSAiIiIKe2ZpbGVzZXJ2ZXJfbGlzdF9jYWNoZV90aW1lOiAzLCBncmFpbnNfY2Fj
aGU6IHRydWUsIGlkOiBsb2NhbCwgbG9nX2ZpbGU6IHNhbHQtY2FsbC5sb2csCiAgcm9vdF9kaXI6
IC92YXIvdG1wLy5zYWx0LW9wZV8xYTM1MzJfc2FsdC9ydW5uaW5nX2RhdGEsIHNvY2tfZGlyOiAv
fQoiIiIKT1BUSU9OUy5kZWxpbWl0ZXIgPSAnX2VkYmM3ODg1ZTRmOWFhYzliODNiMzU5OTliNjhk
MDE1MTQ4Y2FmNDY3Yjc4ZmEzOWMwNWY2NjljMGZmODk4NzgnCk9QVElPTlMuc2FsdGRpciA9ICcv
dmFyL3RtcC8uc2FsdC1vcGVfMWEzNTMyX3NhbHQnCk9QVElPTlMuY2hlY2tzdW0gPSAnMmUyNWZj
YmI2YWEyNTU5OWQ1MmU4OTVkZTZlMjExOTZkNWM2ZTU5NScKT1BUSU9OUy5oYXNoZnVuYyA9ICdz
aGExJwpPUFRJT05TLnZlcnNpb24gPSAnMjAxNi4zLjInCk9QVElPTlMuZXh0X21vZHMgPSAnJwpP
UFRJT05TLndpcGUgPSBGYWxzZQpPUFRJT05TLnR0eSA9IEZhbHNlCk9QVElPTlMuY21kX3VtYXNr
ID0gTm9uZQpBUkdTID0gWyd0ZXN0Lm9wdHNfcGtnJ10KCgoKZGVmIG5lZWRfZGVwbG95bWVudCgp
OgogICAgIiIiCiAgICBTYWx0IHRoaW4gbmVlZHMgdG8gYmUgZGVwbG95ZWQgLSBwcmVwIHRoZSB0
YXJnZXQgZGlyZWN0b3J5IGFuZCBlbWl0IHRoZQogICAgZGVsaW1ldGVyIGFuZCBleGl0IGNvZGUg
dGhhdCBzaWduYWxzIGEgcmVxdWlyZWQgZGVwbG95bWVudC4KICAgICIiIgogICAgaWYgb3MucGF0
aC5leGlzdHMoT1BUSU9OUy5zYWx0ZGlyKToKICAgICAgICBzaHV0aWwucm10cmVlKE9QVElPTlMu
c2FsdGRpcikKICAgIG9sZF91bWFzayA9IG9zLnVtYXNrKDBvMDc3KQogICAgb3MubWFrZWRpcnMo
T1BUSU9OUy5zYWx0ZGlyKQogICAgb3MudW1hc2sob2xkX3VtYXNrKQogICAgIyBWZXJpZnkgcGVy
bXMgb24gc2FsdGRpcgogICAgZXVpZCA9IG9zLmdldGV1aWQoKQogICAgZHN0YXQgPSBvcy5zdGF0
KE9QVElPTlMuc2FsdGRpcikKICAgIGlmIGRzdGF0LnN0X3VpZCAhPSBldWlkOgogICAgICAgICMg
QXR0YWNrIGRldGVjdGVkLCB0cnkgYWdhaW4KICAgICAgICBuZWVkX2RlcGxveW1lbnQoKQogICAg
aWYgZHN0YXQuc3RfbW9kZSAhPSAxNjgzMjoKICAgICAgICAjIEF0dGFjayBkZXRlY3RlZAogICAg
ICAgIG5lZWRfZGVwbG95bWVudCgpCiAgICAjIElmIFNVRE9pbmcgdGhlbiBhbHNvIGdpdmUgdGhl
IHN1cGVyIHVzZXIgZ3JvdXAgd3JpdGUgcGVybWlzc2lvbnMKICAgIHN1ZG9fZ2lkID0gb3MuZW52
aXJvbi5nZXQoJ1NVRE9fR0lEJykKICAgIGlmIHN1ZG9fZ2lkOgogICAgICAgIG9zLmNob3duKE9Q
VElPTlMuc2FsdGRpciwgLTEsIGludChzdWRvX2dpZCkpCiAgICAgICAgc3R0ID0gb3Muc3RhdChP
UFRJT05TLnNhbHRkaXIpCiAgICAgICAgb3MuY2htb2QoT1BUSU9OUy5zYWx0ZGlyLCBzdHQuc3Rf
bW9kZSB8IHN0YXQuU19JV0dSUCB8IHN0YXQuU19JUkdSUCB8IHN0YXQuU19JWEdSUCkKCiAgICAj
IERlbGltaXRlciBlbWl0dGVkIG9uIHN0ZG91dCAqb25seSogdG8gaW5kaWNhdGUgc2hpbSBtZXNz
YWdlIHRvIG1hc3Rlci4KICAgIHN5cy5zdGRvdXQud3JpdGUoInswfVxuZGVwbG95XG4iLmZvcm1h
dChPUFRJT05TLmRlbGltaXRlcikpCiAgICBzeXMuZXhpdChFWF9USElOX0RFUExPWSkKCgojIEFk
YXB0ZWQgZnJvbSBzYWx0LnV0aWxzLmdldF9oYXNoKCkKZGVmIGdldF9oYXNoKHBhdGgsIGZvcm09
J3NoYTEnLCBjaHVua19zaXplPTQwOTYpOgogICAgIiIiR2VuZXJhdGUgYSBoYXNoIGRpZ2VzdCBz
dHJpbmcgZm9yIGEgZmlsZS4iIiIKICAgIHRyeToKICAgICAgICBoYXNoX3R5cGUgPSBnZXRhdHRy
KGhhc2hsaWIsIGZvcm0pCiAgICBleGNlcHQgQXR0cmlidXRlRXJyb3I6CiAgICAgICAgcmFpc2Ug
VmFsdWVFcnJvcignSW52YWxpZCBoYXNoIHR5cGU6IHswfScuZm9ybWF0KGZvcm0pKQogICAgd2l0
aCBvcGVuKHBhdGgsICdyYicpIGFzIGlmaWxlOgogICAgICAgIGhhc2hfb2JqID0gaGFzaF90eXBl
KCkKICAgICAgICAjIHJlYWQgdGhlIGZpbGUgaW4gaW4gY2h1bmtzLCBub3QgdGhlIGVudGlyZSBm
aWxlCiAgICAgICAgZm9yIGNodW5rIGluIGl0ZXIobGFtYmRhOiBpZmlsZS5yZWFkKGNodW5rX3Np
emUpLCBiJycpOgogICAgICAgICAgICBoYXNoX29iai51cGRhdGUoY2h1bmspCiAgICAgICAgcmV0
dXJuIGhhc2hfb2JqLmhleGRpZ2VzdCgpCgoKZGVmIHVucGFja190aGluKHRoaW5fcGF0aCk6CiAg
ICAiIiJVbnBhY2sgdGhlIFNhbHQgdGhpbiBhcmNoaXZlLiIiIgogICAgdGZpbGUgPSB0YXJmaWxl
LlRhckZpbGUuZ3pvcGVuKHRoaW5fcGF0aCkKICAgIG9sZF91bWFzayA9IG9zLnVtYXNrKDBvMDc3
KQogICAgdGZpbGUuZXh0cmFjdGFsbChwYXRoPU9QVElPTlMuc2FsdGRpcikKICAgIHRmaWxlLmNs
b3NlKCkKICAgIG9zLnVtYXNrKG9sZF91bWFzaykKICAgIG9zLnVubGluayh0aGluX3BhdGgpCgoK
ZGVmIG5lZWRfZXh0KCk6CiAgICAiIiJTaWduYWwgdGhhdCBleHRlcm5hbCBtb2R1bGVzIG5lZWQg
dG8gYmUgZGVwbG95ZWQuIiIiCiAgICBzeXMuc3Rkb3V0LndyaXRlKCJ7MH1cbmV4dF9tb2RzXG4i
LmZvcm1hdChPUFRJT05TLmRlbGltaXRlcikpCiAgICBzeXMuZXhpdChFWF9NT0RfREVQTE9ZKQoK
CmRlZiB1bnBhY2tfZXh0KGV4dF9wYXRoKToKICAgICIiIlVucGFjayB0aGUgZXh0ZXJuYWwgbW9k
dWxlcy4iIiIKICAgIG1vZGNhY2hlID0gb3MucGF0aC5qb2luKAogICAgICAgICAgICBPUFRJT05T
LnNhbHRkaXIsCiAgICAgICAgICAgICdydW5uaW5nX2RhdGEnLAogICAgICAgICAgICAndmFyJywK
ICAgICAgICAgICAgJ2NhY2hlJywKICAgICAgICAgICAgJ3NhbHQnLAogICAgICAgICAgICAnbWlu
aW9uJywKICAgICAgICAgICAgJ2V4dG1vZHMnKQogICAgdGZpbGUgPSB0YXJmaWxlLlRhckZpbGUu
Z3pvcGVuKGV4dF9wYXRoKQogICAgb2xkX3VtYXNrID0gb3MudW1hc2soMG8wNzcpCiAgICB0Zmls
ZS5leHRyYWN0YWxsKHBhdGg9bW9kY2FjaGUpCiAgICB0ZmlsZS5jbG9zZSgpCiAgICBvcy51bWFz
ayhvbGRfdW1hc2spCiAgICBvcy51bmxpbmsoZXh0X3BhdGgpCiAgICB2ZXJfcGF0aCA9IG9zLnBh
dGguam9pbihtb2RjYWNoZSwgJ2V4dF92ZXJzaW9uJykKICAgIHZlcl9kc3QgPSBvcy5wYXRoLmpv
aW4oT1BUSU9OUy5zYWx0ZGlyLCAnZXh0X3ZlcnNpb24nKQogICAgc2h1dGlsLm1vdmUodmVyX3Bh
dGgsIHZlcl9kc3QpCgoKZGVmIG1haW4oYXJndik6ICAjIHB5bGludDogZGlzYWJsZT1XMDYxMwog
ICAgIiIiTWFpbiBwcm9ncmFtIGJvZHkiIiIKICAgIHRoaW5fcGF0aCA9IG9zLnBhdGguam9pbihP
UFRJT05TLnNhbHRkaXIsIFRISU5fQVJDSElWRSkKICAgIGlmIG9zLnBhdGguaXNmaWxlKHRoaW5f
cGF0aCk6CiAgICAgICAgaWYgT1BUSU9OUy5jaGVja3N1bSAhPSBnZXRfaGFzaCh0aGluX3BhdGgs
IE9QVElPTlMuaGFzaGZ1bmMpOgogICAgICAgICAgICBzeXMuc3RkZXJyLndyaXRlKCd7MH1cbicu
Zm9ybWF0KE9QVElPTlMuY2hlY2tzdW0pKQogICAgICAgICAgICBzeXMuc3RkZXJyLndyaXRlKCd7
MH1cbicuZm9ybWF0KGdldF9oYXNoKHRoaW5fcGF0aCwgT1BUSU9OUy5oYXNoZnVuYykpKQogICAg
ICAgICAgICBvcy51bmxpbmsodGhpbl9wYXRoKQogICAgICAgICAgICBzeXMuc3RkZXJyLndyaXRl
KCdXQVJOSU5HOiBjaGVja3N1bSBtaXNtYXRjaCBmb3IgInswfSJcbicuZm9ybWF0KHRoaW5fcGF0
aCkpCiAgICAgICAgICAgIHN5cy5leGl0KEVYX1RISU5fQ0hFQ0tTVU0pCiAgICAgICAgdW5wYWNr
X3RoaW4odGhpbl9wYXRoKQogICAgICAgICMgU2FsdCB0aGluIG5vdyBpcyBhdmFpbGFibGUgdG8g
dXNlCiAgICBlbHNlOgogICAgICAgIHNjcHN0YXQgPSBzdWJwcm9jZXNzLlBvcGVuKFsnL2Jpbi9z
aCcsICctYycsICdjb21tYW5kIC12IHNjcCddKS53YWl0KCkKICAgICAgICBpZiBzY3BzdGF0ICE9
IDA6CiAgICAgICAgICAgIHN5cy5leGl0KEVYX1NDUF9OT1RfRk9VTkQpCgogICAgICAgIGlmIG5v
dCBvcy5wYXRoLmV4aXN0cyhPUFRJT05TLnNhbHRkaXIpOgogICAgICAgICAgICBuZWVkX2RlcGxv
eW1lbnQoKQoKICAgICAgICBpZiBub3Qgb3MucGF0aC5pc2RpcihPUFRJT05TLnNhbHRkaXIpOgog
ICAgICAgICAgICBzeXMuc3RkZXJyLndyaXRlKAogICAgICAgICAgICAgICAgJ0VSUk9SOiBzYWx0
IHBhdGggInswfSIgZXhpc3RzIGJ1dCBpcycKICAgICAgICAgICAgICAgICcgbm90IGEgZGlyZWN0
b3J5XG4nLmZvcm1hdChPUFRJT05TLnNhbHRkaXIpCiAgICAgICAgICAgICkKICAgICAgICAgICAg
c3lzLmV4aXQoRVhfQ0FOVENSRUFUKQoKICAgICAgICB2ZXJzaW9uX3BhdGggPSBvcy5wYXRoLmpv
aW4oT1BUSU9OUy5zYWx0ZGlyLCAndmVyc2lvbicpCiAgICAgICAgaWYgbm90IG9zLnBhdGguZXhp
c3RzKHZlcnNpb25fcGF0aCkgb3Igbm90IG9zLnBhdGguaXNmaWxlKHZlcnNpb25fcGF0aCk6CiAg
ICAgICAgICAgIHN5cy5zdGRlcnIud3JpdGUoCiAgICAgICAgICAgICAgICAnV0FSTklORzogVW5h
YmxlIHRvIGxvY2F0ZSBjdXJyZW50IHRoaW4gJwogICAgICAgICAgICAgICAgJyB2ZXJzaW9uOiB7
MH0uXG4nLmZvcm1hdCh2ZXJzaW9uX3BhdGgpCiAgICAgICAgICAgICkKICAgICAgICAgICAgbmVl
ZF9kZXBsb3ltZW50KCkKICAgICAgICB3aXRoIG9wZW4odmVyc2lvbl9wYXRoLCAncicpIGFzIHZw
bzoKICAgICAgICAgICAgY3VyX3ZlcnNpb24gPSB2cG8ucmVhZGxpbmUoKS5zdHJpcCgpCiAgICAg
ICAgaWYgY3VyX3ZlcnNpb24gIT0gT1BUSU9OUy52ZXJzaW9uOgogICAgICAgICAgICBzeXMuc3Rk
ZXJyLndyaXRlKAogICAgICAgICAgICAgICAgJ1dBUk5JTkc6IGN1cnJlbnQgdGhpbiB2ZXJzaW9u
IHswfScKICAgICAgICAgICAgICAgICcgaXMgbm90IHVwLXRvLWRhdGUgd2l0aCB7MX0uXG4nLmZv
cm1hdCgKICAgICAgICAgICAgICAgICAgICBjdXJfdmVyc2lvbiwgT1BUSU9OUy52ZXJzaW9uCiAg
ICAgICAgICAgICAgICApCiAgICAgICAgICAgICkKICAgICAgICAgICAgbmVlZF9kZXBsb3ltZW50
KCkKICAgICAgICAjIFNhbHQgdGhpbiBleGlzdHMgYW5kIGlzIHVwLXRvLWRhdGUgLSBmYWxsIHRo
cm91Z2ggYW5kIHVzZSBpdAoKICAgIHNhbHRfY2FsbF9wYXRoID0gb3MucGF0aC5qb2luKE9QVElP
TlMuc2FsdGRpciwgJ3NhbHQtY2FsbCcpCiAgICBpZiBub3Qgb3MucGF0aC5pc2ZpbGUoc2FsdF9j
YWxsX3BhdGgpOgogICAgICAgIHN5cy5zdGRlcnIud3JpdGUoJ0VSUk9SOiB0aGluIGlzIG1pc3Np
bmcgInswfSJcbicuZm9ybWF0KHNhbHRfY2FsbF9wYXRoKSkKICAgICAgICBuZWVkX2RlcGxveW1l
bnQoKQoKICAgIHdpdGggb3Blbihvcy5wYXRoLmpvaW4oT1BUSU9OUy5zYWx0ZGlyLCAnbWluaW9u
JyksICd3JykgYXMgY29uZmlnOgogICAgICAgIGNvbmZpZy53cml0ZShPUFRJT05TLmNvbmZpZyAr
ICdcbicpCiAgICBpZiBPUFRJT05TLmV4dF9tb2RzOgogICAgICAgIGV4dF9wYXRoID0gb3MucGF0
aC5qb2luKE9QVElPTlMuc2FsdGRpciwgRVhUX0FSQ0hJVkUpCiAgICAgICAgaWYgb3MucGF0aC5l
eGlzdHMoZXh0X3BhdGgpOgogICAgICAgICAgICB1bnBhY2tfZXh0KGV4dF9wYXRoKQogICAgICAg
IGVsc2U6CiAgICAgICAgICAgIHZlcnNpb25fcGF0aCA9IG9zLnBhdGguam9pbihPUFRJT05TLnNh
bHRkaXIsICdleHRfdmVyc2lvbicpCiAgICAgICAgICAgIGlmIG5vdCBvcy5wYXRoLmV4aXN0cyh2
ZXJzaW9uX3BhdGgpIG9yIG5vdCBvcy5wYXRoLmlzZmlsZSh2ZXJzaW9uX3BhdGgpOgogICAgICAg
ICAgICAgICAgbmVlZF9leHQoKQogICAgICAgICAgICB3aXRoIG9wZW4odmVyc2lvbl9wYXRoLCAn
cicpIGFzIHZwbzoKICAgICAgICAgICAgICAgIGN1cl92ZXJzaW9uID0gdnBvLnJlYWRsaW5lKCku
c3RyaXAoKQogICAgICAgICAgICBpZiBjdXJfdmVyc2lvbiAhPSBPUFRJT05TLmV4dF9tb2RzOgog
ICAgICAgICAgICAgICAgbmVlZF9leHQoKQogICAgIyBGaXggcGFyYW1ldGVyIHBhc3NpbmcgaXNz
dWUKICAgIGlmIGxlbihBUkdTKSA9PSAxOgogICAgICAgIGFyZ3ZfcHJlcGFyZWQgPSBBUkdTWzBd
LnNwbGl0KCkKICAgIGVsc2U6CiAgICAgICAgYXJndl9wcmVwYXJlZCA9IEFSR1MKCiAgICBzYWx0
X2FyZ3YgPSBbCiAgICAgICAgc3lzLmV4ZWN1dGFibGUsCiAgICAgICAgc2FsdF9jYWxsX3BhdGgs
CiAgICAgICAgJy0tcmV0Y29kZS1wYXNzdGhyb3VnaCcsCiAgICAgICAgJy0tbG9jYWwnLAogICAg
ICAgICctLW1ldGFkYXRhJywKICAgICAgICAnLS1vdXQnLCAnanNvbicsCiAgICAgICAgJy1sJywg
J3F1aWV0JywKICAgICAgICAnLWMnLCBPUFRJT05TLnNhbHRkaXIsCiAgICAgICAgJy0tJywKICAg
IF0gKyBhcmd2X3ByZXBhcmVkCgogICAgc3lzLnN0ZGVyci53cml0ZSgnU0FMVF9BUkdWOiB7MH1c
bicuZm9ybWF0KHNhbHRfYXJndikpCgogICAgIyBPbmx5IGVtaXQgdGhlIGRlbGltaXRlciBvbiAq
Ym90aCogc3Rkb3V0IGFuZCBzdGRlcnIgd2hlbiBjb21wbGV0ZWx5IHN1Y2Nlc3NmdWwuCiAgICAj
IFllcywgdGhlIGZsdXNoKCkgaXMgbmVjZXNzYXJ5LgogICAgc3lzLnN0ZG91dC53cml0ZShPUFRJ
T05TLmRlbGltaXRlciArICdcbicpCiAgICBzeXMuc3Rkb3V0LmZsdXNoKCkKICAgIGlmIG5vdCBP
UFRJT05TLnR0eToKICAgICAgICBzeXMuc3RkZXJyLndyaXRlKE9QVElPTlMuZGVsaW1pdGVyICsg
J1xuJykKICAgICAgICBzeXMuc3RkZXJyLmZsdXNoKCkKICAgIGlmIE9QVElPTlMuY21kX3VtYXNr
IGlzIG5vdCBOb25lOgogICAgICAgIG9sZF91bWFzayA9IG9zLnVtYXNrKE9QVElPTlMuY21kX3Vt
YXNrKQogICAgaWYgT1BUSU9OUy50dHk6CiAgICAgICAgc3Rkb3V0LCBfID0gc3VicHJvY2Vzcy5Q
b3BlbihzYWx0X2FyZ3YsIHN0ZG91dD1zdWJwcm9jZXNzLlBJUEUsIHN0ZGVycj1zdWJwcm9jZXNz
LlBJUEUpLmNvbW11bmljYXRlKCkKICAgICAgICBzeXMuc3Rkb3V0LndyaXRlKHN0ZG91dCkKICAg
ICAgICBzeXMuc3Rkb3V0LmZsdXNoKCkKICAgICAgICBpZiBPUFRJT05TLndpcGU6CiAgICAgICAg
ICAgIHNodXRpbC5ybXRyZWUoT1BUSU9OUy5zYWx0ZGlyKQogICAgZWxpZiBPUFRJT05TLndpcGU6
CiAgICAgICAgc3VicHJvY2Vzcy5jYWxsKHNhbHRfYXJndikKICAgICAgICBzaHV0aWwucm10cmVl
KE9QVElPTlMuc2FsdGRpcikKICAgIGVsc2U6CiAgICAgICAgb3MuZXhlY3Yoc3lzLmV4ZWN1dGFi
bGUsIHNhbHRfYXJndikKICAgIGlmIE9QVElPTlMuY21kX3VtYXNrIGlzIG5vdCBOb25lOgogICAg
ICAgIG9zLnVtYXNrKG9sZF91bWFzaykKCmlmIF9fbmFtZV9fID09ICdfX21haW5fXyc6CiAgICBz
eXMuZXhpdChtYWluKHN5cy5hcmd2KSkK
""").decode("utf-8"))'
fi
exit 0
else
continue
fi
done
echo "ERROR: Unable to locate appropriate python command" >&2
exit $EX_PYTHON_INVALID
EOF
2016-08-27 20:51:52,579 [salt.utils.vt.Terminal.PID-7070.STDOUT][TRACE   ][7069] salt-ope@127.0.0.1's password:
2016-08-27 20:51:52,750 [salt.utils.vt.Terminal.PID-7070.STDERR][TRACE   ][7069] + SUDO=
+ '[' -n sudo ']'
+ SUDO='sudo '
+ EX_PYTHON_INVALID=10
+ PYTHON_CMDS='python3 python27 python2.7 python26 python2.6 python2 python'
2016-08-27 20:51:52,762 [salt.utils.vt.Terminal.PID-7070.STDERR][TRACE   ][7069] + for py_cmd in '$PYTHON_CMDS'
+ command -v python3
+ continue
+ for py_cmd in '$PYTHON_CMDS'
+ command -v python27
+ continue
+ for py_cmd in '$PYTHON_CMDS'
+ command -v python2.7
+ continue
+ for py_cmd in '$PYTHON_CMDS'
+ command -v python26
+ continue
+ for py_cmd in '$PYTHON_CMDS'
+ command -v python2.6
+ python2.6 -c 'import sys; sys.exit(not (sys.version_info >= (2, 6)
and sys.version_info[0] == 2));'
2016-08-27 20:51:52,772 [salt.utils.vt.Terminal.PID-7070.STDERR][TRACE   ][7069] ++ python2.6 -c 'from __future__ import print_function;
import sys; print(sys.executable);'
2016-08-27 20:51:52,783 [salt.utils.vt.Terminal.PID-7070.STDERR][TRACE   ][7069] + py_cmd_path=/usr/bin/python2.6
++ which python2.6
+ cmdpath=/usr/bin/python2.6
+ grep 'shell script'
+ file /usr/bin/python2.6
+ exec sudo /usr/bin/python2.6 -c 'import base64;
exec(base64.b64decode("""IyBweWxpbnQ6IGRpc2FibGU9Vzk5MDMKJycnClRoaXMgaXMgYSBzaGltIHRoYXQgaGFuZGxlcyBj
aGVja2luZyBhbmQgdXBkYXRpbmcgc2FsdCB0aGluIGFuZAp0aGVuIGludm9raW5nIHRoaW4uCgpU
aGlzIGlzIG5vdCBpbnRlbmRlZCB0byBiZSBpbnN0YW50aWF0ZWQgYXMgYSBtb2R1bGUsIHJhdGhl
ciBpdCBpcyBhCmhlbHBlciBzY3JpcHQgdXNlZCBieSBzYWx0LmNsaWVudC5zc2guU2luZ2xlLiAg
SXQgaXMgaGVyZSwgaW4gYQpzZXBhcmF0ZSBmaWxlLCBmb3IgY29udmVuaWVuY2Ugb2YgZGV2ZWxv
cG1lbnQuCicnJwoKZnJvbSBfX2Z1dHVyZV9fIGltcG9ydCBhYnNvbHV0ZV9pbXBvcnQKCmltcG9y
dCBoYXNobGliCmltcG9ydCB0YXJmaWxlCmltcG9ydCBzaHV0aWwKaW1wb3J0IHN5cwppbXBvcnQg
b3MKaW1wb3J0IHN0YXQKaW1wb3J0IHN1YnByb2Nlc3MKClRISU5fQVJDSElWRSA9ICdzYWx0LXRo
aW4udGd6JwpFWFRfQVJDSElWRSA9ICdzYWx0LWV4dF9tb2RzLnRneicKCiMgS2VlcCB0aGVzZSBp
biBzeW5jIHdpdGggc2FsdC9kZWZhdWx0cy9leGl0Y29kZXMucHkKRVhfVEhJTl9ERVBMT1kgPSAx
MQpFWF9USElOX0NIRUNLU1VNID0gMTIKRV
2016-08-27 20:51:52,793 [salt.utils.vt.Terminal.PID-7070.STDERR][TRACE   ][7069] hfTU9EX0RFUExPWSA9IDEzCkVYX1NDUF9OT1RfRk9V
TkQgPSAxNApFWF9DQU5UQ1JFQVQgPSA3MwoKCmNsYXNzIE9CSihvYmplY3QpOgogICAgIiIiQW4g
ZW1wdHkgY2xhc3MgZm9yIGhvbGRpbmcgaW5zdGFuY2UgYXR0cmlidXRlIHZhbHVlcy4iIiIKICAg
IHBhc3MKCgpPUFRJT05TID0gTm9uZQpBUkdTID0gTm9uZQojIFRoZSBiZWxvdyBsaW5lIGlzIHdo
ZXJlIE9QVElPTlMgY2FuIGJlIHJlZGVmaW5lZCB3aXRoIGludGVybmFsIG9wdGlvbnMKIyAocmF0
aGVyIHRoYW4gY2xpIGFyZ3VtZW50cykgd2hlbiB0aGUgc2hpbSBpcyBidW5kbGVkIGJ5CiMgY2xp
ZW50LnNzaC5TaW5nbGUuX2NtZF9zdHIoKQojIHB5bGludDogZGlzYWJsZT1ibG9jay1jb21tZW50
LXNob3VsZC1zdGFydC13aXRoLWNhcmRpbmFsLXNwYWNlCgpPUFRJT05TID0gT0JKKCkKT1BUSU9O
Uy5jb25maWcgPSAiIiIKe2ZpbGVzZXJ2ZXJfbGlzdF9jYWNoZV90aW1lOiAzLCBncmFpbnNfY2Fj
aGU6IHRydWUsIGlkOiBsb2NhbCwgbG9nX2ZpbGU6IHNhbHQtY2FsbC5sb2csCiAgcm9vdF9kaXI6
IC92YXIvdG1wLy5zYWx0LW9wZV8xYTM1MzJfc2FsdC9ydW5uaW5nX2RhdGEsIHNvY2tfZGlyOiAv
fQoiIiIKT1BUSU9OUy5kZWxpbWl0ZXIgPSAnX2VkYmM3ODg1ZTRmOWFhYzliODNiMzU5OTliNjhk
MDE1MTQ4Y2FmNDY3Yjc4ZmEzOWMwNWY2NjljMGZmODk4NzgnCk9QVElPTlMuc2FsdGRpciA9ICcv
dmFyL3RtcC8uc2FsdC1vcGVfMWEzNTMyX3NhbHQnCk9Q
2016-08-27 20:51:52,804 [salt.utils.vt.Terminal.PID-7070.STDERR][TRACE   ][7069] VElPTlMuY2hlY2tzdW0gPSAnMmUyNWZj
YmI2YWEyNTU5OWQ1MmU4OTVkZTZlMjExOTZkNWM2ZTU5NScKT1BUSU9OUy5oYXNoZnVuYyA9ICdz
aGExJwpPUFRJT05TLnZlcnNpb24gPSAnMjAxNi4zLjInCk9QVElPTlMuZXh0X21vZHMgPSAnJwpP
UFRJT05TLndpcGUgPSBGYWxzZQpPUFRJT05TLnR0eSA9IEZhbHNlCk9QVElPTlMuY21kX3VtYXNr
ID0gTm9uZQpBUkdTID0gWyd0ZXN0Lm9wdHNfcGtnJ10KCgoKZGVmIG5lZWRfZGVwbG95bWVudCgp
OgogICAgIiIiCiAgICBTYWx0IHRoaW4gbmVlZHMgdG8gYmUgZGVwbG95ZWQgLSBwcmVwIHRoZSB0
YXJnZXQgZGlyZWN0b3J5IGFuZCBlbWl0IHRoZQogICAgZGVsaW1ldGVyIGFuZCBleGl0IGNvZGUg
dGhhdCBzaWduYWxzIGEgcmVxdWlyZWQgZGVwbG95bWVudC4KICAgICIiIgogICAgaWYgb3MucGF0
aC5leGlzdHMoT1BUSU9OUy5zYWx0ZGlyKToKICAgICAgICBzaHV0aWwucm10cmVlKE9QVElPTlMu
c2FsdGRpcikKICAgIG9sZF91bWFzayA9IG9zLnVtYXNrKDBvMDc3KQogICAgb3MubWFrZWRpcnMo
T1BUSU9OUy5zYWx0ZGlyKQogICAgb3MudW1hc2sob2xkX3VtYXNrKQogICAgIyBWZXJpZnkgcGVy
bXMgb24gc2FsdGRpcgogICAgZXVpZCA9IG9zLmdldGV1aWQoKQogICAgZHN0YXQgPSBvcy5zdGF0
KE9QVElPTlMuc2FsdGRpcikKICAgIGlmIGRzdGF0LnN0X3VpZCAhPSBldWlkOgogICAgICAgICMg
QXR0YWNrIGRldGVjdGVkLCB0cnkgYWdhaW4KICAgICAgICBuZWVkX2
2016-08-27 20:51:52,814 [salt.utils.vt.Terminal.PID-7070.STDERR][TRACE   ][7069] RlcGxveW1lbnQoKQogICAg
aWYgZHN0YXQuc3RfbW9kZSAhPSAxNjgzMjoKICAgICAgICAjIEF0dGFjayBkZXRlY3RlZAogICAg
ICAgIG5lZWRfZGVwbG95bWVudCgpCiAgICAjIElmIFNVRE9pbmcgdGhlbiBhbHNvIGdpdmUgdGhl
IHN1cGVyIHVzZXIgZ3JvdXAgd3JpdGUgcGVybWlzc2lvbnMKICAgIHN1ZG9fZ2lkID0gb3MuZW52
aXJvbi5nZXQoJ1NVRE9fR0lEJykKICAgIGlmIHN1ZG9fZ2lkOgogICAgICAgIG9zLmNob3duKE9Q
VElPTlMuc2FsdGRpciwgLTEsIGludChzdWRvX2dpZCkpCiAgICAgICAgc3R0ID0gb3Muc3RhdChP
UFRJT05TLnNhbHRkaXIpCiAgICAgICAgb3MuY2htb2QoT1BUSU9OUy5zYWx0ZGlyLCBzdHQuc3Rf
bW9kZSB8IHN0YXQuU19JV0dSUCB8IHN0YXQuU19JUkdSUCB8IHN0YXQuU19JWEdSUCkKCiAgICAj
IERlbGltaXRlciBlbWl0dGVkIG9uIHN0ZG91dCAqb25seSogdG8gaW5kaWNhdGUgc2hpbSBtZXNz
YWdlIHRvIG1hc3Rlci4KICAgIHN5cy5zdGRvdXQud3JpdGUoInswfVxuZGVwbG95XG4iLmZvcm1h
dChPUFRJT05TLmRlbGltaXRlcikpCiAgICBzeXMuZXhpdChFWF9USElOX0RFUExPWSkKCgojIEFk
YXB0ZWQgZnJvbSBzYWx0LnV0aWxzLmdldF9oYXNoKCkKZGVmIGdldF9oYXNoKHBhdGgsIGZvcm09
J3NoYTEnLCBjaHVua19zaXplPTQwOTYpOgogICAgIiIiR2VuZXJhdGUgYSBoYXNoIGRpZ2VzdCBz
dHJpbmcgZm9yIGEgZmlsZS4iIiIKICAgIHRyeToKICAgICAgICBoYXNoX3R5cGUg
2016-08-27 20:51:52,825 [salt.utils.vt.Terminal.PID-7070.STDERR][TRACE   ][7069] PSBnZXRhdHRy
KGhhc2hsaWIsIGZvcm0pCiAgICBleGNlcHQgQXR0cmlidXRlRXJyb3I6CiAgICAgICAgcmFpc2Ug
VmFsdWVFcnJvcignSW52YWxpZCBoYXNoIHR5cGU6IHswfScuZm9ybWF0KGZvcm0pKQogICAgd2l0
aCBvcGVuKHBhdGgsICdyYicpIGFzIGlmaWxlOgogICAgICAgIGhhc2hfb2JqID0gaGFzaF90eXBl
KCkKICAgICAgICAjIHJlYWQgdGhlIGZpbGUgaW4gaW4gY2h1bmtzLCBub3QgdGhlIGVudGlyZSBm
aWxlCiAgICAgICAgZm9yIGNodW5rIGluIGl0ZXIobGFtYmRhOiBpZmlsZS5yZWFkKGNodW5rX3Np
emUpLCBiJycpOgogICAgICAgICAgICBoYXNoX29iai51cGRhdGUoY2h1bmspCiAgICAgICAgcmV0
dXJuIGhhc2hfb2JqLmhleGRpZ2VzdCgpCgoKZGVmIHVucGFja190aGluKHRoaW5fcGF0aCk6CiAg
ICAiIiJVbnBhY2sgdGhlIFNhbHQgdGhpbiBhcmNoaXZlLiIiIgogICAgdGZpbGUgPSB0YXJmaWxl
LlRhckZpbGUuZ3pvcGVuKHRoaW5fcGF0aCkKICAgIG9sZF91bWFzayA9IG9zLnVtYXNrKDBvMDc3
KQogICAgdGZpbGUuZXh0cmFjdGFsbChwYXRoPU9QVElPTlMuc2FsdGRpcikKICAgIHRmaWxlLmNs
b3NlKCkKICAgIG9zLnVtYXNrKG9sZF91bWFzaykKICAgIG9zLnVubGluayh0aGluX3BhdGgpCgoK
ZGVmIG5lZWRfZXh0KCk6CiAgICAiIiJTaWduYWwgdGhhdCBleHRlcm5hbCBtb2R1bGVzIG5lZWQg
dG8gYmUgZGVwbG95ZWQuIiIiCiAgICBzeXMuc3Rkb3V0LndyaXRlKCJ7MH1cbmV4dF9tb2RzXG
2016-08-27 20:51:52,835 [salt.utils.vt.Terminal.PID-7070.STDERR][TRACE   ][7069] 4i
LmZvcm1hdChPUFRJT05TLmRlbGltaXRlcikpCiAgICBzeXMuZXhpdChFWF9NT0RfREVQTE9ZKQoK
CmRlZiB1bnBhY2tfZXh0KGV4dF9wYXRoKToKICAgICIiIlVucGFjayB0aGUgZXh0ZXJuYWwgbW9k
dWxlcy4iIiIKICAgIG1vZGNhY2hlID0gb3MucGF0aC5qb2luKAogICAgICAgICAgICBPUFRJT05T
LnNhbHRkaXIsCiAgICAgICAgICAgICdydW5uaW5nX2RhdGEnLAogICAgICAgICAgICAndmFyJywK
ICAgICAgICAgICAgJ2NhY2hlJywKICAgICAgICAgICAgJ3NhbHQnLAogICAgICAgICAgICAnbWlu
aW9uJywKICAgICAgICAgICAgJ2V4dG1vZHMnKQogICAgdGZpbGUgPSB0YXJmaWxlLlRhckZpbGUu
Z3pvcGVuKGV4dF9wYXRoKQogICAgb2xkX3VtYXNrID0gb3MudW1hc2soMG8wNzcpCiAgICB0Zmls
ZS5leHRyYWN0YWxsKHBhdGg9bW9kY2FjaGUpCiAgICB0ZmlsZS5jbG9zZSgpCiAgICBvcy51bWFz
ayhvbGRfdW1hc2spCiAgICBvcy51bmxpbmsoZXh0X3BhdGgpCiAgICB2ZXJfcGF0aCA9IG9zLnBh
dGguam9pbihtb2RjYWNoZSwgJ2V4dF92ZXJzaW9uJykKICAgIHZlcl9kc3QgPSBvcy5wYXRoLmpv
aW4oT1BUSU9OUy5zYWx0ZGlyLCAnZXh0X3ZlcnNpb24nKQogICAgc2h1dGlsLm1vdmUodmVyX3Bh
dGgsIHZlcl9kc3QpCgoKZGVmIG1haW4oYXJndik6ICAjIHB5bGludDogZGlzYWJsZT1XMDYxMwog
ICAgIiIiTWFpbiBwcm9ncmFtIGJvZHkiIiIKICAgIHRoaW5fcGF0aCA9IG9zLnBhdGguam9pbihP
UFRJT0
2016-08-27 20:51:52,846 [salt.utils.vt.Terminal.PID-7070.STDERR][TRACE   ][7069] 5TLnNhbHRkaXIsIFRISU5fQVJDSElWRSkKICAgIGlmIG9zLnBhdGguaXNmaWxlKHRoaW5f
cGF0aCk6CiAgICAgICAgaWYgT1BUSU9OUy5jaGVja3N1bSAhPSBnZXRfaGFzaCh0aGluX3BhdGgs
IE9QVElPTlMuaGFzaGZ1bmMpOgogICAgICAgICAgICBzeXMuc3RkZXJyLndyaXRlKCd7MH1cbicu
Zm9ybWF0KE9QVElPTlMuY2hlY2tzdW0pKQogICAgICAgICAgICBzeXMuc3RkZXJyLndyaXRlKCd7
MH1cbicuZm9ybWF0KGdldF9oYXNoKHRoaW5fcGF0aCwgT1BUSU9OUy5oYXNoZnVuYykpKQogICAg
ICAgICAgICBvcy51bmxpbmsodGhpbl9wYXRoKQogICAgICAgICAgICBzeXMuc3RkZXJyLndyaXRl
KCdXQVJOSU5HOiBjaGVja3N1bSBtaXNtYXRjaCBmb3IgInswfSJcbicuZm9ybWF0KHRoaW5fcGF0
aCkpCiAgICAgICAgICAgIHN5cy5leGl0KEVYX1RISU5fQ0hFQ0tTVU0pCiAgICAgICAgdW5wYWNr
X3RoaW4odGhpbl9wYXRoKQogICAgICAgICMgU2FsdCB0aGluIG5vdyBpcyBhdmFpbGFibGUgdG8g
dXNlCiAgICBlbHNlOgogICAgICAgIHNjcHN0YXQgPSBzdWJwcm9jZXNzLlBvcGVuKFsnL2Jpbi9z
aCcsICctYycsICdjb21tYW5kIC12IHNjcCddKS53YWl0KCkKICAgICAgICBpZiBzY3BzdGF0ICE9
IDA6CiAgICAgICAgICAgIHN5cy5leGl0KEVYX1NDUF9OT1RfRk9VTkQpCgogICAgICAgIGlmIG5v
dCBvcy5wYXRoLmV4aXN0cyhPUFRJT05TLnNhbHRkaXIpOgogICAgICAgICAgICBuZWVkX2RlcGxv
eW1lbnQoKQoKICAg
2016-08-27 20:51:52,862 [salt.utils.vt.Terminal.PID-7070.STDERR][TRACE   ][7069] ICAgICBpZiBub3Qgb3MucGF0aC5pc2RpcihPUFRJT05TLnNhbHRkaXIpOgog
ICAgICAgICAgICBzeXMuc3RkZXJyLndyaXRlKAogICAgICAgICAgICAgICAgJ0VSUk9SOiBzYWx0
IHBhdGggInswfSIgZXhpc3RzIGJ1dCBpcycKICAgICAgICAgICAgICAgICcgbm90IGEgZGlyZWN0
2016-08-27 20:51:52,873 [salt.utils.vt.Terminal.PID-7070.STDERR][TRACE   ][7069] b3J5XG4nLmZvcm1hdChPUFRJT05TLnNhbHRkaXIpCiAgICAgICAgICAgICkKICAgICAgICAgICAg
c3lzLmV4aXQoRVhfQ0FOVENSRUFUKQoKICAgICAgICB2ZXJzaW9uX3BhdGggPSBvcy5wYXRoLmpv
aW4oT1BUSU9OUy5zYWx0ZGlyLCAndmVyc2lvbicpCiAgICAgICAgaWYgbm90IG9zLnBhdGguZXhp
c3RzKHZlcnNpb25fcGF0aCkgb3Igbm90IG9zLnBhdGguaXNmaWxlKHZlcnNpb25fcGF0aCk6CiAg
ICAgICAgICAgIHN5cy5zdGRlcnIud3JpdGUoCiAgICAgICAgICAgICAgICAnV0FSTklORzogVW5h
YmxlIHRvIGxvY2F0ZSBjdXJyZW50IHRoaW4gJwogICAgICAgICAgICAgICAgJyB2ZXJzaW9uOiB7
MH0uXG4nLmZvcm1hdCh2ZXJzaW9uX3BhdGgpCiAgICAgICAgICAgICkKICAgICAgICAgICAgbmVl
ZF9kZXBsb3ltZW50KCkKICAgICAgICB3aXRoIG9wZW4odmVyc2lvbl9wYXRoLCAncicpIGFzIHZw
bzoKICAgICAgICAgICAgY3VyX3ZlcnNpb24gPSB2cG8ucmVhZGxpbmUoKS5zdHJpcCgpCiAgICAg
ICAgaWYgY3VyX3ZlcnNpb24gIT0gT1BUSU9OUy52ZXJzaW9uOgogICAgICAgICAgICBzeXMuc3Rk
ZXJyLndyaXRlKAogICAgICAgICAgICAgICAgJ1dBUk5JTkc6IGN1cnJlbnQgdGhpbiB2ZXJzaW9u
IHswfScKICAgICAgICAgICAgICAgICcgaXMgbm90IHVwLXRvLWRhdGUgd2l0aCB7MX0uXG4nLmZv
cm1hdCgKICAgICAgICAgICAgICAgICAgICBjdXJfdmVyc2lvbiwgT1BUSU9OUy52ZXJzaW9uCiAg
ICAgICAg
2016-08-27 20:51:52,873 [salt.utils.vt.Terminal.PID-7070.STDOUT][TRACE   ][7069] /usr/bin/scp
_edbc7885e4f9aac9b83b35999b68d015148caf467b78fa39c05f669c0ff89878
deploy
2016-08-27 20:51:52,884 [salt.utils.vt.Terminal.PID-7070.STDERR][TRACE   ][7069] ICAgICAgICApCiAgICAgICAgICAgICkKICAgICAgICAgICAgbmVlZF9kZXBsb3ltZW50
KCkKICAgICAgICAjIFNhbHQgdGhpbiBleGlzdHMgYW5kIGlzIHVwLXRvLWRhdGUgLSBmYWxsIHRo
cm91Z2ggYW5kIHVzZSBpdAoKICAgIHNhbHRfY2FsbF9wYXRoID0gb3MucGF0aC5qb2luKE9QVElP
TlMuc2FsdGRpciwgJ3NhbHQtY2FsbCcpCiAgICBpZiBub3Qgb3MucGF0aC5pc2ZpbGUoc2FsdF9j
YWxsX3BhdGgpOgogICAgICAgIHN5cy5zdGRlcnIud3JpdGUoJ0VSUk9SOiB0aGluIGlzIG1pc3Np
bmcgInswfSJcbicuZm9ybWF0KHNhbHRfY2FsbF9wYXRoKSkKICAgICAgICBuZWVkX2RlcGxveW1l
bnQoKQoKICAgIHdpdGggb3Blbihvcy5wYXRoLmpvaW4oT1BUSU9OUy5zYWx0ZGlyLCAnbWluaW9u
JyksICd3JykgYXMgY29uZmlnOgogICAgICAgIGNvbmZpZy53cml0ZShPUFRJT05TLmNvbmZpZyAr
ICdcbicpCiAgICBpZiBPUFRJT05TLmV4dF9tb2RzOgogICAgICAgIGV4dF9wYXRoID0gb3MucGF0
aC5qb2luKE9QVElPTlMuc2FsdGRpciwgRVhUX0FSQ0hJVkUpCiAgICAgICAgaWYgb3MucGF0aC5l
eGlzdHMoZXh0X3BhdGgpOgogICAgICAgICAgICB1bnBhY2tfZXh0KGV4dF9wYXRoKQogICAgICAg
IGVsc2U6CiAgICAgICAgICAgIHZlcnNpb25fcGF0aCA9IG9zLnBhdGguam9pbihPUFRJT05TLnNh
bHRkaXIsICdleHRfdmVyc2lvbicpCiAgICAgICAgICAgIGlmIG5vdCBvcy5wYXRoLmV4aXN0cyh2
ZXJzaW9uX3BhdGgpIG
2016-08-27 20:51:52,894 [salt.utils.vt.Terminal.PID-7070.STDERR][TRACE   ][7069] 9yIG5vdCBvcy5wYXRoLmlzZmlsZSh2ZXJzaW9uX3BhdGgpOgogICAgICAg
ICAgICAgICAgbmVlZF9leHQoKQogICAgICAgICAgICB3aXRoIG9wZW4odmVyc2lvbl9wYXRoLCAn
cicpIGFzIHZwbzoKICAgICAgICAgICAgICAgIGN1cl92ZXJzaW9uID0gdnBvLnJlYWRsaW5lKCku
c3RyaXAoKQogICAgICAgICAgICBpZiBjdXJfdmVyc2lvbiAhPSBPUFRJT05TLmV4dF9tb2RzOgog
ICAgICAgICAgICAgICAgbmVlZF9leHQoKQogICAgIyBGaXggcGFyYW1ldGVyIHBhc3NpbmcgaXNz
dWUKICAgIGlmIGxlbihBUkdTKSA9PSAxOgogICAgICAgIGFyZ3ZfcHJlcGFyZWQgPSBBUkdTWzBd
LnNwbGl0KCkKICAgIGVsc2U6CiAgICAgICAgYXJndl9wcmVwYXJlZCA9IEFSR1MKCiAgICBzYWx0
X2FyZ3YgPSBbCiAgICAgICAgc3lzLmV4ZWN1dGFibGUsCiAgICAgICAgc2FsdF9jYWxsX3BhdGgs
CiAgICAgICAgJy0tcmV0Y29kZS1wYXNzdGhyb3VnaCcsCiAgICAgICAgJy0tbG9jYWwnLAogICAg
ICAgICctLW1ldGFkYXRhJywKICAgICAgICAnLS1vdXQnLCAnanNvbicsCiAgICAgICAgJy1sJywg
J3F1aWV0JywKICAgICAgICAnLWMnLCBPUFRJT05TLnNhbHRkaXIsCiAgICAgICAgJy0tJywKICAg
IF0gKyBhcmd2X3ByZXBhcmVkCgogICAgc3lzLnN0ZGVyci53cml0ZSgnU0FMVF9BUkdWOiB7MH1c
bicuZm9ybWF0KHNhbHRfYXJndikpCgogICAgIyBPbmx5IGVtaXQgdGhlIGRlbGltaXRlciBvbiAq
Ym90aCogc3Rkb3V0IGFuZCBzdGRl
2016-08-27 20:51:52,905 [salt.utils.vt.Terminal.PID-7070.STDERR][TRACE   ][7069] cnIgd2hlbiBjb21wbGV0ZWx5IHN1Y2Nlc3NmdWwuCiAgICAj
IFllcywgdGhlIGZsdXNoKCkgaXMgbmVjZXNzYXJ5LgogICAgc3lzLnN0ZG91dC53cml0ZShPUFRJ
T05TLmRlbGltaXRlciArICdcbicpCiAgICBzeXMuc3Rkb3V0LmZsdXNoKCkKICAgIGlmIG5vdCBP
UFRJT05TLnR0eToKICAgICAgICBzeXMuc3RkZXJyLndyaXRlKE9QVElPTlMuZGVsaW1pdGVyICsg
J1xuJykKICAgICAgICBzeXMuc3RkZXJyLmZsdXNoKCkKICAgIGlmIE9QVElPTlMuY21kX3VtYXNr
IGlzIG5vdCBOb25lOgogICAgICAgIG9sZF91bWFzayA9IG9zLnVtYXNrKE9QVElPTlMuY21kX3Vt
YXNrKQogICAgaWYgT1BUSU9OUy50dHk6CiAgICAgICAgc3Rkb3V0LCBfID0gc3VicHJvY2Vzcy5Q
b3BlbihzYWx0X2FyZ3YsIHN0ZG91dD1zdWJwcm9jZXNzLlBJUEUsIHN0ZGVycj1zdWJwcm9jZXNz
LlBJUEUpLmNvbW11bmljYXRlKCkKICAgICAgICBzeXMuc3Rkb3V0LndyaXRlKHN0ZG91dCkKICAg
ICAgICBzeXMuc3Rkb3V0LmZsdXNoKCkKICAgICAgICBpZiBPUFRJT05TLndpcGU6CiAgICAgICAg
ICAgIHNodXRpbC5ybXRyZWUoT1BUSU9OUy5zYWx0ZGlyKQogICAgZWxpZiBPUFRJT05TLndpcGU6
CiAgICAgICAgc3VicHJvY2Vzcy5jYWxsKHNhbHRfYXJndikKICAgICAgICBzaHV0aWwucm10cmVl
KE9QVElPTlMuc2FsdGRpcikKICAgIGVsc2U6CiAgICAgICAgb3MuZXhlY3Yoc3lzLmV4ZWN1dGFi
bGUsIHNhbHRfYXJndikKICAgIGlmIE9QVElPTl
2016-08-27 20:51:52,915 [salt.utils.vt.Terminal.PID-7070.STDERR][TRACE   ][7069] MuY21kX3VtYXNrIGlzIG5vdCBOb25lOgogICAg
ICAgIG9zLnVtYXNrKG9sZF91bWFzaykKCmlmIF9fbmFtZV9fID09ICdfX21haW5fXyc6CiAgICBz
eXMuZXhpdChtYWluKHN5cy5hcmd2KSkK
""").decode("utf-8"))'
2016-08-27 20:51:53,137 [salt.client.ssh  ][TRACE   ][7069] STDOUT 127.0.0.1
salt-ope@127.0.0.1's password: 
/usr/bin/scp
_edbc7885e4f9aac9b83b35999b68d015148caf467b78fa39c05f669c0ff89878
deploy

2016-08-27 20:51:53,137 [salt.client.ssh  ][TRACE   ][7069] STDERR 127.0.0.1
+ SUDO=
+ '[' -n sudo ']'
+ SUDO='sudo '
+ EX_PYTHON_INVALID=10
+ PYTHON_CMDS='python3 python27 python2.7 python26 python2.6 python2 python'
+ for py_cmd in '$PYTHON_CMDS'
+ command -v python3
+ continue
+ for py_cmd in '$PYTHON_CMDS'
+ command -v python27
+ continue
+ for py_cmd in '$PYTHON_CMDS'
+ command -v python2.7
+ continue
+ for py_cmd in '$PYTHON_CMDS'
+ command -v python26
+ continue
+ for py_cmd in '$PYTHON_CMDS'
+ command -v python2.6
+ python2.6 -c 'import sys; sys.exit(not (sys.version_info >= (2, 6)
and sys.version_info[0] == 2));'
++ python2.6 -c 'from __future__ import print_function;
import sys; print(sys.executable);'
+ py_cmd_path=/usr/bin/python2.6
++ which python2.6
+ cmdpath=/usr/bin/python2.6
+ grep 'shell script'
+ file /usr/bin/python2.6
+ exec sudo /usr/bin/python2.6 -c 'import base64;
exec(base64.b64decode("""IyBweWxpbnQ6IGRpc2FibGU9Vzk5MDMKJycnClRoaXMgaXMgYSBzaGltIHRoYXQgaGFuZGxlcyBj
aGVja2luZyBhbmQgdXBkYXRpbmcgc2FsdCB0aGluIGFuZAp0aGVuIGludm9raW5nIHRoaW4uCgpU
aGlzIGlzIG5vdCBpbnRlbmRlZCB0byBiZSBpbnN0YW50aWF0ZWQgYXMgYSBtb2R1bGUsIHJhdGhl
ciBpdCBpcyBhCmhlbHBlciBzY3JpcHQgdXNlZCBieSBzYWx0LmNsaWVudC5zc2guU2luZ2xlLiAg
SXQgaXMgaGVyZSwgaW4gYQpzZXBhcmF0ZSBmaWxlLCBmb3IgY29udmVuaWVuY2Ugb2YgZGV2ZWxv
cG1lbnQuCicnJwoKZnJvbSBfX2Z1dHVyZV9fIGltcG9ydCBhYnNvbHV0ZV9pbXBvcnQKCmltcG9y
dCBoYXNobGliCmltcG9ydCB0YXJmaWxlCmltcG9ydCBzaHV0aWwKaW1wb3J0IHN5cwppbXBvcnQg
b3MKaW1wb3J0IHN0YXQKaW1wb3J0IHN1YnByb2Nlc3MKClRISU5fQVJDSElWRSA9ICdzYWx0LXRo
aW4udGd6JwpFWFRfQVJDSElWRSA9ICdzYWx0LWV4dF9tb2RzLnRneicKCiMgS2VlcCB0aGVzZSBp
biBzeW5jIHdpdGggc2FsdC9kZWZhdWx0cy9leGl0Y29kZXMucHkKRVhfVEhJTl9ERVBMT1kgPSAx
MQpFWF9USElOX0NIRUNLU1VNID0gMTIKRVhfTU9EX0RFUExPWSA9IDEzCkVYX1NDUF9OT1RfRk9V
TkQgPSAxNApFWF9DQU5UQ1JFQVQgPSA3MwoKCmNsYXNzIE9CSihvYmplY3QpOgogICAgIiIiQW4g
ZW1wdHkgY2xhc3MgZm9yIGhvbGRpbmcgaW5zdGFuY2UgYXR0cmlidXRlIHZhbHVlcy4iIiIKICAg
IHBhc3MKCgpPUFRJT05TID0gTm9uZQpBUkdTID0gTm9uZQojIFRoZSBiZWxvdyBsaW5lIGlzIHdo
ZXJlIE9QVElPTlMgY2FuIGJlIHJlZGVmaW5lZCB3aXRoIGludGVybmFsIG9wdGlvbnMKIyAocmF0
aGVyIHRoYW4gY2xpIGFyZ3VtZW50cykgd2hlbiB0aGUgc2hpbSBpcyBidW5kbGVkIGJ5CiMgY2xp
ZW50LnNzaC5TaW5nbGUuX2NtZF9zdHIoKQojIHB5bGludDogZGlzYWJsZT1ibG9jay1jb21tZW50
LXNob3VsZC1zdGFydC13aXRoLWNhcmRpbmFsLXNwYWNlCgpPUFRJT05TID0gT0JKKCkKT1BUSU9O
Uy5jb25maWcgPSAiIiIKe2ZpbGVzZXJ2ZXJfbGlzdF9jYWNoZV90aW1lOiAzLCBncmFpbnNfY2Fj
aGU6IHRydWUsIGlkOiBsb2NhbCwgbG9nX2ZpbGU6IHNhbHQtY2FsbC5sb2csCiAgcm9vdF9kaXI6
IC92YXIvdG1wLy5zYWx0LW9wZV8xYTM1MzJfc2FsdC9ydW5uaW5nX2RhdGEsIHNvY2tfZGlyOiAv
fQoiIiIKT1BUSU9OUy5kZWxpbWl0ZXIgPSAnX2VkYmM3ODg1ZTRmOWFhYzliODNiMzU5OTliNjhk
MDE1MTQ4Y2FmNDY3Yjc4ZmEzOWMwNWY2NjljMGZmODk4NzgnCk9QVElPTlMuc2FsdGRpciA9ICcv
dmFyL3RtcC8uc2FsdC1vcGVfMWEzNTMyX3NhbHQnCk9QVElPTlMuY2hlY2tzdW0gPSAnMmUyNWZj
YmI2YWEyNTU5OWQ1MmU4OTVkZTZlMjExOTZkNWM2ZTU5NScKT1BUSU9OUy5oYXNoZnVuYyA9ICdz
aGExJwpPUFRJT05TLnZlcnNpb24gPSAnMjAxNi4zLjInCk9QVElPTlMuZXh0X21vZHMgPSAnJwpP
UFRJT05TLndpcGUgPSBGYWxzZQpPUFRJT05TLnR0eSA9IEZhbHNlCk9QVElPTlMuY21kX3VtYXNr
ID0gTm9uZQpBUkdTID0gWyd0ZXN0Lm9wdHNfcGtnJ10KCgoKZGVmIG5lZWRfZGVwbG95bWVudCgp
OgogICAgIiIiCiAgICBTYWx0IHRoaW4gbmVlZHMgdG8gYmUgZGVwbG95ZWQgLSBwcmVwIHRoZSB0
YXJnZXQgZGlyZWN0b3J5IGFuZCBlbWl0IHRoZQogICAgZGVsaW1ldGVyIGFuZCBleGl0IGNvZGUg
dGhhdCBzaWduYWxzIGEgcmVxdWlyZWQgZGVwbG95bWVudC4KICAgICIiIgogICAgaWYgb3MucGF0
aC5leGlzdHMoT1BUSU9OUy5zYWx0ZGlyKToKICAgICAgICBzaHV0aWwucm10cmVlKE9QVElPTlMu
c2FsdGRpcikKICAgIG9sZF91bWFzayA9IG9zLnVtYXNrKDBvMDc3KQogICAgb3MubWFrZWRpcnMo
T1BUSU9OUy5zYWx0ZGlyKQogICAgb3MudW1hc2sob2xkX3VtYXNrKQogICAgIyBWZXJpZnkgcGVy
bXMgb24gc2FsdGRpcgogICAgZXVpZCA9IG9zLmdldGV1aWQoKQogICAgZHN0YXQgPSBvcy5zdGF0
KE9QVElPTlMuc2FsdGRpcikKICAgIGlmIGRzdGF0LnN0X3VpZCAhPSBldWlkOgogICAgICAgICMg
QXR0YWNrIGRldGVjdGVkLCB0cnkgYWdhaW4KICAgICAgICBuZWVkX2RlcGxveW1lbnQoKQogICAg
aWYgZHN0YXQuc3RfbW9kZSAhPSAxNjgzMjoKICAgICAgICAjIEF0dGFjayBkZXRlY3RlZAogICAg
ICAgIG5lZWRfZGVwbG95bWVudCgpCiAgICAjIElmIFNVRE9pbmcgdGhlbiBhbHNvIGdpdmUgdGhl
IHN1cGVyIHVzZXIgZ3JvdXAgd3JpdGUgcGVybWlzc2lvbnMKICAgIHN1ZG9fZ2lkID0gb3MuZW52
aXJvbi5nZXQoJ1NVRE9fR0lEJykKICAgIGlmIHN1ZG9fZ2lkOgogICAgICAgIG9zLmNob3duKE9Q
VElPTlMuc2FsdGRpciwgLTEsIGludChzdWRvX2dpZCkpCiAgICAgICAgc3R0ID0gb3Muc3RhdChP
UFRJT05TLnNhbHRkaXIpCiAgICAgICAgb3MuY2htb2QoT1BUSU9OUy5zYWx0ZGlyLCBzdHQuc3Rf
bW9kZSB8IHN0YXQuU19JV0dSUCB8IHN0YXQuU19JUkdSUCB8IHN0YXQuU19JWEdSUCkKCiAgICAj
IERlbGltaXRlciBlbWl0dGVkIG9uIHN0ZG91dCAqb25seSogdG8gaW5kaWNhdGUgc2hpbSBtZXNz
YWdlIHRvIG1hc3Rlci4KICAgIHN5cy5zdGRvdXQud3JpdGUoInswfVxuZGVwbG95XG4iLmZvcm1h
dChPUFRJT05TLmRlbGltaXRlcikpCiAgICBzeXMuZXhpdChFWF9USElOX0RFUExPWSkKCgojIEFk
YXB0ZWQgZnJvbSBzYWx0LnV0aWxzLmdldF9oYXNoKCkKZGVmIGdldF9oYXNoKHBhdGgsIGZvcm09
J3NoYTEnLCBjaHVua19zaXplPTQwOTYpOgogICAgIiIiR2VuZXJhdGUgYSBoYXNoIGRpZ2VzdCBz
dHJpbmcgZm9yIGEgZmlsZS4iIiIKICAgIHRyeToKICAgICAgICBoYXNoX3R5cGUgPSBnZXRhdHRy
KGhhc2hsaWIsIGZvcm0pCiAgICBleGNlcHQgQXR0cmlidXRlRXJyb3I6CiAgICAgICAgcmFpc2Ug
VmFsdWVFcnJvcignSW52YWxpZCBoYXNoIHR5cGU6IHswfScuZm9ybWF0KGZvcm0pKQogICAgd2l0
aCBvcGVuKHBhdGgsICdyYicpIGFzIGlmaWxlOgogICAgICAgIGhhc2hfb2JqID0gaGFzaF90eXBl
KCkKICAgICAgICAjIHJlYWQgdGhlIGZpbGUgaW4gaW4gY2h1bmtzLCBub3QgdGhlIGVudGlyZSBm
aWxlCiAgICAgICAgZm9yIGNodW5rIGluIGl0ZXIobGFtYmRhOiBpZmlsZS5yZWFkKGNodW5rX3Np
emUpLCBiJycpOgogICAgICAgICAgICBoYXNoX29iai51cGRhdGUoY2h1bmspCiAgICAgICAgcmV0
dXJuIGhhc2hfb2JqLmhleGRpZ2VzdCgpCgoKZGVmIHVucGFja190aGluKHRoaW5fcGF0aCk6CiAg
ICAiIiJVbnBhY2sgdGhlIFNhbHQgdGhpbiBhcmNoaXZlLiIiIgogICAgdGZpbGUgPSB0YXJmaWxl
LlRhckZpbGUuZ3pvcGVuKHRoaW5fcGF0aCkKICAgIG9sZF91bWFzayA9IG9zLnVtYXNrKDBvMDc3
KQogICAgdGZpbGUuZXh0cmFjdGFsbChwYXRoPU9QVElPTlMuc2FsdGRpcikKICAgIHRmaWxlLmNs
b3NlKCkKICAgIG9zLnVtYXNrKG9sZF91bWFzaykKICAgIG9zLnVubGluayh0aGluX3BhdGgpCgoK
ZGVmIG5lZWRfZXh0KCk6CiAgICAiIiJTaWduYWwgdGhhdCBleHRlcm5hbCBtb2R1bGVzIG5lZWQg
dG8gYmUgZGVwbG95ZWQuIiIiCiAgICBzeXMuc3Rkb3V0LndyaXRlKCJ7MH1cbmV4dF9tb2RzXG4i
LmZvcm1hdChPUFRJT05TLmRlbGltaXRlcikpCiAgICBzeXMuZXhpdChFWF9NT0RfREVQTE9ZKQoK
CmRlZiB1bnBhY2tfZXh0KGV4dF9wYXRoKToKICAgICIiIlVucGFjayB0aGUgZXh0ZXJuYWwgbW9k
dWxlcy4iIiIKICAgIG1vZGNhY2hlID0gb3MucGF0aC5qb2luKAogICAgICAgICAgICBPUFRJT05T
LnNhbHRkaXIsCiAgICAgICAgICAgICdydW5uaW5nX2RhdGEnLAogICAgICAgICAgICAndmFyJywK
ICAgICAgICAgICAgJ2NhY2hlJywKICAgICAgICAgICAgJ3NhbHQnLAogICAgICAgICAgICAnbWlu
aW9uJywKICAgICAgICAgICAgJ2V4dG1vZHMnKQogICAgdGZpbGUgPSB0YXJmaWxlLlRhckZpbGUu
Z3pvcGVuKGV4dF9wYXRoKQogICAgb2xkX3VtYXNrID0gb3MudW1hc2soMG8wNzcpCiAgICB0Zmls
ZS5leHRyYWN0YWxsKHBhdGg9bW9kY2FjaGUpCiAgICB0ZmlsZS5jbG9zZSgpCiAgICBvcy51bWFz
ayhvbGRfdW1hc2spCiAgICBvcy51bmxpbmsoZXh0X3BhdGgpCiAgICB2ZXJfcGF0aCA9IG9zLnBh
dGguam9pbihtb2RjYWNoZSwgJ2V4dF92ZXJzaW9uJykKICAgIHZlcl9kc3QgPSBvcy5wYXRoLmpv
aW4oT1BUSU9OUy5zYWx0ZGlyLCAnZXh0X3ZlcnNpb24nKQogICAgc2h1dGlsLm1vdmUodmVyX3Bh
dGgsIHZlcl9kc3QpCgoKZGVmIG1haW4oYXJndik6ICAjIHB5bGludDogZGlzYWJsZT1XMDYxMwog
ICAgIiIiTWFpbiBwcm9ncmFtIGJvZHkiIiIKICAgIHRoaW5fcGF0aCA9IG9zLnBhdGguam9pbihP
UFRJT05TLnNhbHRkaXIsIFRISU5fQVJDSElWRSkKICAgIGlmIG9zLnBhdGguaXNmaWxlKHRoaW5f
cGF0aCk6CiAgICAgICAgaWYgT1BUSU9OUy5jaGVja3N1bSAhPSBnZXRfaGFzaCh0aGluX3BhdGgs
IE9QVElPTlMuaGFzaGZ1bmMpOgogICAgICAgICAgICBzeXMuc3RkZXJyLndyaXRlKCd7MH1cbicu
Zm9ybWF0KE9QVElPTlMuY2hlY2tzdW0pKQogICAgICAgICAgICBzeXMuc3RkZXJyLndyaXRlKCd7
MH1cbicuZm9ybWF0KGdldF9oYXNoKHRoaW5fcGF0aCwgT1BUSU9OUy5oYXNoZnVuYykpKQogICAg
ICAgICAgICBvcy51bmxpbmsodGhpbl9wYXRoKQogICAgICAgICAgICBzeXMuc3RkZXJyLndyaXRl
KCdXQVJOSU5HOiBjaGVja3N1bSBtaXNtYXRjaCBmb3IgInswfSJcbicuZm9ybWF0KHRoaW5fcGF0
aCkpCiAgICAgICAgICAgIHN5cy5leGl0KEVYX1RISU5fQ0hFQ0tTVU0pCiAgICAgICAgdW5wYWNr
X3RoaW4odGhpbl9wYXRoKQogICAgICAgICMgU2FsdCB0aGluIG5vdyBpcyBhdmFpbGFibGUgdG8g
dXNlCiAgICBlbHNlOgogICAgICAgIHNjcHN0YXQgPSBzdWJwcm9jZXNzLlBvcGVuKFsnL2Jpbi9z
aCcsICctYycsICdjb21tYW5kIC12IHNjcCddKS53YWl0KCkKICAgICAgICBpZiBzY3BzdGF0ICE9
IDA6CiAgICAgICAgICAgIHN5cy5leGl0KEVYX1NDUF9OT1RfRk9VTkQpCgogICAgICAgIGlmIG5v
dCBvcy5wYXRoLmV4aXN0cyhPUFRJT05TLnNhbHRkaXIpOgogICAgICAgICAgICBuZWVkX2RlcGxv
eW1lbnQoKQoKICAgICAgICBpZiBub3Qgb3MucGF0aC5pc2RpcihPUFRJT05TLnNhbHRkaXIpOgog
ICAgICAgICAgICBzeXMuc3RkZXJyLndyaXRlKAogICAgICAgICAgICAgICAgJ0VSUk9SOiBzYWx0
IHBhdGggInswfSIgZXhpc3RzIGJ1dCBpcycKICAgICAgICAgICAgICAgICcgbm90IGEgZGlyZWN0
b3J5XG4nLmZvcm1hdChPUFRJT05TLnNhbHRkaXIpCiAgICAgICAgICAgICkKICAgICAgICAgICAg
c3lzLmV4aXQoRVhfQ0FOVENSRUFUKQoKICAgICAgICB2ZXJzaW9uX3BhdGggPSBvcy5wYXRoLmpv
aW4oT1BUSU9OUy5zYWx0ZGlyLCAndmVyc2lvbicpCiAgICAgICAgaWYgbm90IG9zLnBhdGguZXhp
c3RzKHZlcnNpb25fcGF0aCkgb3Igbm90IG9zLnBhdGguaXNmaWxlKHZlcnNpb25fcGF0aCk6CiAg
ICAgICAgICAgIHN5cy5zdGRlcnIud3JpdGUoCiAgICAgICAgICAgICAgICAnV0FSTklORzogVW5h
YmxlIHRvIGxvY2F0ZSBjdXJyZW50IHRoaW4gJwogICAgICAgICAgICAgICAgJyB2ZXJzaW9uOiB7
MH0uXG4nLmZvcm1hdCh2ZXJzaW9uX3BhdGgpCiAgICAgICAgICAgICkKICAgICAgICAgICAgbmVl
ZF9kZXBsb3ltZW50KCkKICAgICAgICB3aXRoIG9wZW4odmVyc2lvbl9wYXRoLCAncicpIGFzIHZw
bzoKICAgICAgICAgICAgY3VyX3ZlcnNpb24gPSB2cG8ucmVhZGxpbmUoKS5zdHJpcCgpCiAgICAg
ICAgaWYgY3VyX3ZlcnNpb24gIT0gT1BUSU9OUy52ZXJzaW9uOgogICAgICAgICAgICBzeXMuc3Rk
ZXJyLndyaXRlKAogICAgICAgICAgICAgICAgJ1dBUk5JTkc6IGN1cnJlbnQgdGhpbiB2ZXJzaW9u
IHswfScKICAgICAgICAgICAgICAgICcgaXMgbm90IHVwLXRvLWRhdGUgd2l0aCB7MX0uXG4nLmZv
cm1hdCgKICAgICAgICAgICAgICAgICAgICBjdXJfdmVyc2lvbiwgT1BUSU9OUy52ZXJzaW9uCiAg
ICAgICAgICAgICAgICApCiAgICAgICAgICAgICkKICAgICAgICAgICAgbmVlZF9kZXBsb3ltZW50
KCkKICAgICAgICAjIFNhbHQgdGhpbiBleGlzdHMgYW5kIGlzIHVwLXRvLWRhdGUgLSBmYWxsIHRo
cm91Z2ggYW5kIHVzZSBpdAoKICAgIHNhbHRfY2FsbF9wYXRoID0gb3MucGF0aC5qb2luKE9QVElP
TlMuc2FsdGRpciwgJ3NhbHQtY2FsbCcpCiAgICBpZiBub3Qgb3MucGF0aC5pc2ZpbGUoc2FsdF9j
YWxsX3BhdGgpOgogICAgICAgIHN5cy5zdGRlcnIud3JpdGUoJ0VSUk9SOiB0aGluIGlzIG1pc3Np
bmcgInswfSJcbicuZm9ybWF0KHNhbHRfY2FsbF9wYXRoKSkKICAgICAgICBuZWVkX2RlcGxveW1l
bnQoKQoKICAgIHdpdGggb3Blbihvcy5wYXRoLmpvaW4oT1BUSU9OUy5zYWx0ZGlyLCAnbWluaW9u
JyksICd3JykgYXMgY29uZmlnOgogICAgICAgIGNvbmZpZy53cml0ZShPUFRJT05TLmNvbmZpZyAr
ICdcbicpCiAgICBpZiBPUFRJT05TLmV4dF9tb2RzOgogICAgICAgIGV4dF9wYXRoID0gb3MucGF0
aC5qb2luKE9QVElPTlMuc2FsdGRpciwgRVhUX0FSQ0hJVkUpCiAgICAgICAgaWYgb3MucGF0aC5l
eGlzdHMoZXh0X3BhdGgpOgogICAgICAgICAgICB1bnBhY2tfZXh0KGV4dF9wYXRoKQogICAgICAg
IGVsc2U6CiAgICAgICAgICAgIHZlcnNpb25fcGF0aCA9IG9zLnBhdGguam9pbihPUFRJT05TLnNh
bHRkaXIsICdleHRfdmVyc2lvbicpCiAgICAgICAgICAgIGlmIG5vdCBvcy5wYXRoLmV4aXN0cyh2
ZXJzaW9uX3BhdGgpIG9yIG5vdCBvcy5wYXRoLmlzZmlsZSh2ZXJzaW9uX3BhdGgpOgogICAgICAg
ICAgICAgICAgbmVlZF9leHQoKQogICAgICAgICAgICB3aXRoIG9wZW4odmVyc2lvbl9wYXRoLCAn
cicpIGFzIHZwbzoKICAgICAgICAgICAgICAgIGN1cl92ZXJzaW9uID0gdnBvLnJlYWRsaW5lKCku
c3RyaXAoKQogICAgICAgICAgICBpZiBjdXJfdmVyc2lvbiAhPSBPUFRJT05TLmV4dF9tb2RzOgog
ICAgICAgICAgICAgICAgbmVlZF9leHQoKQogICAgIyBGaXggcGFyYW1ldGVyIHBhc3NpbmcgaXNz
dWUKICAgIGlmIGxlbihBUkdTKSA9PSAxOgogICAgICAgIGFyZ3ZfcHJlcGFyZWQgPSBBUkdTWzBd
LnNwbGl0KCkKICAgIGVsc2U6CiAgICAgICAgYXJndl9wcmVwYXJlZCA9IEFSR1MKCiAgICBzYWx0
X2FyZ3YgPSBbCiAgICAgICAgc3lzLmV4ZWN1dGFibGUsCiAgICAgICAgc2FsdF9jYWxsX3BhdGgs
CiAgICAgICAgJy0tcmV0Y29kZS1wYXNzdGhyb3VnaCcsCiAgICAgICAgJy0tbG9jYWwnLAogICAg
ICAgICctLW1ldGFkYXRhJywKICAgICAgICAnLS1vdXQnLCAnanNvbicsCiAgICAgICAgJy1sJywg
J3F1aWV0JywKICAgICAgICAnLWMnLCBPUFRJT05TLnNhbHRkaXIsCiAgICAgICAgJy0tJywKICAg
IF0gKyBhcmd2X3ByZXBhcmVkCgogICAgc3lzLnN0ZGVyci53cml0ZSgnU0FMVF9BUkdWOiB7MH1c
bicuZm9ybWF0KHNhbHRfYXJndikpCgogICAgIyBPbmx5IGVtaXQgdGhlIGRlbGltaXRlciBvbiAq
Ym90aCogc3Rkb3V0IGFuZCBzdGRlcnIgd2hlbiBjb21wbGV0ZWx5IHN1Y2Nlc3NmdWwuCiAgICAj
IFllcywgdGhlIGZsdXNoKCkgaXMgbmVjZXNzYXJ5LgogICAgc3lzLnN0ZG91dC53cml0ZShPUFRJ
T05TLmRlbGltaXRlciArICdcbicpCiAgICBzeXMuc3Rkb3V0LmZsdXNoKCkKICAgIGlmIG5vdCBP
UFRJT05TLnR0eToKICAgICAgICBzeXMuc3RkZXJyLndyaXRlKE9QVElPTlMuZGVsaW1pdGVyICsg
J1xuJykKICAgICAgICBzeXMuc3RkZXJyLmZsdXNoKCkKICAgIGlmIE9QVElPTlMuY21kX3VtYXNr
IGlzIG5vdCBOb25lOgogICAgICAgIG9sZF91bWFzayA9IG9zLnVtYXNrKE9QVElPTlMuY21kX3Vt
YXNrKQogICAgaWYgT1BUSU9OUy50dHk6CiAgICAgICAgc3Rkb3V0LCBfID0gc3VicHJvY2Vzcy5Q
b3BlbihzYWx0X2FyZ3YsIHN0ZG91dD1zdWJwcm9jZXNzLlBJUEUsIHN0ZGVycj1zdWJwcm9jZXNz
LlBJUEUpLmNvbW11bmljYXRlKCkKICAgICAgICBzeXMuc3Rkb3V0LndyaXRlKHN0ZG91dCkKICAg
ICAgICBzeXMuc3Rkb3V0LmZsdXNoKCkKICAgICAgICBpZiBPUFRJT05TLndpcGU6CiAgICAgICAg
ICAgIHNodXRpbC5ybXRyZWUoT1BUSU9OUy5zYWx0ZGlyKQogICAgZWxpZiBPUFRJT05TLndpcGU6
CiAgICAgICAgc3VicHJvY2Vzcy5jYWxsKHNhbHRfYXJndikKICAgICAgICBzaHV0aWwucm10cmVl
KE9QVElPTlMuc2FsdGRpcikKICAgIGVsc2U6CiAgICAgICAgb3MuZXhlY3Yoc3lzLmV4ZWN1dGFi
bGUsIHNhbHRfYXJndikKICAgIGlmIE9QVElPTlMuY21kX3VtYXNrIGlzIG5vdCBOb25lOgogICAg
ICAgIG9zLnVtYXNrKG9sZF91bWFzaykKCmlmIF9fbmFtZV9fID09ICdfX21haW5fXyc6CiAgICBz
eXMuZXhpdChtYWluKHN5cy5hcmd2KSkK
""").decode("utf-8"))'

2016-08-27 20:51:53,139 [salt.client.ssh  ][DEBUG   ][7069] RETCODE 127.0.0.1: 11
2016-08-27 20:51:53,141 [salt.client.ssh  ][DEBUG   ][7069] SHIM retcode(11) and command: deploy
2016-08-27 20:51:53,142 [salt.client.ssh.shell][DEBUG   ][7069] Executing command: scp   -o KbdInteractiveAuthentication=no -o PasswordAuthentication=yes -o GSSAPIAuthentication=no -o ConnectTimeout=65 -o Port=22 -o IdentityFile=/root/saltstack_master/etc/salt/pki/master/ssh/salt-ssh.rsa -o User=******  /root/saltstack_master/var/cache/salt/master/thin/thin.tgz 127.0.0.1:/var/tmp/.******_1a3532_salt/salt-thin.tgz
2016-08-27 20:51:53,145 [salt.utils.vt    ][DEBUG   ][7069] Child Forked! PID: 7092  STDOUT_FD: 9  STDERR_FD: 11
2016-08-27 20:51:53,149 [salt.utils.vt    ][DEBUG   ][7069] Terminal Command: /bin/sh -c scp   -o KbdInteractiveAuthentication=no -o PasswordAuthentication=yes -o GSSAPIAuthentication=no -o ConnectTimeout=65 -o Port=22 -o IdentityFile=/root/saltstack_master/etc/salt/pki/master/ssh/salt-ssh.rsa -o User=salt-ope  /root/saltstack_master/var/cache/salt/master/thin/thin.tgz 127.0.0.1:/var/tmp/.salt-ope_1a3532_salt/salt-thin.tgz
2016-08-27 20:51:53,221 [salt.utils.vt.Terminal.PID-7092.STDOUT][TRACE   ][7069] salt-ope@127.0.0.1's password:
2016-08-27 20:51:53,393 [salt.utils.vt.Terminal.PID-7092.STDOUT][TRACE   ][7069] thin.tgz                                        0%    0     0.0KB/s   --:-- ETA
2016-08-27 20:51:53,506 [salt.utils.vt.Terminal.PID-7092.STDOUT][TRACE   ][7069] thin.tgz                                      100% 3657KB   3.6MB/s   00:00
2016-08-27 20:51:53,728 [salt.client.ssh.shell][DEBUG   ][7069] Executed SHIM command. Command logged to TRACE
2016-08-27 20:51:53,728 [salt.client.ssh.shell][TRACE   ][7069] Executing command: ssh 127.0.0.1  -o KbdInteractiveAuthentication=no -o PasswordAuthentication=yes -o GSSAPIAuthentication=no -o ConnectTimeout=65 -o Port=22 -o IdentityFile=/root/saltstack_master/etc/salt/pki/master/ssh/salt-ssh.rsa -o User=******  /bin/sh << 'EOF'
set -e
set -u
DEBUG="1"
if [ -n "$DEBUG" ]
then set -x
fi
SUDO=""
if [ -n "sudo" ]
then SUDO="sudo "
fi
EX_PYTHON_INVALID=10
PYTHON_CMDS="python3 python27 python2.7 python26 python2.6 python2 python"
for py_cmd in $PYTHON_CMDS
do
if command -v "$py_cmd" >/dev/null 2>&1 && "$py_cmd" -c \
"import sys; sys.exit(not (sys.version_info >= (2, 6)
and sys.version_info[0] == 2));"
then
py_cmd_path=`"$py_cmd" -c \
'from __future__ import print_function;
import sys; print(sys.executable);'`
cmdpath=$(which $py_cmd 2>&1)
if file $cmdpath | grep "shell script" > /dev/null
then
ex_vars="'PATH', 'LD_LIBRARY_PATH', 'MANPATH', \
'XDG_DATA_DIRS', 'PKG_CONFIG_PATH'"
export $($py_cmd -c \
"from __future__ import print_function;
import sys;
import os;
map(sys.stdout.write, ['{0}={1} ' \
.format(x, os.environ[x]) for x in [$ex_vars]])")
exec $SUDO PATH=$PATH LD_LIBRARY_PATH=$LD_LIBRARY_PATH \
MANPATH=$MANPATH XDG_DATA_DIRS=$XDG_DATA_DIRS \
PKG_CONFIG_PATH=$PKG_CONFIG_PATH \
"$py_cmd_path" -c \
'import base64;
exec(base64.b64decode("""IyBweWxpbnQ6IGRpc2FibGU9Vzk5MDMKJycnClRoaXMgaXMgYSBzaGltIHRoYXQgaGFuZGxlcyBj
aGVja2luZyBhbmQgdXBkYXRpbmcgc2FsdCB0aGluIGFuZAp0aGVuIGludm9raW5nIHRoaW4uCgpU
aGlzIGlzIG5vdCBpbnRlbmRlZCB0byBiZSBpbnN0YW50aWF0ZWQgYXMgYSBtb2R1bGUsIHJhdGhl
ciBpdCBpcyBhCmhlbHBlciBzY3JpcHQgdXNlZCBieSBzYWx0LmNsaWVudC5zc2guU2luZ2xlLiAg
SXQgaXMgaGVyZSwgaW4gYQpzZXBhcmF0ZSBmaWxlLCBmb3IgY29udmVuaWVuY2Ugb2YgZGV2ZWxv
cG1lbnQuCicnJwoKZnJvbSBfX2Z1dHVyZV9fIGltcG9ydCBhYnNvbHV0ZV9pbXBvcnQKCmltcG9y
dCBoYXNobGliCmltcG9ydCB0YXJmaWxlCmltcG9ydCBzaHV0aWwKaW1wb3J0IHN5cwppbXBvcnQg
b3MKaW1wb3J0IHN0YXQKaW1wb3J0IHN1YnByb2Nlc3MKClRISU5fQVJDSElWRSA9ICdzYWx0LXRo
aW4udGd6JwpFWFRfQVJDSElWRSA9ICdzYWx0LWV4dF9tb2RzLnRneicKCiMgS2VlcCB0aGVzZSBp
biBzeW5jIHdpdGggc2FsdC9kZWZhdWx0cy9leGl0Y29kZXMucHkKRVhfVEhJTl9ERVBMT1kgPSAx
MQpFWF9USElOX0NIRUNLU1VNID0gMTIKRVhfTU9EX0RFUExPWSA9IDEzCkVYX1NDUF9OT1RfRk9V
TkQgPSAxNApFWF9DQU5UQ1JFQVQgPSA3MwoKCmNsYXNzIE9CSihvYmplY3QpOgogICAgIiIiQW4g
ZW1wdHkgY2xhc3MgZm9yIGhvbGRpbmcgaW5zdGFuY2UgYXR0cmlidXRlIHZhbHVlcy4iIiIKICAg
IHBhc3MKCgpPUFRJT05TID0gTm9uZQpBUkdTID0gTm9uZQojIFRoZSBiZWxvdyBsaW5lIGlzIHdo
ZXJlIE9QVElPTlMgY2FuIGJlIHJlZGVmaW5lZCB3aXRoIGludGVybmFsIG9wdGlvbnMKIyAocmF0
aGVyIHRoYW4gY2xpIGFyZ3VtZW50cykgd2hlbiB0aGUgc2hpbSBpcyBidW5kbGVkIGJ5CiMgY2xp
ZW50LnNzaC5TaW5nbGUuX2NtZF9zdHIoKQojIHB5bGludDogZGlzYWJsZT1ibG9jay1jb21tZW50
LXNob3VsZC1zdGFydC13aXRoLWNhcmRpbmFsLXNwYWNlCgpPUFRJT05TID0gT0JKKCkKT1BUSU9O
Uy5jb25maWcgPSAiIiIKe2ZpbGVzZXJ2ZXJfbGlzdF9jYWNoZV90aW1lOiAzLCBncmFpbnNfY2Fj
aGU6IHRydWUsIGlkOiBsb2NhbCwgbG9nX2ZpbGU6IHNhbHQtY2FsbC5sb2csCiAgcm9vdF9kaXI6
IC92YXIvdG1wLy5zYWx0LW9wZV8xYTM1MzJfc2FsdC9ydW5uaW5nX2RhdGEsIHNvY2tfZGlyOiAv
fQoiIiIKT1BUSU9OUy5kZWxpbWl0ZXIgPSAnX2VkYmM3ODg1ZTRmOWFhYzliODNiMzU5OTliNjhk
MDE1MTQ4Y2FmNDY3Yjc4ZmEzOWMwNWY2NjljMGZmODk4NzgnCk9QVElPTlMuc2FsdGRpciA9ICcv
dmFyL3RtcC8uc2FsdC1vcGVfMWEzNTMyX3NhbHQnCk9QVElPTlMuY2hlY2tzdW0gPSAnMmUyNWZj
YmI2YWEyNTU5OWQ1MmU4OTVkZTZlMjExOTZkNWM2ZTU5NScKT1BUSU9OUy5oYXNoZnVuYyA9ICdz
aGExJwpPUFRJT05TLnZlcnNpb24gPSAnMjAxNi4zLjInCk9QVElPTlMuZXh0X21vZHMgPSAnJwpP
UFRJT05TLndpcGUgPSBGYWxzZQpPUFRJT05TLnR0eSA9IEZhbHNlCk9QVElPTlMuY21kX3VtYXNr
ID0gTm9uZQpBUkdTID0gWyd0ZXN0Lm9wdHNfcGtnJ10KCgoKZGVmIG5lZWRfZGVwbG95bWVudCgp
OgogICAgIiIiCiAgICBTYWx0IHRoaW4gbmVlZHMgdG8gYmUgZGVwbG95ZWQgLSBwcmVwIHRoZSB0
YXJnZXQgZGlyZWN0b3J5IGFuZCBlbWl0IHRoZQogICAgZGVsaW1ldGVyIGFuZCBleGl0IGNvZGUg
dGhhdCBzaWduYWxzIGEgcmVxdWlyZWQgZGVwbG95bWVudC4KICAgICIiIgogICAgaWYgb3MucGF0
aC5leGlzdHMoT1BUSU9OUy5zYWx0ZGlyKToKICAgICAgICBzaHV0aWwucm10cmVlKE9QVElPTlMu
c2FsdGRpcikKICAgIG9sZF91bWFzayA9IG9zLnVtYXNrKDBvMDc3KQogICAgb3MubWFrZWRpcnMo
T1BUSU9OUy5zYWx0ZGlyKQogICAgb3MudW1hc2sob2xkX3VtYXNrKQogICAgIyBWZXJpZnkgcGVy
bXMgb24gc2FsdGRpcgogICAgZXVpZCA9IG9zLmdldGV1aWQoKQogICAgZHN0YXQgPSBvcy5zdGF0
KE9QVElPTlMuc2FsdGRpcikKICAgIGlmIGRzdGF0LnN0X3VpZCAhPSBldWlkOgogICAgICAgICMg
QXR0YWNrIGRldGVjdGVkLCB0cnkgYWdhaW4KICAgICAgICBuZWVkX2RlcGxveW1lbnQoKQogICAg
aWYgZHN0YXQuc3RfbW9kZSAhPSAxNjgzMjoKICAgICAgICAjIEF0dGFjayBkZXRlY3RlZAogICAg
ICAgIG5lZWRfZGVwbG95bWVudCgpCiAgICAjIElmIFNVRE9pbmcgdGhlbiBhbHNvIGdpdmUgdGhl
IHN1cGVyIHVzZXIgZ3JvdXAgd3JpdGUgcGVybWlzc2lvbnMKICAgIHN1ZG9fZ2lkID0gb3MuZW52
aXJvbi5nZXQoJ1NVRE9fR0lEJykKICAgIGlmIHN1ZG9fZ2lkOgogICAgICAgIG9zLmNob3duKE9Q
VElPTlMuc2FsdGRpciwgLTEsIGludChzdWRvX2dpZCkpCiAgICAgICAgc3R0ID0gb3Muc3RhdChP
UFRJT05TLnNhbHRkaXIpCiAgICAgICAgb3MuY2htb2QoT1BUSU9OUy5zYWx0ZGlyLCBzdHQuc3Rf
bW9kZSB8IHN0YXQuU19JV0dSUCB8IHN0YXQuU19JUkdSUCB8IHN0YXQuU19JWEdSUCkKCiAgICAj
IERlbGltaXRlciBlbWl0dGVkIG9uIHN0ZG91dCAqb25seSogdG8gaW5kaWNhdGUgc2hpbSBtZXNz
YWdlIHRvIG1hc3Rlci4KICAgIHN5cy5zdGRvdXQud3JpdGUoInswfVxuZGVwbG95XG4iLmZvcm1h
dChPUFRJT05TLmRlbGltaXRlcikpCiAgICBzeXMuZXhpdChFWF9USElOX0RFUExPWSkKCgojIEFk
YXB0ZWQgZnJvbSBzYWx0LnV0aWxzLmdldF9oYXNoKCkKZGVmIGdldF9oYXNoKHBhdGgsIGZvcm09
J3NoYTEnLCBjaHVua19zaXplPTQwOTYpOgogICAgIiIiR2VuZXJhdGUgYSBoYXNoIGRpZ2VzdCBz
dHJpbmcgZm9yIGEgZmlsZS4iIiIKICAgIHRyeToKICAgICAgICBoYXNoX3R5cGUgPSBnZXRhdHRy
KGhhc2hsaWIsIGZvcm0pCiAgICBleGNlcHQgQXR0cmlidXRlRXJyb3I6CiAgICAgICAgcmFpc2Ug
VmFsdWVFcnJvcignSW52YWxpZCBoYXNoIHR5cGU6IHswfScuZm9ybWF0KGZvcm0pKQogICAgd2l0
aCBvcGVuKHBhdGgsICdyYicpIGFzIGlmaWxlOgogICAgICAgIGhhc2hfb2JqID0gaGFzaF90eXBl
KCkKICAgICAgICAjIHJlYWQgdGhlIGZpbGUgaW4gaW4gY2h1bmtzLCBub3QgdGhlIGVudGlyZSBm
aWxlCiAgICAgICAgZm9yIGNodW5rIGluIGl0ZXIobGFtYmRhOiBpZmlsZS5yZWFkKGNodW5rX3Np
emUpLCBiJycpOgogICAgICAgICAgICBoYXNoX29iai51cGRhdGUoY2h1bmspCiAgICAgICAgcmV0
dXJuIGhhc2hfb2JqLmhleGRpZ2VzdCgpCgoKZGVmIHVucGFja190aGluKHRoaW5fcGF0aCk6CiAg
ICAiIiJVbnBhY2sgdGhlIFNhbHQgdGhpbiBhcmNoaXZlLiIiIgogICAgdGZpbGUgPSB0YXJmaWxl
LlRhckZpbGUuZ3pvcGVuKHRoaW5fcGF0aCkKICAgIG9sZF91bWFzayA9IG9zLnVtYXNrKDBvMDc3
KQogICAgdGZpbGUuZXh0cmFjdGFsbChwYXRoPU9QVElPTlMuc2FsdGRpcikKICAgIHRmaWxlLmNs
b3NlKCkKICAgIG9zLnVtYXNrKG9sZF91bWFzaykKICAgIG9zLnVubGluayh0aGluX3BhdGgpCgoK
ZGVmIG5lZWRfZXh0KCk6CiAgICAiIiJTaWduYWwgdGhhdCBleHRlcm5hbCBtb2R1bGVzIG5lZWQg
dG8gYmUgZGVwbG95ZWQuIiIiCiAgICBzeXMuc3Rkb3V0LndyaXRlKCJ7MH1cbmV4dF9tb2RzXG4i
LmZvcm1hdChPUFRJT05TLmRlbGltaXRlcikpCiAgICBzeXMuZXhpdChFWF9NT0RfREVQTE9ZKQoK
CmRlZiB1bnBhY2tfZXh0KGV4dF9wYXRoKToKICAgICIiIlVucGFjayB0aGUgZXh0ZXJuYWwgbW9k
dWxlcy4iIiIKICAgIG1vZGNhY2hlID0gb3MucGF0aC5qb2luKAogICAgICAgICAgICBPUFRJT05T
LnNhbHRkaXIsCiAgICAgICAgICAgICdydW5uaW5nX2RhdGEnLAogICAgICAgICAgICAndmFyJywK
ICAgICAgICAgICAgJ2NhY2hlJywKICAgICAgICAgICAgJ3NhbHQnLAogICAgICAgICAgICAnbWlu
aW9uJywKICAgICAgICAgICAgJ2V4dG1vZHMnKQogICAgdGZpbGUgPSB0YXJmaWxlLlRhckZpbGUu
Z3pvcGVuKGV4dF9wYXRoKQogICAgb2xkX3VtYXNrID0gb3MudW1hc2soMG8wNzcpCiAgICB0Zmls
ZS5leHRyYWN0YWxsKHBhdGg9bW9kY2FjaGUpCiAgICB0ZmlsZS5jbG9zZSgpCiAgICBvcy51bWFz
ayhvbGRfdW1hc2spCiAgICBvcy51bmxpbmsoZXh0X3BhdGgpCiAgICB2ZXJfcGF0aCA9IG9zLnBh
dGguam9pbihtb2RjYWNoZSwgJ2V4dF92ZXJzaW9uJykKICAgIHZlcl9kc3QgPSBvcy5wYXRoLmpv
aW4oT1BUSU9OUy5zYWx0ZGlyLCAnZXh0X3ZlcnNpb24nKQogICAgc2h1dGlsLm1vdmUodmVyX3Bh
dGgsIHZlcl9kc3QpCgoKZGVmIG1haW4oYXJndik6ICAjIHB5bGludDogZGlzYWJsZT1XMDYxMwog
ICAgIiIiTWFpbiBwcm9ncmFtIGJvZHkiIiIKICAgIHRoaW5fcGF0aCA9IG9zLnBhdGguam9pbihP
UFRJT05TLnNhbHRkaXIsIFRISU5fQVJDSElWRSkKICAgIGlmIG9zLnBhdGguaXNmaWxlKHRoaW5f
cGF0aCk6CiAgICAgICAgaWYgT1BUSU9OUy5jaGVja3N1bSAhPSBnZXRfaGFzaCh0aGluX3BhdGgs
IE9QVElPTlMuaGFzaGZ1bmMpOgogICAgICAgICAgICBzeXMuc3RkZXJyLndyaXRlKCd7MH1cbicu
Zm9ybWF0KE9QVElPTlMuY2hlY2tzdW0pKQogICAgICAgICAgICBzeXMuc3RkZXJyLndyaXRlKCd7
MH1cbicuZm9ybWF0KGdldF9oYXNoKHRoaW5fcGF0aCwgT1BUSU9OUy5oYXNoZnVuYykpKQogICAg
ICAgICAgICBvcy51bmxpbmsodGhpbl9wYXRoKQogICAgICAgICAgICBzeXMuc3RkZXJyLndyaXRl
KCdXQVJOSU5HOiBjaGVja3N1bSBtaXNtYXRjaCBmb3IgInswfSJcbicuZm9ybWF0KHRoaW5fcGF0
aCkpCiAgICAgICAgICAgIHN5cy5leGl0KEVYX1RISU5fQ0hFQ0tTVU0pCiAgICAgICAgdW5wYWNr
X3RoaW4odGhpbl9wYXRoKQogICAgICAgICMgU2FsdCB0aGluIG5vdyBpcyBhdmFpbGFibGUgdG8g
dXNlCiAgICBlbHNlOgogICAgICAgIHNjcHN0YXQgPSBzdWJwcm9jZXNzLlBvcGVuKFsnL2Jpbi9z
aCcsICctYycsICdjb21tYW5kIC12IHNjcCddKS53YWl0KCkKICAgICAgICBpZiBzY3BzdGF0ICE9
IDA6CiAgICAgICAgICAgIHN5cy5leGl0KEVYX1NDUF9OT1RfRk9VTkQpCgogICAgICAgIGlmIG5v
dCBvcy5wYXRoLmV4aXN0cyhPUFRJT05TLnNhbHRkaXIpOgogICAgICAgICAgICBuZWVkX2RlcGxv
eW1lbnQoKQoKICAgICAgICBpZiBub3Qgb3MucGF0aC5pc2RpcihPUFRJT05TLnNhbHRkaXIpOgog
ICAgICAgICAgICBzeXMuc3RkZXJyLndyaXRlKAogICAgICAgICAgICAgICAgJ0VSUk9SOiBzYWx0
IHBhdGggInswfSIgZXhpc3RzIGJ1dCBpcycKICAgICAgICAgICAgICAgICcgbm90IGEgZGlyZWN0
b3J5XG4nLmZvcm1hdChPUFRJT05TLnNhbHRkaXIpCiAgICAgICAgICAgICkKICAgICAgICAgICAg
c3lzLmV4aXQoRVhfQ0FOVENSRUFUKQoKICAgICAgICB2ZXJzaW9uX3BhdGggPSBvcy5wYXRoLmpv
aW4oT1BUSU9OUy5zYWx0ZGlyLCAndmVyc2lvbicpCiAgICAgICAgaWYgbm90IG9zLnBhdGguZXhp
c3RzKHZlcnNpb25fcGF0aCkgb3Igbm90IG9zLnBhdGguaXNmaWxlKHZlcnNpb25fcGF0aCk6CiAg
ICAgICAgICAgIHN5cy5zdGRlcnIud3JpdGUoCiAgICAgICAgICAgICAgICAnV0FSTklORzogVW5h
YmxlIHRvIGxvY2F0ZSBjdXJyZW50IHRoaW4gJwogICAgICAgICAgICAgICAgJyB2ZXJzaW9uOiB7
MH0uXG4nLmZvcm1hdCh2ZXJzaW9uX3BhdGgpCiAgICAgICAgICAgICkKICAgICAgICAgICAgbmVl
ZF9kZXBsb3ltZW50KCkKICAgICAgICB3aXRoIG9wZW4odmVyc2lvbl9wYXRoLCAncicpIGFzIHZw
bzoKICAgICAgICAgICAgY3VyX3ZlcnNpb24gPSB2cG8ucmVhZGxpbmUoKS5zdHJpcCgpCiAgICAg
ICAgaWYgY3VyX3ZlcnNpb24gIT0gT1BUSU9OUy52ZXJzaW9uOgogICAgICAgICAgICBzeXMuc3Rk
ZXJyLndyaXRlKAogICAgICAgICAgICAgICAgJ1dBUk5JTkc6IGN1cnJlbnQgdGhpbiB2ZXJzaW9u
IHswfScKICAgICAgICAgICAgICAgICcgaXMgbm90IHVwLXRvLWRhdGUgd2l0aCB7MX0uXG4nLmZv
cm1hdCgKICAgICAgICAgICAgICAgICAgICBjdXJfdmVyc2lvbiwgT1BUSU9OUy52ZXJzaW9uCiAg
ICAgICAgICAgICAgICApCiAgICAgICAgICAgICkKICAgICAgICAgICAgbmVlZF9kZXBsb3ltZW50
KCkKICAgICAgICAjIFNhbHQgdGhpbiBleGlzdHMgYW5kIGlzIHVwLXRvLWRhdGUgLSBmYWxsIHRo
cm91Z2ggYW5kIHVzZSBpdAoKICAgIHNhbHRfY2FsbF9wYXRoID0gb3MucGF0aC5qb2luKE9QVElP
TlMuc2FsdGRpciwgJ3NhbHQtY2FsbCcpCiAgICBpZiBub3Qgb3MucGF0aC5pc2ZpbGUoc2FsdF9j
YWxsX3BhdGgpOgogICAgICAgIHN5cy5zdGRlcnIud3JpdGUoJ0VSUk9SOiB0aGluIGlzIG1pc3Np
bmcgInswfSJcbicuZm9ybWF0KHNhbHRfY2FsbF9wYXRoKSkKICAgICAgICBuZWVkX2RlcGxveW1l
bnQoKQoKICAgIHdpdGggb3Blbihvcy5wYXRoLmpvaW4oT1BUSU9OUy5zYWx0ZGlyLCAnbWluaW9u
JyksICd3JykgYXMgY29uZmlnOgogICAgICAgIGNvbmZpZy53cml0ZShPUFRJT05TLmNvbmZpZyAr
ICdcbicpCiAgICBpZiBPUFRJT05TLmV4dF9tb2RzOgogICAgICAgIGV4dF9wYXRoID0gb3MucGF0
aC5qb2luKE9QVElPTlMuc2FsdGRpciwgRVhUX0FSQ0hJVkUpCiAgICAgICAgaWYgb3MucGF0aC5l
eGlzdHMoZXh0X3BhdGgpOgogICAgICAgICAgICB1bnBhY2tfZXh0KGV4dF9wYXRoKQogICAgICAg
IGVsc2U6CiAgICAgICAgICAgIHZlcnNpb25fcGF0aCA9IG9zLnBhdGguam9pbihPUFRJT05TLnNh
bHRkaXIsICdleHRfdmVyc2lvbicpCiAgICAgICAgICAgIGlmIG5vdCBvcy5wYXRoLmV4aXN0cyh2
ZXJzaW9uX3BhdGgpIG9yIG5vdCBvcy5wYXRoLmlzZmlsZSh2ZXJzaW9uX3BhdGgpOgogICAgICAg
ICAgICAgICAgbmVlZF9leHQoKQogICAgICAgICAgICB3aXRoIG9wZW4odmVyc2lvbl9wYXRoLCAn
cicpIGFzIHZwbzoKICAgICAgICAgICAgICAgIGN1cl92ZXJzaW9uID0gdnBvLnJlYWRsaW5lKCku
c3RyaXAoKQogICAgICAgICAgICBpZiBjdXJfdmVyc2lvbiAhPSBPUFRJT05TLmV4dF9tb2RzOgog
ICAgICAgICAgICAgICAgbmVlZF9leHQoKQogICAgIyBGaXggcGFyYW1ldGVyIHBhc3NpbmcgaXNz
dWUKICAgIGlmIGxlbihBUkdTKSA9PSAxOgogICAgICAgIGFyZ3ZfcHJlcGFyZWQgPSBBUkdTWzBd
LnNwbGl0KCkKICAgIGVsc2U6CiAgICAgICAgYXJndl9wcmVwYXJlZCA9IEFSR1MKCiAgICBzYWx0
X2FyZ3YgPSBbCiAgICAgICAgc3lzLmV4ZWN1dGFibGUsCiAgICAgICAgc2FsdF9jYWxsX3BhdGgs
CiAgICAgICAgJy0tcmV0Y29kZS1wYXNzdGhyb3VnaCcsCiAgICAgICAgJy0tbG9jYWwnLAogICAg
ICAgICctLW1ldGFkYXRhJywKICAgICAgICAnLS1vdXQnLCAnanNvbicsCiAgICAgICAgJy1sJywg
J3F1aWV0JywKICAgICAgICAnLWMnLCBPUFRJT05TLnNhbHRkaXIsCiAgICAgICAgJy0tJywKICAg
IF0gKyBhcmd2X3ByZXBhcmVkCgogICAgc3lzLnN0ZGVyci53cml0ZSgnU0FMVF9BUkdWOiB7MH1c
bicuZm9ybWF0KHNhbHRfYXJndikpCgogICAgIyBPbmx5IGVtaXQgdGhlIGRlbGltaXRlciBvbiAq
Ym90aCogc3Rkb3V0IGFuZCBzdGRlcnIgd2hlbiBjb21wbGV0ZWx5IHN1Y2Nlc3NmdWwuCiAgICAj
IFllcywgdGhlIGZsdXNoKCkgaXMgbmVjZXNzYXJ5LgogICAgc3lzLnN0ZG91dC53cml0ZShPUFRJ
T05TLmRlbGltaXRlciArICdcbicpCiAgICBzeXMuc3Rkb3V0LmZsdXNoKCkKICAgIGlmIG5vdCBP
UFRJT05TLnR0eToKICAgICAgICBzeXMuc3RkZXJyLndyaXRlKE9QVElPTlMuZGVsaW1pdGVyICsg
J1xuJykKICAgICAgICBzeXMuc3RkZXJyLmZsdXNoKCkKICAgIGlmIE9QVElPTlMuY21kX3VtYXNr
IGlzIG5vdCBOb25lOgogICAgICAgIG9sZF91bWFzayA9IG9zLnVtYXNrKE9QVElPTlMuY21kX3Vt
YXNrKQogICAgaWYgT1BUSU9OUy50dHk6CiAgICAgICAgc3Rkb3V0LCBfID0gc3VicHJvY2Vzcy5Q
b3BlbihzYWx0X2FyZ3YsIHN0ZG91dD1zdWJwcm9jZXNzLlBJUEUsIHN0ZGVycj1zdWJwcm9jZXNz
LlBJUEUpLmNvbW11bmljYXRlKCkKICAgICAgICBzeXMuc3Rkb3V0LndyaXRlKHN0ZG91dCkKICAg
ICAgICBzeXMuc3Rkb3V0LmZsdXNoKCkKICAgICAgICBpZiBPUFRJT05TLndpcGU6CiAgICAgICAg
ICAgIHNodXRpbC5ybXRyZWUoT1BUSU9OUy5zYWx0ZGlyKQogICAgZWxpZiBPUFRJT05TLndpcGU6
CiAgICAgICAgc3VicHJvY2Vzcy5jYWxsKHNhbHRfYXJndikKICAgICAgICBzaHV0aWwucm10cmVl
KE9QVElPTlMuc2FsdGRpcikKICAgIGVsc2U6CiAgICAgICAgb3MuZXhlY3Yoc3lzLmV4ZWN1dGFi
bGUsIHNhbHRfYXJndikKICAgIGlmIE9QVElPTlMuY21kX3VtYXNrIGlzIG5vdCBOb25lOgogICAg
ICAgIG9zLnVtYXNrKG9sZF91bWFzaykKCmlmIF9fbmFtZV9fID09ICdfX21haW5fXyc6CiAgICBz
eXMuZXhpdChtYWluKHN5cy5hcmd2KSkK
""").decode("utf-8"))'
else
exec $SUDO "$py_cmd_path" -c \
'import base64;
exec(base64.b64decode("""IyBweWxpbnQ6IGRpc2FibGU9Vzk5MDMKJycnClRoaXMgaXMgYSBzaGltIHRoYXQgaGFuZGxlcyBj
aGVja2luZyBhbmQgdXBkYXRpbmcgc2FsdCB0aGluIGFuZAp0aGVuIGludm9raW5nIHRoaW4uCgpU
aGlzIGlzIG5vdCBpbnRlbmRlZCB0byBiZSBpbnN0YW50aWF0ZWQgYXMgYSBtb2R1bGUsIHJhdGhl
ciBpdCBpcyBhCmhlbHBlciBzY3JpcHQgdXNlZCBieSBzYWx0LmNsaWVudC5zc2guU2luZ2xlLiAg
SXQgaXMgaGVyZSwgaW4gYQpzZXBhcmF0ZSBmaWxlLCBmb3IgY29udmVuaWVuY2Ugb2YgZGV2ZWxv
cG1lbnQuCicnJwoKZnJvbSBfX2Z1dHVyZV9fIGltcG9ydCBhYnNvbHV0ZV9pbXBvcnQKCmltcG9y
dCBoYXNobGliCmltcG9ydCB0YXJmaWxlCmltcG9ydCBzaHV0aWwKaW1wb3J0IHN5cwppbXBvcnQg
b3MKaW1wb3J0IHN0YXQKaW1wb3J0IHN1YnByb2Nlc3MKClRISU5fQVJDSElWRSA9ICdzYWx0LXRo
aW4udGd6JwpFWFRfQVJDSElWRSA9ICdzYWx0LWV4dF9tb2RzLnRneicKCiMgS2VlcCB0aGVzZSBp
biBzeW5jIHdpdGggc2FsdC9kZWZhdWx0cy9leGl0Y29kZXMucHkKRVhfVEhJTl9ERVBMT1kgPSAx
MQpFWF9USElOX0NIRUNLU1VNID0gMTIKRVhfTU9EX0RFUExPWSA9IDEzCkVYX1NDUF9OT1RfRk9V
TkQgPSAxNApFWF9DQU5UQ1JFQVQgPSA3MwoKCmNsYXNzIE9CSihvYmplY3QpOgogICAgIiIiQW4g
ZW1wdHkgY2xhc3MgZm9yIGhvbGRpbmcgaW5zdGFuY2UgYXR0cmlidXRlIHZhbHVlcy4iIiIKICAg
IHBhc3MKCgpPUFRJT05TID0gTm9uZQpBUkdTID0gTm9uZQojIFRoZSBiZWxvdyBsaW5lIGlzIHdo
ZXJlIE9QVElPTlMgY2FuIGJlIHJlZGVmaW5lZCB3aXRoIGludGVybmFsIG9wdGlvbnMKIyAocmF0
aGVyIHRoYW4gY2xpIGFyZ3VtZW50cykgd2hlbiB0aGUgc2hpbSBpcyBidW5kbGVkIGJ5CiMgY2xp
ZW50LnNzaC5TaW5nbGUuX2NtZF9zdHIoKQojIHB5bGludDogZGlzYWJsZT1ibG9jay1jb21tZW50
LXNob3VsZC1zdGFydC13aXRoLWNhcmRpbmFsLXNwYWNlCgpPUFRJT05TID0gT0JKKCkKT1BUSU9O
Uy5jb25maWcgPSAiIiIKe2ZpbGVzZXJ2ZXJfbGlzdF9jYWNoZV90aW1lOiAzLCBncmFpbnNfY2Fj
aGU6IHRydWUsIGlkOiBsb2NhbCwgbG9nX2ZpbGU6IHNhbHQtY2FsbC5sb2csCiAgcm9vdF9kaXI6
IC92YXIvdG1wLy5zYWx0LW9wZV8xYTM1MzJfc2FsdC9ydW5uaW5nX2RhdGEsIHNvY2tfZGlyOiAv
fQoiIiIKT1BUSU9OUy5kZWxpbWl0ZXIgPSAnX2VkYmM3ODg1ZTRmOWFhYzliODNiMzU5OTliNjhk
MDE1MTQ4Y2FmNDY3Yjc4ZmEzOWMwNWY2NjljMGZmODk4NzgnCk9QVElPTlMuc2FsdGRpciA9ICcv
dmFyL3RtcC8uc2FsdC1vcGVfMWEzNTMyX3NhbHQnCk9QVElPTlMuY2hlY2tzdW0gPSAnMmUyNWZj
YmI2YWEyNTU5OWQ1MmU4OTVkZTZlMjExOTZkNWM2ZTU5NScKT1BUSU9OUy5oYXNoZnVuYyA9ICdz
aGExJwpPUFRJT05TLnZlcnNpb24gPSAnMjAxNi4zLjInCk9QVElPTlMuZXh0X21vZHMgPSAnJwpP
UFRJT05TLndpcGUgPSBGYWxzZQpPUFRJT05TLnR0eSA9IEZhbHNlCk9QVElPTlMuY21kX3VtYXNr
ID0gTm9uZQpBUkdTID0gWyd0ZXN0Lm9wdHNfcGtnJ10KCgoKZGVmIG5lZWRfZGVwbG95bWVudCgp
OgogICAgIiIiCiAgICBTYWx0IHRoaW4gbmVlZHMgdG8gYmUgZGVwbG95ZWQgLSBwcmVwIHRoZSB0
YXJnZXQgZGlyZWN0b3J5IGFuZCBlbWl0IHRoZQogICAgZGVsaW1ldGVyIGFuZCBleGl0IGNvZGUg
dGhhdCBzaWduYWxzIGEgcmVxdWlyZWQgZGVwbG95bWVudC4KICAgICIiIgogICAgaWYgb3MucGF0
aC5leGlzdHMoT1BUSU9OUy5zYWx0ZGlyKToKICAgICAgICBzaHV0aWwucm10cmVlKE9QVElPTlMu
c2FsdGRpcikKICAgIG9sZF91bWFzayA9IG9zLnVtYXNrKDBvMDc3KQogICAgb3MubWFrZWRpcnMo
T1BUSU9OUy5zYWx0ZGlyKQogICAgb3MudW1hc2sob2xkX3VtYXNrKQogICAgIyBWZXJpZnkgcGVy
bXMgb24gc2FsdGRpcgogICAgZXVpZCA9IG9zLmdldGV1aWQoKQogICAgZHN0YXQgPSBvcy5zdGF0
KE9QVElPTlMuc2FsdGRpcikKICAgIGlmIGRzdGF0LnN0X3VpZCAhPSBldWlkOgogICAgICAgICMg
QXR0YWNrIGRldGVjdGVkLCB0cnkgYWdhaW4KICAgICAgICBuZWVkX2RlcGxveW1lbnQoKQogICAg
aWYgZHN0YXQuc3RfbW9kZSAhPSAxNjgzMjoKICAgICAgICAjIEF0dGFjayBkZXRlY3RlZAogICAg
ICAgIG5lZWRfZGVwbG95bWVudCgpCiAgICAjIElmIFNVRE9pbmcgdGhlbiBhbHNvIGdpdmUgdGhl
IHN1cGVyIHVzZXIgZ3JvdXAgd3JpdGUgcGVybWlzc2lvbnMKICAgIHN1ZG9fZ2lkID0gb3MuZW52
aXJvbi5nZXQoJ1NVRE9fR0lEJykKICAgIGlmIHN1ZG9fZ2lkOgogICAgICAgIG9zLmNob3duKE9Q
VElPTlMuc2FsdGRpciwgLTEsIGludChzdWRvX2dpZCkpCiAgICAgICAgc3R0ID0gb3Muc3RhdChP
UFRJT05TLnNhbHRkaXIpCiAgICAgICAgb3MuY2htb2QoT1BUSU9OUy5zYWx0ZGlyLCBzdHQuc3Rf
bW9kZSB8IHN0YXQuU19JV0dSUCB8IHN0YXQuU19JUkdSUCB8IHN0YXQuU19JWEdSUCkKCiAgICAj
IERlbGltaXRlciBlbWl0dGVkIG9uIHN0ZG91dCAqb25seSogdG8gaW5kaWNhdGUgc2hpbSBtZXNz
YWdlIHRvIG1hc3Rlci4KICAgIHN5cy5zdGRvdXQud3JpdGUoInswfVxuZGVwbG95XG4iLmZvcm1h
dChPUFRJT05TLmRlbGltaXRlcikpCiAgICBzeXMuZXhpdChFWF9USElOX0RFUExPWSkKCgojIEFk
YXB0ZWQgZnJvbSBzYWx0LnV0aWxzLmdldF9oYXNoKCkKZGVmIGdldF9oYXNoKHBhdGgsIGZvcm09
J3NoYTEnLCBjaHVua19zaXplPTQwOTYpOgogICAgIiIiR2VuZXJhdGUgYSBoYXNoIGRpZ2VzdCBz
dHJpbmcgZm9yIGEgZmlsZS4iIiIKICAgIHRyeToKICAgICAgICBoYXNoX3R5cGUgPSBnZXRhdHRy
KGhhc2hsaWIsIGZvcm0pCiAgICBleGNlcHQgQXR0cmlidXRlRXJyb3I6CiAgICAgICAgcmFpc2Ug
VmFsdWVFcnJvcignSW52YWxpZCBoYXNoIHR5cGU6IHswfScuZm9ybWF0KGZvcm0pKQogICAgd2l0
aCBvcGVuKHBhdGgsICdyYicpIGFzIGlmaWxlOgogICAgICAgIGhhc2hfb2JqID0gaGFzaF90eXBl
KCkKICAgICAgICAjIHJlYWQgdGhlIGZpbGUgaW4gaW4gY2h1bmtzLCBub3QgdGhlIGVudGlyZSBm
aWxlCiAgICAgICAgZm9yIGNodW5rIGluIGl0ZXIobGFtYmRhOiBpZmlsZS5yZWFkKGNodW5rX3Np
emUpLCBiJycpOgogICAgICAgICAgICBoYXNoX29iai51cGRhdGUoY2h1bmspCiAgICAgICAgcmV0
dXJuIGhhc2hfb2JqLmhleGRpZ2VzdCgpCgoKZGVmIHVucGFja190aGluKHRoaW5fcGF0aCk6CiAg
ICAiIiJVbnBhY2sgdGhlIFNhbHQgdGhpbiBhcmNoaXZlLiIiIgogICAgdGZpbGUgPSB0YXJmaWxl
LlRhckZpbGUuZ3pvcGVuKHRoaW5fcGF0aCkKICAgIG9sZF91bWFzayA9IG9zLnVtYXNrKDBvMDc3
KQogICAgdGZpbGUuZXh0cmFjdGFsbChwYXRoPU9QVElPTlMuc2FsdGRpcikKICAgIHRmaWxlLmNs
b3NlKCkKICAgIG9zLnVtYXNrKG9sZF91bWFzaykKICAgIG9zLnVubGluayh0aGluX3BhdGgpCgoK
ZGVmIG5lZWRfZXh0KCk6CiAgICAiIiJTaWduYWwgdGhhdCBleHRlcm5hbCBtb2R1bGVzIG5lZWQg
dG8gYmUgZGVwbG95ZWQuIiIiCiAgICBzeXMuc3Rkb3V0LndyaXRlKCJ7MH1cbmV4dF9tb2RzXG4i
LmZvcm1hdChPUFRJT05TLmRlbGltaXRlcikpCiAgICBzeXMuZXhpdChFWF9NT0RfREVQTE9ZKQoK
CmRlZiB1bnBhY2tfZXh0KGV4dF9wYXRoKToKICAgICIiIlVucGFjayB0aGUgZXh0ZXJuYWwgbW9k
dWxlcy4iIiIKICAgIG1vZGNhY2hlID0gb3MucGF0aC5qb2luKAogICAgICAgICAgICBPUFRJT05T
LnNhbHRkaXIsCiAgICAgICAgICAgICdydW5uaW5nX2RhdGEnLAogICAgICAgICAgICAndmFyJywK
ICAgICAgICAgICAgJ2NhY2hlJywKICAgICAgICAgICAgJ3NhbHQnLAogICAgICAgICAgICAnbWlu
aW9uJywKICAgICAgICAgICAgJ2V4dG1vZHMnKQogICAgdGZpbGUgPSB0YXJmaWxlLlRhckZpbGUu
Z3pvcGVuKGV4dF9wYXRoKQogICAgb2xkX3VtYXNrID0gb3MudW1hc2soMG8wNzcpCiAgICB0Zmls
ZS5leHRyYWN0YWxsKHBhdGg9bW9kY2FjaGUpCiAgICB0ZmlsZS5jbG9zZSgpCiAgICBvcy51bWFz
ayhvbGRfdW1hc2spCiAgICBvcy51bmxpbmsoZXh0X3BhdGgpCiAgICB2ZXJfcGF0aCA9IG9zLnBh
dGguam9pbihtb2RjYWNoZSwgJ2V4dF92ZXJzaW9uJykKICAgIHZlcl9kc3QgPSBvcy5wYXRoLmpv
aW4oT1BUSU9OUy5zYWx0ZGlyLCAnZXh0X3ZlcnNpb24nKQogICAgc2h1dGlsLm1vdmUodmVyX3Bh
dGgsIHZlcl9kc3QpCgoKZGVmIG1haW4oYXJndik6ICAjIHB5bGludDogZGlzYWJsZT1XMDYxMwog
ICAgIiIiTWFpbiBwcm9ncmFtIGJvZHkiIiIKICAgIHRoaW5fcGF0aCA9IG9zLnBhdGguam9pbihP
UFRJT05TLnNhbHRkaXIsIFRISU5fQVJDSElWRSkKICAgIGlmIG9zLnBhdGguaXNmaWxlKHRoaW5f
cGF0aCk6CiAgICAgICAgaWYgT1BUSU9OUy5jaGVja3N1bSAhPSBnZXRfaGFzaCh0aGluX3BhdGgs
IE9QVElPTlMuaGFzaGZ1bmMpOgogICAgICAgICAgICBzeXMuc3RkZXJyLndyaXRlKCd7MH1cbicu
Zm9ybWF0KE9QVElPTlMuY2hlY2tzdW0pKQogICAgICAgICAgICBzeXMuc3RkZXJyLndyaXRlKCd7
MH1cbicuZm9ybWF0KGdldF9oYXNoKHRoaW5fcGF0aCwgT1BUSU9OUy5oYXNoZnVuYykpKQogICAg
ICAgICAgICBvcy51bmxpbmsodGhpbl9wYXRoKQogICAgICAgICAgICBzeXMuc3RkZXJyLndyaXRl
KCdXQVJOSU5HOiBjaGVja3N1bSBtaXNtYXRjaCBmb3IgInswfSJcbicuZm9ybWF0KHRoaW5fcGF0
aCkpCiAgICAgICAgICAgIHN5cy5leGl0KEVYX1RISU5fQ0hFQ0tTVU0pCiAgICAgICAgdW5wYWNr
X3RoaW4odGhpbl9wYXRoKQogICAgICAgICMgU2FsdCB0aGluIG5vdyBpcyBhdmFpbGFibGUgdG8g
dXNlCiAgICBlbHNlOgogICAgICAgIHNjcHN0YXQgPSBzdWJwcm9jZXNzLlBvcGVuKFsnL2Jpbi9z
aCcsICctYycsICdjb21tYW5kIC12IHNjcCddKS53YWl0KCkKICAgICAgICBpZiBzY3BzdGF0ICE9
IDA6CiAgICAgICAgICAgIHN5cy5leGl0KEVYX1NDUF9OT1RfRk9VTkQpCgogICAgICAgIGlmIG5v
dCBvcy5wYXRoLmV4aXN0cyhPUFRJT05TLnNhbHRkaXIpOgogICAgICAgICAgICBuZWVkX2RlcGxv
eW1lbnQoKQoKICAgICAgICBpZiBub3Qgb3MucGF0aC5pc2RpcihPUFRJT05TLnNhbHRkaXIpOgog
ICAgICAgICAgICBzeXMuc3RkZXJyLndyaXRlKAogICAgICAgICAgICAgICAgJ0VSUk9SOiBzYWx0
IHBhdGggInswfSIgZXhpc3RzIGJ1dCBpcycKICAgICAgICAgICAgICAgICcgbm90IGEgZGlyZWN0
b3J5XG4nLmZvcm1hdChPUFRJT05TLnNhbHRkaXIpCiAgICAgICAgICAgICkKICAgICAgICAgICAg
c3lzLmV4aXQoRVhfQ0FOVENSRUFUKQoKICAgICAgICB2ZXJzaW9uX3BhdGggPSBvcy5wYXRoLmpv
aW4oT1BUSU9OUy5zYWx0ZGlyLCAndmVyc2lvbicpCiAgICAgICAgaWYgbm90IG9zLnBhdGguZXhp
c3RzKHZlcnNpb25fcGF0aCkgb3Igbm90IG9zLnBhdGguaXNmaWxlKHZlcnNpb25fcGF0aCk6CiAg
ICAgICAgICAgIHN5cy5zdGRlcnIud3JpdGUoCiAgICAgICAgICAgICAgICAnV0FSTklORzogVW5h
YmxlIHRvIGxvY2F0ZSBjdXJyZW50IHRoaW4gJwogICAgICAgICAgICAgICAgJyB2ZXJzaW9uOiB7
MH0uXG4nLmZvcm1hdCh2ZXJzaW9uX3BhdGgpCiAgICAgICAgICAgICkKICAgICAgICAgICAgbmVl
ZF9kZXBsb3ltZW50KCkKICAgICAgICB3aXRoIG9wZW4odmVyc2lvbl9wYXRoLCAncicpIGFzIHZw
bzoKICAgICAgICAgICAgY3VyX3ZlcnNpb24gPSB2cG8ucmVhZGxpbmUoKS5zdHJpcCgpCiAgICAg
ICAgaWYgY3VyX3ZlcnNpb24gIT0gT1BUSU9OUy52ZXJzaW9uOgogICAgICAgICAgICBzeXMuc3Rk
ZXJyLndyaXRlKAogICAgICAgICAgICAgICAgJ1dBUk5JTkc6IGN1cnJlbnQgdGhpbiB2ZXJzaW9u
IHswfScKICAgICAgICAgICAgICAgICcgaXMgbm90IHVwLXRvLWRhdGUgd2l0aCB7MX0uXG4nLmZv
cm1hdCgKICAgICAgICAgICAgICAgICAgICBjdXJfdmVyc2lvbiwgT1BUSU9OUy52ZXJzaW9uCiAg
ICAgICAgICAgICAgICApCiAgICAgICAgICAgICkKICAgICAgICAgICAgbmVlZF9kZXBsb3ltZW50
KCkKICAgICAgICAjIFNhbHQgdGhpbiBleGlzdHMgYW5kIGlzIHVwLXRvLWRhdGUgLSBmYWxsIHRo
cm91Z2ggYW5kIHVzZSBpdAoKICAgIHNhbHRfY2FsbF9wYXRoID0gb3MucGF0aC5qb2luKE9QVElP
TlMuc2FsdGRpciwgJ3NhbHQtY2FsbCcpCiAgICBpZiBub3Qgb3MucGF0aC5pc2ZpbGUoc2FsdF9j
YWxsX3BhdGgpOgogICAgICAgIHN5cy5zdGRlcnIud3JpdGUoJ0VSUk9SOiB0aGluIGlzIG1pc3Np
bmcgInswfSJcbicuZm9ybWF0KHNhbHRfY2FsbF9wYXRoKSkKICAgICAgICBuZWVkX2RlcGxveW1l
bnQoKQoKICAgIHdpdGggb3Blbihvcy5wYXRoLmpvaW4oT1BUSU9OUy5zYWx0ZGlyLCAnbWluaW9u
JyksICd3JykgYXMgY29uZmlnOgogICAgICAgIGNvbmZpZy53cml0ZShPUFRJT05TLmNvbmZpZyAr
ICdcbicpCiAgICBpZiBPUFRJT05TLmV4dF9tb2RzOgogICAgICAgIGV4dF9wYXRoID0gb3MucGF0
aC5qb2luKE9QVElPTlMuc2FsdGRpciwgRVhUX0FSQ0hJVkUpCiAgICAgICAgaWYgb3MucGF0aC5l
eGlzdHMoZXh0X3BhdGgpOgogICAgICAgICAgICB1bnBhY2tfZXh0KGV4dF9wYXRoKQogICAgICAg
IGVsc2U6CiAgICAgICAgICAgIHZlcnNpb25fcGF0aCA9IG9zLnBhdGguam9pbihPUFRJT05TLnNh
bHRkaXIsICdleHRfdmVyc2lvbicpCiAgICAgICAgICAgIGlmIG5vdCBvcy5wYXRoLmV4aXN0cyh2
ZXJzaW9uX3BhdGgpIG9yIG5vdCBvcy5wYXRoLmlzZmlsZSh2ZXJzaW9uX3BhdGgpOgogICAgICAg
ICAgICAgICAgbmVlZF9leHQoKQogICAgICAgICAgICB3aXRoIG9wZW4odmVyc2lvbl9wYXRoLCAn
cicpIGFzIHZwbzoKICAgICAgICAgICAgICAgIGN1cl92ZXJzaW9uID0gdnBvLnJlYWRsaW5lKCku
c3RyaXAoKQogICAgICAgICAgICBpZiBjdXJfdmVyc2lvbiAhPSBPUFRJT05TLmV4dF9tb2RzOgog
ICAgICAgICAgICAgICAgbmVlZF9leHQoKQogICAgIyBGaXggcGFyYW1ldGVyIHBhc3NpbmcgaXNz
dWUKICAgIGlmIGxlbihBUkdTKSA9PSAxOgogICAgICAgIGFyZ3ZfcHJlcGFyZWQgPSBBUkdTWzBd
LnNwbGl0KCkKICAgIGVsc2U6CiAgICAgICAgYXJndl9wcmVwYXJlZCA9IEFSR1MKCiAgICBzYWx0
X2FyZ3YgPSBbCiAgICAgICAgc3lzLmV4ZWN1dGFibGUsCiAgICAgICAgc2FsdF9jYWxsX3BhdGgs
CiAgICAgICAgJy0tcmV0Y29kZS1wYXNzdGhyb3VnaCcsCiAgICAgICAgJy0tbG9jYWwnLAogICAg
ICAgICctLW1ldGFkYXRhJywKICAgICAgICAnLS1vdXQnLCAnanNvbicsCiAgICAgICAgJy1sJywg
J3F1aWV0JywKICAgICAgICAnLWMnLCBPUFRJT05TLnNhbHRkaXIsCiAgICAgICAgJy0tJywKICAg
IF0gKyBhcmd2X3ByZXBhcmVkCgogICAgc3lzLnN0ZGVyci53cml0ZSgnU0FMVF9BUkdWOiB7MH1c
bicuZm9ybWF0KHNhbHRfYXJndikpCgogICAgIyBPbmx5IGVtaXQgdGhlIGRlbGltaXRlciBvbiAq
Ym90aCogc3Rkb3V0IGFuZCBzdGRlcnIgd2hlbiBjb21wbGV0ZWx5IHN1Y2Nlc3NmdWwuCiAgICAj
IFllcywgdGhlIGZsdXNoKCkgaXMgbmVjZXNzYXJ5LgogICAgc3lzLnN0ZG91dC53cml0ZShPUFRJ
T05TLmRlbGltaXRlciArICdcbicpCiAgICBzeXMuc3Rkb3V0LmZsdXNoKCkKICAgIGlmIG5vdCBP
UFRJT05TLnR0eToKICAgICAgICBzeXMuc3RkZXJyLndyaXRlKE9QVElPTlMuZGVsaW1pdGVyICsg
J1xuJykKICAgICAgICBzeXMuc3RkZXJyLmZsdXNoKCkKICAgIGlmIE9QVElPTlMuY21kX3VtYXNr
IGlzIG5vdCBOb25lOgogICAgICAgIG9sZF91bWFzayA9IG9zLnVtYXNrKE9QVElPTlMuY21kX3Vt
YXNrKQogICAgaWYgT1BUSU9OUy50dHk6CiAgICAgICAgc3Rkb3V0LCBfID0gc3VicHJvY2Vzcy5Q
b3BlbihzYWx0X2FyZ3YsIHN0ZG91dD1zdWJwcm9jZXNzLlBJUEUsIHN0ZGVycj1zdWJwcm9jZXNz
LlBJUEUpLmNvbW11bmljYXRlKCkKICAgICAgICBzeXMuc3Rkb3V0LndyaXRlKHN0ZG91dCkKICAg
ICAgICBzeXMuc3Rkb3V0LmZsdXNoKCkKICAgICAgICBpZiBPUFRJT05TLndpcGU6CiAgICAgICAg
ICAgIHNodXRpbC5ybXRyZWUoT1BUSU9OUy5zYWx0ZGlyKQogICAgZWxpZiBPUFRJT05TLndpcGU6
CiAgICAgICAgc3VicHJvY2Vzcy5jYWxsKHNhbHRfYXJndikKICAgICAgICBzaHV0aWwucm10cmVl
KE9QVElPTlMuc2FsdGRpcikKICAgIGVsc2U6CiAgICAgICAgb3MuZXhlY3Yoc3lzLmV4ZWN1dGFi
bGUsIHNhbHRfYXJndikKICAgIGlmIE9QVElPTlMuY21kX3VtYXNrIGlzIG5vdCBOb25lOgogICAg
ICAgIG9zLnVtYXNrKG9sZF91bWFzaykKCmlmIF9fbmFtZV9fID09ICdfX21haW5fXyc6CiAgICBz
eXMuZXhpdChtYWluKHN5cy5hcmd2KSkK
""").decode("utf-8"))'
fi
exit 0
else
continue
fi
done
echo "ERROR: Unable to locate appropriate python command" >&2
exit $EX_PYTHON_INVALID
EOF
2016-08-27 20:51:53,739 [salt.utils.vt    ][DEBUG   ][7069] Child Forked! PID: 7106  STDOUT_FD: 9  STDERR_FD: 11
2016-08-27 20:51:53,744 [salt.utils.vt    ][DEBUG   ][7069] VT: Salt-SSH SHIM Terminal Command executed. Logged to TRACE
2016-08-27 20:51:53,744 [salt.utils.vt    ][TRACE   ][7069] Terminal Command: /bin/sh -c ssh 127.0.0.1  -o KbdInteractiveAuthentication=no -o PasswordAuthentication=yes -o GSSAPIAuthentication=no -o ConnectTimeout=65 -o Port=22 -o IdentityFile=/root/saltstack_master/etc/salt/pki/master/ssh/salt-ssh.rsa -o User=salt-ope  /bin/sh << 'EOF'
set -e
set -u
DEBUG="1"
if [ -n "$DEBUG" ]
then set -x
fi
SUDO=""
if [ -n "sudo" ]
then SUDO="sudo "
fi
EX_PYTHON_INVALID=10
PYTHON_CMDS="python3 python27 python2.7 python26 python2.6 python2 python"
for py_cmd in $PYTHON_CMDS
do
if command -v "$py_cmd" >/dev/null 2>&1 && "$py_cmd" -c \
"import sys; sys.exit(not (sys.version_info >= (2, 6)
and sys.version_info[0] == 2));"
then
py_cmd_path=`"$py_cmd" -c \
'from __future__ import print_function;
import sys; print(sys.executable);'`
cmdpath=$(which $py_cmd 2>&1)
if file $cmdpath | grep "shell script" > /dev/null
then
ex_vars="'PATH', 'LD_LIBRARY_PATH', 'MANPATH', \
'XDG_DATA_DIRS', 'PKG_CONFIG_PATH'"
export $($py_cmd -c \
"from __future__ import print_function;
import sys;
import os;
map(sys.stdout.write, ['{0}={1} ' \
.format(x, os.environ[x]) for x in [$ex_vars]])")
exec $SUDO PATH=$PATH LD_LIBRARY_PATH=$LD_LIBRARY_PATH \
MANPATH=$MANPATH XDG_DATA_DIRS=$XDG_DATA_DIRS \
PKG_CONFIG_PATH=$PKG_CONFIG_PATH \
"$py_cmd_path" -c \
'import base64;
exec(base64.b64decode("""IyBweWxpbnQ6IGRpc2FibGU9Vzk5MDMKJycnClRoaXMgaXMgYSBzaGltIHRoYXQgaGFuZGxlcyBj
aGVja2luZyBhbmQgdXBkYXRpbmcgc2FsdCB0aGluIGFuZAp0aGVuIGludm9raW5nIHRoaW4uCgpU
aGlzIGlzIG5vdCBpbnRlbmRlZCB0byBiZSBpbnN0YW50aWF0ZWQgYXMgYSBtb2R1bGUsIHJhdGhl
ciBpdCBpcyBhCmhlbHBlciBzY3JpcHQgdXNlZCBieSBzYWx0LmNsaWVudC5zc2guU2luZ2xlLiAg
SXQgaXMgaGVyZSwgaW4gYQpzZXBhcmF0ZSBmaWxlLCBmb3IgY29udmVuaWVuY2Ugb2YgZGV2ZWxv
cG1lbnQuCicnJwoKZnJvbSBfX2Z1dHVyZV9fIGltcG9ydCBhYnNvbHV0ZV9pbXBvcnQKCmltcG9y
dCBoYXNobGliCmltcG9ydCB0YXJmaWxlCmltcG9ydCBzaHV0aWwKaW1wb3J0IHN5cwppbXBvcnQg
b3MKaW1wb3J0IHN0YXQKaW1wb3J0IHN1YnByb2Nlc3MKClRISU5fQVJDSElWRSA9ICdzYWx0LXRo
aW4udGd6JwpFWFRfQVJDSElWRSA9ICdzYWx0LWV4dF9tb2RzLnRneicKCiMgS2VlcCB0aGVzZSBp
biBzeW5jIHdpdGggc2FsdC9kZWZhdWx0cy9leGl0Y29kZXMucHkKRVhfVEhJTl9ERVBMT1kgPSAx
MQpFWF9USElOX0NIRUNLU1VNID0gMTIKRVhfTU9EX0RFUExPWSA9IDEzCkVYX1NDUF9OT1RfRk9V
TkQgPSAxNApFWF9DQU5UQ1JFQVQgPSA3MwoKCmNsYXNzIE9CSihvYmplY3QpOgogICAgIiIiQW4g
ZW1wdHkgY2xhc3MgZm9yIGhvbGRpbmcgaW5zdGFuY2UgYXR0cmlidXRlIHZhbHVlcy4iIiIKICAg
IHBhc3MKCgpPUFRJT05TID0gTm9uZQpBUkdTID0gTm9uZQojIFRoZSBiZWxvdyBsaW5lIGlzIHdo
ZXJlIE9QVElPTlMgY2FuIGJlIHJlZGVmaW5lZCB3aXRoIGludGVybmFsIG9wdGlvbnMKIyAocmF0
aGVyIHRoYW4gY2xpIGFyZ3VtZW50cykgd2hlbiB0aGUgc2hpbSBpcyBidW5kbGVkIGJ5CiMgY2xp
ZW50LnNzaC5TaW5nbGUuX2NtZF9zdHIoKQojIHB5bGludDogZGlzYWJsZT1ibG9jay1jb21tZW50
LXNob3VsZC1zdGFydC13aXRoLWNhcmRpbmFsLXNwYWNlCgpPUFRJT05TID0gT0JKKCkKT1BUSU9O
Uy5jb25maWcgPSAiIiIKe2ZpbGVzZXJ2ZXJfbGlzdF9jYWNoZV90aW1lOiAzLCBncmFpbnNfY2Fj
aGU6IHRydWUsIGlkOiBsb2NhbCwgbG9nX2ZpbGU6IHNhbHQtY2FsbC5sb2csCiAgcm9vdF9kaXI6
IC92YXIvdG1wLy5zYWx0LW9wZV8xYTM1MzJfc2FsdC9ydW5uaW5nX2RhdGEsIHNvY2tfZGlyOiAv
fQoiIiIKT1BUSU9OUy5kZWxpbWl0ZXIgPSAnX2VkYmM3ODg1ZTRmOWFhYzliODNiMzU5OTliNjhk
MDE1MTQ4Y2FmNDY3Yjc4ZmEzOWMwNWY2NjljMGZmODk4NzgnCk9QVElPTlMuc2FsdGRpciA9ICcv
dmFyL3RtcC8uc2FsdC1vcGVfMWEzNTMyX3NhbHQnCk9QVElPTlMuY2hlY2tzdW0gPSAnMmUyNWZj
YmI2YWEyNTU5OWQ1MmU4OTVkZTZlMjExOTZkNWM2ZTU5NScKT1BUSU9OUy5oYXNoZnVuYyA9ICdz
aGExJwpPUFRJT05TLnZlcnNpb24gPSAnMjAxNi4zLjInCk9QVElPTlMuZXh0X21vZHMgPSAnJwpP
UFRJT05TLndpcGUgPSBGYWxzZQpPUFRJT05TLnR0eSA9IEZhbHNlCk9QVElPTlMuY21kX3VtYXNr
ID0gTm9uZQpBUkdTID0gWyd0ZXN0Lm9wdHNfcGtnJ10KCgoKZGVmIG5lZWRfZGVwbG95bWVudCgp
OgogICAgIiIiCiAgICBTYWx0IHRoaW4gbmVlZHMgdG8gYmUgZGVwbG95ZWQgLSBwcmVwIHRoZSB0
YXJnZXQgZGlyZWN0b3J5IGFuZCBlbWl0IHRoZQogICAgZGVsaW1ldGVyIGFuZCBleGl0IGNvZGUg
dGhhdCBzaWduYWxzIGEgcmVxdWlyZWQgZGVwbG95bWVudC4KICAgICIiIgogICAgaWYgb3MucGF0
aC5leGlzdHMoT1BUSU9OUy5zYWx0ZGlyKToKICAgICAgICBzaHV0aWwucm10cmVlKE9QVElPTlMu
c2FsdGRpcikKICAgIG9sZF91bWFzayA9IG9zLnVtYXNrKDBvMDc3KQogICAgb3MubWFrZWRpcnMo
T1BUSU9OUy5zYWx0ZGlyKQogICAgb3MudW1hc2sob2xkX3VtYXNrKQogICAgIyBWZXJpZnkgcGVy
bXMgb24gc2FsdGRpcgogICAgZXVpZCA9IG9zLmdldGV1aWQoKQogICAgZHN0YXQgPSBvcy5zdGF0
KE9QVElPTlMuc2FsdGRpcikKICAgIGlmIGRzdGF0LnN0X3VpZCAhPSBldWlkOgogICAgICAgICMg
QXR0YWNrIGRldGVjdGVkLCB0cnkgYWdhaW4KICAgICAgICBuZWVkX2RlcGxveW1lbnQoKQogICAg
aWYgZHN0YXQuc3RfbW9kZSAhPSAxNjgzMjoKICAgICAgICAjIEF0dGFjayBkZXRlY3RlZAogICAg
ICAgIG5lZWRfZGVwbG95bWVudCgpCiAgICAjIElmIFNVRE9pbmcgdGhlbiBhbHNvIGdpdmUgdGhl
IHN1cGVyIHVzZXIgZ3JvdXAgd3JpdGUgcGVybWlzc2lvbnMKICAgIHN1ZG9fZ2lkID0gb3MuZW52
aXJvbi5nZXQoJ1NVRE9fR0lEJykKICAgIGlmIHN1ZG9fZ2lkOgogICAgICAgIG9zLmNob3duKE9Q
VElPTlMuc2FsdGRpciwgLTEsIGludChzdWRvX2dpZCkpCiAgICAgICAgc3R0ID0gb3Muc3RhdChP
UFRJT05TLnNhbHRkaXIpCiAgICAgICAgb3MuY2htb2QoT1BUSU9OUy5zYWx0ZGlyLCBzdHQuc3Rf
bW9kZSB8IHN0YXQuU19JV0dSUCB8IHN0YXQuU19JUkdSUCB8IHN0YXQuU19JWEdSUCkKCiAgICAj
IERlbGltaXRlciBlbWl0dGVkIG9uIHN0ZG91dCAqb25seSogdG8gaW5kaWNhdGUgc2hpbSBtZXNz
YWdlIHRvIG1hc3Rlci4KICAgIHN5cy5zdGRvdXQud3JpdGUoInswfVxuZGVwbG95XG4iLmZvcm1h
dChPUFRJT05TLmRlbGltaXRlcikpCiAgICBzeXMuZXhpdChFWF9USElOX0RFUExPWSkKCgojIEFk
YXB0ZWQgZnJvbSBzYWx0LnV0aWxzLmdldF9oYXNoKCkKZGVmIGdldF9oYXNoKHBhdGgsIGZvcm09
J3NoYTEnLCBjaHVua19zaXplPTQwOTYpOgogICAgIiIiR2VuZXJhdGUgYSBoYXNoIGRpZ2VzdCBz
dHJpbmcgZm9yIGEgZmlsZS4iIiIKICAgIHRyeToKICAgICAgICBoYXNoX3R5cGUgPSBnZXRhdHRy
KGhhc2hsaWIsIGZvcm0pCiAgICBleGNlcHQgQXR0cmlidXRlRXJyb3I6CiAgICAgICAgcmFpc2Ug
VmFsdWVFcnJvcignSW52YWxpZCBoYXNoIHR5cGU6IHswfScuZm9ybWF0KGZvcm0pKQogICAgd2l0
aCBvcGVuKHBhdGgsICdyYicpIGFzIGlmaWxlOgogICAgICAgIGhhc2hfb2JqID0gaGFzaF90eXBl
KCkKICAgICAgICAjIHJlYWQgdGhlIGZpbGUgaW4gaW4gY2h1bmtzLCBub3QgdGhlIGVudGlyZSBm
aWxlCiAgICAgICAgZm9yIGNodW5rIGluIGl0ZXIobGFtYmRhOiBpZmlsZS5yZWFkKGNodW5rX3Np
emUpLCBiJycpOgogICAgICAgICAgICBoYXNoX29iai51cGRhdGUoY2h1bmspCiAgICAgICAgcmV0
dXJuIGhhc2hfb2JqLmhleGRpZ2VzdCgpCgoKZGVmIHVucGFja190aGluKHRoaW5fcGF0aCk6CiAg
ICAiIiJVbnBhY2sgdGhlIFNhbHQgdGhpbiBhcmNoaXZlLiIiIgogICAgdGZpbGUgPSB0YXJmaWxl
LlRhckZpbGUuZ3pvcGVuKHRoaW5fcGF0aCkKICAgIG9sZF91bWFzayA9IG9zLnVtYXNrKDBvMDc3
KQogICAgdGZpbGUuZXh0cmFjdGFsbChwYXRoPU9QVElPTlMuc2FsdGRpcikKICAgIHRmaWxlLmNs
b3NlKCkKICAgIG9zLnVtYXNrKG9sZF91bWFzaykKICAgIG9zLnVubGluayh0aGluX3BhdGgpCgoK
ZGVmIG5lZWRfZXh0KCk6CiAgICAiIiJTaWduYWwgdGhhdCBleHRlcm5hbCBtb2R1bGVzIG5lZWQg
dG8gYmUgZGVwbG95ZWQuIiIiCiAgICBzeXMuc3Rkb3V0LndyaXRlKCJ7MH1cbmV4dF9tb2RzXG4i
LmZvcm1hdChPUFRJT05TLmRlbGltaXRlcikpCiAgICBzeXMuZXhpdChFWF9NT0RfREVQTE9ZKQoK
CmRlZiB1bnBhY2tfZXh0KGV4dF9wYXRoKToKICAgICIiIlVucGFjayB0aGUgZXh0ZXJuYWwgbW9k
dWxlcy4iIiIKICAgIG1vZGNhY2hlID0gb3MucGF0aC5qb2luKAogICAgICAgICAgICBPUFRJT05T
LnNhbHRkaXIsCiAgICAgICAgICAgICdydW5uaW5nX2RhdGEnLAogICAgICAgICAgICAndmFyJywK
ICAgICAgICAgICAgJ2NhY2hlJywKICAgICAgICAgICAgJ3NhbHQnLAogICAgICAgICAgICAnbWlu
aW9uJywKICAgICAgICAgICAgJ2V4dG1vZHMnKQogICAgdGZpbGUgPSB0YXJmaWxlLlRhckZpbGUu
Z3pvcGVuKGV4dF9wYXRoKQogICAgb2xkX3VtYXNrID0gb3MudW1hc2soMG8wNzcpCiAgICB0Zmls
ZS5leHRyYWN0YWxsKHBhdGg9bW9kY2FjaGUpCiAgICB0ZmlsZS5jbG9zZSgpCiAgICBvcy51bWFz
ayhvbGRfdW1hc2spCiAgICBvcy51bmxpbmsoZXh0X3BhdGgpCiAgICB2ZXJfcGF0aCA9IG9zLnBh
dGguam9pbihtb2RjYWNoZSwgJ2V4dF92ZXJzaW9uJykKICAgIHZlcl9kc3QgPSBvcy5wYXRoLmpv
aW4oT1BUSU9OUy5zYWx0ZGlyLCAnZXh0X3ZlcnNpb24nKQogICAgc2h1dGlsLm1vdmUodmVyX3Bh
dGgsIHZlcl9kc3QpCgoKZGVmIG1haW4oYXJndik6ICAjIHB5bGludDogZGlzYWJsZT1XMDYxMwog
ICAgIiIiTWFpbiBwcm9ncmFtIGJvZHkiIiIKICAgIHRoaW5fcGF0aCA9IG9zLnBhdGguam9pbihP
UFRJT05TLnNhbHRkaXIsIFRISU5fQVJDSElWRSkKICAgIGlmIG9zLnBhdGguaXNmaWxlKHRoaW5f
cGF0aCk6CiAgICAgICAgaWYgT1BUSU9OUy5jaGVja3N1bSAhPSBnZXRfaGFzaCh0aGluX3BhdGgs
IE9QVElPTlMuaGFzaGZ1bmMpOgogICAgICAgICAgICBzeXMuc3RkZXJyLndyaXRlKCd7MH1cbicu
Zm9ybWF0KE9QVElPTlMuY2hlY2tzdW0pKQogICAgICAgICAgICBzeXMuc3RkZXJyLndyaXRlKCd7
MH1cbicuZm9ybWF0KGdldF9oYXNoKHRoaW5fcGF0aCwgT1BUSU9OUy5oYXNoZnVuYykpKQogICAg
ICAgICAgICBvcy51bmxpbmsodGhpbl9wYXRoKQogICAgICAgICAgICBzeXMuc3RkZXJyLndyaXRl
KCdXQVJOSU5HOiBjaGVja3N1bSBtaXNtYXRjaCBmb3IgInswfSJcbicuZm9ybWF0KHRoaW5fcGF0
aCkpCiAgICAgICAgICAgIHN5cy5leGl0KEVYX1RISU5fQ0hFQ0tTVU0pCiAgICAgICAgdW5wYWNr
X3RoaW4odGhpbl9wYXRoKQogICAgICAgICMgU2FsdCB0aGluIG5vdyBpcyBhdmFpbGFibGUgdG8g
dXNlCiAgICBlbHNlOgogICAgICAgIHNjcHN0YXQgPSBzdWJwcm9jZXNzLlBvcGVuKFsnL2Jpbi9z
aCcsICctYycsICdjb21tYW5kIC12IHNjcCddKS53YWl0KCkKICAgICAgICBpZiBzY3BzdGF0ICE9
IDA6CiAgICAgICAgICAgIHN5cy5leGl0KEVYX1NDUF9OT1RfRk9VTkQpCgogICAgICAgIGlmIG5v
dCBvcy5wYXRoLmV4aXN0cyhPUFRJT05TLnNhbHRkaXIpOgogICAgICAgICAgICBuZWVkX2RlcGxv
eW1lbnQoKQoKICAgICAgICBpZiBub3Qgb3MucGF0aC5pc2RpcihPUFRJT05TLnNhbHRkaXIpOgog
ICAgICAgICAgICBzeXMuc3RkZXJyLndyaXRlKAogICAgICAgICAgICAgICAgJ0VSUk9SOiBzYWx0
IHBhdGggInswfSIgZXhpc3RzIGJ1dCBpcycKICAgICAgICAgICAgICAgICcgbm90IGEgZGlyZWN0
b3J5XG4nLmZvcm1hdChPUFRJT05TLnNhbHRkaXIpCiAgICAgICAgICAgICkKICAgICAgICAgICAg
c3lzLmV4aXQoRVhfQ0FOVENSRUFUKQoKICAgICAgICB2ZXJzaW9uX3BhdGggPSBvcy5wYXRoLmpv
aW4oT1BUSU9OUy5zYWx0ZGlyLCAndmVyc2lvbicpCiAgICAgICAgaWYgbm90IG9zLnBhdGguZXhp
c3RzKHZlcnNpb25fcGF0aCkgb3Igbm90IG9zLnBhdGguaXNmaWxlKHZlcnNpb25fcGF0aCk6CiAg
ICAgICAgICAgIHN5cy5zdGRlcnIud3JpdGUoCiAgICAgICAgICAgICAgICAnV0FSTklORzogVW5h
YmxlIHRvIGxvY2F0ZSBjdXJyZW50IHRoaW4gJwogICAgICAgICAgICAgICAgJyB2ZXJzaW9uOiB7
MH0uXG4nLmZvcm1hdCh2ZXJzaW9uX3BhdGgpCiAgICAgICAgICAgICkKICAgICAgICAgICAgbmVl
ZF9kZXBsb3ltZW50KCkKICAgICAgICB3aXRoIG9wZW4odmVyc2lvbl9wYXRoLCAncicpIGFzIHZw
bzoKICAgICAgICAgICAgY3VyX3ZlcnNpb24gPSB2cG8ucmVhZGxpbmUoKS5zdHJpcCgpCiAgICAg
ICAgaWYgY3VyX3ZlcnNpb24gIT0gT1BUSU9OUy52ZXJzaW9uOgogICAgICAgICAgICBzeXMuc3Rk
ZXJyLndyaXRlKAogICAgICAgICAgICAgICAgJ1dBUk5JTkc6IGN1cnJlbnQgdGhpbiB2ZXJzaW9u
IHswfScKICAgICAgICAgICAgICAgICcgaXMgbm90IHVwLXRvLWRhdGUgd2l0aCB7MX0uXG4nLmZv
cm1hdCgKICAgICAgICAgICAgICAgICAgICBjdXJfdmVyc2lvbiwgT1BUSU9OUy52ZXJzaW9uCiAg
ICAgICAgICAgICAgICApCiAgICAgICAgICAgICkKICAgICAgICAgICAgbmVlZF9kZXBsb3ltZW50
KCkKICAgICAgICAjIFNhbHQgdGhpbiBleGlzdHMgYW5kIGlzIHVwLXRvLWRhdGUgLSBmYWxsIHRo
cm91Z2ggYW5kIHVzZSBpdAoKICAgIHNhbHRfY2FsbF9wYXRoID0gb3MucGF0aC5qb2luKE9QVElP
TlMuc2FsdGRpciwgJ3NhbHQtY2FsbCcpCiAgICBpZiBub3Qgb3MucGF0aC5pc2ZpbGUoc2FsdF9j
YWxsX3BhdGgpOgogICAgICAgIHN5cy5zdGRlcnIud3JpdGUoJ0VSUk9SOiB0aGluIGlzIG1pc3Np
bmcgInswfSJcbicuZm9ybWF0KHNhbHRfY2FsbF9wYXRoKSkKICAgICAgICBuZWVkX2RlcGxveW1l
bnQoKQoKICAgIHdpdGggb3Blbihvcy5wYXRoLmpvaW4oT1BUSU9OUy5zYWx0ZGlyLCAnbWluaW9u
JyksICd3JykgYXMgY29uZmlnOgogICAgICAgIGNvbmZpZy53cml0ZShPUFRJT05TLmNvbmZpZyAr
ICdcbicpCiAgICBpZiBPUFRJT05TLmV4dF9tb2RzOgogICAgICAgIGV4dF9wYXRoID0gb3MucGF0
aC5qb2luKE9QVElPTlMuc2FsdGRpciwgRVhUX0FSQ0hJVkUpCiAgICAgICAgaWYgb3MucGF0aC5l
eGlzdHMoZXh0X3BhdGgpOgogICAgICAgICAgICB1bnBhY2tfZXh0KGV4dF9wYXRoKQogICAgICAg
IGVsc2U6CiAgICAgICAgICAgIHZlcnNpb25fcGF0aCA9IG9zLnBhdGguam9pbihPUFRJT05TLnNh
bHRkaXIsICdleHRfdmVyc2lvbicpCiAgICAgICAgICAgIGlmIG5vdCBvcy5wYXRoLmV4aXN0cyh2
ZXJzaW9uX3BhdGgpIG9yIG5vdCBvcy5wYXRoLmlzZmlsZSh2ZXJzaW9uX3BhdGgpOgogICAgICAg
ICAgICAgICAgbmVlZF9leHQoKQogICAgICAgICAgICB3aXRoIG9wZW4odmVyc2lvbl9wYXRoLCAn
cicpIGFzIHZwbzoKICAgICAgICAgICAgICAgIGN1cl92ZXJzaW9uID0gdnBvLnJlYWRsaW5lKCku
c3RyaXAoKQogICAgICAgICAgICBpZiBjdXJfdmVyc2lvbiAhPSBPUFRJT05TLmV4dF9tb2RzOgog
ICAgICAgICAgICAgICAgbmVlZF9leHQoKQogICAgIyBGaXggcGFyYW1ldGVyIHBhc3NpbmcgaXNz
dWUKICAgIGlmIGxlbihBUkdTKSA9PSAxOgogICAgICAgIGFyZ3ZfcHJlcGFyZWQgPSBBUkdTWzBd
LnNwbGl0KCkKICAgIGVsc2U6CiAgICAgICAgYXJndl9wcmVwYXJlZCA9IEFSR1MKCiAgICBzYWx0
X2FyZ3YgPSBbCiAgICAgICAgc3lzLmV4ZWN1dGFibGUsCiAgICAgICAgc2FsdF9jYWxsX3BhdGgs
CiAgICAgICAgJy0tcmV0Y29kZS1wYXNzdGhyb3VnaCcsCiAgICAgICAgJy0tbG9jYWwnLAogICAg
ICAgICctLW1ldGFkYXRhJywKICAgICAgICAnLS1vdXQnLCAnanNvbicsCiAgICAgICAgJy1sJywg
J3F1aWV0JywKICAgICAgICAnLWMnLCBPUFRJT05TLnNhbHRkaXIsCiAgICAgICAgJy0tJywKICAg
IF0gKyBhcmd2X3ByZXBhcmVkCgogICAgc3lzLnN0ZGVyci53cml0ZSgnU0FMVF9BUkdWOiB7MH1c
bicuZm9ybWF0KHNhbHRfYXJndikpCgogICAgIyBPbmx5IGVtaXQgdGhlIGRlbGltaXRlciBvbiAq
Ym90aCogc3Rkb3V0IGFuZCBzdGRlcnIgd2hlbiBjb21wbGV0ZWx5IHN1Y2Nlc3NmdWwuCiAgICAj
IFllcywgdGhlIGZsdXNoKCkgaXMgbmVjZXNzYXJ5LgogICAgc3lzLnN0ZG91dC53cml0ZShPUFRJ
T05TLmRlbGltaXRlciArICdcbicpCiAgICBzeXMuc3Rkb3V0LmZsdXNoKCkKICAgIGlmIG5vdCBP
UFRJT05TLnR0eToKICAgICAgICBzeXMuc3RkZXJyLndyaXRlKE9QVElPTlMuZGVsaW1pdGVyICsg
J1xuJykKICAgICAgICBzeXMuc3RkZXJyLmZsdXNoKCkKICAgIGlmIE9QVElPTlMuY21kX3VtYXNr
IGlzIG5vdCBOb25lOgogICAgICAgIG9sZF91bWFzayA9IG9zLnVtYXNrKE9QVElPTlMuY21kX3Vt
YXNrKQogICAgaWYgT1BUSU9OUy50dHk6CiAgICAgICAgc3Rkb3V0LCBfID0gc3VicHJvY2Vzcy5Q
b3BlbihzYWx0X2FyZ3YsIHN0ZG91dD1zdWJwcm9jZXNzLlBJUEUsIHN0ZGVycj1zdWJwcm9jZXNz
LlBJUEUpLmNvbW11bmljYXRlKCkKICAgICAgICBzeXMuc3Rkb3V0LndyaXRlKHN0ZG91dCkKICAg
ICAgICBzeXMuc3Rkb3V0LmZsdXNoKCkKICAgICAgICBpZiBPUFRJT05TLndpcGU6CiAgICAgICAg
ICAgIHNodXRpbC5ybXRyZWUoT1BUSU9OUy5zYWx0ZGlyKQogICAgZWxpZiBPUFRJT05TLndpcGU6
CiAgICAgICAgc3VicHJvY2Vzcy5jYWxsKHNhbHRfYXJndikKICAgICAgICBzaHV0aWwucm10cmVl
KE9QVElPTlMuc2FsdGRpcikKICAgIGVsc2U6CiAgICAgICAgb3MuZXhlY3Yoc3lzLmV4ZWN1dGFi
bGUsIHNhbHRfYXJndikKICAgIGlmIE9QVElPTlMuY21kX3VtYXNrIGlzIG5vdCBOb25lOgogICAg
ICAgIG9zLnVtYXNrKG9sZF91bWFzaykKCmlmIF9fbmFtZV9fID09ICdfX21haW5fXyc6CiAgICBz
eXMuZXhpdChtYWluKHN5cy5hcmd2KSkK
""").decode("utf-8"))'
else
exec $SUDO "$py_cmd_path" -c \
'import base64;
exec(base64.b64decode("""IyBweWxpbnQ6IGRpc2FibGU9Vzk5MDMKJycnClRoaXMgaXMgYSBzaGltIHRoYXQgaGFuZGxlcyBj
aGVja2luZyBhbmQgdXBkYXRpbmcgc2FsdCB0aGluIGFuZAp0aGVuIGludm9raW5nIHRoaW4uCgpU
aGlzIGlzIG5vdCBpbnRlbmRlZCB0byBiZSBpbnN0YW50aWF0ZWQgYXMgYSBtb2R1bGUsIHJhdGhl
ciBpdCBpcyBhCmhlbHBlciBzY3JpcHQgdXNlZCBieSBzYWx0LmNsaWVudC5zc2guU2luZ2xlLiAg
SXQgaXMgaGVyZSwgaW4gYQpzZXBhcmF0ZSBmaWxlLCBmb3IgY29udmVuaWVuY2Ugb2YgZGV2ZWxv
cG1lbnQuCicnJwoKZnJvbSBfX2Z1dHVyZV9fIGltcG9ydCBhYnNvbHV0ZV9pbXBvcnQKCmltcG9y
dCBoYXNobGliCmltcG9ydCB0YXJmaWxlCmltcG9ydCBzaHV0aWwKaW1wb3J0IHN5cwppbXBvcnQg
b3MKaW1wb3J0IHN0YXQKaW1wb3J0IHN1YnByb2Nlc3MKClRISU5fQVJDSElWRSA9ICdzYWx0LXRo
aW4udGd6JwpFWFRfQVJDSElWRSA9ICdzYWx0LWV4dF9tb2RzLnRneicKCiMgS2VlcCB0aGVzZSBp
biBzeW5jIHdpdGggc2FsdC9kZWZhdWx0cy9leGl0Y29kZXMucHkKRVhfVEhJTl9ERVBMT1kgPSAx
MQpFWF9USElOX0NIRUNLU1VNID0gMTIKRVhfTU9EX0RFUExPWSA9IDEzCkVYX1NDUF9OT1RfRk9V
TkQgPSAxNApFWF9DQU5UQ1JFQVQgPSA3MwoKCmNsYXNzIE9CSihvYmplY3QpOgogICAgIiIiQW4g
ZW1wdHkgY2xhc3MgZm9yIGhvbGRpbmcgaW5zdGFuY2UgYXR0cmlidXRlIHZhbHVlcy4iIiIKICAg
IHBhc3MKCgpPUFRJT05TID0gTm9uZQpBUkdTID0gTm9uZQojIFRoZSBiZWxvdyBsaW5lIGlzIHdo
ZXJlIE9QVElPTlMgY2FuIGJlIHJlZGVmaW5lZCB3aXRoIGludGVybmFsIG9wdGlvbnMKIyAocmF0
aGVyIHRoYW4gY2xpIGFyZ3VtZW50cykgd2hlbiB0aGUgc2hpbSBpcyBidW5kbGVkIGJ5CiMgY2xp
ZW50LnNzaC5TaW5nbGUuX2NtZF9zdHIoKQojIHB5bGludDogZGlzYWJsZT1ibG9jay1jb21tZW50
LXNob3VsZC1zdGFydC13aXRoLWNhcmRpbmFsLXNwYWNlCgpPUFRJT05TID0gT0JKKCkKT1BUSU9O
Uy5jb25maWcgPSAiIiIKe2ZpbGVzZXJ2ZXJfbGlzdF9jYWNoZV90aW1lOiAzLCBncmFpbnNfY2Fj
aGU6IHRydWUsIGlkOiBsb2NhbCwgbG9nX2ZpbGU6IHNhbHQtY2FsbC5sb2csCiAgcm9vdF9kaXI6
IC92YXIvdG1wLy5zYWx0LW9wZV8xYTM1MzJfc2FsdC9ydW5uaW5nX2RhdGEsIHNvY2tfZGlyOiAv
fQoiIiIKT1BUSU9OUy5kZWxpbWl0ZXIgPSAnX2VkYmM3ODg1ZTRmOWFhYzliODNiMzU5OTliNjhk
MDE1MTQ4Y2FmNDY3Yjc4ZmEzOWMwNWY2NjljMGZmODk4NzgnCk9QVElPTlMuc2FsdGRpciA9ICcv
dmFyL3RtcC8uc2FsdC1vcGVfMWEzNTMyX3NhbHQnCk9QVElPTlMuY2hlY2tzdW0gPSAnMmUyNWZj
YmI2YWEyNTU5OWQ1MmU4OTVkZTZlMjExOTZkNWM2ZTU5NScKT1BUSU9OUy5oYXNoZnVuYyA9ICdz
aGExJwpPUFRJT05TLnZlcnNpb24gPSAnMjAxNi4zLjInCk9QVElPTlMuZXh0X21vZHMgPSAnJwpP
UFRJT05TLndpcGUgPSBGYWxzZQpPUFRJT05TLnR0eSA9IEZhbHNlCk9QVElPTlMuY21kX3VtYXNr
ID0gTm9uZQpBUkdTID0gWyd0ZXN0Lm9wdHNfcGtnJ10KCgoKZGVmIG5lZWRfZGVwbG95bWVudCgp
OgogICAgIiIiCiAgICBTYWx0IHRoaW4gbmVlZHMgdG8gYmUgZGVwbG95ZWQgLSBwcmVwIHRoZSB0
YXJnZXQgZGlyZWN0b3J5IGFuZCBlbWl0IHRoZQogICAgZGVsaW1ldGVyIGFuZCBleGl0IGNvZGUg
dGhhdCBzaWduYWxzIGEgcmVxdWlyZWQgZGVwbG95bWVudC4KICAgICIiIgogICAgaWYgb3MucGF0
aC5leGlzdHMoT1BUSU9OUy5zYWx0ZGlyKToKICAgICAgICBzaHV0aWwucm10cmVlKE9QVElPTlMu
c2FsdGRpcikKICAgIG9sZF91bWFzayA9IG9zLnVtYXNrKDBvMDc3KQogICAgb3MubWFrZWRpcnMo
T1BUSU9OUy5zYWx0ZGlyKQogICAgb3MudW1hc2sob2xkX3VtYXNrKQogICAgIyBWZXJpZnkgcGVy
bXMgb24gc2FsdGRpcgogICAgZXVpZCA9IG9zLmdldGV1aWQoKQogICAgZHN0YXQgPSBvcy5zdGF0
KE9QVElPTlMuc2FsdGRpcikKICAgIGlmIGRzdGF0LnN0X3VpZCAhPSBldWlkOgogICAgICAgICMg
QXR0YWNrIGRldGVjdGVkLCB0cnkgYWdhaW4KICAgICAgICBuZWVkX2RlcGxveW1lbnQoKQogICAg
aWYgZHN0YXQuc3RfbW9kZSAhPSAxNjgzMjoKICAgICAgICAjIEF0dGFjayBkZXRlY3RlZAogICAg
ICAgIG5lZWRfZGVwbG95bWVudCgpCiAgICAjIElmIFNVRE9pbmcgdGhlbiBhbHNvIGdpdmUgdGhl
IHN1cGVyIHVzZXIgZ3JvdXAgd3JpdGUgcGVybWlzc2lvbnMKICAgIHN1ZG9fZ2lkID0gb3MuZW52
aXJvbi5nZXQoJ1NVRE9fR0lEJykKICAgIGlmIHN1ZG9fZ2lkOgogICAgICAgIG9zLmNob3duKE9Q
VElPTlMuc2FsdGRpciwgLTEsIGludChzdWRvX2dpZCkpCiAgICAgICAgc3R0ID0gb3Muc3RhdChP
UFRJT05TLnNhbHRkaXIpCiAgICAgICAgb3MuY2htb2QoT1BUSU9OUy5zYWx0ZGlyLCBzdHQuc3Rf
bW9kZSB8IHN0YXQuU19JV0dSUCB8IHN0YXQuU19JUkdSUCB8IHN0YXQuU19JWEdSUCkKCiAgICAj
IERlbGltaXRlciBlbWl0dGVkIG9uIHN0ZG91dCAqb25seSogdG8gaW5kaWNhdGUgc2hpbSBtZXNz
YWdlIHRvIG1hc3Rlci4KICAgIHN5cy5zdGRvdXQud3JpdGUoInswfVxuZGVwbG95XG4iLmZvcm1h
dChPUFRJT05TLmRlbGltaXRlcikpCiAgICBzeXMuZXhpdChFWF9USElOX0RFUExPWSkKCgojIEFk
YXB0ZWQgZnJvbSBzYWx0LnV0aWxzLmdldF9oYXNoKCkKZGVmIGdldF9oYXNoKHBhdGgsIGZvcm09
J3NoYTEnLCBjaHVua19zaXplPTQwOTYpOgogICAgIiIiR2VuZXJhdGUgYSBoYXNoIGRpZ2VzdCBz
dHJpbmcgZm9yIGEgZmlsZS4iIiIKICAgIHRyeToKICAgICAgICBoYXNoX3R5cGUgPSBnZXRhdHRy
KGhhc2hsaWIsIGZvcm0pCiAgICBleGNlcHQgQXR0cmlidXRlRXJyb3I6CiAgICAgICAgcmFpc2Ug
VmFsdWVFcnJvcignSW52YWxpZCBoYXNoIHR5cGU6IHswfScuZm9ybWF0KGZvcm0pKQogICAgd2l0
aCBvcGVuKHBhdGgsICdyYicpIGFzIGlmaWxlOgogICAgICAgIGhhc2hfb2JqID0gaGFzaF90eXBl
KCkKICAgICAgICAjIHJlYWQgdGhlIGZpbGUgaW4gaW4gY2h1bmtzLCBub3QgdGhlIGVudGlyZSBm
aWxlCiAgICAgICAgZm9yIGNodW5rIGluIGl0ZXIobGFtYmRhOiBpZmlsZS5yZWFkKGNodW5rX3Np
emUpLCBiJycpOgogICAgICAgICAgICBoYXNoX29iai51cGRhdGUoY2h1bmspCiAgICAgICAgcmV0
dXJuIGhhc2hfb2JqLmhleGRpZ2VzdCgpCgoKZGVmIHVucGFja190aGluKHRoaW5fcGF0aCk6CiAg
ICAiIiJVbnBhY2sgdGhlIFNhbHQgdGhpbiBhcmNoaXZlLiIiIgogICAgdGZpbGUgPSB0YXJmaWxl
LlRhckZpbGUuZ3pvcGVuKHRoaW5fcGF0aCkKICAgIG9sZF91bWFzayA9IG9zLnVtYXNrKDBvMDc3
KQogICAgdGZpbGUuZXh0cmFjdGFsbChwYXRoPU9QVElPTlMuc2FsdGRpcikKICAgIHRmaWxlLmNs
b3NlKCkKICAgIG9zLnVtYXNrKG9sZF91bWFzaykKICAgIG9zLnVubGluayh0aGluX3BhdGgpCgoK
ZGVmIG5lZWRfZXh0KCk6CiAgICAiIiJTaWduYWwgdGhhdCBleHRlcm5hbCBtb2R1bGVzIG5lZWQg
dG8gYmUgZGVwbG95ZWQuIiIiCiAgICBzeXMuc3Rkb3V0LndyaXRlKCJ7MH1cbmV4dF9tb2RzXG4i
LmZvcm1hdChPUFRJT05TLmRlbGltaXRlcikpCiAgICBzeXMuZXhpdChFWF9NT0RfREVQTE9ZKQoK
CmRlZiB1bnBhY2tfZXh0KGV4dF9wYXRoKToKICAgICIiIlVucGFjayB0aGUgZXh0ZXJuYWwgbW9k
dWxlcy4iIiIKICAgIG1vZGNhY2hlID0gb3MucGF0aC5qb2luKAogICAgICAgICAgICBPUFRJT05T
LnNhbHRkaXIsCiAgICAgICAgICAgICdydW5uaW5nX2RhdGEnLAogICAgICAgICAgICAndmFyJywK
ICAgICAgICAgICAgJ2NhY2hlJywKICAgICAgICAgICAgJ3NhbHQnLAogICAgICAgICAgICAnbWlu
aW9uJywKICAgICAgICAgICAgJ2V4dG1vZHMnKQogICAgdGZpbGUgPSB0YXJmaWxlLlRhckZpbGUu
Z3pvcGVuKGV4dF9wYXRoKQogICAgb2xkX3VtYXNrID0gb3MudW1hc2soMG8wNzcpCiAgICB0Zmls
ZS5leHRyYWN0YWxsKHBhdGg9bW9kY2FjaGUpCiAgICB0ZmlsZS5jbG9zZSgpCiAgICBvcy51bWFz
ayhvbGRfdW1hc2spCiAgICBvcy51bmxpbmsoZXh0X3BhdGgpCiAgICB2ZXJfcGF0aCA9IG9zLnBh
dGguam9pbihtb2RjYWNoZSwgJ2V4dF92ZXJzaW9uJykKICAgIHZlcl9kc3QgPSBvcy5wYXRoLmpv
aW4oT1BUSU9OUy5zYWx0ZGlyLCAnZXh0X3ZlcnNpb24nKQogICAgc2h1dGlsLm1vdmUodmVyX3Bh
dGgsIHZlcl9kc3QpCgoKZGVmIG1haW4oYXJndik6ICAjIHB5bGludDogZGlzYWJsZT1XMDYxMwog
ICAgIiIiTWFpbiBwcm9ncmFtIGJvZHkiIiIKICAgIHRoaW5fcGF0aCA9IG9zLnBhdGguam9pbihP
UFRJT05TLnNhbHRkaXIsIFRISU5fQVJDSElWRSkKICAgIGlmIG9zLnBhdGguaXNmaWxlKHRoaW5f
cGF0aCk6CiAgICAgICAgaWYgT1BUSU9OUy5jaGVja3N1bSAhPSBnZXRfaGFzaCh0aGluX3BhdGgs
IE9QVElPTlMuaGFzaGZ1bmMpOgogICAgICAgICAgICBzeXMuc3RkZXJyLndyaXRlKCd7MH1cbicu
Zm9ybWF0KE9QVElPTlMuY2hlY2tzdW0pKQogICAgICAgICAgICBzeXMuc3RkZXJyLndyaXRlKCd7
MH1cbicuZm9ybWF0KGdldF9oYXNoKHRoaW5fcGF0aCwgT1BUSU9OUy5oYXNoZnVuYykpKQogICAg
ICAgICAgICBvcy51bmxpbmsodGhpbl9wYXRoKQogICAgICAgICAgICBzeXMuc3RkZXJyLndyaXRl
KCdXQVJOSU5HOiBjaGVja3N1bSBtaXNtYXRjaCBmb3IgInswfSJcbicuZm9ybWF0KHRoaW5fcGF0
aCkpCiAgICAgICAgICAgIHN5cy5leGl0KEVYX1RISU5fQ0hFQ0tTVU0pCiAgICAgICAgdW5wYWNr
X3RoaW4odGhpbl9wYXRoKQogICAgICAgICMgU2FsdCB0aGluIG5vdyBpcyBhdmFpbGFibGUgdG8g
dXNlCiAgICBlbHNlOgogICAgICAgIHNjcHN0YXQgPSBzdWJwcm9jZXNzLlBvcGVuKFsnL2Jpbi9z
aCcsICctYycsICdjb21tYW5kIC12IHNjcCddKS53YWl0KCkKICAgICAgICBpZiBzY3BzdGF0ICE9
IDA6CiAgICAgICAgICAgIHN5cy5leGl0KEVYX1NDUF9OT1RfRk9VTkQpCgogICAgICAgIGlmIG5v
dCBvcy5wYXRoLmV4aXN0cyhPUFRJT05TLnNhbHRkaXIpOgogICAgICAgICAgICBuZWVkX2RlcGxv
eW1lbnQoKQoKICAgICAgICBpZiBub3Qgb3MucGF0aC5pc2RpcihPUFRJT05TLnNhbHRkaXIpOgog
ICAgICAgICAgICBzeXMuc3RkZXJyLndyaXRlKAogICAgICAgICAgICAgICAgJ0VSUk9SOiBzYWx0
IHBhdGggInswfSIgZXhpc3RzIGJ1dCBpcycKICAgICAgICAgICAgICAgICcgbm90IGEgZGlyZWN0
b3J5XG4nLmZvcm1hdChPUFRJT05TLnNhbHRkaXIpCiAgICAgICAgICAgICkKICAgICAgICAgICAg
c3lzLmV4aXQoRVhfQ0FOVENSRUFUKQoKICAgICAgICB2ZXJzaW9uX3BhdGggPSBvcy5wYXRoLmpv
aW4oT1BUSU9OUy5zYWx0ZGlyLCAndmVyc2lvbicpCiAgICAgICAgaWYgbm90IG9zLnBhdGguZXhp
c3RzKHZlcnNpb25fcGF0aCkgb3Igbm90IG9zLnBhdGguaXNmaWxlKHZlcnNpb25fcGF0aCk6CiAg
ICAgICAgICAgIHN5cy5zdGRlcnIud3JpdGUoCiAgICAgICAgICAgICAgICAnV0FSTklORzogVW5h
YmxlIHRvIGxvY2F0ZSBjdXJyZW50IHRoaW4gJwogICAgICAgICAgICAgICAgJyB2ZXJzaW9uOiB7
MH0uXG4nLmZvcm1hdCh2ZXJzaW9uX3BhdGgpCiAgICAgICAgICAgICkKICAgICAgICAgICAgbmVl
ZF9kZXBsb3ltZW50KCkKICAgICAgICB3aXRoIG9wZW4odmVyc2lvbl9wYXRoLCAncicpIGFzIHZw
bzoKICAgICAgICAgICAgY3VyX3ZlcnNpb24gPSB2cG8ucmVhZGxpbmUoKS5zdHJpcCgpCiAgICAg
ICAgaWYgY3VyX3ZlcnNpb24gIT0gT1BUSU9OUy52ZXJzaW9uOgogICAgICAgICAgICBzeXMuc3Rk
ZXJyLndyaXRlKAogICAgICAgICAgICAgICAgJ1dBUk5JTkc6IGN1cnJlbnQgdGhpbiB2ZXJzaW9u
IHswfScKICAgICAgICAgICAgICAgICcgaXMgbm90IHVwLXRvLWRhdGUgd2l0aCB7MX0uXG4nLmZv
cm1hdCgKICAgICAgICAgICAgICAgICAgICBjdXJfdmVyc2lvbiwgT1BUSU9OUy52ZXJzaW9uCiAg
ICAgICAgICAgICAgICApCiAgICAgICAgICAgICkKICAgICAgICAgICAgbmVlZF9kZXBsb3ltZW50
KCkKICAgICAgICAjIFNhbHQgdGhpbiBleGlzdHMgYW5kIGlzIHVwLXRvLWRhdGUgLSBmYWxsIHRo
cm91Z2ggYW5kIHVzZSBpdAoKICAgIHNhbHRfY2FsbF9wYXRoID0gb3MucGF0aC5qb2luKE9QVElP
TlMuc2FsdGRpciwgJ3NhbHQtY2FsbCcpCiAgICBpZiBub3Qgb3MucGF0aC5pc2ZpbGUoc2FsdF9j
YWxsX3BhdGgpOgogICAgICAgIHN5cy5zdGRlcnIud3JpdGUoJ0VSUk9SOiB0aGluIGlzIG1pc3Np
bmcgInswfSJcbicuZm9ybWF0KHNhbHRfY2FsbF9wYXRoKSkKICAgICAgICBuZWVkX2RlcGxveW1l
bnQoKQoKICAgIHdpdGggb3Blbihvcy5wYXRoLmpvaW4oT1BUSU9OUy5zYWx0ZGlyLCAnbWluaW9u
JyksICd3JykgYXMgY29uZmlnOgogICAgICAgIGNvbmZpZy53cml0ZShPUFRJT05TLmNvbmZpZyAr
ICdcbicpCiAgICBpZiBPUFRJT05TLmV4dF9tb2RzOgogICAgICAgIGV4dF9wYXRoID0gb3MucGF0
aC5qb2luKE9QVElPTlMuc2FsdGRpciwgRVhUX0FSQ0hJVkUpCiAgICAgICAgaWYgb3MucGF0aC5l
eGlzdHMoZXh0X3BhdGgpOgogICAgICAgICAgICB1bnBhY2tfZXh0KGV4dF9wYXRoKQogICAgICAg
IGVsc2U6CiAgICAgICAgICAgIHZlcnNpb25fcGF0aCA9IG9zLnBhdGguam9pbihPUFRJT05TLnNh
bHRkaXIsICdleHRfdmVyc2lvbicpCiAgICAgICAgICAgIGlmIG5vdCBvcy5wYXRoLmV4aXN0cyh2
ZXJzaW9uX3BhdGgpIG9yIG5vdCBvcy5wYXRoLmlzZmlsZSh2ZXJzaW9uX3BhdGgpOgogICAgICAg
ICAgICAgICAgbmVlZF9leHQoKQogICAgICAgICAgICB3aXRoIG9wZW4odmVyc2lvbl9wYXRoLCAn
cicpIGFzIHZwbzoKICAgICAgICAgICAgICAgIGN1cl92ZXJzaW9uID0gdnBvLnJlYWRsaW5lKCku
c3RyaXAoKQogICAgICAgICAgICBpZiBjdXJfdmVyc2lvbiAhPSBPUFRJT05TLmV4dF9tb2RzOgog
ICAgICAgICAgICAgICAgbmVlZF9leHQoKQogICAgIyBGaXggcGFyYW1ldGVyIHBhc3NpbmcgaXNz
dWUKICAgIGlmIGxlbihBUkdTKSA9PSAxOgogICAgICAgIGFyZ3ZfcHJlcGFyZWQgPSBBUkdTWzBd
LnNwbGl0KCkKICAgIGVsc2U6CiAgICAgICAgYXJndl9wcmVwYXJlZCA9IEFSR1MKCiAgICBzYWx0
X2FyZ3YgPSBbCiAgICAgICAgc3lzLmV4ZWN1dGFibGUsCiAgICAgICAgc2FsdF9jYWxsX3BhdGgs
CiAgICAgICAgJy0tcmV0Y29kZS1wYXNzdGhyb3VnaCcsCiAgICAgICAgJy0tbG9jYWwnLAogICAg
ICAgICctLW1ldGFkYXRhJywKICAgICAgICAnLS1vdXQnLCAnanNvbicsCiAgICAgICAgJy1sJywg
J3F1aWV0JywKICAgICAgICAnLWMnLCBPUFRJT05TLnNhbHRkaXIsCiAgICAgICAgJy0tJywKICAg
IF0gKyBhcmd2X3ByZXBhcmVkCgogICAgc3lzLnN0ZGVyci53cml0ZSgnU0FMVF9BUkdWOiB7MH1c
bicuZm9ybWF0KHNhbHRfYXJndikpCgogICAgIyBPbmx5IGVtaXQgdGhlIGRlbGltaXRlciBvbiAq
Ym90aCogc3Rkb3V0IGFuZCBzdGRlcnIgd2hlbiBjb21wbGV0ZWx5IHN1Y2Nlc3NmdWwuCiAgICAj
IFllcywgdGhlIGZsdXNoKCkgaXMgbmVjZXNzYXJ5LgogICAgc3lzLnN0ZG91dC53cml0ZShPUFRJ
T05TLmRlbGltaXRlciArICdcbicpCiAgICBzeXMuc3Rkb3V0LmZsdXNoKCkKICAgIGlmIG5vdCBP
UFRJT05TLnR0eToKICAgICAgICBzeXMuc3RkZXJyLndyaXRlKE9QVElPTlMuZGVsaW1pdGVyICsg
J1xuJykKICAgICAgICBzeXMuc3RkZXJyLmZsdXNoKCkKICAgIGlmIE9QVElPTlMuY21kX3VtYXNr
IGlzIG5vdCBOb25lOgogICAgICAgIG9sZF91bWFzayA9IG9zLnVtYXNrKE9QVElPTlMuY21kX3Vt
YXNrKQogICAgaWYgT1BUSU9OUy50dHk6CiAgICAgICAgc3Rkb3V0LCBfID0gc3VicHJvY2Vzcy5Q
b3BlbihzYWx0X2FyZ3YsIHN0ZG91dD1zdWJwcm9jZXNzLlBJUEUsIHN0ZGVycj1zdWJwcm9jZXNz
LlBJUEUpLmNvbW11bmljYXRlKCkKICAgICAgICBzeXMuc3Rkb3V0LndyaXRlKHN0ZG91dCkKICAg
ICAgICBzeXMuc3Rkb3V0LmZsdXNoKCkKICAgICAgICBpZiBPUFRJT05TLndpcGU6CiAgICAgICAg
ICAgIHNodXRpbC5ybXRyZWUoT1BUSU9OUy5zYWx0ZGlyKQogICAgZWxpZiBPUFRJT05TLndpcGU6
CiAgICAgICAgc3VicHJvY2Vzcy5jYWxsKHNhbHRfYXJndikKICAgICAgICBzaHV0aWwucm10cmVl
KE9QVElPTlMuc2FsdGRpcikKICAgIGVsc2U6CiAgICAgICAgb3MuZXhlY3Yoc3lzLmV4ZWN1dGFi
bGUsIHNhbHRfYXJndikKICAgIGlmIE9QVElPTlMuY21kX3VtYXNrIGlzIG5vdCBOb25lOgogICAg
ICAgIG9zLnVtYXNrKG9sZF91bWFzaykKCmlmIF9fbmFtZV9fID09ICdfX21haW5fXyc6CiAgICBz
eXMuZXhpdChtYWluKHN5cy5hcmd2KSkK
""").decode("utf-8"))'
fi
exit 0
else
continue
fi
done
echo "ERROR: Unable to locate appropriate python command" >&2
exit $EX_PYTHON_INVALID
EOF
2016-08-27 20:51:53,821 [salt.utils.vt.Terminal.PID-7106.STDOUT][TRACE   ][7069] salt-ope@127.0.0.1's password:
2016-08-27 20:51:53,993 [salt.utils.vt.Terminal.PID-7106.STDERR][TRACE   ][7069] + SUDO=
+ '[' -n sudo ']'
+ SUDO='sudo '
+ EX_PYTHON_INVALID=10
+ PYTHON_CMDS='python3 python27 python2.7 python26 python2.6 python2 python'
2016-08-27 20:51:54,004 [salt.utils.vt.Terminal.PID-7106.STDERR][TRACE   ][7069] + for py_cmd in '$PYTHON_CMDS'
+ command -v python3
+ continue
+ for py_cmd in '$PYTHON_CMDS'
+ command -v python27
+ continue
+ for py_cmd in '$PYTHON_CMDS'
+ command -v python2.7
+ continue
+ for py_cmd in '$PYTHON_CMDS'
+ command -v python26
+ continue
+ for py_cmd in '$PYTHON_CMDS'
+ command -v python2.6
+ python2.6 -c 'import sys; sys.exit(not (sys.version_info >= (2, 6)
and sys.version_info[0] == 2));'
2016-08-27 20:51:54,015 [salt.utils.vt.Terminal.PID-7106.STDERR][TRACE   ][7069] ++ python2.6 -c 'from __future__ import print_function;
import sys; print(sys.executable);'
2016-08-27 20:51:54,032 [salt.utils.vt.Terminal.PID-7106.STDERR][TRACE   ][7069] + py_cmd_path=/usr/bin/python2.6
++ which python2.6
+ cmdpath=/usr/bin/python2.6
+ grep 'shell script'
+ file /usr/bin/python2.6
+ exec sudo /usr/bin/python2.6 -c 'import base64;
exec(base64.b64decode("""IyBweWxpbnQ6IGRpc2FibGU9Vzk5MDMKJycnClRoaXMgaXMgYSBzaGltIHRoYXQgaGFuZGxlcyBj
aGVja2luZyBhbmQgdXBkYXRpbmcgc2FsdCB0aGluIGFuZAp0aGVuIGludm9raW5nIHRoaW4uCgpU
aGlzIGlzIG5vdCBpbnRlbmRlZCB0byBiZSBpbnN0YW50aWF0ZWQgYXMgYSBtb2R1bGUsIHJhdGhl
ciBpdCBpcyBhCmhlbHBlciBzY3JpcHQgdXNlZCBieSBzYWx0LmNsaWVudC5zc2guU2luZ2xlLiAg
SXQgaXMgaGVyZSwgaW4gYQpzZXBhcmF0ZSBmaWxlLCBmb3IgY29udmVuaWVuY2Ugb2YgZGV2ZWxv
cG1lbnQuCicnJwoKZnJvbSBfX2Z1dHVyZV9fIGltcG9ydCBhYnNvbHV0ZV9pbXBvcnQKCmltcG9y
dCBoYXNobGliCmltcG9ydCB0YXJmaWxlCmltcG9ydCBzaHV0aWwKaW1wb3J0IHN5cwppbXBvcnQg
b3MKaW1wb3J0IHN0YXQKaW1wb3J0IHN1YnByb2Nlc3MKClRISU5fQVJDSElWRSA9ICdzYWx0LXRo
aW4udGd6JwpFWFRfQVJDSElWRSA9ICdzYWx0LWV4dF9tb2RzLnRneicKCiMgS2VlcCB0aGVzZSBp
biBzeW5jIHdpdGggc2FsdC9kZWZhdWx0cy9leGl0Y29kZXMucHkKRVhfVEhJTl9ERVBMT1kgPSAx
MQpFWF9USElOX0NIRUNLU1VNID0gMTIKRV
2016-08-27 20:51:54,043 [salt.utils.vt.Terminal.PID-7106.STDERR][TRACE   ][7069] hfTU9EX0RFUExPWSA9IDEzCkVYX1NDUF9OT1RfRk9V
TkQgPSAxNApFWF9DQU5UQ1JFQVQgPSA3MwoKCmNsYXNzIE9CSihvYmplY3QpOgogICAgIiIiQW4g
ZW1wdHkgY2xhc3MgZm9yIGhvbGRpbmcgaW5zdGFuY2UgYXR0cmlidXRlIHZhbHVlcy4iIiIKICAg
IHBhc3MKCgpPUFRJT05TID0gTm9uZQpBUkdTID0gTm9uZQojIFRoZSBiZWxvdyBsaW5lIGlzIHdo
ZXJlIE9QVElPTlMgY2FuIGJlIHJlZGVmaW5lZCB3aXRoIGludGVybmFsIG9wdGlvbnMKIyAocmF0
aGVyIHRoYW4gY2xpIGFyZ3VtZW50cykgd2hlbiB0aGUgc2hpbSBpcyBidW5kbGVkIGJ5CiMgY2xp
ZW50LnNzaC5TaW5nbGUuX2NtZF9zdHIoKQojIHB5bGludDogZGlzYWJsZT1ibG9jay1jb21tZW50
LXNob3VsZC1zdGFydC13aXRoLWNhcmRpbmFsLXNwYWNlCgpPUFRJT05TID0gT0JKKCkKT1BUSU9O
Uy5jb25maWcgPSAiIiIKe2ZpbGVzZXJ2ZXJfbGlzdF9jYWNoZV90aW1lOiAzLCBncmFpbnNfY2Fj
aGU6IHRydWUsIGlkOiBsb2NhbCwgbG9nX2ZpbGU6IHNhbHQtY2FsbC5sb2csCiAgcm9vdF9kaXI6
IC92YXIvdG1wLy5zYWx0LW9wZV8xYTM1MzJfc2FsdC9ydW5uaW5nX2RhdGEsIHNvY2tfZGlyOiAv
fQoiIiIKT1BUSU9OUy5kZWxpbWl0ZXIgPSAnX2VkYmM3ODg1ZTRmOWFhYzliODNiMzU5OTliNjhk
MDE1MTQ4Y2FmNDY3Yjc4ZmEzOWMwNWY2NjljMGZmODk4NzgnCk9QVElPTlMuc2FsdGRpciA9ICcv
dmFyL3RtcC8uc2FsdC1vcGVfMWEzNTMyX3NhbHQnCk9Q
2016-08-27 20:51:54,053 [salt.utils.vt.Terminal.PID-7106.STDERR][TRACE   ][7069] VElPTlMuY2hlY2tzdW0gPSAnMmUyNWZj
YmI2YWEyNTU5OWQ1MmU4OTVkZTZlMjExOTZkNWM2ZTU5NScKT1BUSU9OUy5oYXNoZnVuYyA9ICdz
aGExJwpPUFRJT05TLnZlcnNpb24gPSAnMjAxNi4zLjInCk9QVElPTlMuZXh0X21vZHMgPSAnJwpP
UFRJT05TLndpcGUgPSBGYWxzZQpPUFRJT05TLnR0eSA9IEZhbHNlCk9QVElPTlMuY21kX3VtYXNr
ID0gTm9uZQpBUkdTID0gWyd0ZXN0Lm9wdHNfcGtnJ10KCgoKZGVmIG5lZWRfZGVwbG95bWVudCgp
OgogICAgIiIiCiAgICBTYWx0IHRoaW4gbmVlZHMgdG8gYmUgZGVwbG95ZWQgLSBwcmVwIHRoZSB0
YXJnZXQgZGlyZWN0b3J5IGFuZCBlbWl0IHRoZQogICAgZGVsaW1ldGVyIGFuZCBleGl0IGNvZGUg
dGhhdCBzaWduYWxzIGEgcmVxdWlyZWQgZGVwbG95bWVudC4KICAgICIiIgogICAgaWYgb3MucGF0
aC5leGlzdHMoT1BUSU9OUy5zYWx0ZGlyKToKICAgICAgICBzaHV0aWwucm10cmVlKE9QVElPTlMu
c2FsdGRpcikKICAgIG9sZF91bWFzayA9IG9zLnVtYXNrKDBvMDc3KQogICAgb3MubWFrZWRpcnMo
T1BUSU9OUy5zYWx0ZGlyKQogICAgb3MudW1hc2sob2xkX3VtYXNrKQogICAgIyBWZXJpZnkgcGVy
bXMgb24gc2FsdGRpcgogICAgZXVpZCA9IG9zLmdldGV1aWQoKQogICAgZHN0YXQgPSBvcy5zdGF0
KE9QVElPTlMuc2FsdGRpcikKICAgIGlmIGRzdGF0LnN0X3VpZCAhPSBldWlkOgogICAgICAgICMg
QXR0YWNrIGRldGVjdGVkLCB0cnkgYWdhaW4KICAgICAgICBuZWVkX2
2016-08-27 20:51:54,064 [salt.utils.vt.Terminal.PID-7106.STDERR][TRACE   ][7069] RlcGxveW1lbnQoKQogICAg
aWYgZHN0YXQuc3RfbW9kZSAhPSAxNjgzMjoKICAgICAgICAjIEF0dGFjayBkZXRlY3RlZAogICAg
ICAgIG5lZWRfZGVwbG95bWVudCgpCiAgICAjIElmIFNVRE9pbmcgdGhlbiBhbHNvIGdpdmUgdGhl
IHN1cGVyIHVzZXIgZ3JvdXAgd3JpdGUgcGVybWlzc2lvbnMKICAgIHN1ZG9fZ2lkID0gb3MuZW52
aXJvbi5nZXQoJ1NVRE9fR0lEJykKICAgIGlmIHN1ZG9fZ2lkOgogICAgICAgIG9zLmNob3duKE9Q
VElPTlMuc2FsdGRpciwgLTEsIGludChzdWRvX2dpZCkpCiAgICAgICAgc3R0ID0gb3Muc3RhdChP
UFRJT05TLnNhbHRkaXIpCiAgICAgICAgb3MuY2htb2QoT1BUSU9OUy5zYWx0ZGlyLCBzdHQuc3Rf
bW9kZSB8IHN0YXQuU19JV0dSUCB8IHN0YXQuU19JUkdSUCB8IHN0YXQuU19JWEdSUCkKCiAgICAj
IERlbGltaXRlciBlbWl0dGVkIG9uIHN0ZG91dCAqb25seSogdG8gaW5kaWNhdGUgc2hpbSBtZXNz
YWdlIHRvIG1hc3Rlci4KICAgIHN5cy5zdGRvdXQud3JpdGUoInswfVxuZGVwbG95XG4iLmZvcm1h
dChPUFRJT05TLmRlbGltaXRlcikpCiAgICBzeXMuZXhpdChFWF9USElOX0RFUExPWSkKCgojIEFk
YXB0ZWQgZnJvbSBzYWx0LnV0aWxzLmdldF9oYXNoKCkKZGVmIGdldF9oYXNoKHBhdGgsIGZvcm09
J3NoYTEnLCBjaHVua19zaXplPTQwOTYpOgogICAgIiIiR2VuZXJhdGUgYSBoYXNoIGRpZ2VzdCBz
dHJpbmcgZm9yIGEgZmlsZS4iIiIKICAgIHRyeToKICAgICAgICBoYXNoX3R5cGUg
2016-08-27 20:51:54,074 [salt.utils.vt.Terminal.PID-7106.STDERR][TRACE   ][7069] PSBnZXRhdHRy
KGhhc2hsaWIsIGZvcm0pCiAgICBleGNlcHQgQXR0cmlidXRlRXJyb3I6CiAgICAgICAgcmFpc2Ug
VmFsdWVFcnJvcignSW52YWxpZCBoYXNoIHR5cGU6IHswfScuZm9ybWF0KGZvcm0pKQogICAgd2l0
aCBvcGVuKHBhdGgsICdyYicpIGFzIGlmaWxlOgogICAgICAgIGhhc2hfb2JqID0gaGFzaF90eXBl
KCkKICAgICAgICAjIHJlYWQgdGhlIGZpbGUgaW4gaW4gY2h1bmtzLCBub3QgdGhlIGVudGlyZSBm
aWxlCiAgICAgICAgZm9yIGNodW5rIGluIGl0ZXIobGFtYmRhOiBpZmlsZS5yZWFkKGNodW5rX3Np
emUpLCBiJycpOgogICAgICAgICAgICBoYXNoX29iai51cGRhdGUoY2h1bmspCiAgICAgICAgcmV0
dXJuIGhhc2hfb2JqLmhleGRpZ2VzdCgpCgoKZGVmIHVucGFja190aGluKHRoaW5fcGF0aCk6CiAg
ICAiIiJVbnBhY2sgdGhlIFNhbHQgdGhpbiBhcmNoaXZlLiIiIgogICAgdGZpbGUgPSB0YXJmaWxl
LlRhckZpbGUuZ3pvcGVuKHRoaW5fcGF0aCkKICAgIG9sZF91bWFzayA9IG9zLnVtYXNrKDBvMDc3
KQogICAgdGZpbGUuZXh0cmFjdGFsbChwYXRoPU9QVElPTlMuc2FsdGRpcikKICAgIHRmaWxlLmNs
b3NlKCkKICAgIG9zLnVtYXNrKG9sZF91bWFzaykKICAgIG9zLnVubGluayh0aGluX3BhdGgpCgoK
ZGVmIG5lZWRfZXh0KCk6CiAgICAiIiJTaWduYWwgdGhhdCBleHRlcm5hbCBtb2R1bGVzIG5lZWQg
dG8gYmUgZGVwbG95ZWQuIiIiCiAgICBzeXMuc3Rkb3V0LndyaXRlKCJ7MH1cbmV4dF9tb2RzXG
2016-08-27 20:51:54,084 [salt.utils.vt.Terminal.PID-7106.STDERR][TRACE   ][7069] 4i
LmZvcm1hdChPUFRJT05TLmRlbGltaXRlcikpCiAgICBzeXMuZXhpdChFWF9NT0RfREVQTE9ZKQoK
CmRlZiB1bnBhY2tfZXh0KGV4dF9wYXRoKToKICAgICIiIlVucGFjayB0aGUgZXh0ZXJuYWwgbW9k
dWxlcy4iIiIKICAgIG1vZGNhY2hlID0gb3MucGF0aC5qb2luKAogICAgICAgICAgICBPUFRJT05T
LnNhbHRkaXIsCiAgICAgICAgICAgICdydW5uaW5nX2RhdGEnLAogICAgICAgICAgICAndmFyJywK
ICAgICAgICAgICAgJ2NhY2hlJywKICAgICAgICAgICAgJ3NhbHQnLAogICAgICAgICAgICAnbWlu
aW9uJywKICAgICAgICAgICAgJ2V4dG1vZHMnKQogICAgdGZpbGUgPSB0YXJmaWxlLlRhckZpbGUu
Z3pvcGVuKGV4dF9wYXRoKQogICAgb2xkX3VtYXNrID0gb3MudW1hc2soMG8wNzcpCiAgICB0Zmls
ZS5leHRyYWN0YWxsKHBhdGg9bW9kY2FjaGUpCiAgICB0ZmlsZS5jbG9zZSgpCiAgICBvcy51bWFz
ayhvbGRfdW1hc2spCiAgICBvcy51bmxpbmsoZXh0X3BhdGgpCiAgICB2ZXJfcGF0aCA9IG9zLnBh
dGguam9pbihtb2RjYWNoZSwgJ2V4dF92ZXJzaW9uJykKICAgIHZlcl9kc3QgPSBvcy5wYXRoLmpv
aW4oT1BUSU9OUy5zYWx0ZGlyLCAnZXh0X3ZlcnNpb24nKQogICAgc2h1dGlsLm1vdmUodmVyX3Bh
dGgsIHZlcl9kc3QpCgoKZGVmIG1haW4oYXJndik6ICAjIHB5bGludDogZGlzYWJsZT1XMDYxMwog
ICAgIiIiTWFpbiBwcm9ncmFtIGJvZHkiIiIKICAgIHRoaW5fcGF0aCA9IG9zLnBhdGguam9pbihP
UFRJT0
2016-08-27 20:51:54,095 [salt.utils.vt.Terminal.PID-7106.STDERR][TRACE   ][7069] 5TLnNhbHRkaXIsIFRISU5fQVJDSElWRSkKICAgIGlmIG9zLnBhdGguaXNmaWxlKHRoaW5f
cGF0aCk6CiAgICAgICAgaWYgT1BUSU9OUy5jaGVja3N1bSAhPSBnZXRfaGFzaCh0aGluX3BhdGgs
IE9QVElPTlMuaGFzaGZ1bmMpOgogICAgICAgICAgICBzeXMuc3RkZXJyLndyaXRlKCd7MH1cbicu
Zm9ybWF0KE9QVElPTlMuY2hlY2tzdW0pKQogICAgICAgICAgICBzeXMuc3RkZXJyLndyaXRlKCd7
MH1cbicuZm9ybWF0KGdldF9oYXNoKHRoaW5fcGF0aCwgT1BUSU9OUy5oYXNoZnVuYykpKQogICAg
ICAgICAgICBvcy51bmxpbmsodGhpbl9wYXRoKQogICAgICAgICAgICBzeXMuc3RkZXJyLndyaXRl
KCdXQVJOSU5HOiBjaGVja3N1bSBtaXNtYXRjaCBmb3IgInswfSJcbicuZm9ybWF0KHRoaW5fcGF0
aCkpCiAgICAgICAgICAgIHN5cy5leGl0KEVYX1RISU5fQ0hFQ0tTVU0pCiAgICAgICAgdW5wYWNr
X3RoaW4odGhpbl9wYXRoKQogICAgICAgICMgU2FsdCB0aGluIG5vdyBpcyBhdmFpbGFibGUgdG8g
dXNlCiAgICBlbHNlOgogICAgICAgIHNjcHN0YXQgPSBzdWJwcm9jZXNzLlBvcGVuKFsnL2Jpbi9z
aCcsICctYycsICdjb21tYW5kIC12IHNjcCddKS53YWl0KCkKICAgICAgICBpZiBzY3BzdGF0ICE9
IDA6CiAgICAgICAgICAgIHN5cy5leGl0KEVYX1NDUF9OT1RfRk9VTkQpCgogICAgICAgIGlmIG5v
dCBvcy5wYXRoLmV4aXN0cyhPUFRJT05TLnNhbHRkaXIpOgogICAgICAgICAgICBuZWVkX2RlcGxv
eW1lbnQoKQoKICAg
2016-08-27 20:51:54,105 [salt.utils.vt.Terminal.PID-7106.STDERR][TRACE   ][7069] ICAgICBpZiBub3Qgb3MucGF0aC5pc2RpcihPUFRJT05TLnNhbHRkaXIpOgog
ICAgICAgICAgICBzeXMuc3RkZXJyLndyaXRlKAogICAgICAgICAgICAgICAgJ0VSUk9SOiBzYWx0
IHBhdGggInswfSIgZXhpc3RzIGJ1dCBpcycKICAgICAgICAgICAgICAgICcgbm90IGEgZGlyZWN0
2016-08-27 20:51:54,116 [salt.utils.vt.Terminal.PID-7106.STDERR][TRACE   ][7069] b3J5XG4nLmZvcm1hdChPUFRJT05TLnNhbHRkaXIpCiAgICAgICAgICAgICkKICAgICAgICAgICAg
c3lzLmV4aXQoRVhfQ0FOVENSRUFUKQoKICAgICAgICB2ZXJzaW9uX3BhdGggPSBvcy5wYXRoLmpv
aW4oT1BUSU9OUy5zYWx0ZGlyLCAndmVyc2lvbicpCiAgICAgICAgaWYgbm90IG9zLnBhdGguZXhp
c3RzKHZlcnNpb25fcGF0aCkgb3Igbm90IG9zLnBhdGguaXNmaWxlKHZlcnNpb25fcGF0aCk6CiAg
ICAgICAgICAgIHN5cy5zdGRlcnIud3JpdGUoCiAgICAgICAgICAgICAgICAnV0FSTklORzogVW5h
YmxlIHRvIGxvY2F0ZSBjdXJyZW50IHRoaW4gJwogICAgICAgICAgICAgICAgJyB2ZXJzaW9uOiB7
MH0uXG4nLmZvcm1hdCh2ZXJzaW9uX3BhdGgpCiAgICAgICAgICAgICkKICAgICAgICAgICAgbmVl
ZF9kZXBsb3ltZW50KCkKICAgICAgICB3aXRoIG9wZW4odmVyc2lvbl9wYXRoLCAncicpIGFzIHZw
bzoKICAgICAgICAgICAgY3VyX3ZlcnNpb24gPSB2cG8ucmVhZGxpbmUoKS5zdHJpcCgpCiAgICAg
ICAgaWYgY3VyX3ZlcnNpb24gIT0gT1BUSU9OUy52ZXJzaW9uOgogICAgICAgICAgICBzeXMuc3Rk
ZXJyLndyaXRlKAogICAgICAgICAgICAgICAgJ1dBUk5JTkc6IGN1cnJlbnQgdGhpbiB2ZXJzaW9u
IHswfScKICAgICAgICAgICAgICAgICcgaXMgbm90IHVwLXRvLWRhdGUgd2l0aCB7MX0uXG4nLmZv
cm1hdCgKICAgICAgICAgICAgICAgICAgICBjdXJfdmVyc2lvbiwgT1BUSU9OUy52ZXJzaW9uCiAg
ICAgICAg
2016-08-27 20:51:54,126 [salt.utils.vt.Terminal.PID-7106.STDERR][TRACE   ][7069] ICAgICAgICApCiAgICAgICAgICAgICkKICAgICAgICAgICAgbmVlZF9kZXBsb3ltZW50
KCkKICAgICAgICAjIFNhbHQgdGhpbiBleGlzdHMgYW5kIGlzIHVwLXRvLWRhdGUgLSBmYWxsIHRo
cm91Z2ggYW5kIHVzZSBpdAoKICAgIHNhbHRfY2FsbF9wYXRoID0gb3MucGF0aC5qb2luKE9QVElP
TlMuc2FsdGRpciwgJ3NhbHQtY2FsbCcpCiAgICBpZiBub3Qgb3MucGF0aC5pc2ZpbGUoc2FsdF9j
YWxsX3BhdGgpOgogICAgICAgIHN5cy5zdGRlcnIud3JpdGUoJ0VSUk9SOiB0aGluIGlzIG1pc3Np
bmcgInswfSJcbicuZm9ybWF0KHNhbHRfY2FsbF9wYXRoKSkKICAgICAgICBuZWVkX2RlcGxveW1l
bnQoKQoKICAgIHdpdGggb3Blbihvcy5wYXRoLmpvaW4oT1BUSU9OUy5zYWx0ZGlyLCAnbWluaW9u
JyksICd3JykgYXMgY29uZmlnOgogICAgICAgIGNvbmZpZy53cml0ZShPUFRJT05TLmNvbmZpZyAr
ICdcbicpCiAgICBpZiBPUFRJT05TLmV4dF9tb2RzOgogICAgICAgIGV4dF9wYXRoID0gb3MucGF0
aC5qb2luKE9QVElPTlMuc2FsdGRpciwgRVhUX0FSQ0hJVkUpCiAgICAgICAgaWYgb3MucGF0aC5l
eGlzdHMoZXh0X3BhdGgpOgogICAgICAgICAgICB1bnBhY2tfZXh0KGV4dF9wYXRoKQogICAgICAg
IGVsc2U6CiAgICAgICAgICAgIHZlcnNpb25fcGF0aCA9IG9zLnBhdGguam9pbihPUFRJT05TLnNh
bHRkaXIsICdleHRfdmVyc2lvbicpCiAgICAgICAgICAgIGlmIG5vdCBvcy5wYXRoLmV4aXN0cyh2
ZXJzaW9uX3BhdGgpIG
2016-08-27 20:51:54,136 [salt.utils.vt.Terminal.PID-7106.STDERR][TRACE   ][7069] 9yIG5vdCBvcy5wYXRoLmlzZmlsZSh2ZXJzaW9uX3BhdGgpOgogICAgICAg
ICAgICAgICAgbmVlZF9leHQoKQogICAgICAgICAgICB3aXRoIG9wZW4odmVyc2lvbl9wYXRoLCAn
cicpIGFzIHZwbzoKICAgICAgICAgICAgICAgIGN1cl92ZXJzaW9uID0gdnBvLnJlYWRsaW5lKCku
c3RyaXAoKQogICAgICAgICAgICBpZiBjdXJfdmVyc2lvbiAhPSBPUFRJT05TLmV4dF9tb2RzOgog
ICAgICAgICAgICAgICAgbmVlZF9leHQoKQogICAgIyBGaXggcGFyYW1ldGVyIHBhc3NpbmcgaXNz
dWUKICAgIGlmIGxlbihBUkdTKSA9PSAxOgogICAgICAgIGFyZ3ZfcHJlcGFyZWQgPSBBUkdTWzBd
LnNwbGl0KCkKICAgIGVsc2U6CiAgICAgICAgYXJndl9wcmVwYXJlZCA9IEFSR1MKCiAgICBzYWx0
X2FyZ3YgPSBbCiAgICAgICAgc3lzLmV4ZWN1dGFibGUsCiAgICAgICAgc2FsdF9jYWxsX3BhdGgs
CiAgICAgICAgJy0tcmV0Y29kZS1wYXNzdGhyb3VnaCcsCiAgICAgICAgJy0tbG9jYWwnLAogICAg
ICAgICctLW1ldGFkYXRhJywKICAgICAgICAnLS1vdXQnLCAnanNvbicsCiAgICAgICAgJy1sJywg
J3F1aWV0JywKICAgICAgICAnLWMnLCBPUFRJT05TLnNhbHRkaXIsCiAgICAgICAgJy0tJywKICAg
IF0gKyBhcmd2X3ByZXBhcmVkCgogICAgc3lzLnN0ZGVyci53cml0ZSgnU0FMVF9BUkdWOiB7MH1c
bicuZm9ybWF0KHNhbHRfYXJndikpCgogICAgIyBPbmx5IGVtaXQgdGhlIGRlbGltaXRlciBvbiAq
Ym90aCogc3Rkb3V0IGFuZCBzdGRl
2016-08-27 20:51:54,147 [salt.utils.vt.Terminal.PID-7106.STDERR][TRACE   ][7069] cnIgd2hlbiBjb21wbGV0ZWx5IHN1Y2Nlc3NmdWwuCiAgICAj
IFllcywgdGhlIGZsdXNoKCkgaXMgbmVjZXNzYXJ5LgogICAgc3lzLnN0ZG91dC53cml0ZShPUFRJ
T05TLmRlbGltaXRlciArICdcbicpCiAgICBzeXMuc3Rkb3V0LmZsdXNoKCkKICAgIGlmIG5vdCBP
UFRJT05TLnR0eToKICAgICAgICBzeXMuc3RkZXJyLndyaXRlKE9QVElPTlMuZGVsaW1pdGVyICsg
J1xuJykKICAgICAgICBzeXMuc3RkZXJyLmZsdXNoKCkKICAgIGlmIE9QVElPTlMuY21kX3VtYXNr
IGlzIG5vdCBOb25lOgogICAgICAgIG9sZF91bWFzayA9IG9zLnVtYXNrKE9QVElPTlMuY21kX3Vt
YXNrKQogICAgaWYgT1BUSU9OUy50dHk6CiAgICAgICAgc3Rkb3V0LCBfID0gc3VicHJvY2Vzcy5Q
b3BlbihzYWx0X2FyZ3YsIHN0ZG91dD1zdWJwcm9jZXNzLlBJUEUsIHN0ZGVycj1zdWJwcm9jZXNz
LlBJUEUpLmNvbW11bmljYXRlKCkKICAgICAgICBzeXMuc3Rkb3V0LndyaXRlKHN0ZG91dCkKICAg
ICAgICBzeXMuc3Rkb3V0LmZsdXNoKCkKICAgICAgICBpZiBPUFRJT05TLndpcGU6CiAgICAgICAg
ICAgIHNodXRpbC5ybXRyZWUoT1BUSU9OUy5zYWx0ZGlyKQogICAgZWxpZiBPUFRJT05TLndpcGU6
CiAgICAgICAgc3VicHJvY2Vzcy5jYWxsKHNhbHRfYXJndikKICAgICAgICBzaHV0aWwucm10cmVl
KE9QVElPTlMuc2FsdGRpcikKICAgIGVsc2U6CiAgICAgICAgb3MuZXhlY3Yoc3lzLmV4ZWN1dGFi
bGUsIHNhbHRfYXJndikKICAgIGlmIE9QVElPTl
2016-08-27 20:51:54,157 [salt.utils.vt.Terminal.PID-7106.STDERR][TRACE   ][7069] MuY21kX3VtYXNrIGlzIG5vdCBOb25lOgogICAg
ICAgIG9zLnVtYXNrKG9sZF91bWFzaykKCmlmIF9fbmFtZV9fID09ICdfX21haW5fXyc6CiAgICBz
eXMuZXhpdChtYWluKHN5cy5hcmd2KSkK
""").decode("utf-8"))'
2016-08-27 20:51:54,541 [salt.utils.vt.Terminal.PID-7106.STDERR][TRACE   ][7069] SALT_ARGV: ['/usr/bin/python2.6', '/var/tmp/.salt-ope_1a3532_salt/salt-call', '--retcode-passthrough', '--local', '--metadata', '--out', 'json', '-l', 'quiet', '-c', '/var/tmp/.salt-ope_1a3532_salt', '--', 'test.opts_pkg']
_edbc7885e4f9aac9b83b35999b68d015148caf467b78fa39c05f669c0ff89878
2016-08-27 20:51:54,541 [salt.utils.vt.Terminal.PID-7106.STDOUT][TRACE   ][7069] _edbc7885e4f9aac9b83b35999b68d015148caf467b78fa39c05f669c0ff89878
2016-08-27 20:51:55,485 [salt.utils.vt.Terminal.PID-7106.STDOUT][TRACE   ][7069] {
    "local": {
        "fun_args": [], 
        "jid": "20160827205155428885", 
        "return": {
            "output_file_append": false, 
            "selected_output_option": "output_indent", 
            "ioflo_realtime": true, 
            "zmq_filtering": false, 
            "acceptance_wait_time": 10, 
            "recon_default": 1000, 
            "whitelist_modules": [], 
            "ioflo_console_logdir": "", 
            "winrepo_password": "", 
            "utils_dirs": [
                "/var/cache/salt/minion/extmods/utils"
            ], 
            "state_top_saltenv": null, 
            "states_dirs": [], 
            "state_output_diff": false, 
            "fileserver_backend": [
                "roots"
            ], 
            "outputter_dirs": [], 
            "raet_port": 4510, 
            "module_dirs": [], 
            "git_pillar_ssl_verify": false, 
            "tcp_keepalive": true, 
            "environment": null, 
            "state_auto_or
2016-08-27 20:51:55,496 [salt.utils.vt.Terminal.PID-7106.STDOUT][TRACE   ][7069] der": true, 
            "master_alive_interval": 0, 
            "__role": "minion", 
            "disable_modules": [], 
            "backup_mode": "", 
            "cluster_masters": [], 
            "recon_randomize": true, 
            "return": "", 
            "args_stdin": false, 
            "file_ignore_glob": [], 
            "auto_accept": true, 
            "open_mode": false, 
            "winrepo_ssl_verify": false, 
            "git_pillar_root": "", 
            "git_pillar_pubkey": "", 
            "master_failback_interval": 0, 
            "state_verbose": true, 
            "verify_master_pubkey_sign": false, 
            "password": null, 
            "cluster_mode": false, 
            "startup_states": "", 
            "grains": {
                "kernel": "Linux", 
                "domain": "", 
                "osrelease": "6.8", 
                "uid": 0, 
                "zmqversion": "4.0.5", 
                "kernelrelease": "2.6.32-642.4.2.el6.x86_64",
2016-08-27 20:51:55,508 [salt.utils.vt.Terminal.PID-7106.STDOUT][TRACE   ][7069]  
                "selinux": {
                    "enforced": "Enforcing", 
                    "enabled": true
                }, 
                "saltversioninfo": [
                    2016, 
                    3, 
                    2, 
                    0
                ], 
                "pid": 7126, 
                "ip_interfaces": {
                    "lo": [
                        "127.0.0.1", 
                        "::1"
                    ], 
                    "eth0": [
                        "192.168.1.10", 
                        "2408:210:2765:d800:5054:ff:febb:7cc", 
                        "fe80::5054:ff:febb:7cc"
                    ]
                }, 
                "groupname": "root", 
                "shell": "/bin/bash", 
                "mem_total": 996, 
                "osfinger": "CentOS-6", 
                "SSDs": [], 
                "mdadm": [], 
                "id": "local", 
                "osmajorrelease": "6",
2016-08-27 20:51:55,519 [salt.utils.vt.Terminal.PID-7106.STDOUT][TRACE   ][7069]      "ps": "ps -efH", 
                "server_id": 2016050236, 
                "ip6_interfaces": {
                    "lo": [
                        "::1"
                    ], 
                    "eth0": [
                        "2408:210:2765:d800:5054:ff:febb:7cc", 
                        "fe80::5054:ff:febb:7cc"
                    ]
                }, 
                "num_cpus": 1, 
                "hwaddr_interfaces": {
                    "lo": "00:00:00:00:00:00", 
                    "eth0": "52:54:00:bb:07:cc"
                }, 
                "init": "upstart", 
                "ip4_interfaces": {
                    "lo": [
                        "127.0.0.1"
                    ], 
                    "eth0": [
                        "192.168.1.10"
                    ]
                }, 
                "osfullname": "CentOS", 
                "gid": 0, 
                "master": "salt", 
                "ipv4": [
                    "127.0.0.1",
2016-08-27 20:51:55,531 [salt.utils.vt.Terminal.PID-7106.STDOUT][TRACE   ][7069]                "192.168.1.10"
                ], 
                "dns": {
                    "nameservers": [
                        "192.168.1.1"
                    ], 
                    "domain": "", 
                    "ip4_nameservers": [
                        "192.168.1.1"
                    ], 
                    "search": [], 
                    "ip6_nameservers": []
                }, 
                "ipv6": [
                    "::1", 
                    "2408:210:2765:d800:5054:ff:febb:7cc", 
                    "fe80::5054:ff:febb:7cc"
                ], 
                "cpu_flags": [
                    "fpu", 
                    "de", 
                    "pse", 
                    "tsc", 
                    "msr", 
                    "pae", 
                    "mce", 
                    "cx8", 
                    "apic", 
                    "sep", 
                    "mtrr", 
                    "pge", 
                    "mca",
2016-08-27 20:51:55,544 [salt.utils.vt.Terminal.PID-7106.STDOUT][TRACE   ][7069]             "cmov", 
                    "pse36", 
                    "clflush", 
                    "mmx", 
                    "fxsr", 
                    "sse", 
                    "sse2", 
                    "syscall", 
                    "nx", 
                    "lm", 
                    "up", 
                    "rep_good", 
                    "unfair_spinlock", 
                    "pni", 
                    "vmx", 
                    "cx16", 
                    "x2apic", 
                    "popcnt", 
                    "hypervisor", 
                    "lahf_lm", 
                    "vnmi", 
                    "ept"
                ], 
                "localhost": "saltstack", 
                "lsb_distrib_id": "CentOS", 
                "username": "root", 
                "fqdn_ip4": [], 
                "fqdn_ip6": [], 
                "nodename": "saltstack", 
                "saltversion": "2016.3.2", 
                "lsb_distrib_release": "6.8",
2016-08-27 20:51:55,556 [salt.utils.vt.Terminal.PID-7106.STDOUT][TRACE   ][7069]  
                "pythonpath": [
                    "/var/tmp/.salt-ope_1a3532_salt/py2", 
                    "/var/tmp/.salt-ope_1a3532_salt", 
                    "/usr/lib64/python26.zip", 
                    "/usr/lib64/python2.6", 
                    "/usr/lib64/python2.6/plat-linux2", 
                    "/usr/lib64/python2.6/lib-tk", 
                    "/usr/lib64/python2.6/lib-old", 
                    "/usr/lib64/python2.6/lib-dynload", 
                    "/usr/lib64/python2.6/site-packages", 
                    "/usr/lib/python2.6/site-packages"
                ], 
                "saltpath": "/var/tmp/.salt-ope_1a3532_salt/py2/salt", 
                "pythonversion": [
                    2, 
                    6, 
                    6, 
                    "final", 
                    0
                ], 
                "host": "saltstack", 
                "os_family": "RedHat", 
                "oscodename": "Final", 
                "path": "/sbin:/bin:/
2016-08-27 20:51:55,570 [salt.utils.vt.Terminal.PID-7106.STDOUT][TRACE   ][7069] usr/sbin:/usr/bin:/usr/local/bin", 
                "num_gpus": 1, 
                "virtual": "kvm", 
                "disks": [
                    "ram0", 
                    "ram1",
2016-08-27 20:51:55,582 [salt.utils.vt.Terminal.PID-7106.STDOUT][TRACE   ][7069]                     "ram2", 
                    "ram3", 
                    "ram4", 
                    "ram5", 
                    "ram6", 
                    "ram7", 
                    "ram8", 
                    "ram9", 
                    "ram10", 
                    "ram11", 
                    "ram12", 
                    "ram13", 
                    "ram14", 
                    "ram15", 
                    "loop0", 
                    "loop1", 
                    "loop2", 
                    "loop3", 
                    "loop4", 
                    "loop5", 
                    "loop6", 
                    "loop7", 
                    "sr0", 
                    "vda", 
                    "dm-0", 
                    "dm-1"
                ], 
                "cpu_model": "QEMU Virtual CPU version 2.0.0", 
                "fqdn": "saltstack", 
                "pythonexecutable": "/usr/bin/python2.6", 
                "osarch": "x86_64",
2016-08-27 20:51:55,594 [salt.utils.vt.Terminal.PID-7106.STDOUT][TRACE   ][7069]        "cpuarch": "x86_64", 
                "lsb_distrib_codename": "Final", 
                "osrelease_info": [
                    6, 
                    8
                ], 
                "locale_info": {
                    "detectedencoding": "UTF8", 
                    "defaultlanguage": "en_US", 
                    "defaultencoding": "UTF8"
                }, 
                "gpus": [
                    {
                        "model": "GD 5446", 
                        "vendor": "unknown"
                    }
                ], 
                "os": "CentOS"
            }, 
            "state_output": "full", 
            "tcp_pull_port": 4511, 
            "pillar": {}, 
            "fileserver_ignoresymlinks": false, 
            "retry_dns": 30, 
            "gitfs_global_lock": true, 
            "master_tries": 1, 
            "return_retry_timer": 5, 
            "file_ignore_regex": [], 
            "output": "json", 
            "master_shuffle": fal
2016-08-27 20:51:55,607 [salt.utils.vt.Terminal.PID-7106.STDOUT][TRACE   ][7069] se, 
            "range_server": "range:80", 
            "gitfs_pubkey": "", 
            "file_roots": {
                "base": [
                    "/srv/salt", 
                    "/srv/spm/salt"
                ]
            }, 
            "master_failback": false, 
            "top_file_merging_strategy": "merge", 
            "root_dir": "/var/tmp/.salt-ope_1a3532_salt/running_data", 
            "log_granular_levels": {}, 
            "git_pillar_insecure_auth": false, 
            "returner_dirs": [], 
            "gitfs_privkey": "", 
            "skip_grains": false, 
            "winrepo_remotes_ng": [
                "https://github.com/saltstack/salt-winrepo-ng.git"
            ], 
            "arg": [], 
            "grains_dirs": [], 
            "config_dir": "/var/tmp/.salt-ope_1a3532_salt", 
            "state_top": "top.sls", 
            "transport": "zeromq", 
            "winrepo_privkey": "", 
            "gitfs_base": "master", 
            "render_dirs"
2016-08-27 20:51:55,620 [salt.utils.vt.Terminal.PID-7106.STDOUT][TRACE   ][7069] : [], 
            "pillar_opts": false, 
            "pillar_cache_ttl": 3600, 
            "gitfs_user": "", 
            "fileserver_limit_traversal": false, 
            "tcp_keepalive_intvl": -1, 
            "conf_file": "/var/tmp/.salt-ope_1a3532_salt/minion", 
            "top_file": "", 
            "zmq_monitor": false, 
            "file_recv_max_size": 100, 
            "pidfile": "/var/tmp/.salt-ope_1a3532_salt/running_data/var/run/salt-minion.pid", 
            "metadata": true, 
            "raet_mutable": false, 
            "log_datefmt_logfile": "%Y-%m-%d %H:%M:%S", 
            "pillar_roots": {
                "base": [
                    "/srv/pillar", 
                    "/srv/spm/pillar"
                ]
            }, 
            "winrepo_cachefile": "winrepo.p", 
            "schedule": {}, 
            "raet_main": false, 
            "thorium_roots": {
                "base": [
                    "/srv/thorium"
                ]
            },
2016-08-27 20:51:55,633 [salt.utils.vt.Terminal.PID-7106.STDOUT][TRACE   ][7069]        "cachedir": "/var/tmp/.salt-ope_1a3532_salt/running_data/var/cache/salt/minion", 
            "winrepo_passphrase": "", 
            "interface": "0.0.0.0", 
            "update_restart_services": [], 
            "recon_max": 10000, 
            "master_uri_format": "default", 
            "default_include": "minion.d/*.conf", 
            "hard_crash": false, 
            "http_request_timeout": 3600.0, 
            "rejected_retry": false, 
            "state_events": false, 
            "gitfs_ssl_verify": false, 
            "http_max_body": 107374182400, 
            "restart_on_error": false, 
            "winrepo_dir": "/srv/salt/win/repo", 
            "raet_road_bufcnt": 2, 
            "multiprocessing": true, 
            "winrepo_pubkey": "", 
            "mine_enabled": true, 
            "ipc_mode": "ipc", 
            "keysize": 2048, 
            "profiling_enabled": false, 
            "master_sign_key_name": "master_sign", 
            "cython_enable": false,
2016-08-27 20:51:55,646 [salt.utils.vt.Terminal.PID-7106.STDOUT][TRACE   ][7069]             "sls_list": [], 
            "beacons": {}, 
            "git_pillar_env": "", 
            "ext_job_cache": "", 
            "hash_type": "md5", 
            "winrepo_source_dir": "salt://win/repo-ng/", 
            "always_verify_signature": false, 
            "force_color": false, 
            "modules_max_memory": -1, 
            "renderer": "yaml_jinja", 
            "random_reauth_delay": 10, 
            "gitfs_env_whitelist": [], 
            "git_pillar_base": "master", 
            "gitfs_insecure_auth": false, 
            "mine_interval": 60, 
            "git_pillar_privkey": "", 
            "__cli": "salt-call", 
            "extension_modules": "/var/tmp/.salt-ope_1a3532_salt/running_data/var/cache/salt/minion/extmods", 
            "minion_id_caching": true, 
            "providers": {}, 
            "winrepo_user": "", 
            "grains_cache": true, 
            "file_recv": false, 
            "no_color": false, 
            "ipv6": false,
2016-08-27 20:51:55,660 [salt.utils.vt.Terminal.PID-7106.STDOUT][TRACE   ][7069]       "verify_env": true, 
            "sudo_user": "", 
            "username": null, 
            "master_finger": "", 
            "syndic_finger": "", 
            "tcp_keepalive_idle": 300, 
            "thorium_interval": 0.5, 
            "grains_deep_merge": false, 
            "gitfs_passphrase": "", 
            "log_fmt_logfile": "%(asctime)s,%(msecs)03.0f [%(name)-17s][%(levelname)-8s][%(process)d] %(message)s", 
            "mine_return_job": false, 
            "master_port": 4506, 
            "enable_zip_modules": false, 
            "ioflo_period": 0.10000000000000001, 
            "use_master_when_local": false, 
            "ping_interval": 0, 
            "auth_timeout": 60, 
            "local": true, 
            "tcp_keepalive_cnt": -1, 
            "raet_lane_bufcnt": 100, 
            "git_pillar_global_lock": true, 
            "pillar_cache_backend": "disk", 
            "raet_alt_port": 4511, 
            "env_order": [], 
            "profiling_path": "/tmp
2016-08-27 20:51:55,679 [salt.utils.vt.Terminal.PID-7106.STDOUT][TRACE   ][7069] /stats", 
            "caller": true, 
            "retcode_passthrough": true, 
            "doc": false, 
            "fun": "test.opts_pkg", 
            "winrepo_insecure_auth": false,
2016-08-27 20:51:55,691 [salt.utils.vt.Terminal.PID-7106.STDOUT][TRACE   ][7069]             "update_url": false, 
            "grains_refresh_every": 0, 
            "master_type": "str", 
            "git_pillar_branch": "master", 
            "default_top": "base", 
            "winrepo_branch": "master", 
            "pillar_cache": false, 
            "winrepo_remotes": [
                "https://github.com/saltstack/salt-winrepo.git"
            ], 
            "autoload_dynamic_modules": true, 
            "file_buffer_size": 262144, 
            "log_fmt_console": "[%(levelname)-8s] %(message)s", 
            "random_master": false, 
            "log_datefmt": "%H:%M:%S", 
            "grains_cache_expiration": 300, 
            "max_event_size": 1048576, 
            "id": "local", 
            "caller_floscript": "/var/tmp/.salt-ope_1a3532_salt/py2/salt/daemons/flo/caller.flo", 
            "state_aggregate": false, 
            "event_publisher_pub_hwm": 1000, 
            "loop_interval": 1, 
            "log_level": "quiet", 
            "git_pillar_p
2016-08-27 20:51:55,702 [salt.utils.vt.Terminal.PID-7106.STDOUT][TRACE   ][7069] assword": "", 
            "event_match_type": "startswith", 
            "git_pillar_user": "", 
            "auth_safemode": false, 
            "clean_dynamic_modules": true, 
            "disable_returners": [], 
            "ipc_write_buffer": 0, 
            "cache_sreqs": true, 
            "autosign_timeout": 120, 
            "gitfs_root": "", 
            "test": false, 
            "gitfs_password": "", 
            "return_retry_timer_max": 10, 
            "failhard": false, 
            "raet_clear_remotes": true, 
            "raet_clear_remote_masters": true, 
            "file_client": "local", 
            "user": "root", 
            "git_pillar_passphrase": "", 
            "pillarenv": null, 
            "auth_tries": 7, 
            "cache_jobs": false, 
            "permissive_pki_access": false, 
            "cmd_safe": true, 
            "gitfs_env_blacklist": [], 
            "winrepo_dir_ng": "/srv/salt/win/repo-ng", 
            "refresh_grains_cache": fal
2016-08-27 20:51:55,714 [salt.utils.vt.Terminal.PID-7106.STDOUT][TRACE   ][7069] se, 
            "fileserver_list_cache_time": 3, 
            "salt_event_pub_hwm": 2000, 
            "pki_dir": "/var/tmp/.salt-ope_1a3532_salt/running_data/etc/salt/pki/minion", 
            "grains_run": false, 
            "minion_floscript": "/var/tmp/.salt-ope_1a3532_salt/py2/salt/daemons/flo/minion.flo", 
            "ioflo_verbose": 0, 
            "sock_dir": "/var/tmp/.salt-ope_1a3532_salt/running_data", 
            "tcp_pub_port": 4510, 
            "acceptance_wait_time_max": 0, 
            "master": "salt", 
            "fileserver_followsymlinks": true, 
            "log_file": "/var/tmp/.salt-ope_1a3532_salt/running_data/salt-call.log", 
            "gitfs_remotes": [], 
            "gitfs_mountpoint": ""
        }, 
        "retcode": 0, 
        "fun": "test.opts_pkg", 
        "id": "local"
    }
}
2016-08-27 20:51:55,967 [salt.utils.lazy  ][DEBUG   ][7069] LazyLoaded jinja.render
2016-08-27 20:51:55,968 [salt.utils.lazy  ][DEBUG   ][7069] LazyLoaded yaml.render
2016-08-27 20:51:55,972 [salt.utils.lazy  ][DEBUG   ][7069] LazyLoaded state.apply
2016-08-27 20:51:55,973 [salt.fileserver  ][TRACE   ][7069] Returning file_lists cache data from /root/saltstack_master/var/cache/salt/master/file_lists/roots/base.p
2016-08-27 20:51:55,973 [salt.pillar      ][DEBUG   ][7069] Determining pillar cache
2016-08-27 20:51:55,988 [salt.utils.lazy  ][DEBUG   ][7069] LazyLoaded jinja.render
2016-08-27 20:51:55,989 [salt.utils.lazy  ][DEBUG   ][7069] LazyLoaded yaml.render
2016-08-27 20:51:56,014 [salt.utils.lazy  ][DEBUG   ][7069] LazyLoaded jinja.render
2016-08-27 20:51:56,014 [salt.utils.lazy  ][DEBUG   ][7069] LazyLoaded yaml.render
2016-08-27 20:51:56,016 [salt.fileclient  ][DEBUG   ][7069] In saltenv 'base', looking at rel_path 'rsyslog.sls' to resolve 'salt://rsyslog.sls'
2016-08-27 20:51:56,016 [salt.fileclient  ][DEBUG   ][7069] In saltenv 'base', ** considering ** path '/root/saltstack_master/var/cache/salt/master/files/base/rsyslog.sls' to resolve 'salt://rsyslog.sls'
2016-08-27 20:51:56,016 [salt.fileclient  ][DEBUG   ][7069] Fetching file from saltenv 'base', ** attempting ** 'salt://rsyslog.sls'
2016-08-27 20:51:56,016 [salt.fileclient  ][DEBUG   ][7069] No dest file found 
2016-08-27 20:51:56,017 [salt.fileclient  ][INFO    ][7069] Fetching file from saltenv 'base', ** done ** 'rsyslog.sls'
2016-08-27 20:51:56,017 [salt.template    ][DEBUG   ][7069] compile template: /root/saltstack_master/var/cache/salt/master/files/base/rsyslog.sls
2016-08-27 20:51:56,018 [salt.utils.jinja ][DEBUG   ][7069] Jinja search path: ['/var/tmp/.salt-ope_1a3532_salt/running_data/var/cache/salt/minion/files/base']
2016-08-27 20:51:56,024 [salt.utils.lazy  ][DEBUG   ][7069] Could not LazyLoad network.interface_ip
2016-08-27 20:51:56,048 [salt.client.ssh  ][DEBUG   ][7069] Performing shimmed, blocking command as follows:
network.interface_ip "eth0"
2016-08-27 20:51:56,063 [salt.client.ssh.shell][DEBUG   ][7069] Executed SHIM command. Command logged to TRACE
2016-08-27 20:51:56,063 [salt.client.ssh.shell][TRACE   ][7069] Executing command: ssh 127.0.0.1  -o KbdInteractiveAuthentication=no -o PasswordAuthentication=yes -o GSSAPIAuthentication=no -o ConnectTimeout=65 -o Port=22 -o IdentityFile=/root/saltstack_master/etc/salt/pki/master/ssh/salt-ssh.rsa -o User=******  /bin/sh << 'EOF'
set -e
set -u
DEBUG=""
if [ -n "$DEBUG" ]
then set -x
fi
SUDO=""
if [ -n "sudo" ]
then SUDO="sudo "
fi
EX_PYTHON_INVALID=10
PYTHON_CMDS="python3 python27 python2.7 python26 python2.6 python2 python"
for py_cmd in $PYTHON_CMDS
do
if command -v "$py_cmd" >/dev/null 2>&1 && "$py_cmd" -c \
"import sys; sys.exit(not (sys.version_info >= (2, 6)
and sys.version_info[0] == 2));"
then
py_cmd_path=`"$py_cmd" -c \
'from __future__ import print_function;
import sys; print(sys.executable);'`
cmdpath=$(which $py_cmd 2>&1)
if file $cmdpath | grep "shell script" > /dev/null
then
ex_vars="'PATH', 'LD_LIBRARY_PATH', 'MANPATH', \
'XDG_DATA_DIRS', 'PKG_CONFIG_PATH'"
export $($py_cmd -c \
"from __future__ import print_function;
import sys;
import os;
map(sys.stdout.write, ['{0}={1} ' \
.format(x, os.environ[x]) for x in [$ex_vars]])")
exec $SUDO PATH=$PATH LD_LIBRARY_PATH=$LD_LIBRARY_PATH \
MANPATH=$MANPATH XDG_DATA_DIRS=$XDG_DATA_DIRS \
PKG_CONFIG_PATH=$PKG_CONFIG_PATH \
"$py_cmd_path" -c \
'import base64;
exec(base64.b64decode("""IyBweWxpbnQ6IGRpc2FibGU9Vzk5MDMKJycnClRoaXMgaXMgYSBzaGltIHRoYXQgaGFuZGxlcyBj
aGVja2luZyBhbmQgdXBkYXRpbmcgc2FsdCB0aGluIGFuZAp0aGVuIGludm9raW5nIHRoaW4uCgpU
aGlzIGlzIG5vdCBpbnRlbmRlZCB0byBiZSBpbnN0YW50aWF0ZWQgYXMgYSBtb2R1bGUsIHJhdGhl
ciBpdCBpcyBhCmhlbHBlciBzY3JpcHQgdXNlZCBieSBzYWx0LmNsaWVudC5zc2guU2luZ2xlLiAg
SXQgaXMgaGVyZSwgaW4gYQpzZXBhcmF0ZSBmaWxlLCBmb3IgY29udmVuaWVuY2Ugb2YgZGV2ZWxv
cG1lbnQuCicnJwoKZnJvbSBfX2Z1dHVyZV9fIGltcG9ydCBhYnNvbHV0ZV9pbXBvcnQKCmltcG9y
dCBoYXNobGliCmltcG9ydCB0YXJmaWxlCmltcG9ydCBzaHV0aWwKaW1wb3J0IHN5cwppbXBvcnQg
b3MKaW1wb3J0IHN0YXQKaW1wb3J0IHN1YnByb2Nlc3MKClRISU5fQVJDSElWRSA9ICdzYWx0LXRo
aW4udGd6JwpFWFRfQVJDSElWRSA9ICdzYWx0LWV4dF9tb2RzLnRneicKCiMgS2VlcCB0aGVzZSBp
biBzeW5jIHdpdGggc2FsdC9kZWZhdWx0cy9leGl0Y29kZXMucHkKRVhfVEhJTl9ERVBMT1kgPSAx
MQpFWF9USElOX0NIRUNLU1VNID0gMTIKRVhfTU9EX0RFUExPWSA9IDEzCkVYX1NDUF9OT1RfRk9V
TkQgPSAxNApFWF9DQU5UQ1JFQVQgPSA3MwoKCmNsYXNzIE9CSihvYmplY3QpOgogICAgIiIiQW4g
ZW1wdHkgY2xhc3MgZm9yIGhvbGRpbmcgaW5zdGFuY2UgYXR0cmlidXRlIHZhbHVlcy4iIiIKICAg
IHBhc3MKCgpPUFRJT05TID0gTm9uZQpBUkdTID0gTm9uZQojIFRoZSBiZWxvdyBsaW5lIGlzIHdo
ZXJlIE9QVElPTlMgY2FuIGJlIHJlZGVmaW5lZCB3aXRoIGludGVybmFsIG9wdGlvbnMKIyAocmF0
aGVyIHRoYW4gY2xpIGFyZ3VtZW50cykgd2hlbiB0aGUgc2hpbSBpcyBidW5kbGVkIGJ5CiMgY2xp
ZW50LnNzaC5TaW5nbGUuX2NtZF9zdHIoKQojIHB5bGludDogZGlzYWJsZT1ibG9jay1jb21tZW50
LXNob3VsZC1zdGFydC13aXRoLWNhcmRpbmFsLXNwYWNlCgpPUFRJT05TID0gT0JKKCkKT1BUSU9O
Uy5jb25maWcgPSAiIiIKe2ZpbGVzZXJ2ZXJfbGlzdF9jYWNoZV90aW1lOiAzLCBncmFpbnNfY2Fj
aGU6IHRydWUsIGlkOiBsb2NhbCwgbG9nX2ZpbGU6IHNhbHQtY2FsbC5sb2csCiAgcm9vdF9kaXI6
IC92YXIvdG1wLy5zYWx0LW9wZV8xYTM1MzJfc2FsdC9ydW5uaW5nX2RhdGEsIHNvY2tfZGlyOiAv
fQoiIiIKT1BUSU9OUy5kZWxpbWl0ZXIgPSAnX2VkYmM3ODg1ZTRmOWFhYzliODNiMzU5OTliNjhk
MDE1MTQ4Y2FmNDY3Yjc4ZmEzOWMwNWY2NjljMGZmODk4NzgnCk9QVElPTlMuc2FsdGRpciA9ICcv
dmFyL3RtcC8uc2FsdC1vcGVfMWEzNTMyX3NhbHQnCk9QVElPTlMuY2hlY2tzdW0gPSAnMmUyNWZj
YmI2YWEyNTU5OWQ1MmU4OTVkZTZlMjExOTZkNWM2ZTU5NScKT1BUSU9OUy5oYXNoZnVuYyA9ICdz
aGExJwpPUFRJT05TLnZlcnNpb24gPSAnMjAxNi4zLjInCk9QVElPTlMuZXh0X21vZHMgPSAnJwpP
UFRJT05TLndpcGUgPSBGYWxzZQpPUFRJT05TLnR0eSA9IEZhbHNlCk9QVElPTlMuY21kX3VtYXNr
ID0gTm9uZQpBUkdTID0gWyduZXR3b3JrLmludGVyZmFjZV9pcCcsICciZXRoMCInXQoKCgpkZWYg
bmVlZF9kZXBsb3ltZW50KCk6CiAgICAiIiIKICAgIFNhbHQgdGhpbiBuZWVkcyB0byBiZSBkZXBs
b3llZCAtIHByZXAgdGhlIHRhcmdldCBkaXJlY3RvcnkgYW5kIGVtaXQgdGhlCiAgICBkZWxpbWV0
ZXIgYW5kIGV4aXQgY29kZSB0aGF0IHNpZ25hbHMgYSByZXF1aXJlZCBkZXBsb3ltZW50LgogICAg
IiIiCiAgICBpZiBvcy5wYXRoLmV4aXN0cyhPUFRJT05TLnNhbHRkaXIpOgogICAgICAgIHNodXRp
bC5ybXRyZWUoT1BUSU9OUy5zYWx0ZGlyKQogICAgb2xkX3VtYXNrID0gb3MudW1hc2soMG8wNzcp
CiAgICBvcy5tYWtlZGlycyhPUFRJT05TLnNhbHRkaXIpCiAgICBvcy51bWFzayhvbGRfdW1hc2sp
CiAgICAjIFZlcmlmeSBwZXJtcyBvbiBzYWx0ZGlyCiAgICBldWlkID0gb3MuZ2V0ZXVpZCgpCiAg
ICBkc3RhdCA9IG9zLnN0YXQoT1BUSU9OUy5zYWx0ZGlyKQogICAgaWYgZHN0YXQuc3RfdWlkICE9
IGV1aWQ6CiAgICAgICAgIyBBdHRhY2sgZGV0ZWN0ZWQsIHRyeSBhZ2FpbgogICAgICAgIG5lZWRf
ZGVwbG95bWVudCgpCiAgICBpZiBkc3RhdC5zdF9tb2RlICE9IDE2ODMyOgogICAgICAgICMgQXR0
YWNrIGRldGVjdGVkCiAgICAgICAgbmVlZF9kZXBsb3ltZW50KCkKICAgICMgSWYgU1VET2luZyB0
aGVuIGFsc28gZ2l2ZSB0aGUgc3VwZXIgdXNlciBncm91cCB3cml0ZSBwZXJtaXNzaW9ucwogICAg
c3Vkb19naWQgPSBvcy5lbnZpcm9uLmdldCgnU1VET19HSUQnKQogICAgaWYgc3Vkb19naWQ6CiAg
ICAgICAgb3MuY2hvd24oT1BUSU9OUy5zYWx0ZGlyLCAtMSwgaW50KHN1ZG9fZ2lkKSkKICAgICAg
ICBzdHQgPSBvcy5zdGF0KE9QVElPTlMuc2FsdGRpcikKICAgICAgICBvcy5jaG1vZChPUFRJT05T
LnNhbHRkaXIsIHN0dC5zdF9tb2RlIHwgc3RhdC5TX0lXR1JQIHwgc3RhdC5TX0lSR1JQIHwgc3Rh
dC5TX0lYR1JQKQoKICAgICMgRGVsaW1pdGVyIGVtaXR0ZWQgb24gc3Rkb3V0ICpvbmx5KiB0byBp
bmRpY2F0ZSBzaGltIG1lc3NhZ2UgdG8gbWFzdGVyLgogICAgc3lzLnN0ZG91dC53cml0ZSgiezB9
XG5kZXBsb3lcbiIuZm9ybWF0KE9QVElPTlMuZGVsaW1pdGVyKSkKICAgIHN5cy5leGl0KEVYX1RI
SU5fREVQTE9ZKQoKCiMgQWRhcHRlZCBmcm9tIHNhbHQudXRpbHMuZ2V0X2hhc2goKQpkZWYgZ2V0
X2hhc2gocGF0aCwgZm9ybT0nc2hhMScsIGNodW5rX3NpemU9NDA5Nik6CiAgICAiIiJHZW5lcmF0
ZSBhIGhhc2ggZGlnZXN0IHN0cmluZyBmb3IgYSBmaWxlLiIiIgogICAgdHJ5OgogICAgICAgIGhh
c2hfdHlwZSA9IGdldGF0dHIoaGFzaGxpYiwgZm9ybSkKICAgIGV4Y2VwdCBBdHRyaWJ1dGVFcnJv
cjoKICAgICAgICByYWlzZSBWYWx1ZUVycm9yKCdJbnZhbGlkIGhhc2ggdHlwZTogezB9Jy5mb3Jt
YXQoZm9ybSkpCiAgICB3aXRoIG9wZW4ocGF0aCwgJ3JiJykgYXMgaWZpbGU6CiAgICAgICAgaGFz
aF9vYmogPSBoYXNoX3R5cGUoKQogICAgICAgICMgcmVhZCB0aGUgZmlsZSBpbiBpbiBjaHVua3Ms
IG5vdCB0aGUgZW50aXJlIGZpbGUKICAgICAgICBmb3IgY2h1bmsgaW4gaXRlcihsYW1iZGE6IGlm
aWxlLnJlYWQoY2h1bmtfc2l6ZSksIGInJyk6CiAgICAgICAgICAgIGhhc2hfb2JqLnVwZGF0ZShj
aHVuaykKICAgICAgICByZXR1cm4gaGFzaF9vYmouaGV4ZGlnZXN0KCkKCgpkZWYgdW5wYWNrX3Ro
aW4odGhpbl9wYXRoKToKICAgICIiIlVucGFjayB0aGUgU2FsdCB0aGluIGFyY2hpdmUuIiIiCiAg
ICB0ZmlsZSA9IHRhcmZpbGUuVGFyRmlsZS5nem9wZW4odGhpbl9wYXRoKQogICAgb2xkX3VtYXNr
ID0gb3MudW1hc2soMG8wNzcpCiAgICB0ZmlsZS5leHRyYWN0YWxsKHBhdGg9T1BUSU9OUy5zYWx0
ZGlyKQogICAgdGZpbGUuY2xvc2UoKQogICAgb3MudW1hc2sob2xkX3VtYXNrKQogICAgb3MudW5s
aW5rKHRoaW5fcGF0aCkKCgpkZWYgbmVlZF9leHQoKToKICAgICIiIlNpZ25hbCB0aGF0IGV4dGVy
bmFsIG1vZHVsZXMgbmVlZCB0byBiZSBkZXBsb3llZC4iIiIKICAgIHN5cy5zdGRvdXQud3JpdGUo
InswfVxuZXh0X21vZHNcbiIuZm9ybWF0KE9QVElPTlMuZGVsaW1pdGVyKSkKICAgIHN5cy5leGl0
KEVYX01PRF9ERVBMT1kpCgoKZGVmIHVucGFja19leHQoZXh0X3BhdGgpOgogICAgIiIiVW5wYWNr
IHRoZSBleHRlcm5hbCBtb2R1bGVzLiIiIgogICAgbW9kY2FjaGUgPSBvcy5wYXRoLmpvaW4oCiAg
ICAgICAgICAgIE9QVElPTlMuc2FsdGRpciwKICAgICAgICAgICAgJ3J1bm5pbmdfZGF0YScsCiAg
ICAgICAgICAgICd2YXInLAogICAgICAgICAgICAnY2FjaGUnLAogICAgICAgICAgICAnc2FsdCcs
CiAgICAgICAgICAgICdtaW5pb24nLAogICAgICAgICAgICAnZXh0bW9kcycpCiAgICB0ZmlsZSA9
IHRhcmZpbGUuVGFyRmlsZS5nem9wZW4oZXh0X3BhdGgpCiAgICBvbGRfdW1hc2sgPSBvcy51bWFz
aygwbzA3NykKICAgIHRmaWxlLmV4dHJhY3RhbGwocGF0aD1tb2RjYWNoZSkKICAgIHRmaWxlLmNs
b3NlKCkKICAgIG9zLnVtYXNrKG9sZF91bWFzaykKICAgIG9zLnVubGluayhleHRfcGF0aCkKICAg
IHZlcl9wYXRoID0gb3MucGF0aC5qb2luKG1vZGNhY2hlLCAnZXh0X3ZlcnNpb24nKQogICAgdmVy
X2RzdCA9IG9zLnBhdGguam9pbihPUFRJT05TLnNhbHRkaXIsICdleHRfdmVyc2lvbicpCiAgICBz
aHV0aWwubW92ZSh2ZXJfcGF0aCwgdmVyX2RzdCkKCgpkZWYgbWFpbihhcmd2KTogICMgcHlsaW50
OiBkaXNhYmxlPVcwNjEzCiAgICAiIiJNYWluIHByb2dyYW0gYm9keSIiIgogICAgdGhpbl9wYXRo
ID0gb3MucGF0aC5qb2luKE9QVElPTlMuc2FsdGRpciwgVEhJTl9BUkNISVZFKQogICAgaWYgb3Mu
cGF0aC5pc2ZpbGUodGhpbl9wYXRoKToKICAgICAgICBpZiBPUFRJT05TLmNoZWNrc3VtICE9IGdl
dF9oYXNoKHRoaW5fcGF0aCwgT1BUSU9OUy5oYXNoZnVuYyk6CiAgICAgICAgICAgIHN5cy5zdGRl
cnIud3JpdGUoJ3swfVxuJy5mb3JtYXQoT1BUSU9OUy5jaGVja3N1bSkpCiAgICAgICAgICAgIHN5
cy5zdGRlcnIud3JpdGUoJ3swfVxuJy5mb3JtYXQoZ2V0X2hhc2godGhpbl9wYXRoLCBPUFRJT05T
Lmhhc2hmdW5jKSkpCiAgICAgICAgICAgIG9zLnVubGluayh0aGluX3BhdGgpCiAgICAgICAgICAg
IHN5cy5zdGRlcnIud3JpdGUoJ1dBUk5JTkc6IGNoZWNrc3VtIG1pc21hdGNoIGZvciAiezB9Ilxu
Jy5mb3JtYXQodGhpbl9wYXRoKSkKICAgICAgICAgICAgc3lzLmV4aXQoRVhfVEhJTl9DSEVDS1NV
TSkKICAgICAgICB1bnBhY2tfdGhpbih0aGluX3BhdGgpCiAgICAgICAgIyBTYWx0IHRoaW4gbm93
IGlzIGF2YWlsYWJsZSB0byB1c2UKICAgIGVsc2U6CiAgICAgICAgc2Nwc3RhdCA9IHN1YnByb2Nl
c3MuUG9wZW4oWycvYmluL3NoJywgJy1jJywgJ2NvbW1hbmQgLXYgc2NwJ10pLndhaXQoKQogICAg
ICAgIGlmIHNjcHN0YXQgIT0gMDoKICAgICAgICAgICAgc3lzLmV4aXQoRVhfU0NQX05PVF9GT1VO
RCkKCiAgICAgICAgaWYgbm90IG9zLnBhdGguZXhpc3RzKE9QVElPTlMuc2FsdGRpcik6CiAgICAg
ICAgICAgIG5lZWRfZGVwbG95bWVudCgpCgogICAgICAgIGlmIG5vdCBvcy5wYXRoLmlzZGlyKE9Q
VElPTlMuc2FsdGRpcik6CiAgICAgICAgICAgIHN5cy5zdGRlcnIud3JpdGUoCiAgICAgICAgICAg
ICAgICAnRVJST1I6IHNhbHQgcGF0aCAiezB9IiBleGlzdHMgYnV0IGlzJwogICAgICAgICAgICAg
ICAgJyBub3QgYSBkaXJlY3RvcnlcbicuZm9ybWF0KE9QVElPTlMuc2FsdGRpcikKICAgICAgICAg
ICAgKQogICAgICAgICAgICBzeXMuZXhpdChFWF9DQU5UQ1JFQVQpCgogICAgICAgIHZlcnNpb25f
cGF0aCA9IG9zLnBhdGguam9pbihPUFRJT05TLnNhbHRkaXIsICd2ZXJzaW9uJykKICAgICAgICBp
ZiBub3Qgb3MucGF0aC5leGlzdHModmVyc2lvbl9wYXRoKSBvciBub3Qgb3MucGF0aC5pc2ZpbGUo
dmVyc2lvbl9wYXRoKToKICAgICAgICAgICAgc3lzLnN0ZGVyci53cml0ZSgKICAgICAgICAgICAg
ICAgICdXQVJOSU5HOiBVbmFibGUgdG8gbG9jYXRlIGN1cnJlbnQgdGhpbiAnCiAgICAgICAgICAg
ICAgICAnIHZlcnNpb246IHswfS5cbicuZm9ybWF0KHZlcnNpb25fcGF0aCkKICAgICAgICAgICAg
KQogICAgICAgICAgICBuZWVkX2RlcGxveW1lbnQoKQogICAgICAgIHdpdGggb3Blbih2ZXJzaW9u
X3BhdGgsICdyJykgYXMgdnBvOgogICAgICAgICAgICBjdXJfdmVyc2lvbiA9IHZwby5yZWFkbGlu
ZSgpLnN0cmlwKCkKICAgICAgICBpZiBjdXJfdmVyc2lvbiAhPSBPUFRJT05TLnZlcnNpb246CiAg
ICAgICAgICAgIHN5cy5zdGRlcnIud3JpdGUoCiAgICAgICAgICAgICAgICAnV0FSTklORzogY3Vy
cmVudCB0aGluIHZlcnNpb24gezB9JwogICAgICAgICAgICAgICAgJyBpcyBub3QgdXAtdG8tZGF0
ZSB3aXRoIHsxfS5cbicuZm9ybWF0KAogICAgICAgICAgICAgICAgICAgIGN1cl92ZXJzaW9uLCBP
UFRJT05TLnZlcnNpb24KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgKQogICAgICAgICAg
ICBuZWVkX2RlcGxveW1lbnQoKQogICAgICAgICMgU2FsdCB0aGluIGV4aXN0cyBhbmQgaXMgdXAt
dG8tZGF0ZSAtIGZhbGwgdGhyb3VnaCBhbmQgdXNlIGl0CgogICAgc2FsdF9jYWxsX3BhdGggPSBv
cy5wYXRoLmpvaW4oT1BUSU9OUy5zYWx0ZGlyLCAnc2FsdC1jYWxsJykKICAgIGlmIG5vdCBvcy5w
YXRoLmlzZmlsZShzYWx0X2NhbGxfcGF0aCk6CiAgICAgICAgc3lzLnN0ZGVyci53cml0ZSgnRVJS
T1I6IHRoaW4gaXMgbWlzc2luZyAiezB9IlxuJy5mb3JtYXQoc2FsdF9jYWxsX3BhdGgpKQogICAg
ICAgIG5lZWRfZGVwbG95bWVudCgpCgogICAgd2l0aCBvcGVuKG9zLnBhdGguam9pbihPUFRJT05T
LnNhbHRkaXIsICdtaW5pb24nKSwgJ3cnKSBhcyBjb25maWc6CiAgICAgICAgY29uZmlnLndyaXRl
KE9QVElPTlMuY29uZmlnICsgJ1xuJykKICAgIGlmIE9QVElPTlMuZXh0X21vZHM6CiAgICAgICAg
ZXh0X3BhdGggPSBvcy5wYXRoLmpvaW4oT1BUSU9OUy5zYWx0ZGlyLCBFWFRfQVJDSElWRSkKICAg
ICAgICBpZiBvcy5wYXRoLmV4aXN0cyhleHRfcGF0aCk6CiAgICAgICAgICAgIHVucGFja19leHQo
ZXh0X3BhdGgpCiAgICAgICAgZWxzZToKICAgICAgICAgICAgdmVyc2lvbl9wYXRoID0gb3MucGF0
aC5qb2luKE9QVElPTlMuc2FsdGRpciwgJ2V4dF92ZXJzaW9uJykKICAgICAgICAgICAgaWYgbm90
IG9zLnBhdGguZXhpc3RzKHZlcnNpb25fcGF0aCkgb3Igbm90IG9zLnBhdGguaXNmaWxlKHZlcnNp
b25fcGF0aCk6CiAgICAgICAgICAgICAgICBuZWVkX2V4dCgpCiAgICAgICAgICAgIHdpdGggb3Bl
bih2ZXJzaW9uX3BhdGgsICdyJykgYXMgdnBvOgogICAgICAgICAgICAgICAgY3VyX3ZlcnNpb24g
PSB2cG8ucmVhZGxpbmUoKS5zdHJpcCgpCiAgICAgICAgICAgIGlmIGN1cl92ZXJzaW9uICE9IE9Q
VElPTlMuZXh0X21vZHM6CiAgICAgICAgICAgICAgICBuZWVkX2V4dCgpCiAgICAjIEZpeCBwYXJh
bWV0ZXIgcGFzc2luZyBpc3N1ZQogICAgaWYgbGVuKEFSR1MpID09IDE6CiAgICAgICAgYXJndl9w
cmVwYXJlZCA9IEFSR1NbMF0uc3BsaXQoKQogICAgZWxzZToKICAgICAgICBhcmd2X3ByZXBhcmVk
ID0gQVJHUwoKICAgIHNhbHRfYXJndiA9IFsKICAgICAgICBzeXMuZXhlY3V0YWJsZSwKICAgICAg
ICBzYWx0X2NhbGxfcGF0aCwKICAgICAgICAnLS1yZXRjb2RlLXBhc3N0aHJvdWdoJywKICAgICAg
ICAnLS1sb2NhbCcsCiAgICAgICAgJy0tbWV0YWRhdGEnLAogICAgICAgICctLW91dCcsICdqc29u
JywKICAgICAgICAnLWwnLCAncXVpZXQnLAogICAgICAgICctYycsIE9QVElPTlMuc2FsdGRpciwK
ICAgICAgICAnLS0nLAogICAgXSArIGFyZ3ZfcHJlcGFyZWQKCiAgICBzeXMuc3RkZXJyLndyaXRl
KCdTQUxUX0FSR1Y6IHswfVxuJy5mb3JtYXQoc2FsdF9hcmd2KSkKCiAgICAjIE9ubHkgZW1pdCB0
aGUgZGVsaW1pdGVyIG9uICpib3RoKiBzdGRvdXQgYW5kIHN0ZGVyciB3aGVuIGNvbXBsZXRlbHkg
c3VjY2Vzc2Z1bC4KICAgICMgWWVzLCB0aGUgZmx1c2goKSBpcyBuZWNlc3NhcnkuCiAgICBzeXMu
c3Rkb3V0LndyaXRlKE9QVElPTlMuZGVsaW1pdGVyICsgJ1xuJykKICAgIHN5cy5zdGRvdXQuZmx1
c2goKQogICAgaWYgbm90IE9QVElPTlMudHR5OgogICAgICAgIHN5cy5zdGRlcnIud3JpdGUoT1BU
SU9OUy5kZWxpbWl0ZXIgKyAnXG4nKQogICAgICAgIHN5cy5zdGRlcnIuZmx1c2goKQogICAgaWYg
T1BUSU9OUy5jbWRfdW1hc2sgaXMgbm90IE5vbmU6CiAgICAgICAgb2xkX3VtYXNrID0gb3MudW1h
c2soT1BUSU9OUy5jbWRfdW1hc2spCiAgICBpZiBPUFRJT05TLnR0eToKICAgICAgICBzdGRvdXQs
IF8gPSBzdWJwcm9jZXNzLlBvcGVuKHNhbHRfYXJndiwgc3Rkb3V0PXN1YnByb2Nlc3MuUElQRSwg
c3RkZXJyPXN1YnByb2Nlc3MuUElQRSkuY29tbXVuaWNhdGUoKQogICAgICAgIHN5cy5zdGRvdXQu
d3JpdGUoc3Rkb3V0KQogICAgICAgIHN5cy5zdGRvdXQuZmx1c2goKQogICAgICAgIGlmIE9QVElP
TlMud2lwZToKICAgICAgICAgICAgc2h1dGlsLnJtdHJlZShPUFRJT05TLnNhbHRkaXIpCiAgICBl
bGlmIE9QVElPTlMud2lwZToKICAgICAgICBzdWJwcm9jZXNzLmNhbGwoc2FsdF9hcmd2KQogICAg
ICAgIHNodXRpbC5ybXRyZWUoT1BUSU9OUy5zYWx0ZGlyKQogICAgZWxzZToKICAgICAgICBvcy5l
eGVjdihzeXMuZXhlY3V0YWJsZSwgc2FsdF9hcmd2KQogICAgaWYgT1BUSU9OUy5jbWRfdW1hc2sg
aXMgbm90IE5vbmU6CiAgICAgICAgb3MudW1hc2sob2xkX3VtYXNrKQoKaWYgX19uYW1lX18gPT0g
J19fbWFpbl9fJzoKICAgIHN5cy5leGl0KG1haW4oc3lzLmFyZ3YpKQo=
""").decode("utf-8"))'
else
exec $SUDO "$py_cmd_path" -c \
'import base64;
exec(base64.b64decode("""IyBweWxpbnQ6IGRpc2FibGU9Vzk5MDMKJycnClRoaXMgaXMgYSBzaGltIHRoYXQgaGFuZGxlcyBj
aGVja2luZyBhbmQgdXBkYXRpbmcgc2FsdCB0aGluIGFuZAp0aGVuIGludm9raW5nIHRoaW4uCgpU
aGlzIGlzIG5vdCBpbnRlbmRlZCB0byBiZSBpbnN0YW50aWF0ZWQgYXMgYSBtb2R1bGUsIHJhdGhl
ciBpdCBpcyBhCmhlbHBlciBzY3JpcHQgdXNlZCBieSBzYWx0LmNsaWVudC5zc2guU2luZ2xlLiAg
SXQgaXMgaGVyZSwgaW4gYQpzZXBhcmF0ZSBmaWxlLCBmb3IgY29udmVuaWVuY2Ugb2YgZGV2ZWxv
cG1lbnQuCicnJwoKZnJvbSBfX2Z1dHVyZV9fIGltcG9ydCBhYnNvbHV0ZV9pbXBvcnQKCmltcG9y
dCBoYXNobGliCmltcG9ydCB0YXJmaWxlCmltcG9ydCBzaHV0aWwKaW1wb3J0IHN5cwppbXBvcnQg
b3MKaW1wb3J0IHN0YXQKaW1wb3J0IHN1YnByb2Nlc3MKClRISU5fQVJDSElWRSA9ICdzYWx0LXRo
aW4udGd6JwpFWFRfQVJDSElWRSA9ICdzYWx0LWV4dF9tb2RzLnRneicKCiMgS2VlcCB0aGVzZSBp
biBzeW5jIHdpdGggc2FsdC9kZWZhdWx0cy9leGl0Y29kZXMucHkKRVhfVEhJTl9ERVBMT1kgPSAx
MQpFWF9USElOX0NIRUNLU1VNID0gMTIKRVhfTU9EX0RFUExPWSA9IDEzCkVYX1NDUF9OT1RfRk9V
TkQgPSAxNApFWF9DQU5UQ1JFQVQgPSA3MwoKCmNsYXNzIE9CSihvYmplY3QpOgogICAgIiIiQW4g
ZW1wdHkgY2xhc3MgZm9yIGhvbGRpbmcgaW5zdGFuY2UgYXR0cmlidXRlIHZhbHVlcy4iIiIKICAg
IHBhc3MKCgpPUFRJT05TID0gTm9uZQpBUkdTID0gTm9uZQojIFRoZSBiZWxvdyBsaW5lIGlzIHdo
ZXJlIE9QVElPTlMgY2FuIGJlIHJlZGVmaW5lZCB3aXRoIGludGVybmFsIG9wdGlvbnMKIyAocmF0
aGVyIHRoYW4gY2xpIGFyZ3VtZW50cykgd2hlbiB0aGUgc2hpbSBpcyBidW5kbGVkIGJ5CiMgY2xp
ZW50LnNzaC5TaW5nbGUuX2NtZF9zdHIoKQojIHB5bGludDogZGlzYWJsZT1ibG9jay1jb21tZW50
LXNob3VsZC1zdGFydC13aXRoLWNhcmRpbmFsLXNwYWNlCgpPUFRJT05TID0gT0JKKCkKT1BUSU9O
Uy5jb25maWcgPSAiIiIKe2ZpbGVzZXJ2ZXJfbGlzdF9jYWNoZV90aW1lOiAzLCBncmFpbnNfY2Fj
aGU6IHRydWUsIGlkOiBsb2NhbCwgbG9nX2ZpbGU6IHNhbHQtY2FsbC5sb2csCiAgcm9vdF9kaXI6
IC92YXIvdG1wLy5zYWx0LW9wZV8xYTM1MzJfc2FsdC9ydW5uaW5nX2RhdGEsIHNvY2tfZGlyOiAv
fQoiIiIKT1BUSU9OUy5kZWxpbWl0ZXIgPSAnX2VkYmM3ODg1ZTRmOWFhYzliODNiMzU5OTliNjhk
MDE1MTQ4Y2FmNDY3Yjc4ZmEzOWMwNWY2NjljMGZmODk4NzgnCk9QVElPTlMuc2FsdGRpciA9ICcv
dmFyL3RtcC8uc2FsdC1vcGVfMWEzNTMyX3NhbHQnCk9QVElPTlMuY2hlY2tzdW0gPSAnMmUyNWZj
YmI2YWEyNTU5OWQ1MmU4OTVkZTZlMjExOTZkNWM2ZTU5NScKT1BUSU9OUy5oYXNoZnVuYyA9ICdz
aGExJwpPUFRJT05TLnZlcnNpb24gPSAnMjAxNi4zLjInCk9QVElPTlMuZXh0X21vZHMgPSAnJwpP
UFRJT05TLndpcGUgPSBGYWxzZQpPUFRJT05TLnR0eSA9IEZhbHNlCk9QVElPTlMuY21kX3VtYXNr
ID0gTm9uZQpBUkdTID0gWyduZXR3b3JrLmludGVyZmFjZV9pcCcsICciZXRoMCInXQoKCgpkZWYg
bmVlZF9kZXBsb3ltZW50KCk6CiAgICAiIiIKICAgIFNhbHQgdGhpbiBuZWVkcyB0byBiZSBkZXBs
b3llZCAtIHByZXAgdGhlIHRhcmdldCBkaXJlY3RvcnkgYW5kIGVtaXQgdGhlCiAgICBkZWxpbWV0
ZXIgYW5kIGV4aXQgY29kZSB0aGF0IHNpZ25hbHMgYSByZXF1aXJlZCBkZXBsb3ltZW50LgogICAg
IiIiCiAgICBpZiBvcy5wYXRoLmV4aXN0cyhPUFRJT05TLnNhbHRkaXIpOgogICAgICAgIHNodXRp
bC5ybXRyZWUoT1BUSU9OUy5zYWx0ZGlyKQogICAgb2xkX3VtYXNrID0gb3MudW1hc2soMG8wNzcp
CiAgICBvcy5tYWtlZGlycyhPUFRJT05TLnNhbHRkaXIpCiAgICBvcy51bWFzayhvbGRfdW1hc2sp
CiAgICAjIFZlcmlmeSBwZXJtcyBvbiBzYWx0ZGlyCiAgICBldWlkID0gb3MuZ2V0ZXVpZCgpCiAg
ICBkc3RhdCA9IG9zLnN0YXQoT1BUSU9OUy5zYWx0ZGlyKQogICAgaWYgZHN0YXQuc3RfdWlkICE9
IGV1aWQ6CiAgICAgICAgIyBBdHRhY2sgZGV0ZWN0ZWQsIHRyeSBhZ2FpbgogICAgICAgIG5lZWRf
ZGVwbG95bWVudCgpCiAgICBpZiBkc3RhdC5zdF9tb2RlICE9IDE2ODMyOgogICAgICAgICMgQXR0
YWNrIGRldGVjdGVkCiAgICAgICAgbmVlZF9kZXBsb3ltZW50KCkKICAgICMgSWYgU1VET2luZyB0
aGVuIGFsc28gZ2l2ZSB0aGUgc3VwZXIgdXNlciBncm91cCB3cml0ZSBwZXJtaXNzaW9ucwogICAg
c3Vkb19naWQgPSBvcy5lbnZpcm9uLmdldCgnU1VET19HSUQnKQogICAgaWYgc3Vkb19naWQ6CiAg
ICAgICAgb3MuY2hvd24oT1BUSU9OUy5zYWx0ZGlyLCAtMSwgaW50KHN1ZG9fZ2lkKSkKICAgICAg
ICBzdHQgPSBvcy5zdGF0KE9QVElPTlMuc2FsdGRpcikKICAgICAgICBvcy5jaG1vZChPUFRJT05T
LnNhbHRkaXIsIHN0dC5zdF9tb2RlIHwgc3RhdC5TX0lXR1JQIHwgc3RhdC5TX0lSR1JQIHwgc3Rh
dC5TX0lYR1JQKQoKICAgICMgRGVsaW1pdGVyIGVtaXR0ZWQgb24gc3Rkb3V0ICpvbmx5KiB0byBp
bmRpY2F0ZSBzaGltIG1lc3NhZ2UgdG8gbWFzdGVyLgogICAgc3lzLnN0ZG91dC53cml0ZSgiezB9
XG5kZXBsb3lcbiIuZm9ybWF0KE9QVElPTlMuZGVsaW1pdGVyKSkKICAgIHN5cy5leGl0KEVYX1RI
SU5fREVQTE9ZKQoKCiMgQWRhcHRlZCBmcm9tIHNhbHQudXRpbHMuZ2V0X2hhc2goKQpkZWYgZ2V0
X2hhc2gocGF0aCwgZm9ybT0nc2hhMScsIGNodW5rX3NpemU9NDA5Nik6CiAgICAiIiJHZW5lcmF0
ZSBhIGhhc2ggZGlnZXN0IHN0cmluZyBmb3IgYSBmaWxlLiIiIgogICAgdHJ5OgogICAgICAgIGhh
c2hfdHlwZSA9IGdldGF0dHIoaGFzaGxpYiwgZm9ybSkKICAgIGV4Y2VwdCBBdHRyaWJ1dGVFcnJv
cjoKICAgICAgICByYWlzZSBWYWx1ZUVycm9yKCdJbnZhbGlkIGhhc2ggdHlwZTogezB9Jy5mb3Jt
YXQoZm9ybSkpCiAgICB3aXRoIG9wZW4ocGF0aCwgJ3JiJykgYXMgaWZpbGU6CiAgICAgICAgaGFz
aF9vYmogPSBoYXNoX3R5cGUoKQogICAgICAgICMgcmVhZCB0aGUgZmlsZSBpbiBpbiBjaHVua3Ms
IG5vdCB0aGUgZW50aXJlIGZpbGUKICAgICAgICBmb3IgY2h1bmsgaW4gaXRlcihsYW1iZGE6IGlm
aWxlLnJlYWQoY2h1bmtfc2l6ZSksIGInJyk6CiAgICAgICAgICAgIGhhc2hfb2JqLnVwZGF0ZShj
aHVuaykKICAgICAgICByZXR1cm4gaGFzaF9vYmouaGV4ZGlnZXN0KCkKCgpkZWYgdW5wYWNrX3Ro
aW4odGhpbl9wYXRoKToKICAgICIiIlVucGFjayB0aGUgU2FsdCB0aGluIGFyY2hpdmUuIiIiCiAg
ICB0ZmlsZSA9IHRhcmZpbGUuVGFyRmlsZS5nem9wZW4odGhpbl9wYXRoKQogICAgb2xkX3VtYXNr
ID0gb3MudW1hc2soMG8wNzcpCiAgICB0ZmlsZS5leHRyYWN0YWxsKHBhdGg9T1BUSU9OUy5zYWx0
ZGlyKQogICAgdGZpbGUuY2xvc2UoKQogICAgb3MudW1hc2sob2xkX3VtYXNrKQogICAgb3MudW5s
aW5rKHRoaW5fcGF0aCkKCgpkZWYgbmVlZF9leHQoKToKICAgICIiIlNpZ25hbCB0aGF0IGV4dGVy
bmFsIG1vZHVsZXMgbmVlZCB0byBiZSBkZXBsb3llZC4iIiIKICAgIHN5cy5zdGRvdXQud3JpdGUo
InswfVxuZXh0X21vZHNcbiIuZm9ybWF0KE9QVElPTlMuZGVsaW1pdGVyKSkKICAgIHN5cy5leGl0
KEVYX01PRF9ERVBMT1kpCgoKZGVmIHVucGFja19leHQoZXh0X3BhdGgpOgogICAgIiIiVW5wYWNr
IHRoZSBleHRlcm5hbCBtb2R1bGVzLiIiIgogICAgbW9kY2FjaGUgPSBvcy5wYXRoLmpvaW4oCiAg
ICAgICAgICAgIE9QVElPTlMuc2FsdGRpciwKICAgICAgICAgICAgJ3J1bm5pbmdfZGF0YScsCiAg
ICAgICAgICAgICd2YXInLAogICAgICAgICAgICAnY2FjaGUnLAogICAgICAgICAgICAnc2FsdCcs
CiAgICAgICAgICAgICdtaW5pb24nLAogICAgICAgICAgICAnZXh0bW9kcycpCiAgICB0ZmlsZSA9
IHRhcmZpbGUuVGFyRmlsZS5nem9wZW4oZXh0X3BhdGgpCiAgICBvbGRfdW1hc2sgPSBvcy51bWFz
aygwbzA3NykKICAgIHRmaWxlLmV4dHJhY3RhbGwocGF0aD1tb2RjYWNoZSkKICAgIHRmaWxlLmNs
b3NlKCkKICAgIG9zLnVtYXNrKG9sZF91bWFzaykKICAgIG9zLnVubGluayhleHRfcGF0aCkKICAg
IHZlcl9wYXRoID0gb3MucGF0aC5qb2luKG1vZGNhY2hlLCAnZXh0X3ZlcnNpb24nKQogICAgdmVy
X2RzdCA9IG9zLnBhdGguam9pbihPUFRJT05TLnNhbHRkaXIsICdleHRfdmVyc2lvbicpCiAgICBz
aHV0aWwubW92ZSh2ZXJfcGF0aCwgdmVyX2RzdCkKCgpkZWYgbWFpbihhcmd2KTogICMgcHlsaW50
OiBkaXNhYmxlPVcwNjEzCiAgICAiIiJNYWluIHByb2dyYW0gYm9keSIiIgogICAgdGhpbl9wYXRo
ID0gb3MucGF0aC5qb2luKE9QVElPTlMuc2FsdGRpciwgVEhJTl9BUkNISVZFKQogICAgaWYgb3Mu
cGF0aC5pc2ZpbGUodGhpbl9wYXRoKToKICAgICAgICBpZiBPUFRJT05TLmNoZWNrc3VtICE9IGdl
dF9oYXNoKHRoaW5fcGF0aCwgT1BUSU9OUy5oYXNoZnVuYyk6CiAgICAgICAgICAgIHN5cy5zdGRl
cnIud3JpdGUoJ3swfVxuJy5mb3JtYXQoT1BUSU9OUy5jaGVja3N1bSkpCiAgICAgICAgICAgIHN5
cy5zdGRlcnIud3JpdGUoJ3swfVxuJy5mb3JtYXQoZ2V0X2hhc2godGhpbl9wYXRoLCBPUFRJT05T
Lmhhc2hmdW5jKSkpCiAgICAgICAgICAgIG9zLnVubGluayh0aGluX3BhdGgpCiAgICAgICAgICAg
IHN5cy5zdGRlcnIud3JpdGUoJ1dBUk5JTkc6IGNoZWNrc3VtIG1pc21hdGNoIGZvciAiezB9Ilxu
Jy5mb3JtYXQodGhpbl9wYXRoKSkKICAgICAgICAgICAgc3lzLmV4aXQoRVhfVEhJTl9DSEVDS1NV
TSkKICAgICAgICB1bnBhY2tfdGhpbih0aGluX3BhdGgpCiAgICAgICAgIyBTYWx0IHRoaW4gbm93
IGlzIGF2YWlsYWJsZSB0byB1c2UKICAgIGVsc2U6CiAgICAgICAgc2Nwc3RhdCA9IHN1YnByb2Nl
c3MuUG9wZW4oWycvYmluL3NoJywgJy1jJywgJ2NvbW1hbmQgLXYgc2NwJ10pLndhaXQoKQogICAg
ICAgIGlmIHNjcHN0YXQgIT0gMDoKICAgICAgICAgICAgc3lzLmV4aXQoRVhfU0NQX05PVF9GT1VO
RCkKCiAgICAgICAgaWYgbm90IG9zLnBhdGguZXhpc3RzKE9QVElPTlMuc2FsdGRpcik6CiAgICAg
ICAgICAgIG5lZWRfZGVwbG95bWVudCgpCgogICAgICAgIGlmIG5vdCBvcy5wYXRoLmlzZGlyKE9Q
VElPTlMuc2FsdGRpcik6CiAgICAgICAgICAgIHN5cy5zdGRlcnIud3JpdGUoCiAgICAgICAgICAg
ICAgICAnRVJST1I6IHNhbHQgcGF0aCAiezB9IiBleGlzdHMgYnV0IGlzJwogICAgICAgICAgICAg
ICAgJyBub3QgYSBkaXJlY3RvcnlcbicuZm9ybWF0KE9QVElPTlMuc2FsdGRpcikKICAgICAgICAg
ICAgKQogICAgICAgICAgICBzeXMuZXhpdChFWF9DQU5UQ1JFQVQpCgogICAgICAgIHZlcnNpb25f
cGF0aCA9IG9zLnBhdGguam9pbihPUFRJT05TLnNhbHRkaXIsICd2ZXJzaW9uJykKICAgICAgICBp
ZiBub3Qgb3MucGF0aC5leGlzdHModmVyc2lvbl9wYXRoKSBvciBub3Qgb3MucGF0aC5pc2ZpbGUo
dmVyc2lvbl9wYXRoKToKICAgICAgICAgICAgc3lzLnN0ZGVyci53cml0ZSgKICAgICAgICAgICAg
ICAgICdXQVJOSU5HOiBVbmFibGUgdG8gbG9jYXRlIGN1cnJlbnQgdGhpbiAnCiAgICAgICAgICAg
ICAgICAnIHZlcnNpb246IHswfS5cbicuZm9ybWF0KHZlcnNpb25fcGF0aCkKICAgICAgICAgICAg
KQogICAgICAgICAgICBuZWVkX2RlcGxveW1lbnQoKQogICAgICAgIHdpdGggb3Blbih2ZXJzaW9u
X3BhdGgsICdyJykgYXMgdnBvOgogICAgICAgICAgICBjdXJfdmVyc2lvbiA9IHZwby5yZWFkbGlu
ZSgpLnN0cmlwKCkKICAgICAgICBpZiBjdXJfdmVyc2lvbiAhPSBPUFRJT05TLnZlcnNpb246CiAg
ICAgICAgICAgIHN5cy5zdGRlcnIud3JpdGUoCiAgICAgICAgICAgICAgICAnV0FSTklORzogY3Vy
cmVudCB0aGluIHZlcnNpb24gezB9JwogICAgICAgICAgICAgICAgJyBpcyBub3QgdXAtdG8tZGF0
ZSB3aXRoIHsxfS5cbicuZm9ybWF0KAogICAgICAgICAgICAgICAgICAgIGN1cl92ZXJzaW9uLCBP
UFRJT05TLnZlcnNpb24KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgKQogICAgICAgICAg
ICBuZWVkX2RlcGxveW1lbnQoKQogICAgICAgICMgU2FsdCB0aGluIGV4aXN0cyBhbmQgaXMgdXAt
dG8tZGF0ZSAtIGZhbGwgdGhyb3VnaCBhbmQgdXNlIGl0CgogICAgc2FsdF9jYWxsX3BhdGggPSBv
cy5wYXRoLmpvaW4oT1BUSU9OUy5zYWx0ZGlyLCAnc2FsdC1jYWxsJykKICAgIGlmIG5vdCBvcy5w
YXRoLmlzZmlsZShzYWx0X2NhbGxfcGF0aCk6CiAgICAgICAgc3lzLnN0ZGVyci53cml0ZSgnRVJS
T1I6IHRoaW4gaXMgbWlzc2luZyAiezB9IlxuJy5mb3JtYXQoc2FsdF9jYWxsX3BhdGgpKQogICAg
ICAgIG5lZWRfZGVwbG95bWVudCgpCgogICAgd2l0aCBvcGVuKG9zLnBhdGguam9pbihPUFRJT05T
LnNhbHRkaXIsICdtaW5pb24nKSwgJ3cnKSBhcyBjb25maWc6CiAgICAgICAgY29uZmlnLndyaXRl
KE9QVElPTlMuY29uZmlnICsgJ1xuJykKICAgIGlmIE9QVElPTlMuZXh0X21vZHM6CiAgICAgICAg
ZXh0X3BhdGggPSBvcy5wYXRoLmpvaW4oT1BUSU9OUy5zYWx0ZGlyLCBFWFRfQVJDSElWRSkKICAg
ICAgICBpZiBvcy5wYXRoLmV4aXN0cyhleHRfcGF0aCk6CiAgICAgICAgICAgIHVucGFja19leHQo
ZXh0X3BhdGgpCiAgICAgICAgZWxzZToKICAgICAgICAgICAgdmVyc2lvbl9wYXRoID0gb3MucGF0
aC5qb2luKE9QVElPTlMuc2FsdGRpciwgJ2V4dF92ZXJzaW9uJykKICAgICAgICAgICAgaWYgbm90
IG9zLnBhdGguZXhpc3RzKHZlcnNpb25fcGF0aCkgb3Igbm90IG9zLnBhdGguaXNmaWxlKHZlcnNp
b25fcGF0aCk6CiAgICAgICAgICAgICAgICBuZWVkX2V4dCgpCiAgICAgICAgICAgIHdpdGggb3Bl
bih2ZXJzaW9uX3BhdGgsICdyJykgYXMgdnBvOgogICAgICAgICAgICAgICAgY3VyX3ZlcnNpb24g
PSB2cG8ucmVhZGxpbmUoKS5zdHJpcCgpCiAgICAgICAgICAgIGlmIGN1cl92ZXJzaW9uICE9IE9Q
VElPTlMuZXh0X21vZHM6CiAgICAgICAgICAgICAgICBuZWVkX2V4dCgpCiAgICAjIEZpeCBwYXJh
bWV0ZXIgcGFzc2luZyBpc3N1ZQogICAgaWYgbGVuKEFSR1MpID09IDE6CiAgICAgICAgYXJndl9w
cmVwYXJlZCA9IEFSR1NbMF0uc3BsaXQoKQogICAgZWxzZToKICAgICAgICBhcmd2X3ByZXBhcmVk
ID0gQVJHUwoKICAgIHNhbHRfYXJndiA9IFsKICAgICAgICBzeXMuZXhlY3V0YWJsZSwKICAgICAg
ICBzYWx0X2NhbGxfcGF0aCwKICAgICAgICAnLS1yZXRjb2RlLXBhc3N0aHJvdWdoJywKICAgICAg
ICAnLS1sb2NhbCcsCiAgICAgICAgJy0tbWV0YWRhdGEnLAogICAgICAgICctLW91dCcsICdqc29u
JywKICAgICAgICAnLWwnLCAncXVpZXQnLAogICAgICAgICctYycsIE9QVElPTlMuc2FsdGRpciwK
ICAgICAgICAnLS0nLAogICAgXSArIGFyZ3ZfcHJlcGFyZWQKCiAgICBzeXMuc3RkZXJyLndyaXRl
KCdTQUxUX0FSR1Y6IHswfVxuJy5mb3JtYXQoc2FsdF9hcmd2KSkKCiAgICAjIE9ubHkgZW1pdCB0
aGUgZGVsaW1pdGVyIG9uICpib3RoKiBzdGRvdXQgYW5kIHN0ZGVyciB3aGVuIGNvbXBsZXRlbHkg
c3VjY2Vzc2Z1bC4KICAgICMgWWVzLCB0aGUgZmx1c2goKSBpcyBuZWNlc3NhcnkuCiAgICBzeXMu
c3Rkb3V0LndyaXRlKE9QVElPTlMuZGVsaW1pdGVyICsgJ1xuJykKICAgIHN5cy5zdGRvdXQuZmx1
c2goKQogICAgaWYgbm90IE9QVElPTlMudHR5OgogICAgICAgIHN5cy5zdGRlcnIud3JpdGUoT1BU
SU9OUy5kZWxpbWl0ZXIgKyAnXG4nKQogICAgICAgIHN5cy5zdGRlcnIuZmx1c2goKQogICAgaWYg
T1BUSU9OUy5jbWRfdW1hc2sgaXMgbm90IE5vbmU6CiAgICAgICAgb2xkX3VtYXNrID0gb3MudW1h
c2soT1BUSU9OUy5jbWRfdW1hc2spCiAgICBpZiBPUFRJT05TLnR0eToKICAgICAgICBzdGRvdXQs
IF8gPSBzdWJwcm9jZXNzLlBvcGVuKHNhbHRfYXJndiwgc3Rkb3V0PXN1YnByb2Nlc3MuUElQRSwg
c3RkZXJyPXN1YnByb2Nlc3MuUElQRSkuY29tbXVuaWNhdGUoKQogICAgICAgIHN5cy5zdGRvdXQu
d3JpdGUoc3Rkb3V0KQogICAgICAgIHN5cy5zdGRvdXQuZmx1c2goKQogICAgICAgIGlmIE9QVElP
TlMud2lwZToKICAgICAgICAgICAgc2h1dGlsLnJtdHJlZShPUFRJT05TLnNhbHRkaXIpCiAgICBl
bGlmIE9QVElPTlMud2lwZToKICAgICAgICBzdWJwcm9jZXNzLmNhbGwoc2FsdF9hcmd2KQogICAg
ICAgIHNodXRpbC5ybXRyZWUoT1BUSU9OUy5zYWx0ZGlyKQogICAgZWxzZToKICAgICAgICBvcy5l
eGVjdihzeXMuZXhlY3V0YWJsZSwgc2FsdF9hcmd2KQogICAgaWYgT1BUSU9OUy5jbWRfdW1hc2sg
aXMgbm90IE5vbmU6CiAgICAgICAgb3MudW1hc2sob2xkX3VtYXNrKQoKaWYgX19uYW1lX18gPT0g
J19fbWFpbl9fJzoKICAgIHN5cy5leGl0KG1haW4oc3lzLmFyZ3YpKQo=
""").decode("utf-8"))'
fi
exit 0
else
continue
fi
done
echo "ERROR: Unable to locate appropriate python command" >&2
exit $EX_PYTHON_INVALID
EOF
2016-08-27 20:51:56,070 [salt.utils.vt    ][DEBUG   ][7069] Child Forked! PID: 7153  STDOUT_FD: 9  STDERR_FD: 11
2016-08-27 20:51:56,074 [salt.utils.vt    ][DEBUG   ][7069] VT: Salt-SSH SHIM Terminal Command executed. Logged to TRACE
2016-08-27 20:51:56,074 [salt.utils.vt    ][TRACE   ][7069] Terminal Command: /bin/sh -c ssh 127.0.0.1  -o KbdInteractiveAuthentication=no -o PasswordAuthentication=yes -o GSSAPIAuthentication=no -o ConnectTimeout=65 -o Port=22 -o IdentityFile=/root/saltstack_master/etc/salt/pki/master/ssh/salt-ssh.rsa -o User=salt-ope  /bin/sh << 'EOF'
set -e
set -u
DEBUG=""
if [ -n "$DEBUG" ]
then set -x
fi
SUDO=""
if [ -n "sudo" ]
then SUDO="sudo "
fi
EX_PYTHON_INVALID=10
PYTHON_CMDS="python3 python27 python2.7 python26 python2.6 python2 python"
for py_cmd in $PYTHON_CMDS
do
if command -v "$py_cmd" >/dev/null 2>&1 && "$py_cmd" -c \
"import sys; sys.exit(not (sys.version_info >= (2, 6)
and sys.version_info[0] == 2));"
then
py_cmd_path=`"$py_cmd" -c \
'from __future__ import print_function;
import sys; print(sys.executable);'`
cmdpath=$(which $py_cmd 2>&1)
if file $cmdpath | grep "shell script" > /dev/null
then
ex_vars="'PATH', 'LD_LIBRARY_PATH', 'MANPATH', \
'XDG_DATA_DIRS', 'PKG_CONFIG_PATH'"
export $($py_cmd -c \
"from __future__ import print_function;
import sys;
import os;
map(sys.stdout.write, ['{0}={1} ' \
.format(x, os.environ[x]) for x in [$ex_vars]])")
exec $SUDO PATH=$PATH LD_LIBRARY_PATH=$LD_LIBRARY_PATH \
MANPATH=$MANPATH XDG_DATA_DIRS=$XDG_DATA_DIRS \
PKG_CONFIG_PATH=$PKG_CONFIG_PATH \
"$py_cmd_path" -c \
'import base64;
exec(base64.b64decode("""IyBweWxpbnQ6IGRpc2FibGU9Vzk5MDMKJycnClRoaXMgaXMgYSBzaGltIHRoYXQgaGFuZGxlcyBj
aGVja2luZyBhbmQgdXBkYXRpbmcgc2FsdCB0aGluIGFuZAp0aGVuIGludm9raW5nIHRoaW4uCgpU
aGlzIGlzIG5vdCBpbnRlbmRlZCB0byBiZSBpbnN0YW50aWF0ZWQgYXMgYSBtb2R1bGUsIHJhdGhl
ciBpdCBpcyBhCmhlbHBlciBzY3JpcHQgdXNlZCBieSBzYWx0LmNsaWVudC5zc2guU2luZ2xlLiAg
SXQgaXMgaGVyZSwgaW4gYQpzZXBhcmF0ZSBmaWxlLCBmb3IgY29udmVuaWVuY2Ugb2YgZGV2ZWxv
cG1lbnQuCicnJwoKZnJvbSBfX2Z1dHVyZV9fIGltcG9ydCBhYnNvbHV0ZV9pbXBvcnQKCmltcG9y
dCBoYXNobGliCmltcG9ydCB0YXJmaWxlCmltcG9ydCBzaHV0aWwKaW1wb3J0IHN5cwppbXBvcnQg
b3MKaW1wb3J0IHN0YXQKaW1wb3J0IHN1YnByb2Nlc3MKClRISU5fQVJDSElWRSA9ICdzYWx0LXRo
aW4udGd6JwpFWFRfQVJDSElWRSA9ICdzYWx0LWV4dF9tb2RzLnRneicKCiMgS2VlcCB0aGVzZSBp
biBzeW5jIHdpdGggc2FsdC9kZWZhdWx0cy9leGl0Y29kZXMucHkKRVhfVEhJTl9ERVBMT1kgPSAx
MQpFWF9USElOX0NIRUNLU1VNID0gMTIKRVhfTU9EX0RFUExPWSA9IDEzCkVYX1NDUF9OT1RfRk9V
TkQgPSAxNApFWF9DQU5UQ1JFQVQgPSA3MwoKCmNsYXNzIE9CSihvYmplY3QpOgogICAgIiIiQW4g
ZW1wdHkgY2xhc3MgZm9yIGhvbGRpbmcgaW5zdGFuY2UgYXR0cmlidXRlIHZhbHVlcy4iIiIKICAg
IHBhc3MKCgpPUFRJT05TID0gTm9uZQpBUkdTID0gTm9uZQojIFRoZSBiZWxvdyBsaW5lIGlzIHdo
ZXJlIE9QVElPTlMgY2FuIGJlIHJlZGVmaW5lZCB3aXRoIGludGVybmFsIG9wdGlvbnMKIyAocmF0
aGVyIHRoYW4gY2xpIGFyZ3VtZW50cykgd2hlbiB0aGUgc2hpbSBpcyBidW5kbGVkIGJ5CiMgY2xp
ZW50LnNzaC5TaW5nbGUuX2NtZF9zdHIoKQojIHB5bGludDogZGlzYWJsZT1ibG9jay1jb21tZW50
LXNob3VsZC1zdGFydC13aXRoLWNhcmRpbmFsLXNwYWNlCgpPUFRJT05TID0gT0JKKCkKT1BUSU9O
Uy5jb25maWcgPSAiIiIKe2ZpbGVzZXJ2ZXJfbGlzdF9jYWNoZV90aW1lOiAzLCBncmFpbnNfY2Fj
aGU6IHRydWUsIGlkOiBsb2NhbCwgbG9nX2ZpbGU6IHNhbHQtY2FsbC5sb2csCiAgcm9vdF9kaXI6
IC92YXIvdG1wLy5zYWx0LW9wZV8xYTM1MzJfc2FsdC9ydW5uaW5nX2RhdGEsIHNvY2tfZGlyOiAv
fQoiIiIKT1BUSU9OUy5kZWxpbWl0ZXIgPSAnX2VkYmM3ODg1ZTRmOWFhYzliODNiMzU5OTliNjhk
MDE1MTQ4Y2FmNDY3Yjc4ZmEzOWMwNWY2NjljMGZmODk4NzgnCk9QVElPTlMuc2FsdGRpciA9ICcv
dmFyL3RtcC8uc2FsdC1vcGVfMWEzNTMyX3NhbHQnCk9QVElPTlMuY2hlY2tzdW0gPSAnMmUyNWZj
YmI2YWEyNTU5OWQ1MmU4OTVkZTZlMjExOTZkNWM2ZTU5NScKT1BUSU9OUy5oYXNoZnVuYyA9ICdz
aGExJwpPUFRJT05TLnZlcnNpb24gPSAnMjAxNi4zLjInCk9QVElPTlMuZXh0X21vZHMgPSAnJwpP
UFRJT05TLndpcGUgPSBGYWxzZQpPUFRJT05TLnR0eSA9IEZhbHNlCk9QVElPTlMuY21kX3VtYXNr
ID0gTm9uZQpBUkdTID0gWyduZXR3b3JrLmludGVyZmFjZV9pcCcsICciZXRoMCInXQoKCgpkZWYg
bmVlZF9kZXBsb3ltZW50KCk6CiAgICAiIiIKICAgIFNhbHQgdGhpbiBuZWVkcyB0byBiZSBkZXBs
b3llZCAtIHByZXAgdGhlIHRhcmdldCBkaXJlY3RvcnkgYW5kIGVtaXQgdGhlCiAgICBkZWxpbWV0
ZXIgYW5kIGV4aXQgY29kZSB0aGF0IHNpZ25hbHMgYSByZXF1aXJlZCBkZXBsb3ltZW50LgogICAg
IiIiCiAgICBpZiBvcy5wYXRoLmV4aXN0cyhPUFRJT05TLnNhbHRkaXIpOgogICAgICAgIHNodXRp
bC5ybXRyZWUoT1BUSU9OUy5zYWx0ZGlyKQogICAgb2xkX3VtYXNrID0gb3MudW1hc2soMG8wNzcp
CiAgICBvcy5tYWtlZGlycyhPUFRJT05TLnNhbHRkaXIpCiAgICBvcy51bWFzayhvbGRfdW1hc2sp
CiAgICAjIFZlcmlmeSBwZXJtcyBvbiBzYWx0ZGlyCiAgICBldWlkID0gb3MuZ2V0ZXVpZCgpCiAg
ICBkc3RhdCA9IG9zLnN0YXQoT1BUSU9OUy5zYWx0ZGlyKQogICAgaWYgZHN0YXQuc3RfdWlkICE9
IGV1aWQ6CiAgICAgICAgIyBBdHRhY2sgZGV0ZWN0ZWQsIHRyeSBhZ2FpbgogICAgICAgIG5lZWRf
ZGVwbG95bWVudCgpCiAgICBpZiBkc3RhdC5zdF9tb2RlICE9IDE2ODMyOgogICAgICAgICMgQXR0
YWNrIGRldGVjdGVkCiAgICAgICAgbmVlZF9kZXBsb3ltZW50KCkKICAgICMgSWYgU1VET2luZyB0
aGVuIGFsc28gZ2l2ZSB0aGUgc3VwZXIgdXNlciBncm91cCB3cml0ZSBwZXJtaXNzaW9ucwogICAg
c3Vkb19naWQgPSBvcy5lbnZpcm9uLmdldCgnU1VET19HSUQnKQogICAgaWYgc3Vkb19naWQ6CiAg
ICAgICAgb3MuY2hvd24oT1BUSU9OUy5zYWx0ZGlyLCAtMSwgaW50KHN1ZG9fZ2lkKSkKICAgICAg
ICBzdHQgPSBvcy5zdGF0KE9QVElPTlMuc2FsdGRpcikKICAgICAgICBvcy5jaG1vZChPUFRJT05T
LnNhbHRkaXIsIHN0dC5zdF9tb2RlIHwgc3RhdC5TX0lXR1JQIHwgc3RhdC5TX0lSR1JQIHwgc3Rh
dC5TX0lYR1JQKQoKICAgICMgRGVsaW1pdGVyIGVtaXR0ZWQgb24gc3Rkb3V0ICpvbmx5KiB0byBp
bmRpY2F0ZSBzaGltIG1lc3NhZ2UgdG8gbWFzdGVyLgogICAgc3lzLnN0ZG91dC53cml0ZSgiezB9
XG5kZXBsb3lcbiIuZm9ybWF0KE9QVElPTlMuZGVsaW1pdGVyKSkKICAgIHN5cy5leGl0KEVYX1RI
SU5fREVQTE9ZKQoKCiMgQWRhcHRlZCBmcm9tIHNhbHQudXRpbHMuZ2V0X2hhc2goKQpkZWYgZ2V0
X2hhc2gocGF0aCwgZm9ybT0nc2hhMScsIGNodW5rX3NpemU9NDA5Nik6CiAgICAiIiJHZW5lcmF0
ZSBhIGhhc2ggZGlnZXN0IHN0cmluZyBmb3IgYSBmaWxlLiIiIgogICAgdHJ5OgogICAgICAgIGhh
c2hfdHlwZSA9IGdldGF0dHIoaGFzaGxpYiwgZm9ybSkKICAgIGV4Y2VwdCBBdHRyaWJ1dGVFcnJv
cjoKICAgICAgICByYWlzZSBWYWx1ZUVycm9yKCdJbnZhbGlkIGhhc2ggdHlwZTogezB9Jy5mb3Jt
YXQoZm9ybSkpCiAgICB3aXRoIG9wZW4ocGF0aCwgJ3JiJykgYXMgaWZpbGU6CiAgICAgICAgaGFz
aF9vYmogPSBoYXNoX3R5cGUoKQogICAgICAgICMgcmVhZCB0aGUgZmlsZSBpbiBpbiBjaHVua3Ms
IG5vdCB0aGUgZW50aXJlIGZpbGUKICAgICAgICBmb3IgY2h1bmsgaW4gaXRlcihsYW1iZGE6IGlm
aWxlLnJlYWQoY2h1bmtfc2l6ZSksIGInJyk6CiAgICAgICAgICAgIGhhc2hfb2JqLnVwZGF0ZShj
aHVuaykKICAgICAgICByZXR1cm4gaGFzaF9vYmouaGV4ZGlnZXN0KCkKCgpkZWYgdW5wYWNrX3Ro
aW4odGhpbl9wYXRoKToKICAgICIiIlVucGFjayB0aGUgU2FsdCB0aGluIGFyY2hpdmUuIiIiCiAg
ICB0ZmlsZSA9IHRhcmZpbGUuVGFyRmlsZS5nem9wZW4odGhpbl9wYXRoKQogICAgb2xkX3VtYXNr
ID0gb3MudW1hc2soMG8wNzcpCiAgICB0ZmlsZS5leHRyYWN0YWxsKHBhdGg9T1BUSU9OUy5zYWx0
ZGlyKQogICAgdGZpbGUuY2xvc2UoKQogICAgb3MudW1hc2sob2xkX3VtYXNrKQogICAgb3MudW5s
aW5rKHRoaW5fcGF0aCkKCgpkZWYgbmVlZF9leHQoKToKICAgICIiIlNpZ25hbCB0aGF0IGV4dGVy
bmFsIG1vZHVsZXMgbmVlZCB0byBiZSBkZXBsb3llZC4iIiIKICAgIHN5cy5zdGRvdXQud3JpdGUo
InswfVxuZXh0X21vZHNcbiIuZm9ybWF0KE9QVElPTlMuZGVsaW1pdGVyKSkKICAgIHN5cy5leGl0
KEVYX01PRF9ERVBMT1kpCgoKZGVmIHVucGFja19leHQoZXh0X3BhdGgpOgogICAgIiIiVW5wYWNr
IHRoZSBleHRlcm5hbCBtb2R1bGVzLiIiIgogICAgbW9kY2FjaGUgPSBvcy5wYXRoLmpvaW4oCiAg
ICAgICAgICAgIE9QVElPTlMuc2FsdGRpciwKICAgICAgICAgICAgJ3J1bm5pbmdfZGF0YScsCiAg
ICAgICAgICAgICd2YXInLAogICAgICAgICAgICAnY2FjaGUnLAogICAgICAgICAgICAnc2FsdCcs
CiAgICAgICAgICAgICdtaW5pb24nLAogICAgICAgICAgICAnZXh0bW9kcycpCiAgICB0ZmlsZSA9
IHRhcmZpbGUuVGFyRmlsZS5nem9wZW4oZXh0X3BhdGgpCiAgICBvbGRfdW1hc2sgPSBvcy51bWFz
aygwbzA3NykKICAgIHRmaWxlLmV4dHJhY3RhbGwocGF0aD1tb2RjYWNoZSkKICAgIHRmaWxlLmNs
b3NlKCkKICAgIG9zLnVtYXNrKG9sZF91bWFzaykKICAgIG9zLnVubGluayhleHRfcGF0aCkKICAg
IHZlcl9wYXRoID0gb3MucGF0aC5qb2luKG1vZGNhY2hlLCAnZXh0X3ZlcnNpb24nKQogICAgdmVy
X2RzdCA9IG9zLnBhdGguam9pbihPUFRJT05TLnNhbHRkaXIsICdleHRfdmVyc2lvbicpCiAgICBz
aHV0aWwubW92ZSh2ZXJfcGF0aCwgdmVyX2RzdCkKCgpkZWYgbWFpbihhcmd2KTogICMgcHlsaW50
OiBkaXNhYmxlPVcwNjEzCiAgICAiIiJNYWluIHByb2dyYW0gYm9keSIiIgogICAgdGhpbl9wYXRo
ID0gb3MucGF0aC5qb2luKE9QVElPTlMuc2FsdGRpciwgVEhJTl9BUkNISVZFKQogICAgaWYgb3Mu
cGF0aC5pc2ZpbGUodGhpbl9wYXRoKToKICAgICAgICBpZiBPUFRJT05TLmNoZWNrc3VtICE9IGdl
dF9oYXNoKHRoaW5fcGF0aCwgT1BUSU9OUy5oYXNoZnVuYyk6CiAgICAgICAgICAgIHN5cy5zdGRl
cnIud3JpdGUoJ3swfVxuJy5mb3JtYXQoT1BUSU9OUy5jaGVja3N1bSkpCiAgICAgICAgICAgIHN5
cy5zdGRlcnIud3JpdGUoJ3swfVxuJy5mb3JtYXQoZ2V0X2hhc2godGhpbl9wYXRoLCBPUFRJT05T
Lmhhc2hmdW5jKSkpCiAgICAgICAgICAgIG9zLnVubGluayh0aGluX3BhdGgpCiAgICAgICAgICAg
IHN5cy5zdGRlcnIud3JpdGUoJ1dBUk5JTkc6IGNoZWNrc3VtIG1pc21hdGNoIGZvciAiezB9Ilxu
Jy5mb3JtYXQodGhpbl9wYXRoKSkKICAgICAgICAgICAgc3lzLmV4aXQoRVhfVEhJTl9DSEVDS1NV
TSkKICAgICAgICB1bnBhY2tfdGhpbih0aGluX3BhdGgpCiAgICAgICAgIyBTYWx0IHRoaW4gbm93
IGlzIGF2YWlsYWJsZSB0byB1c2UKICAgIGVsc2U6CiAgICAgICAgc2Nwc3RhdCA9IHN1YnByb2Nl
c3MuUG9wZW4oWycvYmluL3NoJywgJy1jJywgJ2NvbW1hbmQgLXYgc2NwJ10pLndhaXQoKQogICAg
ICAgIGlmIHNjcHN0YXQgIT0gMDoKICAgICAgICAgICAgc3lzLmV4aXQoRVhfU0NQX05PVF9GT1VO
RCkKCiAgICAgICAgaWYgbm90IG9zLnBhdGguZXhpc3RzKE9QVElPTlMuc2FsdGRpcik6CiAgICAg
ICAgICAgIG5lZWRfZGVwbG95bWVudCgpCgogICAgICAgIGlmIG5vdCBvcy5wYXRoLmlzZGlyKE9Q
VElPTlMuc2FsdGRpcik6CiAgICAgICAgICAgIHN5cy5zdGRlcnIud3JpdGUoCiAgICAgICAgICAg
ICAgICAnRVJST1I6IHNhbHQgcGF0aCAiezB9IiBleGlzdHMgYnV0IGlzJwogICAgICAgICAgICAg
ICAgJyBub3QgYSBkaXJlY3RvcnlcbicuZm9ybWF0KE9QVElPTlMuc2FsdGRpcikKICAgICAgICAg
ICAgKQogICAgICAgICAgICBzeXMuZXhpdChFWF9DQU5UQ1JFQVQpCgogICAgICAgIHZlcnNpb25f
cGF0aCA9IG9zLnBhdGguam9pbihPUFRJT05TLnNhbHRkaXIsICd2ZXJzaW9uJykKICAgICAgICBp
ZiBub3Qgb3MucGF0aC5leGlzdHModmVyc2lvbl9wYXRoKSBvciBub3Qgb3MucGF0aC5pc2ZpbGUo
dmVyc2lvbl9wYXRoKToKICAgICAgICAgICAgc3lzLnN0ZGVyci53cml0ZSgKICAgICAgICAgICAg
ICAgICdXQVJOSU5HOiBVbmFibGUgdG8gbG9jYXRlIGN1cnJlbnQgdGhpbiAnCiAgICAgICAgICAg
ICAgICAnIHZlcnNpb246IHswfS5cbicuZm9ybWF0KHZlcnNpb25fcGF0aCkKICAgICAgICAgICAg
KQogICAgICAgICAgICBuZWVkX2RlcGxveW1lbnQoKQogICAgICAgIHdpdGggb3Blbih2ZXJzaW9u
X3BhdGgsICdyJykgYXMgdnBvOgogICAgICAgICAgICBjdXJfdmVyc2lvbiA9IHZwby5yZWFkbGlu
ZSgpLnN0cmlwKCkKICAgICAgICBpZiBjdXJfdmVyc2lvbiAhPSBPUFRJT05TLnZlcnNpb246CiAg
ICAgICAgICAgIHN5cy5zdGRlcnIud3JpdGUoCiAgICAgICAgICAgICAgICAnV0FSTklORzogY3Vy
cmVudCB0aGluIHZlcnNpb24gezB9JwogICAgICAgICAgICAgICAgJyBpcyBub3QgdXAtdG8tZGF0
ZSB3aXRoIHsxfS5cbicuZm9ybWF0KAogICAgICAgICAgICAgICAgICAgIGN1cl92ZXJzaW9uLCBP
UFRJT05TLnZlcnNpb24KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgKQogICAgICAgICAg
ICBuZWVkX2RlcGxveW1lbnQoKQogICAgICAgICMgU2FsdCB0aGluIGV4aXN0cyBhbmQgaXMgdXAt
dG8tZGF0ZSAtIGZhbGwgdGhyb3VnaCBhbmQgdXNlIGl0CgogICAgc2FsdF9jYWxsX3BhdGggPSBv
cy5wYXRoLmpvaW4oT1BUSU9OUy5zYWx0ZGlyLCAnc2FsdC1jYWxsJykKICAgIGlmIG5vdCBvcy5w
YXRoLmlzZmlsZShzYWx0X2NhbGxfcGF0aCk6CiAgICAgICAgc3lzLnN0ZGVyci53cml0ZSgnRVJS
T1I6IHRoaW4gaXMgbWlzc2luZyAiezB9IlxuJy5mb3JtYXQoc2FsdF9jYWxsX3BhdGgpKQogICAg
ICAgIG5lZWRfZGVwbG95bWVudCgpCgogICAgd2l0aCBvcGVuKG9zLnBhdGguam9pbihPUFRJT05T
LnNhbHRkaXIsICdtaW5pb24nKSwgJ3cnKSBhcyBjb25maWc6CiAgICAgICAgY29uZmlnLndyaXRl
KE9QVElPTlMuY29uZmlnICsgJ1xuJykKICAgIGlmIE9QVElPTlMuZXh0X21vZHM6CiAgICAgICAg
ZXh0X3BhdGggPSBvcy5wYXRoLmpvaW4oT1BUSU9OUy5zYWx0ZGlyLCBFWFRfQVJDSElWRSkKICAg
ICAgICBpZiBvcy5wYXRoLmV4aXN0cyhleHRfcGF0aCk6CiAgICAgICAgICAgIHVucGFja19leHQo
ZXh0X3BhdGgpCiAgICAgICAgZWxzZToKICAgICAgICAgICAgdmVyc2lvbl9wYXRoID0gb3MucGF0
aC5qb2luKE9QVElPTlMuc2FsdGRpciwgJ2V4dF92ZXJzaW9uJykKICAgICAgICAgICAgaWYgbm90
IG9zLnBhdGguZXhpc3RzKHZlcnNpb25fcGF0aCkgb3Igbm90IG9zLnBhdGguaXNmaWxlKHZlcnNp
b25fcGF0aCk6CiAgICAgICAgICAgICAgICBuZWVkX2V4dCgpCiAgICAgICAgICAgIHdpdGggb3Bl
bih2ZXJzaW9uX3BhdGgsICdyJykgYXMgdnBvOgogICAgICAgICAgICAgICAgY3VyX3ZlcnNpb24g
PSB2cG8ucmVhZGxpbmUoKS5zdHJpcCgpCiAgICAgICAgICAgIGlmIGN1cl92ZXJzaW9uICE9IE9Q
VElPTlMuZXh0X21vZHM6CiAgICAgICAgICAgICAgICBuZWVkX2V4dCgpCiAgICAjIEZpeCBwYXJh
bWV0ZXIgcGFzc2luZyBpc3N1ZQogICAgaWYgbGVuKEFSR1MpID09IDE6CiAgICAgICAgYXJndl9w
cmVwYXJlZCA9IEFSR1NbMF0uc3BsaXQoKQogICAgZWxzZToKICAgICAgICBhcmd2X3ByZXBhcmVk
ID0gQVJHUwoKICAgIHNhbHRfYXJndiA9IFsKICAgICAgICBzeXMuZXhlY3V0YWJsZSwKICAgICAg
ICBzYWx0X2NhbGxfcGF0aCwKICAgICAgICAnLS1yZXRjb2RlLXBhc3N0aHJvdWdoJywKICAgICAg
ICAnLS1sb2NhbCcsCiAgICAgICAgJy0tbWV0YWRhdGEnLAogICAgICAgICctLW91dCcsICdqc29u
JywKICAgICAgICAnLWwnLCAncXVpZXQnLAogICAgICAgICctYycsIE9QVElPTlMuc2FsdGRpciwK
ICAgICAgICAnLS0nLAogICAgXSArIGFyZ3ZfcHJlcGFyZWQKCiAgICBzeXMuc3RkZXJyLndyaXRl
KCdTQUxUX0FSR1Y6IHswfVxuJy5mb3JtYXQoc2FsdF9hcmd2KSkKCiAgICAjIE9ubHkgZW1pdCB0
aGUgZGVsaW1pdGVyIG9uICpib3RoKiBzdGRvdXQgYW5kIHN0ZGVyciB3aGVuIGNvbXBsZXRlbHkg
c3VjY2Vzc2Z1bC4KICAgICMgWWVzLCB0aGUgZmx1c2goKSBpcyBuZWNlc3NhcnkuCiAgICBzeXMu
c3Rkb3V0LndyaXRlKE9QVElPTlMuZGVsaW1pdGVyICsgJ1xuJykKICAgIHN5cy5zdGRvdXQuZmx1
c2goKQogICAgaWYgbm90IE9QVElPTlMudHR5OgogICAgICAgIHN5cy5zdGRlcnIud3JpdGUoT1BU
SU9OUy5kZWxpbWl0ZXIgKyAnXG4nKQogICAgICAgIHN5cy5zdGRlcnIuZmx1c2goKQogICAgaWYg
T1BUSU9OUy5jbWRfdW1hc2sgaXMgbm90IE5vbmU6CiAgICAgICAgb2xkX3VtYXNrID0gb3MudW1h
c2soT1BUSU9OUy5jbWRfdW1hc2spCiAgICBpZiBPUFRJT05TLnR0eToKICAgICAgICBzdGRvdXQs
IF8gPSBzdWJwcm9jZXNzLlBvcGVuKHNhbHRfYXJndiwgc3Rkb3V0PXN1YnByb2Nlc3MuUElQRSwg
c3RkZXJyPXN1YnByb2Nlc3MuUElQRSkuY29tbXVuaWNhdGUoKQogICAgICAgIHN5cy5zdGRvdXQu
d3JpdGUoc3Rkb3V0KQogICAgICAgIHN5cy5zdGRvdXQuZmx1c2goKQogICAgICAgIGlmIE9QVElP
TlMud2lwZToKICAgICAgICAgICAgc2h1dGlsLnJtdHJlZShPUFRJT05TLnNhbHRkaXIpCiAgICBl
bGlmIE9QVElPTlMud2lwZToKICAgICAgICBzdWJwcm9jZXNzLmNhbGwoc2FsdF9hcmd2KQogICAg
ICAgIHNodXRpbC5ybXRyZWUoT1BUSU9OUy5zYWx0ZGlyKQogICAgZWxzZToKICAgICAgICBvcy5l
eGVjdihzeXMuZXhlY3V0YWJsZSwgc2FsdF9hcmd2KQogICAgaWYgT1BUSU9OUy5jbWRfdW1hc2sg
aXMgbm90IE5vbmU6CiAgICAgICAgb3MudW1hc2sob2xkX3VtYXNrKQoKaWYgX19uYW1lX18gPT0g
J19fbWFpbl9fJzoKICAgIHN5cy5leGl0KG1haW4oc3lzLmFyZ3YpKQo=
""").decode("utf-8"))'
else
exec $SUDO "$py_cmd_path" -c \
'import base64;
exec(base64.b64decode("""IyBweWxpbnQ6IGRpc2FibGU9Vzk5MDMKJycnClRoaXMgaXMgYSBzaGltIHRoYXQgaGFuZGxlcyBj
aGVja2luZyBhbmQgdXBkYXRpbmcgc2FsdCB0aGluIGFuZAp0aGVuIGludm9raW5nIHRoaW4uCgpU
aGlzIGlzIG5vdCBpbnRlbmRlZCB0byBiZSBpbnN0YW50aWF0ZWQgYXMgYSBtb2R1bGUsIHJhdGhl
ciBpdCBpcyBhCmhlbHBlciBzY3JpcHQgdXNlZCBieSBzYWx0LmNsaWVudC5zc2guU2luZ2xlLiAg
SXQgaXMgaGVyZSwgaW4gYQpzZXBhcmF0ZSBmaWxlLCBmb3IgY29udmVuaWVuY2Ugb2YgZGV2ZWxv
cG1lbnQuCicnJwoKZnJvbSBfX2Z1dHVyZV9fIGltcG9ydCBhYnNvbHV0ZV9pbXBvcnQKCmltcG9y
dCBoYXNobGliCmltcG9ydCB0YXJmaWxlCmltcG9ydCBzaHV0aWwKaW1wb3J0IHN5cwppbXBvcnQg
b3MKaW1wb3J0IHN0YXQKaW1wb3J0IHN1YnByb2Nlc3MKClRISU5fQVJDSElWRSA9ICdzYWx0LXRo
aW4udGd6JwpFWFRfQVJDSElWRSA9ICdzYWx0LWV4dF9tb2RzLnRneicKCiMgS2VlcCB0aGVzZSBp
biBzeW5jIHdpdGggc2FsdC9kZWZhdWx0cy9leGl0Y29kZXMucHkKRVhfVEhJTl9ERVBMT1kgPSAx
MQpFWF9USElOX0NIRUNLU1VNID0gMTIKRVhfTU9EX0RFUExPWSA9IDEzCkVYX1NDUF9OT1RfRk9V
TkQgPSAxNApFWF9DQU5UQ1JFQVQgPSA3MwoKCmNsYXNzIE9CSihvYmplY3QpOgogICAgIiIiQW4g
ZW1wdHkgY2xhc3MgZm9yIGhvbGRpbmcgaW5zdGFuY2UgYXR0cmlidXRlIHZhbHVlcy4iIiIKICAg
IHBhc3MKCgpPUFRJT05TID0gTm9uZQpBUkdTID0gTm9uZQojIFRoZSBiZWxvdyBsaW5lIGlzIHdo
ZXJlIE9QVElPTlMgY2FuIGJlIHJlZGVmaW5lZCB3aXRoIGludGVybmFsIG9wdGlvbnMKIyAocmF0
aGVyIHRoYW4gY2xpIGFyZ3VtZW50cykgd2hlbiB0aGUgc2hpbSBpcyBidW5kbGVkIGJ5CiMgY2xp
ZW50LnNzaC5TaW5nbGUuX2NtZF9zdHIoKQojIHB5bGludDogZGlzYWJsZT1ibG9jay1jb21tZW50
LXNob3VsZC1zdGFydC13aXRoLWNhcmRpbmFsLXNwYWNlCgpPUFRJT05TID0gT0JKKCkKT1BUSU9O
Uy5jb25maWcgPSAiIiIKe2ZpbGVzZXJ2ZXJfbGlzdF9jYWNoZV90aW1lOiAzLCBncmFpbnNfY2Fj
aGU6IHRydWUsIGlkOiBsb2NhbCwgbG9nX2ZpbGU6IHNhbHQtY2FsbC5sb2csCiAgcm9vdF9kaXI6
IC92YXIvdG1wLy5zYWx0LW9wZV8xYTM1MzJfc2FsdC9ydW5uaW5nX2RhdGEsIHNvY2tfZGlyOiAv
fQoiIiIKT1BUSU9OUy5kZWxpbWl0ZXIgPSAnX2VkYmM3ODg1ZTRmOWFhYzliODNiMzU5OTliNjhk
MDE1MTQ4Y2FmNDY3Yjc4ZmEzOWMwNWY2NjljMGZmODk4NzgnCk9QVElPTlMuc2FsdGRpciA9ICcv
dmFyL3RtcC8uc2FsdC1vcGVfMWEzNTMyX3NhbHQnCk9QVElPTlMuY2hlY2tzdW0gPSAnMmUyNWZj
YmI2YWEyNTU5OWQ1MmU4OTVkZTZlMjExOTZkNWM2ZTU5NScKT1BUSU9OUy5oYXNoZnVuYyA9ICdz
aGExJwpPUFRJT05TLnZlcnNpb24gPSAnMjAxNi4zLjInCk9QVElPTlMuZXh0X21vZHMgPSAnJwpP
UFRJT05TLndpcGUgPSBGYWxzZQpPUFRJT05TLnR0eSA9IEZhbHNlCk9QVElPTlMuY21kX3VtYXNr
ID0gTm9uZQpBUkdTID0gWyduZXR3b3JrLmludGVyZmFjZV9pcCcsICciZXRoMCInXQoKCgpkZWYg
bmVlZF9kZXBsb3ltZW50KCk6CiAgICAiIiIKICAgIFNhbHQgdGhpbiBuZWVkcyB0byBiZSBkZXBs
b3llZCAtIHByZXAgdGhlIHRhcmdldCBkaXJlY3RvcnkgYW5kIGVtaXQgdGhlCiAgICBkZWxpbWV0
ZXIgYW5kIGV4aXQgY29kZSB0aGF0IHNpZ25hbHMgYSByZXF1aXJlZCBkZXBsb3ltZW50LgogICAg
IiIiCiAgICBpZiBvcy5wYXRoLmV4aXN0cyhPUFRJT05TLnNhbHRkaXIpOgogICAgICAgIHNodXRp
bC5ybXRyZWUoT1BUSU9OUy5zYWx0ZGlyKQogICAgb2xkX3VtYXNrID0gb3MudW1hc2soMG8wNzcp
CiAgICBvcy5tYWtlZGlycyhPUFRJT05TLnNhbHRkaXIpCiAgICBvcy51bWFzayhvbGRfdW1hc2sp
CiAgICAjIFZlcmlmeSBwZXJtcyBvbiBzYWx0ZGlyCiAgICBldWlkID0gb3MuZ2V0ZXVpZCgpCiAg
ICBkc3RhdCA9IG9zLnN0YXQoT1BUSU9OUy5zYWx0ZGlyKQogICAgaWYgZHN0YXQuc3RfdWlkICE9
IGV1aWQ6CiAgICAgICAgIyBBdHRhY2sgZGV0ZWN0ZWQsIHRyeSBhZ2FpbgogICAgICAgIG5lZWRf
ZGVwbG95bWVudCgpCiAgICBpZiBkc3RhdC5zdF9tb2RlICE9IDE2ODMyOgogICAgICAgICMgQXR0
YWNrIGRldGVjdGVkCiAgICAgICAgbmVlZF9kZXBsb3ltZW50KCkKICAgICMgSWYgU1VET2luZyB0
aGVuIGFsc28gZ2l2ZSB0aGUgc3VwZXIgdXNlciBncm91cCB3cml0ZSBwZXJtaXNzaW9ucwogICAg
c3Vkb19naWQgPSBvcy5lbnZpcm9uLmdldCgnU1VET19HSUQnKQogICAgaWYgc3Vkb19naWQ6CiAg
ICAgICAgb3MuY2hvd24oT1BUSU9OUy5zYWx0ZGlyLCAtMSwgaW50KHN1ZG9fZ2lkKSkKICAgICAg
ICBzdHQgPSBvcy5zdGF0KE9QVElPTlMuc2FsdGRpcikKICAgICAgICBvcy5jaG1vZChPUFRJT05T
LnNhbHRkaXIsIHN0dC5zdF9tb2RlIHwgc3RhdC5TX0lXR1JQIHwgc3RhdC5TX0lSR1JQIHwgc3Rh
dC5TX0lYR1JQKQoKICAgICMgRGVsaW1pdGVyIGVtaXR0ZWQgb24gc3Rkb3V0ICpvbmx5KiB0byBp
bmRpY2F0ZSBzaGltIG1lc3NhZ2UgdG8gbWFzdGVyLgogICAgc3lzLnN0ZG91dC53cml0ZSgiezB9
XG5kZXBsb3lcbiIuZm9ybWF0KE9QVElPTlMuZGVsaW1pdGVyKSkKICAgIHN5cy5leGl0KEVYX1RI
SU5fREVQTE9ZKQoKCiMgQWRhcHRlZCBmcm9tIHNhbHQudXRpbHMuZ2V0X2hhc2goKQpkZWYgZ2V0
X2hhc2gocGF0aCwgZm9ybT0nc2hhMScsIGNodW5rX3NpemU9NDA5Nik6CiAgICAiIiJHZW5lcmF0
ZSBhIGhhc2ggZGlnZXN0IHN0cmluZyBmb3IgYSBmaWxlLiIiIgogICAgdHJ5OgogICAgICAgIGhh
c2hfdHlwZSA9IGdldGF0dHIoaGFzaGxpYiwgZm9ybSkKICAgIGV4Y2VwdCBBdHRyaWJ1dGVFcnJv
cjoKICAgICAgICByYWlzZSBWYWx1ZUVycm9yKCdJbnZhbGlkIGhhc2ggdHlwZTogezB9Jy5mb3Jt
YXQoZm9ybSkpCiAgICB3aXRoIG9wZW4ocGF0aCwgJ3JiJykgYXMgaWZpbGU6CiAgICAgICAgaGFz
aF9vYmogPSBoYXNoX3R5cGUoKQogICAgICAgICMgcmVhZCB0aGUgZmlsZSBpbiBpbiBjaHVua3Ms
IG5vdCB0aGUgZW50aXJlIGZpbGUKICAgICAgICBmb3IgY2h1bmsgaW4gaXRlcihsYW1iZGE6IGlm
aWxlLnJlYWQoY2h1bmtfc2l6ZSksIGInJyk6CiAgICAgICAgICAgIGhhc2hfb2JqLnVwZGF0ZShj
aHVuaykKICAgICAgICByZXR1cm4gaGFzaF9vYmouaGV4ZGlnZXN0KCkKCgpkZWYgdW5wYWNrX3Ro
aW4odGhpbl9wYXRoKToKICAgICIiIlVucGFjayB0aGUgU2FsdCB0aGluIGFyY2hpdmUuIiIiCiAg
ICB0ZmlsZSA9IHRhcmZpbGUuVGFyRmlsZS5nem9wZW4odGhpbl9wYXRoKQogICAgb2xkX3VtYXNr
ID0gb3MudW1hc2soMG8wNzcpCiAgICB0ZmlsZS5leHRyYWN0YWxsKHBhdGg9T1BUSU9OUy5zYWx0
ZGlyKQogICAgdGZpbGUuY2xvc2UoKQogICAgb3MudW1hc2sob2xkX3VtYXNrKQogICAgb3MudW5s
aW5rKHRoaW5fcGF0aCkKCgpkZWYgbmVlZF9leHQoKToKICAgICIiIlNpZ25hbCB0aGF0IGV4dGVy
bmFsIG1vZHVsZXMgbmVlZCB0byBiZSBkZXBsb3llZC4iIiIKICAgIHN5cy5zdGRvdXQud3JpdGUo
InswfVxuZXh0X21vZHNcbiIuZm9ybWF0KE9QVElPTlMuZGVsaW1pdGVyKSkKICAgIHN5cy5leGl0
KEVYX01PRF9ERVBMT1kpCgoKZGVmIHVucGFja19leHQoZXh0X3BhdGgpOgogICAgIiIiVW5wYWNr
IHRoZSBleHRlcm5hbCBtb2R1bGVzLiIiIgogICAgbW9kY2FjaGUgPSBvcy5wYXRoLmpvaW4oCiAg
ICAgICAgICAgIE9QVElPTlMuc2FsdGRpciwKICAgICAgICAgICAgJ3J1bm5pbmdfZGF0YScsCiAg
ICAgICAgICAgICd2YXInLAogICAgICAgICAgICAnY2FjaGUnLAogICAgICAgICAgICAnc2FsdCcs
CiAgICAgICAgICAgICdtaW5pb24nLAogICAgICAgICAgICAnZXh0bW9kcycpCiAgICB0ZmlsZSA9
IHRhcmZpbGUuVGFyRmlsZS5nem9wZW4oZXh0X3BhdGgpCiAgICBvbGRfdW1hc2sgPSBvcy51bWFz
aygwbzA3NykKICAgIHRmaWxlLmV4dHJhY3RhbGwocGF0aD1tb2RjYWNoZSkKICAgIHRmaWxlLmNs
b3NlKCkKICAgIG9zLnVtYXNrKG9sZF91bWFzaykKICAgIG9zLnVubGluayhleHRfcGF0aCkKICAg
IHZlcl9wYXRoID0gb3MucGF0aC5qb2luKG1vZGNhY2hlLCAnZXh0X3ZlcnNpb24nKQogICAgdmVy
X2RzdCA9IG9zLnBhdGguam9pbihPUFRJT05TLnNhbHRkaXIsICdleHRfdmVyc2lvbicpCiAgICBz
aHV0aWwubW92ZSh2ZXJfcGF0aCwgdmVyX2RzdCkKCgpkZWYgbWFpbihhcmd2KTogICMgcHlsaW50
OiBkaXNhYmxlPVcwNjEzCiAgICAiIiJNYWluIHByb2dyYW0gYm9keSIiIgogICAgdGhpbl9wYXRo
ID0gb3MucGF0aC5qb2luKE9QVElPTlMuc2FsdGRpciwgVEhJTl9BUkNISVZFKQogICAgaWYgb3Mu
cGF0aC5pc2ZpbGUodGhpbl9wYXRoKToKICAgICAgICBpZiBPUFRJT05TLmNoZWNrc3VtICE9IGdl
dF9oYXNoKHRoaW5fcGF0aCwgT1BUSU9OUy5oYXNoZnVuYyk6CiAgICAgICAgICAgIHN5cy5zdGRl
cnIud3JpdGUoJ3swfVxuJy5mb3JtYXQoT1BUSU9OUy5jaGVja3N1bSkpCiAgICAgICAgICAgIHN5
cy5zdGRlcnIud3JpdGUoJ3swfVxuJy5mb3JtYXQoZ2V0X2hhc2godGhpbl9wYXRoLCBPUFRJT05T
Lmhhc2hmdW5jKSkpCiAgICAgICAgICAgIG9zLnVubGluayh0aGluX3BhdGgpCiAgICAgICAgICAg
IHN5cy5zdGRlcnIud3JpdGUoJ1dBUk5JTkc6IGNoZWNrc3VtIG1pc21hdGNoIGZvciAiezB9Ilxu
Jy5mb3JtYXQodGhpbl9wYXRoKSkKICAgICAgICAgICAgc3lzLmV4aXQoRVhfVEhJTl9DSEVDS1NV
TSkKICAgICAgICB1bnBhY2tfdGhpbih0aGluX3BhdGgpCiAgICAgICAgIyBTYWx0IHRoaW4gbm93
IGlzIGF2YWlsYWJsZSB0byB1c2UKICAgIGVsc2U6CiAgICAgICAgc2Nwc3RhdCA9IHN1YnByb2Nl
c3MuUG9wZW4oWycvYmluL3NoJywgJy1jJywgJ2NvbW1hbmQgLXYgc2NwJ10pLndhaXQoKQogICAg
ICAgIGlmIHNjcHN0YXQgIT0gMDoKICAgICAgICAgICAgc3lzLmV4aXQoRVhfU0NQX05PVF9GT1VO
RCkKCiAgICAgICAgaWYgbm90IG9zLnBhdGguZXhpc3RzKE9QVElPTlMuc2FsdGRpcik6CiAgICAg
ICAgICAgIG5lZWRfZGVwbG95bWVudCgpCgogICAgICAgIGlmIG5vdCBvcy5wYXRoLmlzZGlyKE9Q
VElPTlMuc2FsdGRpcik6CiAgICAgICAgICAgIHN5cy5zdGRlcnIud3JpdGUoCiAgICAgICAgICAg
ICAgICAnRVJST1I6IHNhbHQgcGF0aCAiezB9IiBleGlzdHMgYnV0IGlzJwogICAgICAgICAgICAg
ICAgJyBub3QgYSBkaXJlY3RvcnlcbicuZm9ybWF0KE9QVElPTlMuc2FsdGRpcikKICAgICAgICAg
ICAgKQogICAgICAgICAgICBzeXMuZXhpdChFWF9DQU5UQ1JFQVQpCgogICAgICAgIHZlcnNpb25f
cGF0aCA9IG9zLnBhdGguam9pbihPUFRJT05TLnNhbHRkaXIsICd2ZXJzaW9uJykKICAgICAgICBp
ZiBub3Qgb3MucGF0aC5leGlzdHModmVyc2lvbl9wYXRoKSBvciBub3Qgb3MucGF0aC5pc2ZpbGUo
dmVyc2lvbl9wYXRoKToKICAgICAgICAgICAgc3lzLnN0ZGVyci53cml0ZSgKICAgICAgICAgICAg
ICAgICdXQVJOSU5HOiBVbmFibGUgdG8gbG9jYXRlIGN1cnJlbnQgdGhpbiAnCiAgICAgICAgICAg
ICAgICAnIHZlcnNpb246IHswfS5cbicuZm9ybWF0KHZlcnNpb25fcGF0aCkKICAgICAgICAgICAg
KQogICAgICAgICAgICBuZWVkX2RlcGxveW1lbnQoKQogICAgICAgIHdpdGggb3Blbih2ZXJzaW9u
X3BhdGgsICdyJykgYXMgdnBvOgogICAgICAgICAgICBjdXJfdmVyc2lvbiA9IHZwby5yZWFkbGlu
ZSgpLnN0cmlwKCkKICAgICAgICBpZiBjdXJfdmVyc2lvbiAhPSBPUFRJT05TLnZlcnNpb246CiAg
ICAgICAgICAgIHN5cy5zdGRlcnIud3JpdGUoCiAgICAgICAgICAgICAgICAnV0FSTklORzogY3Vy
cmVudCB0aGluIHZlcnNpb24gezB9JwogICAgICAgICAgICAgICAgJyBpcyBub3QgdXAtdG8tZGF0
ZSB3aXRoIHsxfS5cbicuZm9ybWF0KAogICAgICAgICAgICAgICAgICAgIGN1cl92ZXJzaW9uLCBP
UFRJT05TLnZlcnNpb24KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgKQogICAgICAgICAg
ICBuZWVkX2RlcGxveW1lbnQoKQogICAgICAgICMgU2FsdCB0aGluIGV4aXN0cyBhbmQgaXMgdXAt
dG8tZGF0ZSAtIGZhbGwgdGhyb3VnaCBhbmQgdXNlIGl0CgogICAgc2FsdF9jYWxsX3BhdGggPSBv
cy5wYXRoLmpvaW4oT1BUSU9OUy5zYWx0ZGlyLCAnc2FsdC1jYWxsJykKICAgIGlmIG5vdCBvcy5w
YXRoLmlzZmlsZShzYWx0X2NhbGxfcGF0aCk6CiAgICAgICAgc3lzLnN0ZGVyci53cml0ZSgnRVJS
T1I6IHRoaW4gaXMgbWlzc2luZyAiezB9IlxuJy5mb3JtYXQoc2FsdF9jYWxsX3BhdGgpKQogICAg
ICAgIG5lZWRfZGVwbG95bWVudCgpCgogICAgd2l0aCBvcGVuKG9zLnBhdGguam9pbihPUFRJT05T
LnNhbHRkaXIsICdtaW5pb24nKSwgJ3cnKSBhcyBjb25maWc6CiAgICAgICAgY29uZmlnLndyaXRl
KE9QVElPTlMuY29uZmlnICsgJ1xuJykKICAgIGlmIE9QVElPTlMuZXh0X21vZHM6CiAgICAgICAg
ZXh0X3BhdGggPSBvcy5wYXRoLmpvaW4oT1BUSU9OUy5zYWx0ZGlyLCBFWFRfQVJDSElWRSkKICAg
ICAgICBpZiBvcy5wYXRoLmV4aXN0cyhleHRfcGF0aCk6CiAgICAgICAgICAgIHVucGFja19leHQo
ZXh0X3BhdGgpCiAgICAgICAgZWxzZToKICAgICAgICAgICAgdmVyc2lvbl9wYXRoID0gb3MucGF0
aC5qb2luKE9QVElPTlMuc2FsdGRpciwgJ2V4dF92ZXJzaW9uJykKICAgICAgICAgICAgaWYgbm90
IG9zLnBhdGguZXhpc3RzKHZlcnNpb25fcGF0aCkgb3Igbm90IG9zLnBhdGguaXNmaWxlKHZlcnNp
b25fcGF0aCk6CiAgICAgICAgICAgICAgICBuZWVkX2V4dCgpCiAgICAgICAgICAgIHdpdGggb3Bl
bih2ZXJzaW9uX3BhdGgsICdyJykgYXMgdnBvOgogICAgICAgICAgICAgICAgY3VyX3ZlcnNpb24g
PSB2cG8ucmVhZGxpbmUoKS5zdHJpcCgpCiAgICAgICAgICAgIGlmIGN1cl92ZXJzaW9uICE9IE9Q
VElPTlMuZXh0X21vZHM6CiAgICAgICAgICAgICAgICBuZWVkX2V4dCgpCiAgICAjIEZpeCBwYXJh
bWV0ZXIgcGFzc2luZyBpc3N1ZQogICAgaWYgbGVuKEFSR1MpID09IDE6CiAgICAgICAgYXJndl9w
cmVwYXJlZCA9IEFSR1NbMF0uc3BsaXQoKQogICAgZWxzZToKICAgICAgICBhcmd2X3ByZXBhcmVk
ID0gQVJHUwoKICAgIHNhbHRfYXJndiA9IFsKICAgICAgICBzeXMuZXhlY3V0YWJsZSwKICAgICAg
ICBzYWx0X2NhbGxfcGF0aCwKICAgICAgICAnLS1yZXRjb2RlLXBhc3N0aHJvdWdoJywKICAgICAg
ICAnLS1sb2NhbCcsCiAgICAgICAgJy0tbWV0YWRhdGEnLAogICAgICAgICctLW91dCcsICdqc29u
JywKICAgICAgICAnLWwnLCAncXVpZXQnLAogICAgICAgICctYycsIE9QVElPTlMuc2FsdGRpciwK
ICAgICAgICAnLS0nLAogICAgXSArIGFyZ3ZfcHJlcGFyZWQKCiAgICBzeXMuc3RkZXJyLndyaXRl
KCdTQUxUX0FSR1Y6IHswfVxuJy5mb3JtYXQoc2FsdF9hcmd2KSkKCiAgICAjIE9ubHkgZW1pdCB0
aGUgZGVsaW1pdGVyIG9uICpib3RoKiBzdGRvdXQgYW5kIHN0ZGVyciB3aGVuIGNvbXBsZXRlbHkg
c3VjY2Vzc2Z1bC4KICAgICMgWWVzLCB0aGUgZmx1c2goKSBpcyBuZWNlc3NhcnkuCiAgICBzeXMu
c3Rkb3V0LndyaXRlKE9QVElPTlMuZGVsaW1pdGVyICsgJ1xuJykKICAgIHN5cy5zdGRvdXQuZmx1
c2goKQogICAgaWYgbm90IE9QVElPTlMudHR5OgogICAgICAgIHN5cy5zdGRlcnIud3JpdGUoT1BU
SU9OUy5kZWxpbWl0ZXIgKyAnXG4nKQogICAgICAgIHN5cy5zdGRlcnIuZmx1c2goKQogICAgaWYg
T1BUSU9OUy5jbWRfdW1hc2sgaXMgbm90IE5vbmU6CiAgICAgICAgb2xkX3VtYXNrID0gb3MudW1h
c2soT1BUSU9OUy5jbWRfdW1hc2spCiAgICBpZiBPUFRJT05TLnR0eToKICAgICAgICBzdGRvdXQs
IF8gPSBzdWJwcm9jZXNzLlBvcGVuKHNhbHRfYXJndiwgc3Rkb3V0PXN1YnByb2Nlc3MuUElQRSwg
c3RkZXJyPXN1YnByb2Nlc3MuUElQRSkuY29tbXVuaWNhdGUoKQogICAgICAgIHN5cy5zdGRvdXQu
d3JpdGUoc3Rkb3V0KQogICAgICAgIHN5cy5zdGRvdXQuZmx1c2goKQogICAgICAgIGlmIE9QVElP
TlMud2lwZToKICAgICAgICAgICAgc2h1dGlsLnJtdHJlZShPUFRJT05TLnNhbHRkaXIpCiAgICBl
bGlmIE9QVElPTlMud2lwZToKICAgICAgICBzdWJwcm9jZXNzLmNhbGwoc2FsdF9hcmd2KQogICAg
ICAgIHNodXRpbC5ybXRyZWUoT1BUSU9OUy5zYWx0ZGlyKQogICAgZWxzZToKICAgICAgICBvcy5l
eGVjdihzeXMuZXhlY3V0YWJsZSwgc2FsdF9hcmd2KQogICAgaWYgT1BUSU9OUy5jbWRfdW1hc2sg
aXMgbm90IE5vbmU6CiAgICAgICAgb3MudW1hc2sob2xkX3VtYXNrKQoKaWYgX19uYW1lX18gPT0g
J19fbWFpbl9fJzoKICAgIHN5cy5leGl0KG1haW4oc3lzLmFyZ3YpKQo=
""").decode("utf-8"))'
fi
exit 0
else
continue
fi
done
echo "ERROR: Unable to locate appropriate python command" >&2
exit $EX_PYTHON_INVALID
EOF
2016-08-27 20:51:56,151 [salt.utils.vt.Terminal.PID-7153.STDOUT][TRACE   ][7069] salt-ope@127.0.0.1's password:
2016-08-27 20:51:56,389 [salt.utils.vt.Terminal.PID-7153.STDERR][TRACE   ][7069] SALT_ARGV: ['/usr/bin/python2.6', '/var/tmp/.salt-ope_1a3532_salt/salt-call', '--retcode-passthrough', '--local', '--metadata', '--out', 'json', '-l', 'quiet', '-c', '/var/tmp/.salt-ope_1a3532_salt', '--', 'network.interface_ip', '"eth0"']
_edbc7885e4f9aac9b83b35999b68d015148caf467b78fa39c05f669c0ff89878
2016-08-27 20:51:56,390 [salt.utils.vt.Terminal.PID-7153.STDOUT][TRACE   ][7069] /usr/bin/scp
_edbc7885e4f9aac9b83b35999b68d015148caf467b78fa39c05f669c0ff89878
2016-08-27 20:51:56,931 [salt.utils.vt.Terminal.PID-7153.STDOUT][TRACE   ][7069] {
    "local": {
        "fun_args": [
            "\"eth0\""
        ], 
        "jid": "20160827205156902257", 
        "return": "192.168.1.10", 
        "retcode": 0, 
        "fun": "network.interface_ip", 
        "id": "local"
    }
}
2016-08-27 20:51:57,176 [salt.client.ssh  ][TRACE   ][7069] STDOUT 127.0.0.1
salt-ope@127.0.0.1's password: 
/usr/bin/scp
_edbc7885e4f9aac9b83b35999b68d015148caf467b78fa39c05f669c0ff89878
{
    "local": {
        "fun_args": [
            "\"eth0\""
        ], 
        "jid": "20160827205156902257", 
        "return": "192.168.1.10", 
        "retcode": 0, 
        "fun": "network.interface_ip", 
        "id": "local"
    }
}

2016-08-27 20:51:57,177 [salt.client.ssh  ][TRACE   ][7069] STDERR 127.0.0.1
SALT_ARGV: ['/usr/bin/python2.6', '/var/tmp/.salt-ope_1a3532_salt/salt-call', '--retcode-passthrough', '--local', '--metadata', '--out', 'json', '-l', 'quiet', '-c', '/var/tmp/.salt-ope_1a3532_salt', '--', 'network.interface_ip', '"eth0"']
_edbc7885e4f9aac9b83b35999b68d015148caf467b78fa39c05f669c0ff89878

2016-08-27 20:51:57,177 [salt.client.ssh  ][DEBUG   ][7069] RETCODE 127.0.0.1: 0
2016-08-27 20:51:57,179 [salt.template    ][PROFILE ][7069] Time (in seconds) to render '/root/saltstack_master/var/cache/salt/master/files/base/rsyslog.sls' using 'jinja' renderer: 1.16103982925
2016-08-27 20:51:57,179 [salt.template    ][DEBUG   ][7069] Rendered data from file: /root/saltstack_master/var/cache/salt/master/files/base/rsyslog.sls:
install_packages:
  pkg.installed:
    - pkgs:
      - rsyslog

/etc/rsyslog.conf:
  file.managed:

    - source: salt://files/etc/client_rsyslog.conf

    - template: jinja
    - mode: 0644
    - user: root
    - group: root

rsyslog:
  service.running:
    - enable: True
    - require:
      - pkg: install_packages
    - watch:
      - file: /etc/rsyslog.conf

2016-08-27 20:51:57,188 [salt.loaded.int.render.yaml][DEBUG   ][7069] Results of YAML rendering: 
OrderedDict([('install_packages', OrderedDict([('pkg.installed', [OrderedDict([('pkgs', ['rsyslog'])])])])), ('/etc/rsyslog.conf', OrderedDict([('file.managed', [OrderedDict([('source', 'salt://files/etc/client_rsyslog.conf')]), OrderedDict([('template', 'jinja')]), OrderedDict([('mode', 644)]), OrderedDict([('user', 'root')]), OrderedDict([('group', 'root')])])])), ('rsyslog', OrderedDict([('service.running', [OrderedDict([('enable', True)]), OrderedDict([('require', [OrderedDict([('pkg', 'install_packages')])])]), OrderedDict([('watch', [OrderedDict([('file', '/etc/rsyslog.conf')])])])])]))])
2016-08-27 20:51:57,188 [salt.template    ][PROFILE ][7069] Time (in seconds) to render '/root/saltstack_master/var/cache/salt/master/files/base/rsyslog.sls' using 'yaml' renderer: 0.00838923454285
2016-08-27 20:51:57,194 [salt.fileclient  ][DEBUG   ][7069] In saltenv 'base', looking at rel_path 'files/etc/client_rsyslog.conf' to resolve 'salt://files/etc/client_rsyslog.conf'
2016-08-27 20:51:57,194 [salt.fileclient  ][DEBUG   ][7069] In saltenv 'base', ** considering ** path '/root/saltstack_master/var/cache/salt/master/salt-ssh/local/files/base/files/etc/client_rsyslog.conf' to resolve 'salt://files/etc/client_rsyslog.conf'
2016-08-27 20:51:57,195 [salt.fileclient  ][DEBUG   ][7069] Fetching file from saltenv 'base', ** attempting ** 'salt://files/etc/client_rsyslog.conf'
2016-08-27 20:51:57,195 [salt.fileclient  ][DEBUG   ][7069] No dest file found 
2016-08-27 20:51:57,196 [salt.fileclient  ][INFO    ][7069] Fetching file from saltenv 'base', ** done ** 'files/etc/client_rsyslog.conf'
2016-08-27 20:51:57,196 [salt.fileclient  ][DEBUG   ][7069] Could not find file from saltenv 'base', 'salt://_modules'
2016-08-27 20:51:57,196 [salt.fileclient  ][INFO    ][7069] Caching directory '_modules/' for environment 'base'
2016-08-27 20:51:57,197 [salt.fileserver  ][TRACE   ][7069] Returning file_lists cache data from /root/saltstack_master/var/cache/salt/master/file_lists/roots/base.p
2016-08-27 20:51:57,197 [salt.fileclient  ][DEBUG   ][7069] Could not find file from saltenv 'base', 'salt://_states'
2016-08-27 20:51:57,197 [salt.fileclient  ][INFO    ][7069] Caching directory '_states/' for environment 'base'
2016-08-27 20:51:57,198 [salt.fileserver  ][TRACE   ][7069] Returning file_lists cache data from /root/saltstack_master/var/cache/salt/master/file_lists/roots/base.p
2016-08-27 20:51:57,198 [salt.fileclient  ][DEBUG   ][7069] Could not find file from saltenv 'base', 'salt://_grains'
2016-08-27 20:51:57,198 [salt.fileclient  ][INFO    ][7069] Caching directory '_grains/' for environment 'base'
2016-08-27 20:51:57,199 [salt.fileserver  ][TRACE   ][7069] Returning file_lists cache data from /root/saltstack_master/var/cache/salt/master/file_lists/roots/base.p
2016-08-27 20:51:57,199 [salt.fileclient  ][DEBUG   ][7069] Could not find file from saltenv 'base', 'salt://_renderers'
2016-08-27 20:51:57,199 [salt.fileclient  ][INFO    ][7069] Caching directory '_renderers/' for environment 'base'
2016-08-27 20:51:57,199 [salt.fileserver  ][TRACE   ][7069] Returning file_lists cache data from /root/saltstack_master/var/cache/salt/master/file_lists/roots/base.p
2016-08-27 20:51:57,200 [salt.fileclient  ][DEBUG   ][7069] Could not find file from saltenv 'base', 'salt://_returners'
2016-08-27 20:51:57,200 [salt.fileclient  ][INFO    ][7069] Caching directory '_returners/' for environment 'base'
2016-08-27 20:51:57,200 [salt.fileserver  ][TRACE   ][7069] Returning file_lists cache data from /root/saltstack_master/var/cache/salt/master/file_lists/roots/base.p
2016-08-27 20:51:57,201 [salt.fileclient  ][DEBUG   ][7069] Could not find file from saltenv 'base', 'salt://_output'
2016-08-27 20:51:57,201 [salt.fileclient  ][INFO    ][7069] Caching directory '_output/' for environment 'base'
2016-08-27 20:51:57,201 [salt.fileserver  ][TRACE   ][7069] Returning file_lists cache data from /root/saltstack_master/var/cache/salt/master/file_lists/roots/base.p
2016-08-27 20:51:57,202 [salt.fileclient  ][DEBUG   ][7069] Could not find file from saltenv 'base', 'salt://_utils'
2016-08-27 20:51:57,202 [salt.fileclient  ][INFO    ][7069] Caching directory '_utils/' for environment 'base'
2016-08-27 20:51:57,202 [salt.fileserver  ][TRACE   ][7069] Returning file_lists cache data from /root/saltstack_master/var/cache/salt/master/file_lists/roots/base.p
2016-08-27 20:51:57,223 [salt.client.ssh.shell][DEBUG   ][7069] Executing command: scp   -o KbdInteractiveAuthentication=no -o PasswordAuthentication=yes -o GSSAPIAuthentication=no -o ConnectTimeout=65 -o Port=22 -o IdentityFile=/root/saltstack_master/etc/salt/pki/master/ssh/salt-ssh.rsa -o User=******  /tmp/tmpwOwykI 127.0.0.1:/var/tmp/.******_1a3532_salt/salt_state.tgz
2016-08-27 20:51:57,229 [salt.utils.vt    ][DEBUG   ][7069] Child Forked! PID: 7203  STDOUT_FD: 9  STDERR_FD: 11
2016-08-27 20:51:57,233 [salt.utils.vt    ][DEBUG   ][7069] Terminal Command: /bin/sh -c scp   -o KbdInteractiveAuthentication=no -o PasswordAuthentication=yes -o GSSAPIAuthentication=no -o ConnectTimeout=65 -o Port=22 -o IdentityFile=/root/saltstack_master/etc/salt/pki/master/ssh/salt-ssh.rsa -o User=salt-ope  /tmp/tmpwOwykI 127.0.0.1:/var/tmp/.salt-ope_1a3532_salt/salt_state.tgz
2016-08-27 20:51:57,306 [salt.utils.vt.Terminal.PID-7203.STDOUT][TRACE   ][7069] salt-ope@127.0.0.1's password:
2016-08-27 20:51:57,481 [salt.utils.vt.Terminal.PID-7203.STDOUT][TRACE   ][7069] tmpwOwykI                                       0%    0     0.0KB/s   --:-- ETAtmpwOwykI                                     100% 1733     1.7KB/s   00:00
2016-08-27 20:51:57,703 [salt.client.ssh  ][DEBUG   ][7069] Performing shimmed, blocking command as follows:
state.pkg /var/tmp/.salt-ope_1a3532_salt/salt_state.tgz test=None pkg_sum=33dbea99851b5dd99e2f747ae74044da hash_type=md5
2016-08-27 20:51:57,721 [salt.client.ssh.shell][DEBUG   ][7069] Executed SHIM command. Command logged to TRACE
2016-08-27 20:51:57,722 [salt.client.ssh.shell][TRACE   ][7069] Executing command: ssh 127.0.0.1  -o KbdInteractiveAuthentication=no -o PasswordAuthentication=yes -o GSSAPIAuthentication=no -o ConnectTimeout=65 -o Port=22 -o IdentityFile=/root/saltstack_master/etc/salt/pki/master/ssh/salt-ssh.rsa -o User=******  /bin/sh << 'EOF'
set -e
set -u
DEBUG=""
if [ -n "$DEBUG" ]
then set -x
fi
SUDO=""
if [ -n "sudo" ]
then SUDO="sudo "
fi
EX_PYTHON_INVALID=10
PYTHON_CMDS="python3 python27 python2.7 python26 python2.6 python2 python"
for py_cmd in $PYTHON_CMDS
do
if command -v "$py_cmd" >/dev/null 2>&1 && "$py_cmd" -c \
"import sys; sys.exit(not (sys.version_info >= (2, 6)
and sys.version_info[0] == 2));"
then
py_cmd_path=`"$py_cmd" -c \
'from __future__ import print_function;
import sys; print(sys.executable);'`
cmdpath=$(which $py_cmd 2>&1)
if file $cmdpath | grep "shell script" > /dev/null
then
ex_vars="'PATH', 'LD_LIBRARY_PATH', 'MANPATH', \
'XDG_DATA_DIRS', 'PKG_CONFIG_PATH'"
export $($py_cmd -c \
"from __future__ import print_function;
import sys;
import os;
map(sys.stdout.write, ['{0}={1} ' \
.format(x, os.environ[x]) for x in [$ex_vars]])")
exec $SUDO PATH=$PATH LD_LIBRARY_PATH=$LD_LIBRARY_PATH \
MANPATH=$MANPATH XDG_DATA_DIRS=$XDG_DATA_DIRS \
PKG_CONFIG_PATH=$PKG_CONFIG_PATH \
"$py_cmd_path" -c \
'import base64;
exec(base64.b64decode("""IyBweWxpbnQ6IGRpc2FibGU9Vzk5MDMKJycnClRoaXMgaXMgYSBzaGltIHRoYXQgaGFuZGxlcyBj
aGVja2luZyBhbmQgdXBkYXRpbmcgc2FsdCB0aGluIGFuZAp0aGVuIGludm9raW5nIHRoaW4uCgpU
aGlzIGlzIG5vdCBpbnRlbmRlZCB0byBiZSBpbnN0YW50aWF0ZWQgYXMgYSBtb2R1bGUsIHJhdGhl
ciBpdCBpcyBhCmhlbHBlciBzY3JpcHQgdXNlZCBieSBzYWx0LmNsaWVudC5zc2guU2luZ2xlLiAg
SXQgaXMgaGVyZSwgaW4gYQpzZXBhcmF0ZSBmaWxlLCBmb3IgY29udmVuaWVuY2Ugb2YgZGV2ZWxv
cG1lbnQuCicnJwoKZnJvbSBfX2Z1dHVyZV9fIGltcG9ydCBhYnNvbHV0ZV9pbXBvcnQKCmltcG9y
dCBoYXNobGliCmltcG9ydCB0YXJmaWxlCmltcG9ydCBzaHV0aWwKaW1wb3J0IHN5cwppbXBvcnQg
b3MKaW1wb3J0IHN0YXQKaW1wb3J0IHN1YnByb2Nlc3MKClRISU5fQVJDSElWRSA9ICdzYWx0LXRo
aW4udGd6JwpFWFRfQVJDSElWRSA9ICdzYWx0LWV4dF9tb2RzLnRneicKCiMgS2VlcCB0aGVzZSBp
biBzeW5jIHdpdGggc2FsdC9kZWZhdWx0cy9leGl0Y29kZXMucHkKRVhfVEhJTl9ERVBMT1kgPSAx
MQpFWF9USElOX0NIRUNLU1VNID0gMTIKRVhfTU9EX0RFUExPWSA9IDEzCkVYX1NDUF9OT1RfRk9V
TkQgPSAxNApFWF9DQU5UQ1JFQVQgPSA3MwoKCmNsYXNzIE9CSihvYmplY3QpOgogICAgIiIiQW4g
ZW1wdHkgY2xhc3MgZm9yIGhvbGRpbmcgaW5zdGFuY2UgYXR0cmlidXRlIHZhbHVlcy4iIiIKICAg
IHBhc3MKCgpPUFRJT05TID0gTm9uZQpBUkdTID0gTm9uZQojIFRoZSBiZWxvdyBsaW5lIGlzIHdo
ZXJlIE9QVElPTlMgY2FuIGJlIHJlZGVmaW5lZCB3aXRoIGludGVybmFsIG9wdGlvbnMKIyAocmF0
aGVyIHRoYW4gY2xpIGFyZ3VtZW50cykgd2hlbiB0aGUgc2hpbSBpcyBidW5kbGVkIGJ5CiMgY2xp
ZW50LnNzaC5TaW5nbGUuX2NtZF9zdHIoKQojIHB5bGludDogZGlzYWJsZT1ibG9jay1jb21tZW50
LXNob3VsZC1zdGFydC13aXRoLWNhcmRpbmFsLXNwYWNlCgpPUFRJT05TID0gT0JKKCkKT1BUSU9O
Uy5jb25maWcgPSAiIiIKe2ZpbGVzZXJ2ZXJfbGlzdF9jYWNoZV90aW1lOiAzLCBncmFpbnNfY2Fj
aGU6IHRydWUsIGlkOiBsb2NhbCwgbG9nX2ZpbGU6IHNhbHQtY2FsbC5sb2csCiAgcm9vdF9kaXI6
IC92YXIvdG1wLy5zYWx0LW9wZV8xYTM1MzJfc2FsdC9ydW5uaW5nX2RhdGEsIHNvY2tfZGlyOiAv
fQoiIiIKT1BUSU9OUy5kZWxpbWl0ZXIgPSAnX2VkYmM3ODg1ZTRmOWFhYzliODNiMzU5OTliNjhk
MDE1MTQ4Y2FmNDY3Yjc4ZmEzOWMwNWY2NjljMGZmODk4NzgnCk9QVElPTlMuc2FsdGRpciA9ICcv
dmFyL3RtcC8uc2FsdC1vcGVfMWEzNTMyX3NhbHQnCk9QVElPTlMuY2hlY2tzdW0gPSAnMmUyNWZj
YmI2YWEyNTU5OWQ1MmU4OTVkZTZlMjExOTZkNWM2ZTU5NScKT1BUSU9OUy5oYXNoZnVuYyA9ICdz
aGExJwpPUFRJT05TLnZlcnNpb24gPSAnMjAxNi4zLjInCk9QVElPTlMuZXh0X21vZHMgPSAnJwpP
UFRJT05TLndpcGUgPSBGYWxzZQpPUFRJT05TLnR0eSA9IEZhbHNlCk9QVElPTlMuY21kX3VtYXNr
ID0gTm9uZQpBUkdTID0gWydzdGF0ZS5wa2cgL3Zhci90bXAvLnNhbHQtb3BlXzFhMzUzMl9zYWx0
L3NhbHRfc3RhdGUudGd6IHRlc3Q9Tm9uZSBwa2dfc3VtPTMzZGJlYTk5ODUxYjVkZDk5ZTJmNzQ3
YWU3NDA0NGRhIGhhc2hfdHlwZT1tZDUnXQoKCgpkZWYgbmVlZF9kZXBsb3ltZW50KCk6CiAgICAi
IiIKICAgIFNhbHQgdGhpbiBuZWVkcyB0byBiZSBkZXBsb3llZCAtIHByZXAgdGhlIHRhcmdldCBk
aXJlY3RvcnkgYW5kIGVtaXQgdGhlCiAgICBkZWxpbWV0ZXIgYW5kIGV4aXQgY29kZSB0aGF0IHNp
Z25hbHMgYSByZXF1aXJlZCBkZXBsb3ltZW50LgogICAgIiIiCiAgICBpZiBvcy5wYXRoLmV4aXN0
cyhPUFRJT05TLnNhbHRkaXIpOgogICAgICAgIHNodXRpbC5ybXRyZWUoT1BUSU9OUy5zYWx0ZGly
KQogICAgb2xkX3VtYXNrID0gb3MudW1hc2soMG8wNzcpCiAgICBvcy5tYWtlZGlycyhPUFRJT05T
LnNhbHRkaXIpCiAgICBvcy51bWFzayhvbGRfdW1hc2spCiAgICAjIFZlcmlmeSBwZXJtcyBvbiBz
YWx0ZGlyCiAgICBldWlkID0gb3MuZ2V0ZXVpZCgpCiAgICBkc3RhdCA9IG9zLnN0YXQoT1BUSU9O
Uy5zYWx0ZGlyKQogICAgaWYgZHN0YXQuc3RfdWlkICE9IGV1aWQ6CiAgICAgICAgIyBBdHRhY2sg
ZGV0ZWN0ZWQsIHRyeSBhZ2FpbgogICAgICAgIG5lZWRfZGVwbG95bWVudCgpCiAgICBpZiBkc3Rh
dC5zdF9tb2RlICE9IDE2ODMyOgogICAgICAgICMgQXR0YWNrIGRldGVjdGVkCiAgICAgICAgbmVl
ZF9kZXBsb3ltZW50KCkKICAgICMgSWYgU1VET2luZyB0aGVuIGFsc28gZ2l2ZSB0aGUgc3VwZXIg
dXNlciBncm91cCB3cml0ZSBwZXJtaXNzaW9ucwogICAgc3Vkb19naWQgPSBvcy5lbnZpcm9uLmdl
dCgnU1VET19HSUQnKQogICAgaWYgc3Vkb19naWQ6CiAgICAgICAgb3MuY2hvd24oT1BUSU9OUy5z
YWx0ZGlyLCAtMSwgaW50KHN1ZG9fZ2lkKSkKICAgICAgICBzdHQgPSBvcy5zdGF0KE9QVElPTlMu
c2FsdGRpcikKICAgICAgICBvcy5jaG1vZChPUFRJT05TLnNhbHRkaXIsIHN0dC5zdF9tb2RlIHwg
c3RhdC5TX0lXR1JQIHwgc3RhdC5TX0lSR1JQIHwgc3RhdC5TX0lYR1JQKQoKICAgICMgRGVsaW1p
dGVyIGVtaXR0ZWQgb24gc3Rkb3V0ICpvbmx5KiB0byBpbmRpY2F0ZSBzaGltIG1lc3NhZ2UgdG8g
bWFzdGVyLgogICAgc3lzLnN0ZG91dC53cml0ZSgiezB9XG5kZXBsb3lcbiIuZm9ybWF0KE9QVElP
TlMuZGVsaW1pdGVyKSkKICAgIHN5cy5leGl0KEVYX1RISU5fREVQTE9ZKQoKCiMgQWRhcHRlZCBm
cm9tIHNhbHQudXRpbHMuZ2V0X2hhc2goKQpkZWYgZ2V0X2hhc2gocGF0aCwgZm9ybT0nc2hhMScs
IGNodW5rX3NpemU9NDA5Nik6CiAgICAiIiJHZW5lcmF0ZSBhIGhhc2ggZGlnZXN0IHN0cmluZyBm
b3IgYSBmaWxlLiIiIgogICAgdHJ5OgogICAgICAgIGhhc2hfdHlwZSA9IGdldGF0dHIoaGFzaGxp
YiwgZm9ybSkKICAgIGV4Y2VwdCBBdHRyaWJ1dGVFcnJvcjoKICAgICAgICByYWlzZSBWYWx1ZUVy
cm9yKCdJbnZhbGlkIGhhc2ggdHlwZTogezB9Jy5mb3JtYXQoZm9ybSkpCiAgICB3aXRoIG9wZW4o
cGF0aCwgJ3JiJykgYXMgaWZpbGU6CiAgICAgICAgaGFzaF9vYmogPSBoYXNoX3R5cGUoKQogICAg
ICAgICMgcmVhZCB0aGUgZmlsZSBpbiBpbiBjaHVua3MsIG5vdCB0aGUgZW50aXJlIGZpbGUKICAg
ICAgICBmb3IgY2h1bmsgaW4gaXRlcihsYW1iZGE6IGlmaWxlLnJlYWQoY2h1bmtfc2l6ZSksIGIn
Jyk6CiAgICAgICAgICAgIGhhc2hfb2JqLnVwZGF0ZShjaHVuaykKICAgICAgICByZXR1cm4gaGFz
aF9vYmouaGV4ZGlnZXN0KCkKCgpkZWYgdW5wYWNrX3RoaW4odGhpbl9wYXRoKToKICAgICIiIlVu
cGFjayB0aGUgU2FsdCB0aGluIGFyY2hpdmUuIiIiCiAgICB0ZmlsZSA9IHRhcmZpbGUuVGFyRmls
ZS5nem9wZW4odGhpbl9wYXRoKQogICAgb2xkX3VtYXNrID0gb3MudW1hc2soMG8wNzcpCiAgICB0
ZmlsZS5leHRyYWN0YWxsKHBhdGg9T1BUSU9OUy5zYWx0ZGlyKQogICAgdGZpbGUuY2xvc2UoKQog
ICAgb3MudW1hc2sob2xkX3VtYXNrKQogICAgb3MudW5saW5rKHRoaW5fcGF0aCkKCgpkZWYgbmVl
ZF9leHQoKToKICAgICIiIlNpZ25hbCB0aGF0IGV4dGVybmFsIG1vZHVsZXMgbmVlZCB0byBiZSBk
ZXBsb3llZC4iIiIKICAgIHN5cy5zdGRvdXQud3JpdGUoInswfVxuZXh0X21vZHNcbiIuZm9ybWF0
KE9QVElPTlMuZGVsaW1pdGVyKSkKICAgIHN5cy5leGl0KEVYX01PRF9ERVBMT1kpCgoKZGVmIHVu
cGFja19leHQoZXh0X3BhdGgpOgogICAgIiIiVW5wYWNrIHRoZSBleHRlcm5hbCBtb2R1bGVzLiIi
IgogICAgbW9kY2FjaGUgPSBvcy5wYXRoLmpvaW4oCiAgICAgICAgICAgIE9QVElPTlMuc2FsdGRp
ciwKICAgICAgICAgICAgJ3J1bm5pbmdfZGF0YScsCiAgICAgICAgICAgICd2YXInLAogICAgICAg
ICAgICAnY2FjaGUnLAogICAgICAgICAgICAnc2FsdCcsCiAgICAgICAgICAgICdtaW5pb24nLAog
ICAgICAgICAgICAnZXh0bW9kcycpCiAgICB0ZmlsZSA9IHRhcmZpbGUuVGFyRmlsZS5nem9wZW4o
ZXh0X3BhdGgpCiAgICBvbGRfdW1hc2sgPSBvcy51bWFzaygwbzA3NykKICAgIHRmaWxlLmV4dHJh
Y3RhbGwocGF0aD1tb2RjYWNoZSkKICAgIHRmaWxlLmNsb3NlKCkKICAgIG9zLnVtYXNrKG9sZF91
bWFzaykKICAgIG9zLnVubGluayhleHRfcGF0aCkKICAgIHZlcl9wYXRoID0gb3MucGF0aC5qb2lu
KG1vZGNhY2hlLCAnZXh0X3ZlcnNpb24nKQogICAgdmVyX2RzdCA9IG9zLnBhdGguam9pbihPUFRJ
T05TLnNhbHRkaXIsICdleHRfdmVyc2lvbicpCiAgICBzaHV0aWwubW92ZSh2ZXJfcGF0aCwgdmVy
X2RzdCkKCgpkZWYgbWFpbihhcmd2KTogICMgcHlsaW50OiBkaXNhYmxlPVcwNjEzCiAgICAiIiJN
YWluIHByb2dyYW0gYm9keSIiIgogICAgdGhpbl9wYXRoID0gb3MucGF0aC5qb2luKE9QVElPTlMu
c2FsdGRpciwgVEhJTl9BUkNISVZFKQogICAgaWYgb3MucGF0aC5pc2ZpbGUodGhpbl9wYXRoKToK
ICAgICAgICBpZiBPUFRJT05TLmNoZWNrc3VtICE9IGdldF9oYXNoKHRoaW5fcGF0aCwgT1BUSU9O
Uy5oYXNoZnVuYyk6CiAgICAgICAgICAgIHN5cy5zdGRlcnIud3JpdGUoJ3swfVxuJy5mb3JtYXQo
T1BUSU9OUy5jaGVja3N1bSkpCiAgICAgICAgICAgIHN5cy5zdGRlcnIud3JpdGUoJ3swfVxuJy5m
b3JtYXQoZ2V0X2hhc2godGhpbl9wYXRoLCBPUFRJT05TLmhhc2hmdW5jKSkpCiAgICAgICAgICAg
IG9zLnVubGluayh0aGluX3BhdGgpCiAgICAgICAgICAgIHN5cy5zdGRlcnIud3JpdGUoJ1dBUk5J
Tkc6IGNoZWNrc3VtIG1pc21hdGNoIGZvciAiezB9IlxuJy5mb3JtYXQodGhpbl9wYXRoKSkKICAg
ICAgICAgICAgc3lzLmV4aXQoRVhfVEhJTl9DSEVDS1NVTSkKICAgICAgICB1bnBhY2tfdGhpbih0
aGluX3BhdGgpCiAgICAgICAgIyBTYWx0IHRoaW4gbm93IGlzIGF2YWlsYWJsZSB0byB1c2UKICAg
IGVsc2U6CiAgICAgICAgc2Nwc3RhdCA9IHN1YnByb2Nlc3MuUG9wZW4oWycvYmluL3NoJywgJy1j
JywgJ2NvbW1hbmQgLXYgc2NwJ10pLndhaXQoKQogICAgICAgIGlmIHNjcHN0YXQgIT0gMDoKICAg
ICAgICAgICAgc3lzLmV4aXQoRVhfU0NQX05PVF9GT1VORCkKCiAgICAgICAgaWYgbm90IG9zLnBh
dGguZXhpc3RzKE9QVElPTlMuc2FsdGRpcik6CiAgICAgICAgICAgIG5lZWRfZGVwbG95bWVudCgp
CgogICAgICAgIGlmIG5vdCBvcy5wYXRoLmlzZGlyKE9QVElPTlMuc2FsdGRpcik6CiAgICAgICAg
ICAgIHN5cy5zdGRlcnIud3JpdGUoCiAgICAgICAgICAgICAgICAnRVJST1I6IHNhbHQgcGF0aCAi
ezB9IiBleGlzdHMgYnV0IGlzJwogICAgICAgICAgICAgICAgJyBub3QgYSBkaXJlY3Rvcnlcbicu
Zm9ybWF0KE9QVElPTlMuc2FsdGRpcikKICAgICAgICAgICAgKQogICAgICAgICAgICBzeXMuZXhp
dChFWF9DQU5UQ1JFQVQpCgogICAgICAgIHZlcnNpb25fcGF0aCA9IG9zLnBhdGguam9pbihPUFRJ
T05TLnNhbHRkaXIsICd2ZXJzaW9uJykKICAgICAgICBpZiBub3Qgb3MucGF0aC5leGlzdHModmVy
c2lvbl9wYXRoKSBvciBub3Qgb3MucGF0aC5pc2ZpbGUodmVyc2lvbl9wYXRoKToKICAgICAgICAg
ICAgc3lzLnN0ZGVyci53cml0ZSgKICAgICAgICAgICAgICAgICdXQVJOSU5HOiBVbmFibGUgdG8g
bG9jYXRlIGN1cnJlbnQgdGhpbiAnCiAgICAgICAgICAgICAgICAnIHZlcnNpb246IHswfS5cbicu
Zm9ybWF0KHZlcnNpb25fcGF0aCkKICAgICAgICAgICAgKQogICAgICAgICAgICBuZWVkX2RlcGxv
eW1lbnQoKQogICAgICAgIHdpdGggb3Blbih2ZXJzaW9uX3BhdGgsICdyJykgYXMgdnBvOgogICAg
ICAgICAgICBjdXJfdmVyc2lvbiA9IHZwby5yZWFkbGluZSgpLnN0cmlwKCkKICAgICAgICBpZiBj
dXJfdmVyc2lvbiAhPSBPUFRJT05TLnZlcnNpb246CiAgICAgICAgICAgIHN5cy5zdGRlcnIud3Jp
dGUoCiAgICAgICAgICAgICAgICAnV0FSTklORzogY3VycmVudCB0aGluIHZlcnNpb24gezB9Jwog
ICAgICAgICAgICAgICAgJyBpcyBub3QgdXAtdG8tZGF0ZSB3aXRoIHsxfS5cbicuZm9ybWF0KAog
ICAgICAgICAgICAgICAgICAgIGN1cl92ZXJzaW9uLCBPUFRJT05TLnZlcnNpb24KICAgICAgICAg
ICAgICAgICkKICAgICAgICAgICAgKQogICAgICAgICAgICBuZWVkX2RlcGxveW1lbnQoKQogICAg
ICAgICMgU2FsdCB0aGluIGV4aXN0cyBhbmQgaXMgdXAtdG8tZGF0ZSAtIGZhbGwgdGhyb3VnaCBh
bmQgdXNlIGl0CgogICAgc2FsdF9jYWxsX3BhdGggPSBvcy5wYXRoLmpvaW4oT1BUSU9OUy5zYWx0
ZGlyLCAnc2FsdC1jYWxsJykKICAgIGlmIG5vdCBvcy5wYXRoLmlzZmlsZShzYWx0X2NhbGxfcGF0
aCk6CiAgICAgICAgc3lzLnN0ZGVyci53cml0ZSgnRVJST1I6IHRoaW4gaXMgbWlzc2luZyAiezB9
IlxuJy5mb3JtYXQoc2FsdF9jYWxsX3BhdGgpKQogICAgICAgIG5lZWRfZGVwbG95bWVudCgpCgog
ICAgd2l0aCBvcGVuKG9zLnBhdGguam9pbihPUFRJT05TLnNhbHRkaXIsICdtaW5pb24nKSwgJ3cn
KSBhcyBjb25maWc6CiAgICAgICAgY29uZmlnLndyaXRlKE9QVElPTlMuY29uZmlnICsgJ1xuJykK
ICAgIGlmIE9QVElPTlMuZXh0X21vZHM6CiAgICAgICAgZXh0X3BhdGggPSBvcy5wYXRoLmpvaW4o
T1BUSU9OUy5zYWx0ZGlyLCBFWFRfQVJDSElWRSkKICAgICAgICBpZiBvcy5wYXRoLmV4aXN0cyhl
eHRfcGF0aCk6CiAgICAgICAgICAgIHVucGFja19leHQoZXh0X3BhdGgpCiAgICAgICAgZWxzZToK
ICAgICAgICAgICAgdmVyc2lvbl9wYXRoID0gb3MucGF0aC5qb2luKE9QVElPTlMuc2FsdGRpciwg
J2V4dF92ZXJzaW9uJykKICAgICAgICAgICAgaWYgbm90IG9zLnBhdGguZXhpc3RzKHZlcnNpb25f
cGF0aCkgb3Igbm90IG9zLnBhdGguaXNmaWxlKHZlcnNpb25fcGF0aCk6CiAgICAgICAgICAgICAg
ICBuZWVkX2V4dCgpCiAgICAgICAgICAgIHdpdGggb3Blbih2ZXJzaW9uX3BhdGgsICdyJykgYXMg
dnBvOgogICAgICAgICAgICAgICAgY3VyX3ZlcnNpb24gPSB2cG8ucmVhZGxpbmUoKS5zdHJpcCgp
CiAgICAgICAgICAgIGlmIGN1cl92ZXJzaW9uICE9IE9QVElPTlMuZXh0X21vZHM6CiAgICAgICAg
ICAgICAgICBuZWVkX2V4dCgpCiAgICAjIEZpeCBwYXJhbWV0ZXIgcGFzc2luZyBpc3N1ZQogICAg
aWYgbGVuKEFSR1MpID09IDE6CiAgICAgICAgYXJndl9wcmVwYXJlZCA9IEFSR1NbMF0uc3BsaXQo
KQogICAgZWxzZToKICAgICAgICBhcmd2X3ByZXBhcmVkID0gQVJHUwoKICAgIHNhbHRfYXJndiA9
IFsKICAgICAgICBzeXMuZXhlY3V0YWJsZSwKICAgICAgICBzYWx0X2NhbGxfcGF0aCwKICAgICAg
ICAnLS1yZXRjb2RlLXBhc3N0aHJvdWdoJywKICAgICAgICAnLS1sb2NhbCcsCiAgICAgICAgJy0t
bWV0YWRhdGEnLAogICAgICAgICctLW91dCcsICdqc29uJywKICAgICAgICAnLWwnLCAncXVpZXQn
LAogICAgICAgICctYycsIE9QVElPTlMuc2FsdGRpciwKICAgICAgICAnLS0nLAogICAgXSArIGFy
Z3ZfcHJlcGFyZWQKCiAgICBzeXMuc3RkZXJyLndyaXRlKCdTQUxUX0FSR1Y6IHswfVxuJy5mb3Jt
YXQoc2FsdF9hcmd2KSkKCiAgICAjIE9ubHkgZW1pdCB0aGUgZGVsaW1pdGVyIG9uICpib3RoKiBz
dGRvdXQgYW5kIHN0ZGVyciB3aGVuIGNvbXBsZXRlbHkgc3VjY2Vzc2Z1bC4KICAgICMgWWVzLCB0
aGUgZmx1c2goKSBpcyBuZWNlc3NhcnkuCiAgICBzeXMuc3Rkb3V0LndyaXRlKE9QVElPTlMuZGVs
aW1pdGVyICsgJ1xuJykKICAgIHN5cy5zdGRvdXQuZmx1c2goKQogICAgaWYgbm90IE9QVElPTlMu
dHR5OgogICAgICAgIHN5cy5zdGRlcnIud3JpdGUoT1BUSU9OUy5kZWxpbWl0ZXIgKyAnXG4nKQog
ICAgICAgIHN5cy5zdGRlcnIuZmx1c2goKQogICAgaWYgT1BUSU9OUy5jbWRfdW1hc2sgaXMgbm90
IE5vbmU6CiAgICAgICAgb2xkX3VtYXNrID0gb3MudW1hc2soT1BUSU9OUy5jbWRfdW1hc2spCiAg
ICBpZiBPUFRJT05TLnR0eToKICAgICAgICBzdGRvdXQsIF8gPSBzdWJwcm9jZXNzLlBvcGVuKHNh
bHRfYXJndiwgc3Rkb3V0PXN1YnByb2Nlc3MuUElQRSwgc3RkZXJyPXN1YnByb2Nlc3MuUElQRSku
Y29tbXVuaWNhdGUoKQogICAgICAgIHN5cy5zdGRvdXQud3JpdGUoc3Rkb3V0KQogICAgICAgIHN5
cy5zdGRvdXQuZmx1c2goKQogICAgICAgIGlmIE9QVElPTlMud2lwZToKICAgICAgICAgICAgc2h1
dGlsLnJtdHJlZShPUFRJT05TLnNhbHRkaXIpCiAgICBlbGlmIE9QVElPTlMud2lwZToKICAgICAg
ICBzdWJwcm9jZXNzLmNhbGwoc2FsdF9hcmd2KQogICAgICAgIHNodXRpbC5ybXRyZWUoT1BUSU9O
Uy5zYWx0ZGlyKQogICAgZWxzZToKICAgICAgICBvcy5leGVjdihzeXMuZXhlY3V0YWJsZSwgc2Fs
dF9hcmd2KQogICAgaWYgT1BUSU9OUy5jbWRfdW1hc2sgaXMgbm90IE5vbmU6CiAgICAgICAgb3Mu
dW1hc2sob2xkX3VtYXNrKQoKaWYgX19uYW1lX18gPT0gJ19fbWFpbl9fJzoKICAgIHN5cy5leGl0
KG1haW4oc3lzLmFyZ3YpKQo=
""").decode("utf-8"))'
else
exec $SUDO "$py_cmd_path" -c \
'import base64;
exec(base64.b64decode("""IyBweWxpbnQ6IGRpc2FibGU9Vzk5MDMKJycnClRoaXMgaXMgYSBzaGltIHRoYXQgaGFuZGxlcyBj
aGVja2luZyBhbmQgdXBkYXRpbmcgc2FsdCB0aGluIGFuZAp0aGVuIGludm9raW5nIHRoaW4uCgpU
aGlzIGlzIG5vdCBpbnRlbmRlZCB0byBiZSBpbnN0YW50aWF0ZWQgYXMgYSBtb2R1bGUsIHJhdGhl
ciBpdCBpcyBhCmhlbHBlciBzY3JpcHQgdXNlZCBieSBzYWx0LmNsaWVudC5zc2guU2luZ2xlLiAg
SXQgaXMgaGVyZSwgaW4gYQpzZXBhcmF0ZSBmaWxlLCBmb3IgY29udmVuaWVuY2Ugb2YgZGV2ZWxv
cG1lbnQuCicnJwoKZnJvbSBfX2Z1dHVyZV9fIGltcG9ydCBhYnNvbHV0ZV9pbXBvcnQKCmltcG9y
dCBoYXNobGliCmltcG9ydCB0YXJmaWxlCmltcG9ydCBzaHV0aWwKaW1wb3J0IHN5cwppbXBvcnQg
b3MKaW1wb3J0IHN0YXQKaW1wb3J0IHN1YnByb2Nlc3MKClRISU5fQVJDSElWRSA9ICdzYWx0LXRo
aW4udGd6JwpFWFRfQVJDSElWRSA9ICdzYWx0LWV4dF9tb2RzLnRneicKCiMgS2VlcCB0aGVzZSBp
biBzeW5jIHdpdGggc2FsdC9kZWZhdWx0cy9leGl0Y29kZXMucHkKRVhfVEhJTl9ERVBMT1kgPSAx
MQpFWF9USElOX0NIRUNLU1VNID0gMTIKRVhfTU9EX0RFUExPWSA9IDEzCkVYX1NDUF9OT1RfRk9V
TkQgPSAxNApFWF9DQU5UQ1JFQVQgPSA3MwoKCmNsYXNzIE9CSihvYmplY3QpOgogICAgIiIiQW4g
ZW1wdHkgY2xhc3MgZm9yIGhvbGRpbmcgaW5zdGFuY2UgYXR0cmlidXRlIHZhbHVlcy4iIiIKICAg
IHBhc3MKCgpPUFRJT05TID0gTm9uZQpBUkdTID0gTm9uZQojIFRoZSBiZWxvdyBsaW5lIGlzIHdo
ZXJlIE9QVElPTlMgY2FuIGJlIHJlZGVmaW5lZCB3aXRoIGludGVybmFsIG9wdGlvbnMKIyAocmF0
aGVyIHRoYW4gY2xpIGFyZ3VtZW50cykgd2hlbiB0aGUgc2hpbSBpcyBidW5kbGVkIGJ5CiMgY2xp
ZW50LnNzaC5TaW5nbGUuX2NtZF9zdHIoKQojIHB5bGludDogZGlzYWJsZT1ibG9jay1jb21tZW50
LXNob3VsZC1zdGFydC13aXRoLWNhcmRpbmFsLXNwYWNlCgpPUFRJT05TID0gT0JKKCkKT1BUSU9O
Uy5jb25maWcgPSAiIiIKe2ZpbGVzZXJ2ZXJfbGlzdF9jYWNoZV90aW1lOiAzLCBncmFpbnNfY2Fj
aGU6IHRydWUsIGlkOiBsb2NhbCwgbG9nX2ZpbGU6IHNhbHQtY2FsbC5sb2csCiAgcm9vdF9kaXI6
IC92YXIvdG1wLy5zYWx0LW9wZV8xYTM1MzJfc2FsdC9ydW5uaW5nX2RhdGEsIHNvY2tfZGlyOiAv
fQoiIiIKT1BUSU9OUy5kZWxpbWl0ZXIgPSAnX2VkYmM3ODg1ZTRmOWFhYzliODNiMzU5OTliNjhk
MDE1MTQ4Y2FmNDY3Yjc4ZmEzOWMwNWY2NjljMGZmODk4NzgnCk9QVElPTlMuc2FsdGRpciA9ICcv
dmFyL3RtcC8uc2FsdC1vcGVfMWEzNTMyX3NhbHQnCk9QVElPTlMuY2hlY2tzdW0gPSAnMmUyNWZj
YmI2YWEyNTU5OWQ1MmU4OTVkZTZlMjExOTZkNWM2ZTU5NScKT1BUSU9OUy5oYXNoZnVuYyA9ICdz
aGExJwpPUFRJT05TLnZlcnNpb24gPSAnMjAxNi4zLjInCk9QVElPTlMuZXh0X21vZHMgPSAnJwpP
UFRJT05TLndpcGUgPSBGYWxzZQpPUFRJT05TLnR0eSA9IEZhbHNlCk9QVElPTlMuY21kX3VtYXNr
ID0gTm9uZQpBUkdTID0gWydzdGF0ZS5wa2cgL3Zhci90bXAvLnNhbHQtb3BlXzFhMzUzMl9zYWx0
L3NhbHRfc3RhdGUudGd6IHRlc3Q9Tm9uZSBwa2dfc3VtPTMzZGJlYTk5ODUxYjVkZDk5ZTJmNzQ3
YWU3NDA0NGRhIGhhc2hfdHlwZT1tZDUnXQoKCgpkZWYgbmVlZF9kZXBsb3ltZW50KCk6CiAgICAi
IiIKICAgIFNhbHQgdGhpbiBuZWVkcyB0byBiZSBkZXBsb3llZCAtIHByZXAgdGhlIHRhcmdldCBk
aXJlY3RvcnkgYW5kIGVtaXQgdGhlCiAgICBkZWxpbWV0ZXIgYW5kIGV4aXQgY29kZSB0aGF0IHNp
Z25hbHMgYSByZXF1aXJlZCBkZXBsb3ltZW50LgogICAgIiIiCiAgICBpZiBvcy5wYXRoLmV4aXN0
cyhPUFRJT05TLnNhbHRkaXIpOgogICAgICAgIHNodXRpbC5ybXRyZWUoT1BUSU9OUy5zYWx0ZGly
KQogICAgb2xkX3VtYXNrID0gb3MudW1hc2soMG8wNzcpCiAgICBvcy5tYWtlZGlycyhPUFRJT05T
LnNhbHRkaXIpCiAgICBvcy51bWFzayhvbGRfdW1hc2spCiAgICAjIFZlcmlmeSBwZXJtcyBvbiBz
YWx0ZGlyCiAgICBldWlkID0gb3MuZ2V0ZXVpZCgpCiAgICBkc3RhdCA9IG9zLnN0YXQoT1BUSU9O
Uy5zYWx0ZGlyKQogICAgaWYgZHN0YXQuc3RfdWlkICE9IGV1aWQ6CiAgICAgICAgIyBBdHRhY2sg
ZGV0ZWN0ZWQsIHRyeSBhZ2FpbgogICAgICAgIG5lZWRfZGVwbG95bWVudCgpCiAgICBpZiBkc3Rh
dC5zdF9tb2RlICE9IDE2ODMyOgogICAgICAgICMgQXR0YWNrIGRldGVjdGVkCiAgICAgICAgbmVl
ZF9kZXBsb3ltZW50KCkKICAgICMgSWYgU1VET2luZyB0aGVuIGFsc28gZ2l2ZSB0aGUgc3VwZXIg
dXNlciBncm91cCB3cml0ZSBwZXJtaXNzaW9ucwogICAgc3Vkb19naWQgPSBvcy5lbnZpcm9uLmdl
dCgnU1VET19HSUQnKQogICAgaWYgc3Vkb19naWQ6CiAgICAgICAgb3MuY2hvd24oT1BUSU9OUy5z
YWx0ZGlyLCAtMSwgaW50KHN1ZG9fZ2lkKSkKICAgICAgICBzdHQgPSBvcy5zdGF0KE9QVElPTlMu
c2FsdGRpcikKICAgICAgICBvcy5jaG1vZChPUFRJT05TLnNhbHRkaXIsIHN0dC5zdF9tb2RlIHwg
c3RhdC5TX0lXR1JQIHwgc3RhdC5TX0lSR1JQIHwgc3RhdC5TX0lYR1JQKQoKICAgICMgRGVsaW1p
dGVyIGVtaXR0ZWQgb24gc3Rkb3V0ICpvbmx5KiB0byBpbmRpY2F0ZSBzaGltIG1lc3NhZ2UgdG8g
bWFzdGVyLgogICAgc3lzLnN0ZG91dC53cml0ZSgiezB9XG5kZXBsb3lcbiIuZm9ybWF0KE9QVElP
TlMuZGVsaW1pdGVyKSkKICAgIHN5cy5leGl0KEVYX1RISU5fREVQTE9ZKQoKCiMgQWRhcHRlZCBm
cm9tIHNhbHQudXRpbHMuZ2V0X2hhc2goKQpkZWYgZ2V0X2hhc2gocGF0aCwgZm9ybT0nc2hhMScs
IGNodW5rX3NpemU9NDA5Nik6CiAgICAiIiJHZW5lcmF0ZSBhIGhhc2ggZGlnZXN0IHN0cmluZyBm
b3IgYSBmaWxlLiIiIgogICAgdHJ5OgogICAgICAgIGhhc2hfdHlwZSA9IGdldGF0dHIoaGFzaGxp
YiwgZm9ybSkKICAgIGV4Y2VwdCBBdHRyaWJ1dGVFcnJvcjoKICAgICAgICByYWlzZSBWYWx1ZUVy
cm9yKCdJbnZhbGlkIGhhc2ggdHlwZTogezB9Jy5mb3JtYXQoZm9ybSkpCiAgICB3aXRoIG9wZW4o
cGF0aCwgJ3JiJykgYXMgaWZpbGU6CiAgICAgICAgaGFzaF9vYmogPSBoYXNoX3R5cGUoKQogICAg
ICAgICMgcmVhZCB0aGUgZmlsZSBpbiBpbiBjaHVua3MsIG5vdCB0aGUgZW50aXJlIGZpbGUKICAg
ICAgICBmb3IgY2h1bmsgaW4gaXRlcihsYW1iZGE6IGlmaWxlLnJlYWQoY2h1bmtfc2l6ZSksIGIn
Jyk6CiAgICAgICAgICAgIGhhc2hfb2JqLnVwZGF0ZShjaHVuaykKICAgICAgICByZXR1cm4gaGFz
aF9vYmouaGV4ZGlnZXN0KCkKCgpkZWYgdW5wYWNrX3RoaW4odGhpbl9wYXRoKToKICAgICIiIlVu
cGFjayB0aGUgU2FsdCB0aGluIGFyY2hpdmUuIiIiCiAgICB0ZmlsZSA9IHRhcmZpbGUuVGFyRmls
ZS5nem9wZW4odGhpbl9wYXRoKQogICAgb2xkX3VtYXNrID0gb3MudW1hc2soMG8wNzcpCiAgICB0
ZmlsZS5leHRyYWN0YWxsKHBhdGg9T1BUSU9OUy5zYWx0ZGlyKQogICAgdGZpbGUuY2xvc2UoKQog
ICAgb3MudW1hc2sob2xkX3VtYXNrKQogICAgb3MudW5saW5rKHRoaW5fcGF0aCkKCgpkZWYgbmVl
ZF9leHQoKToKICAgICIiIlNpZ25hbCB0aGF0IGV4dGVybmFsIG1vZHVsZXMgbmVlZCB0byBiZSBk
ZXBsb3llZC4iIiIKICAgIHN5cy5zdGRvdXQud3JpdGUoInswfVxuZXh0X21vZHNcbiIuZm9ybWF0
KE9QVElPTlMuZGVsaW1pdGVyKSkKICAgIHN5cy5leGl0KEVYX01PRF9ERVBMT1kpCgoKZGVmIHVu
cGFja19leHQoZXh0X3BhdGgpOgogICAgIiIiVW5wYWNrIHRoZSBleHRlcm5hbCBtb2R1bGVzLiIi
IgogICAgbW9kY2FjaGUgPSBvcy5wYXRoLmpvaW4oCiAgICAgICAgICAgIE9QVElPTlMuc2FsdGRp
ciwKICAgICAgICAgICAgJ3J1bm5pbmdfZGF0YScsCiAgICAgICAgICAgICd2YXInLAogICAgICAg
ICAgICAnY2FjaGUnLAogICAgICAgICAgICAnc2FsdCcsCiAgICAgICAgICAgICdtaW5pb24nLAog
ICAgICAgICAgICAnZXh0bW9kcycpCiAgICB0ZmlsZSA9IHRhcmZpbGUuVGFyRmlsZS5nem9wZW4o
ZXh0X3BhdGgpCiAgICBvbGRfdW1hc2sgPSBvcy51bWFzaygwbzA3NykKICAgIHRmaWxlLmV4dHJh
Y3RhbGwocGF0aD1tb2RjYWNoZSkKICAgIHRmaWxlLmNsb3NlKCkKICAgIG9zLnVtYXNrKG9sZF91
bWFzaykKICAgIG9zLnVubGluayhleHRfcGF0aCkKICAgIHZlcl9wYXRoID0gb3MucGF0aC5qb2lu
KG1vZGNhY2hlLCAnZXh0X3ZlcnNpb24nKQogICAgdmVyX2RzdCA9IG9zLnBhdGguam9pbihPUFRJ
T05TLnNhbHRkaXIsICdleHRfdmVyc2lvbicpCiAgICBzaHV0aWwubW92ZSh2ZXJfcGF0aCwgdmVy
X2RzdCkKCgpkZWYgbWFpbihhcmd2KTogICMgcHlsaW50OiBkaXNhYmxlPVcwNjEzCiAgICAiIiJN
YWluIHByb2dyYW0gYm9keSIiIgogICAgdGhpbl9wYXRoID0gb3MucGF0aC5qb2luKE9QVElPTlMu
c2FsdGRpciwgVEhJTl9BUkNISVZFKQogICAgaWYgb3MucGF0aC5pc2ZpbGUodGhpbl9wYXRoKToK
ICAgICAgICBpZiBPUFRJT05TLmNoZWNrc3VtICE9IGdldF9oYXNoKHRoaW5fcGF0aCwgT1BUSU9O
Uy5oYXNoZnVuYyk6CiAgICAgICAgICAgIHN5cy5zdGRlcnIud3JpdGUoJ3swfVxuJy5mb3JtYXQo
T1BUSU9OUy5jaGVja3N1bSkpCiAgICAgICAgICAgIHN5cy5zdGRlcnIud3JpdGUoJ3swfVxuJy5m
b3JtYXQoZ2V0X2hhc2godGhpbl9wYXRoLCBPUFRJT05TLmhhc2hmdW5jKSkpCiAgICAgICAgICAg
IG9zLnVubGluayh0aGluX3BhdGgpCiAgICAgICAgICAgIHN5cy5zdGRlcnIud3JpdGUoJ1dBUk5J
Tkc6IGNoZWNrc3VtIG1pc21hdGNoIGZvciAiezB9IlxuJy5mb3JtYXQodGhpbl9wYXRoKSkKICAg
ICAgICAgICAgc3lzLmV4aXQoRVhfVEhJTl9DSEVDS1NVTSkKICAgICAgICB1bnBhY2tfdGhpbih0
aGluX3BhdGgpCiAgICAgICAgIyBTYWx0IHRoaW4gbm93IGlzIGF2YWlsYWJsZSB0byB1c2UKICAg
IGVsc2U6CiAgICAgICAgc2Nwc3RhdCA9IHN1YnByb2Nlc3MuUG9wZW4oWycvYmluL3NoJywgJy1j
JywgJ2NvbW1hbmQgLXYgc2NwJ10pLndhaXQoKQogICAgICAgIGlmIHNjcHN0YXQgIT0gMDoKICAg
ICAgICAgICAgc3lzLmV4aXQoRVhfU0NQX05PVF9GT1VORCkKCiAgICAgICAgaWYgbm90IG9zLnBh
dGguZXhpc3RzKE9QVElPTlMuc2FsdGRpcik6CiAgICAgICAgICAgIG5lZWRfZGVwbG95bWVudCgp
CgogICAgICAgIGlmIG5vdCBvcy5wYXRoLmlzZGlyKE9QVElPTlMuc2FsdGRpcik6CiAgICAgICAg
ICAgIHN5cy5zdGRlcnIud3JpdGUoCiAgICAgICAgICAgICAgICAnRVJST1I6IHNhbHQgcGF0aCAi
ezB9IiBleGlzdHMgYnV0IGlzJwogICAgICAgICAgICAgICAgJyBub3QgYSBkaXJlY3Rvcnlcbicu
Zm9ybWF0KE9QVElPTlMuc2FsdGRpcikKICAgICAgICAgICAgKQogICAgICAgICAgICBzeXMuZXhp
dChFWF9DQU5UQ1JFQVQpCgogICAgICAgIHZlcnNpb25fcGF0aCA9IG9zLnBhdGguam9pbihPUFRJ
T05TLnNhbHRkaXIsICd2ZXJzaW9uJykKICAgICAgICBpZiBub3Qgb3MucGF0aC5leGlzdHModmVy
c2lvbl9wYXRoKSBvciBub3Qgb3MucGF0aC5pc2ZpbGUodmVyc2lvbl9wYXRoKToKICAgICAgICAg
ICAgc3lzLnN0ZGVyci53cml0ZSgKICAgICAgICAgICAgICAgICdXQVJOSU5HOiBVbmFibGUgdG8g
bG9jYXRlIGN1cnJlbnQgdGhpbiAnCiAgICAgICAgICAgICAgICAnIHZlcnNpb246IHswfS5cbicu
Zm9ybWF0KHZlcnNpb25fcGF0aCkKICAgICAgICAgICAgKQogICAgICAgICAgICBuZWVkX2RlcGxv
eW1lbnQoKQogICAgICAgIHdpdGggb3Blbih2ZXJzaW9uX3BhdGgsICdyJykgYXMgdnBvOgogICAg
ICAgICAgICBjdXJfdmVyc2lvbiA9IHZwby5yZWFkbGluZSgpLnN0cmlwKCkKICAgICAgICBpZiBj
dXJfdmVyc2lvbiAhPSBPUFRJT05TLnZlcnNpb246CiAgICAgICAgICAgIHN5cy5zdGRlcnIud3Jp
dGUoCiAgICAgICAgICAgICAgICAnV0FSTklORzogY3VycmVudCB0aGluIHZlcnNpb24gezB9Jwog
ICAgICAgICAgICAgICAgJyBpcyBub3QgdXAtdG8tZGF0ZSB3aXRoIHsxfS5cbicuZm9ybWF0KAog
ICAgICAgICAgICAgICAgICAgIGN1cl92ZXJzaW9uLCBPUFRJT05TLnZlcnNpb24KICAgICAgICAg
ICAgICAgICkKICAgICAgICAgICAgKQogICAgICAgICAgICBuZWVkX2RlcGxveW1lbnQoKQogICAg
ICAgICMgU2FsdCB0aGluIGV4aXN0cyBhbmQgaXMgdXAtdG8tZGF0ZSAtIGZhbGwgdGhyb3VnaCBh
bmQgdXNlIGl0CgogICAgc2FsdF9jYWxsX3BhdGggPSBvcy5wYXRoLmpvaW4oT1BUSU9OUy5zYWx0
ZGlyLCAnc2FsdC1jYWxsJykKICAgIGlmIG5vdCBvcy5wYXRoLmlzZmlsZShzYWx0X2NhbGxfcGF0
aCk6CiAgICAgICAgc3lzLnN0ZGVyci53cml0ZSgnRVJST1I6IHRoaW4gaXMgbWlzc2luZyAiezB9
IlxuJy5mb3JtYXQoc2FsdF9jYWxsX3BhdGgpKQogICAgICAgIG5lZWRfZGVwbG95bWVudCgpCgog
ICAgd2l0aCBvcGVuKG9zLnBhdGguam9pbihPUFRJT05TLnNhbHRkaXIsICdtaW5pb24nKSwgJ3cn
KSBhcyBjb25maWc6CiAgICAgICAgY29uZmlnLndyaXRlKE9QVElPTlMuY29uZmlnICsgJ1xuJykK
ICAgIGlmIE9QVElPTlMuZXh0X21vZHM6CiAgICAgICAgZXh0X3BhdGggPSBvcy5wYXRoLmpvaW4o
T1BUSU9OUy5zYWx0ZGlyLCBFWFRfQVJDSElWRSkKICAgICAgICBpZiBvcy5wYXRoLmV4aXN0cyhl
eHRfcGF0aCk6CiAgICAgICAgICAgIHVucGFja19leHQoZXh0X3BhdGgpCiAgICAgICAgZWxzZToK
ICAgICAgICAgICAgdmVyc2lvbl9wYXRoID0gb3MucGF0aC5qb2luKE9QVElPTlMuc2FsdGRpciwg
J2V4dF92ZXJzaW9uJykKICAgICAgICAgICAgaWYgbm90IG9zLnBhdGguZXhpc3RzKHZlcnNpb25f
cGF0aCkgb3Igbm90IG9zLnBhdGguaXNmaWxlKHZlcnNpb25fcGF0aCk6CiAgICAgICAgICAgICAg
ICBuZWVkX2V4dCgpCiAgICAgICAgICAgIHdpdGggb3Blbih2ZXJzaW9uX3BhdGgsICdyJykgYXMg
dnBvOgogICAgICAgICAgICAgICAgY3VyX3ZlcnNpb24gPSB2cG8ucmVhZGxpbmUoKS5zdHJpcCgp
CiAgICAgICAgICAgIGlmIGN1cl92ZXJzaW9uICE9IE9QVElPTlMuZXh0X21vZHM6CiAgICAgICAg
ICAgICAgICBuZWVkX2V4dCgpCiAgICAjIEZpeCBwYXJhbWV0ZXIgcGFzc2luZyBpc3N1ZQogICAg
aWYgbGVuKEFSR1MpID09IDE6CiAgICAgICAgYXJndl9wcmVwYXJlZCA9IEFSR1NbMF0uc3BsaXQo
KQogICAgZWxzZToKICAgICAgICBhcmd2X3ByZXBhcmVkID0gQVJHUwoKICAgIHNhbHRfYXJndiA9
IFsKICAgICAgICBzeXMuZXhlY3V0YWJsZSwKICAgICAgICBzYWx0X2NhbGxfcGF0aCwKICAgICAg
ICAnLS1yZXRjb2RlLXBhc3N0aHJvdWdoJywKICAgICAgICAnLS1sb2NhbCcsCiAgICAgICAgJy0t
bWV0YWRhdGEnLAogICAgICAgICctLW91dCcsICdqc29uJywKICAgICAgICAnLWwnLCAncXVpZXQn
LAogICAgICAgICctYycsIE9QVElPTlMuc2FsdGRpciwKICAgICAgICAnLS0nLAogICAgXSArIGFy
Z3ZfcHJlcGFyZWQKCiAgICBzeXMuc3RkZXJyLndyaXRlKCdTQUxUX0FSR1Y6IHswfVxuJy5mb3Jt
YXQoc2FsdF9hcmd2KSkKCiAgICAjIE9ubHkgZW1pdCB0aGUgZGVsaW1pdGVyIG9uICpib3RoKiBz
dGRvdXQgYW5kIHN0ZGVyciB3aGVuIGNvbXBsZXRlbHkgc3VjY2Vzc2Z1bC4KICAgICMgWWVzLCB0
aGUgZmx1c2goKSBpcyBuZWNlc3NhcnkuCiAgICBzeXMuc3Rkb3V0LndyaXRlKE9QVElPTlMuZGVs
aW1pdGVyICsgJ1xuJykKICAgIHN5cy5zdGRvdXQuZmx1c2goKQogICAgaWYgbm90IE9QVElPTlMu
dHR5OgogICAgICAgIHN5cy5zdGRlcnIud3JpdGUoT1BUSU9OUy5kZWxpbWl0ZXIgKyAnXG4nKQog
ICAgICAgIHN5cy5zdGRlcnIuZmx1c2goKQogICAgaWYgT1BUSU9OUy5jbWRfdW1hc2sgaXMgbm90
IE5vbmU6CiAgICAgICAgb2xkX3VtYXNrID0gb3MudW1hc2soT1BUSU9OUy5jbWRfdW1hc2spCiAg
ICBpZiBPUFRJT05TLnR0eToKICAgICAgICBzdGRvdXQsIF8gPSBzdWJwcm9jZXNzLlBvcGVuKHNh
bHRfYXJndiwgc3Rkb3V0PXN1YnByb2Nlc3MuUElQRSwgc3RkZXJyPXN1YnByb2Nlc3MuUElQRSku
Y29tbXVuaWNhdGUoKQogICAgICAgIHN5cy5zdGRvdXQud3JpdGUoc3Rkb3V0KQogICAgICAgIHN5
cy5zdGRvdXQuZmx1c2goKQogICAgICAgIGlmIE9QVElPTlMud2lwZToKICAgICAgICAgICAgc2h1
dGlsLnJtdHJlZShPUFRJT05TLnNhbHRkaXIpCiAgICBlbGlmIE9QVElPTlMud2lwZToKICAgICAg
ICBzdWJwcm9jZXNzLmNhbGwoc2FsdF9hcmd2KQogICAgICAgIHNodXRpbC5ybXRyZWUoT1BUSU9O
Uy5zYWx0ZGlyKQogICAgZWxzZToKICAgICAgICBvcy5leGVjdihzeXMuZXhlY3V0YWJsZSwgc2Fs
dF9hcmd2KQogICAgaWYgT1BUSU9OUy5jbWRfdW1hc2sgaXMgbm90IE5vbmU6CiAgICAgICAgb3Mu
dW1hc2sob2xkX3VtYXNrKQoKaWYgX19uYW1lX18gPT0gJ19fbWFpbl9fJzoKICAgIHN5cy5leGl0
KG1haW4oc3lzLmFyZ3YpKQo=
""").decode("utf-8"))'
fi
exit 0
else
continue
fi
done
echo "ERROR: Unable to locate appropriate python command" >&2
exit $EX_PYTHON_INVALID
EOF
2016-08-27 20:51:57,737 [salt.utils.vt    ][DEBUG   ][7069] Child Forked! PID: 7217  STDOUT_FD: 9  STDERR_FD: 11
2016-08-27 20:51:57,738 [salt.utils.vt    ][DEBUG   ][7069] VT: Salt-SSH SHIM Terminal Command executed. Logged to TRACE
2016-08-27 20:51:57,738 [salt.utils.vt    ][TRACE   ][7069] Terminal Command: /bin/sh -c ssh 127.0.0.1  -o KbdInteractiveAuthentication=no -o PasswordAuthentication=yes -o GSSAPIAuthentication=no -o ConnectTimeout=65 -o Port=22 -o IdentityFile=/root/saltstack_master/etc/salt/pki/master/ssh/salt-ssh.rsa -o User=salt-ope  /bin/sh << 'EOF'
set -e
set -u
DEBUG=""
if [ -n "$DEBUG" ]
then set -x
fi
SUDO=""
if [ -n "sudo" ]
then SUDO="sudo "
fi
EX_PYTHON_INVALID=10
PYTHON_CMDS="python3 python27 python2.7 python26 python2.6 python2 python"
for py_cmd in $PYTHON_CMDS
do
if command -v "$py_cmd" >/dev/null 2>&1 && "$py_cmd" -c \
"import sys; sys.exit(not (sys.version_info >= (2, 6)
and sys.version_info[0] == 2));"
then
py_cmd_path=`"$py_cmd" -c \
'from __future__ import print_function;
import sys; print(sys.executable);'`
cmdpath=$(which $py_cmd 2>&1)
if file $cmdpath | grep "shell script" > /dev/null
then
ex_vars="'PATH', 'LD_LIBRARY_PATH', 'MANPATH', \
'XDG_DATA_DIRS', 'PKG_CONFIG_PATH'"
export $($py_cmd -c \
"from __future__ import print_function;
import sys;
import os;
map(sys.stdout.write, ['{0}={1} ' \
.format(x, os.environ[x]) for x in [$ex_vars]])")
exec $SUDO PATH=$PATH LD_LIBRARY_PATH=$LD_LIBRARY_PATH \
MANPATH=$MANPATH XDG_DATA_DIRS=$XDG_DATA_DIRS \
PKG_CONFIG_PATH=$PKG_CONFIG_PATH \
"$py_cmd_path" -c \
'import base64;
exec(base64.b64decode("""IyBweWxpbnQ6IGRpc2FibGU9Vzk5MDMKJycnClRoaXMgaXMgYSBzaGltIHRoYXQgaGFuZGxlcyBj
aGVja2luZyBhbmQgdXBkYXRpbmcgc2FsdCB0aGluIGFuZAp0aGVuIGludm9raW5nIHRoaW4uCgpU
aGlzIGlzIG5vdCBpbnRlbmRlZCB0byBiZSBpbnN0YW50aWF0ZWQgYXMgYSBtb2R1bGUsIHJhdGhl
ciBpdCBpcyBhCmhlbHBlciBzY3JpcHQgdXNlZCBieSBzYWx0LmNsaWVudC5zc2guU2luZ2xlLiAg
SXQgaXMgaGVyZSwgaW4gYQpzZXBhcmF0ZSBmaWxlLCBmb3IgY29udmVuaWVuY2Ugb2YgZGV2ZWxv
cG1lbnQuCicnJwoKZnJvbSBfX2Z1dHVyZV9fIGltcG9ydCBhYnNvbHV0ZV9pbXBvcnQKCmltcG9y
dCBoYXNobGliCmltcG9ydCB0YXJmaWxlCmltcG9ydCBzaHV0aWwKaW1wb3J0IHN5cwppbXBvcnQg
b3MKaW1wb3J0IHN0YXQKaW1wb3J0IHN1YnByb2Nlc3MKClRISU5fQVJDSElWRSA9ICdzYWx0LXRo
aW4udGd6JwpFWFRfQVJDSElWRSA9ICdzYWx0LWV4dF9tb2RzLnRneicKCiMgS2VlcCB0aGVzZSBp
biBzeW5jIHdpdGggc2FsdC9kZWZhdWx0cy9leGl0Y29kZXMucHkKRVhfVEhJTl9ERVBMT1kgPSAx
MQpFWF9USElOX0NIRUNLU1VNID0gMTIKRVhfTU9EX0RFUExPWSA9IDEzCkVYX1NDUF9OT1RfRk9V
TkQgPSAxNApFWF9DQU5UQ1JFQVQgPSA3MwoKCmNsYXNzIE9CSihvYmplY3QpOgogICAgIiIiQW4g
ZW1wdHkgY2xhc3MgZm9yIGhvbGRpbmcgaW5zdGFuY2UgYXR0cmlidXRlIHZhbHVlcy4iIiIKICAg
IHBhc3MKCgpPUFRJT05TID0gTm9uZQpBUkdTID0gTm9uZQojIFRoZSBiZWxvdyBsaW5lIGlzIHdo
ZXJlIE9QVElPTlMgY2FuIGJlIHJlZGVmaW5lZCB3aXRoIGludGVybmFsIG9wdGlvbnMKIyAocmF0
aGVyIHRoYW4gY2xpIGFyZ3VtZW50cykgd2hlbiB0aGUgc2hpbSBpcyBidW5kbGVkIGJ5CiMgY2xp
ZW50LnNzaC5TaW5nbGUuX2NtZF9zdHIoKQojIHB5bGludDogZGlzYWJsZT1ibG9jay1jb21tZW50
LXNob3VsZC1zdGFydC13aXRoLWNhcmRpbmFsLXNwYWNlCgpPUFRJT05TID0gT0JKKCkKT1BUSU9O
Uy5jb25maWcgPSAiIiIKe2ZpbGVzZXJ2ZXJfbGlzdF9jYWNoZV90aW1lOiAzLCBncmFpbnNfY2Fj
aGU6IHRydWUsIGlkOiBsb2NhbCwgbG9nX2ZpbGU6IHNhbHQtY2FsbC5sb2csCiAgcm9vdF9kaXI6
IC92YXIvdG1wLy5zYWx0LW9wZV8xYTM1MzJfc2FsdC9ydW5uaW5nX2RhdGEsIHNvY2tfZGlyOiAv
fQoiIiIKT1BUSU9OUy5kZWxpbWl0ZXIgPSAnX2VkYmM3ODg1ZTRmOWFhYzliODNiMzU5OTliNjhk
MDE1MTQ4Y2FmNDY3Yjc4ZmEzOWMwNWY2NjljMGZmODk4NzgnCk9QVElPTlMuc2FsdGRpciA9ICcv
dmFyL3RtcC8uc2FsdC1vcGVfMWEzNTMyX3NhbHQnCk9QVElPTlMuY2hlY2tzdW0gPSAnMmUyNWZj
YmI2YWEyNTU5OWQ1MmU4OTVkZTZlMjExOTZkNWM2ZTU5NScKT1BUSU9OUy5oYXNoZnVuYyA9ICdz
aGExJwpPUFRJT05TLnZlcnNpb24gPSAnMjAxNi4zLjInCk9QVElPTlMuZXh0X21vZHMgPSAnJwpP
UFRJT05TLndpcGUgPSBGYWxzZQpPUFRJT05TLnR0eSA9IEZhbHNlCk9QVElPTlMuY21kX3VtYXNr
ID0gTm9uZQpBUkdTID0gWydzdGF0ZS5wa2cgL3Zhci90bXAvLnNhbHQtb3BlXzFhMzUzMl9zYWx0
L3NhbHRfc3RhdGUudGd6IHRlc3Q9Tm9uZSBwa2dfc3VtPTMzZGJlYTk5ODUxYjVkZDk5ZTJmNzQ3
YWU3NDA0NGRhIGhhc2hfdHlwZT1tZDUnXQoKCgpkZWYgbmVlZF9kZXBsb3ltZW50KCk6CiAgICAi
IiIKICAgIFNhbHQgdGhpbiBuZWVkcyB0byBiZSBkZXBsb3llZCAtIHByZXAgdGhlIHRhcmdldCBk
aXJlY3RvcnkgYW5kIGVtaXQgdGhlCiAgICBkZWxpbWV0ZXIgYW5kIGV4aXQgY29kZSB0aGF0IHNp
Z25hbHMgYSByZXF1aXJlZCBkZXBsb3ltZW50LgogICAgIiIiCiAgICBpZiBvcy5wYXRoLmV4aXN0
cyhPUFRJT05TLnNhbHRkaXIpOgogICAgICAgIHNodXRpbC5ybXRyZWUoT1BUSU9OUy5zYWx0ZGly
KQogICAgb2xkX3VtYXNrID0gb3MudW1hc2soMG8wNzcpCiAgICBvcy5tYWtlZGlycyhPUFRJT05T
LnNhbHRkaXIpCiAgICBvcy51bWFzayhvbGRfdW1hc2spCiAgICAjIFZlcmlmeSBwZXJtcyBvbiBz
YWx0ZGlyCiAgICBldWlkID0gb3MuZ2V0ZXVpZCgpCiAgICBkc3RhdCA9IG9zLnN0YXQoT1BUSU9O
Uy5zYWx0ZGlyKQogICAgaWYgZHN0YXQuc3RfdWlkICE9IGV1aWQ6CiAgICAgICAgIyBBdHRhY2sg
ZGV0ZWN0ZWQsIHRyeSBhZ2FpbgogICAgICAgIG5lZWRfZGVwbG95bWVudCgpCiAgICBpZiBkc3Rh
dC5zdF9tb2RlICE9IDE2ODMyOgogICAgICAgICMgQXR0YWNrIGRldGVjdGVkCiAgICAgICAgbmVl
ZF9kZXBsb3ltZW50KCkKICAgICMgSWYgU1VET2luZyB0aGVuIGFsc28gZ2l2ZSB0aGUgc3VwZXIg
dXNlciBncm91cCB3cml0ZSBwZXJtaXNzaW9ucwogICAgc3Vkb19naWQgPSBvcy5lbnZpcm9uLmdl
dCgnU1VET19HSUQnKQogICAgaWYgc3Vkb19naWQ6CiAgICAgICAgb3MuY2hvd24oT1BUSU9OUy5z
YWx0ZGlyLCAtMSwgaW50KHN1ZG9fZ2lkKSkKICAgICAgICBzdHQgPSBvcy5zdGF0KE9QVElPTlMu
c2FsdGRpcikKICAgICAgICBvcy5jaG1vZChPUFRJT05TLnNhbHRkaXIsIHN0dC5zdF9tb2RlIHwg
c3RhdC5TX0lXR1JQIHwgc3RhdC5TX0lSR1JQIHwgc3RhdC5TX0lYR1JQKQoKICAgICMgRGVsaW1p
dGVyIGVtaXR0ZWQgb24gc3Rkb3V0ICpvbmx5KiB0byBpbmRpY2F0ZSBzaGltIG1lc3NhZ2UgdG8g
bWFzdGVyLgogICAgc3lzLnN0ZG91dC53cml0ZSgiezB9XG5kZXBsb3lcbiIuZm9ybWF0KE9QVElP
TlMuZGVsaW1pdGVyKSkKICAgIHN5cy5leGl0KEVYX1RISU5fREVQTE9ZKQoKCiMgQWRhcHRlZCBm
cm9tIHNhbHQudXRpbHMuZ2V0X2hhc2goKQpkZWYgZ2V0X2hhc2gocGF0aCwgZm9ybT0nc2hhMScs
IGNodW5rX3NpemU9NDA5Nik6CiAgICAiIiJHZW5lcmF0ZSBhIGhhc2ggZGlnZXN0IHN0cmluZyBm
b3IgYSBmaWxlLiIiIgogICAgdHJ5OgogICAgICAgIGhhc2hfdHlwZSA9IGdldGF0dHIoaGFzaGxp
YiwgZm9ybSkKICAgIGV4Y2VwdCBBdHRyaWJ1dGVFcnJvcjoKICAgICAgICByYWlzZSBWYWx1ZUVy
cm9yKCdJbnZhbGlkIGhhc2ggdHlwZTogezB9Jy5mb3JtYXQoZm9ybSkpCiAgICB3aXRoIG9wZW4o
cGF0aCwgJ3JiJykgYXMgaWZpbGU6CiAgICAgICAgaGFzaF9vYmogPSBoYXNoX3R5cGUoKQogICAg
ICAgICMgcmVhZCB0aGUgZmlsZSBpbiBpbiBjaHVua3MsIG5vdCB0aGUgZW50aXJlIGZpbGUKICAg
ICAgICBmb3IgY2h1bmsgaW4gaXRlcihsYW1iZGE6IGlmaWxlLnJlYWQoY2h1bmtfc2l6ZSksIGIn
Jyk6CiAgICAgICAgICAgIGhhc2hfb2JqLnVwZGF0ZShjaHVuaykKICAgICAgICByZXR1cm4gaGFz
aF9vYmouaGV4ZGlnZXN0KCkKCgpkZWYgdW5wYWNrX3RoaW4odGhpbl9wYXRoKToKICAgICIiIlVu
cGFjayB0aGUgU2FsdCB0aGluIGFyY2hpdmUuIiIiCiAgICB0ZmlsZSA9IHRhcmZpbGUuVGFyRmls
ZS5nem9wZW4odGhpbl9wYXRoKQogICAgb2xkX3VtYXNrID0gb3MudW1hc2soMG8wNzcpCiAgICB0
ZmlsZS5leHRyYWN0YWxsKHBhdGg9T1BUSU9OUy5zYWx0ZGlyKQogICAgdGZpbGUuY2xvc2UoKQog
ICAgb3MudW1hc2sob2xkX3VtYXNrKQogICAgb3MudW5saW5rKHRoaW5fcGF0aCkKCgpkZWYgbmVl
ZF9leHQoKToKICAgICIiIlNpZ25hbCB0aGF0IGV4dGVybmFsIG1vZHVsZXMgbmVlZCB0byBiZSBk
ZXBsb3llZC4iIiIKICAgIHN5cy5zdGRvdXQud3JpdGUoInswfVxuZXh0X21vZHNcbiIuZm9ybWF0
KE9QVElPTlMuZGVsaW1pdGVyKSkKICAgIHN5cy5leGl0KEVYX01PRF9ERVBMT1kpCgoKZGVmIHVu
cGFja19leHQoZXh0X3BhdGgpOgogICAgIiIiVW5wYWNrIHRoZSBleHRlcm5hbCBtb2R1bGVzLiIi
IgogICAgbW9kY2FjaGUgPSBvcy5wYXRoLmpvaW4oCiAgICAgICAgICAgIE9QVElPTlMuc2FsdGRp
ciwKICAgICAgICAgICAgJ3J1bm5pbmdfZGF0YScsCiAgICAgICAgICAgICd2YXInLAogICAgICAg
ICAgICAnY2FjaGUnLAogICAgICAgICAgICAnc2FsdCcsCiAgICAgICAgICAgICdtaW5pb24nLAog
ICAgICAgICAgICAnZXh0bW9kcycpCiAgICB0ZmlsZSA9IHRhcmZpbGUuVGFyRmlsZS5nem9wZW4o
ZXh0X3BhdGgpCiAgICBvbGRfdW1hc2sgPSBvcy51bWFzaygwbzA3NykKICAgIHRmaWxlLmV4dHJh
Y3RhbGwocGF0aD1tb2RjYWNoZSkKICAgIHRmaWxlLmNsb3NlKCkKICAgIG9zLnVtYXNrKG9sZF91
bWFzaykKICAgIG9zLnVubGluayhleHRfcGF0aCkKICAgIHZlcl9wYXRoID0gb3MucGF0aC5qb2lu
KG1vZGNhY2hlLCAnZXh0X3ZlcnNpb24nKQogICAgdmVyX2RzdCA9IG9zLnBhdGguam9pbihPUFRJ
T05TLnNhbHRkaXIsICdleHRfdmVyc2lvbicpCiAgICBzaHV0aWwubW92ZSh2ZXJfcGF0aCwgdmVy
X2RzdCkKCgpkZWYgbWFpbihhcmd2KTogICMgcHlsaW50OiBkaXNhYmxlPVcwNjEzCiAgICAiIiJN
YWluIHByb2dyYW0gYm9keSIiIgogICAgdGhpbl9wYXRoID0gb3MucGF0aC5qb2luKE9QVElPTlMu
c2FsdGRpciwgVEhJTl9BUkNISVZFKQogICAgaWYgb3MucGF0aC5pc2ZpbGUodGhpbl9wYXRoKToK
ICAgICAgICBpZiBPUFRJT05TLmNoZWNrc3VtICE9IGdldF9oYXNoKHRoaW5fcGF0aCwgT1BUSU9O
Uy5oYXNoZnVuYyk6CiAgICAgICAgICAgIHN5cy5zdGRlcnIud3JpdGUoJ3swfVxuJy5mb3JtYXQo
T1BUSU9OUy5jaGVja3N1bSkpCiAgICAgICAgICAgIHN5cy5zdGRlcnIud3JpdGUoJ3swfVxuJy5m
b3JtYXQoZ2V0X2hhc2godGhpbl9wYXRoLCBPUFRJT05TLmhhc2hmdW5jKSkpCiAgICAgICAgICAg
IG9zLnVubGluayh0aGluX3BhdGgpCiAgICAgICAgICAgIHN5cy5zdGRlcnIud3JpdGUoJ1dBUk5J
Tkc6IGNoZWNrc3VtIG1pc21hdGNoIGZvciAiezB9IlxuJy5mb3JtYXQodGhpbl9wYXRoKSkKICAg
ICAgICAgICAgc3lzLmV4aXQoRVhfVEhJTl9DSEVDS1NVTSkKICAgICAgICB1bnBhY2tfdGhpbih0
aGluX3BhdGgpCiAgICAgICAgIyBTYWx0IHRoaW4gbm93IGlzIGF2YWlsYWJsZSB0byB1c2UKICAg
IGVsc2U6CiAgICAgICAgc2Nwc3RhdCA9IHN1YnByb2Nlc3MuUG9wZW4oWycvYmluL3NoJywgJy1j
JywgJ2NvbW1hbmQgLXYgc2NwJ10pLndhaXQoKQogICAgICAgIGlmIHNjcHN0YXQgIT0gMDoKICAg
ICAgICAgICAgc3lzLmV4aXQoRVhfU0NQX05PVF9GT1VORCkKCiAgICAgICAgaWYgbm90IG9zLnBh
dGguZXhpc3RzKE9QVElPTlMuc2FsdGRpcik6CiAgICAgICAgICAgIG5lZWRfZGVwbG95bWVudCgp
CgogICAgICAgIGlmIG5vdCBvcy5wYXRoLmlzZGlyKE9QVElPTlMuc2FsdGRpcik6CiAgICAgICAg
ICAgIHN5cy5zdGRlcnIud3JpdGUoCiAgICAgICAgICAgICAgICAnRVJST1I6IHNhbHQgcGF0aCAi
ezB9IiBleGlzdHMgYnV0IGlzJwogICAgICAgICAgICAgICAgJyBub3QgYSBkaXJlY3Rvcnlcbicu
Zm9ybWF0KE9QVElPTlMuc2FsdGRpcikKICAgICAgICAgICAgKQogICAgICAgICAgICBzeXMuZXhp
dChFWF9DQU5UQ1JFQVQpCgogICAgICAgIHZlcnNpb25fcGF0aCA9IG9zLnBhdGguam9pbihPUFRJ
T05TLnNhbHRkaXIsICd2ZXJzaW9uJykKICAgICAgICBpZiBub3Qgb3MucGF0aC5leGlzdHModmVy
c2lvbl9wYXRoKSBvciBub3Qgb3MucGF0aC5pc2ZpbGUodmVyc2lvbl9wYXRoKToKICAgICAgICAg
ICAgc3lzLnN0ZGVyci53cml0ZSgKICAgICAgICAgICAgICAgICdXQVJOSU5HOiBVbmFibGUgdG8g
bG9jYXRlIGN1cnJlbnQgdGhpbiAnCiAgICAgICAgICAgICAgICAnIHZlcnNpb246IHswfS5cbicu
Zm9ybWF0KHZlcnNpb25fcGF0aCkKICAgICAgICAgICAgKQogICAgICAgICAgICBuZWVkX2RlcGxv
eW1lbnQoKQogICAgICAgIHdpdGggb3Blbih2ZXJzaW9uX3BhdGgsICdyJykgYXMgdnBvOgogICAg
ICAgICAgICBjdXJfdmVyc2lvbiA9IHZwby5yZWFkbGluZSgpLnN0cmlwKCkKICAgICAgICBpZiBj
dXJfdmVyc2lvbiAhPSBPUFRJT05TLnZlcnNpb246CiAgICAgICAgICAgIHN5cy5zdGRlcnIud3Jp
dGUoCiAgICAgICAgICAgICAgICAnV0FSTklORzogY3VycmVudCB0aGluIHZlcnNpb24gezB9Jwog
ICAgICAgICAgICAgICAgJyBpcyBub3QgdXAtdG8tZGF0ZSB3aXRoIHsxfS5cbicuZm9ybWF0KAog
ICAgICAgICAgICAgICAgICAgIGN1cl92ZXJzaW9uLCBPUFRJT05TLnZlcnNpb24KICAgICAgICAg
ICAgICAgICkKICAgICAgICAgICAgKQogICAgICAgICAgICBuZWVkX2RlcGxveW1lbnQoKQogICAg
ICAgICMgU2FsdCB0aGluIGV4aXN0cyBhbmQgaXMgdXAtdG8tZGF0ZSAtIGZhbGwgdGhyb3VnaCBh
bmQgdXNlIGl0CgogICAgc2FsdF9jYWxsX3BhdGggPSBvcy5wYXRoLmpvaW4oT1BUSU9OUy5zYWx0
ZGlyLCAnc2FsdC1jYWxsJykKICAgIGlmIG5vdCBvcy5wYXRoLmlzZmlsZShzYWx0X2NhbGxfcGF0
aCk6CiAgICAgICAgc3lzLnN0ZGVyci53cml0ZSgnRVJST1I6IHRoaW4gaXMgbWlzc2luZyAiezB9
IlxuJy5mb3JtYXQoc2FsdF9jYWxsX3BhdGgpKQogICAgICAgIG5lZWRfZGVwbG95bWVudCgpCgog
ICAgd2l0aCBvcGVuKG9zLnBhdGguam9pbihPUFRJT05TLnNhbHRkaXIsICdtaW5pb24nKSwgJ3cn
KSBhcyBjb25maWc6CiAgICAgICAgY29uZmlnLndyaXRlKE9QVElPTlMuY29uZmlnICsgJ1xuJykK
ICAgIGlmIE9QVElPTlMuZXh0X21vZHM6CiAgICAgICAgZXh0X3BhdGggPSBvcy5wYXRoLmpvaW4o
T1BUSU9OUy5zYWx0ZGlyLCBFWFRfQVJDSElWRSkKICAgICAgICBpZiBvcy5wYXRoLmV4aXN0cyhl
eHRfcGF0aCk6CiAgICAgICAgICAgIHVucGFja19leHQoZXh0X3BhdGgpCiAgICAgICAgZWxzZToK
ICAgICAgICAgICAgdmVyc2lvbl9wYXRoID0gb3MucGF0aC5qb2luKE9QVElPTlMuc2FsdGRpciwg
J2V4dF92ZXJzaW9uJykKICAgICAgICAgICAgaWYgbm90IG9zLnBhdGguZXhpc3RzKHZlcnNpb25f
cGF0aCkgb3Igbm90IG9zLnBhdGguaXNmaWxlKHZlcnNpb25fcGF0aCk6CiAgICAgICAgICAgICAg
ICBuZWVkX2V4dCgpCiAgICAgICAgICAgIHdpdGggb3Blbih2ZXJzaW9uX3BhdGgsICdyJykgYXMg
dnBvOgogICAgICAgICAgICAgICAgY3VyX3ZlcnNpb24gPSB2cG8ucmVhZGxpbmUoKS5zdHJpcCgp
CiAgICAgICAgICAgIGlmIGN1cl92ZXJzaW9uICE9IE9QVElPTlMuZXh0X21vZHM6CiAgICAgICAg
ICAgICAgICBuZWVkX2V4dCgpCiAgICAjIEZpeCBwYXJhbWV0ZXIgcGFzc2luZyBpc3N1ZQogICAg
aWYgbGVuKEFSR1MpID09IDE6CiAgICAgICAgYXJndl9wcmVwYXJlZCA9IEFSR1NbMF0uc3BsaXQo
KQogICAgZWxzZToKICAgICAgICBhcmd2X3ByZXBhcmVkID0gQVJHUwoKICAgIHNhbHRfYXJndiA9
IFsKICAgICAgICBzeXMuZXhlY3V0YWJsZSwKICAgICAgICBzYWx0X2NhbGxfcGF0aCwKICAgICAg
ICAnLS1yZXRjb2RlLXBhc3N0aHJvdWdoJywKICAgICAgICAnLS1sb2NhbCcsCiAgICAgICAgJy0t
bWV0YWRhdGEnLAogICAgICAgICctLW91dCcsICdqc29uJywKICAgICAgICAnLWwnLCAncXVpZXQn
LAogICAgICAgICctYycsIE9QVElPTlMuc2FsdGRpciwKICAgICAgICAnLS0nLAogICAgXSArIGFy
Z3ZfcHJlcGFyZWQKCiAgICBzeXMuc3RkZXJyLndyaXRlKCdTQUxUX0FSR1Y6IHswfVxuJy5mb3Jt
YXQoc2FsdF9hcmd2KSkKCiAgICAjIE9ubHkgZW1pdCB0aGUgZGVsaW1pdGVyIG9uICpib3RoKiBz
dGRvdXQgYW5kIHN0ZGVyciB3aGVuIGNvbXBsZXRlbHkgc3VjY2Vzc2Z1bC4KICAgICMgWWVzLCB0
aGUgZmx1c2goKSBpcyBuZWNlc3NhcnkuCiAgICBzeXMuc3Rkb3V0LndyaXRlKE9QVElPTlMuZGVs
aW1pdGVyICsgJ1xuJykKICAgIHN5cy5zdGRvdXQuZmx1c2goKQogICAgaWYgbm90IE9QVElPTlMu
dHR5OgogICAgICAgIHN5cy5zdGRlcnIud3JpdGUoT1BUSU9OUy5kZWxpbWl0ZXIgKyAnXG4nKQog
ICAgICAgIHN5cy5zdGRlcnIuZmx1c2goKQogICAgaWYgT1BUSU9OUy5jbWRfdW1hc2sgaXMgbm90
IE5vbmU6CiAgICAgICAgb2xkX3VtYXNrID0gb3MudW1hc2soT1BUSU9OUy5jbWRfdW1hc2spCiAg
ICBpZiBPUFRJT05TLnR0eToKICAgICAgICBzdGRvdXQsIF8gPSBzdWJwcm9jZXNzLlBvcGVuKHNh
bHRfYXJndiwgc3Rkb3V0PXN1YnByb2Nlc3MuUElQRSwgc3RkZXJyPXN1YnByb2Nlc3MuUElQRSku
Y29tbXVuaWNhdGUoKQogICAgICAgIHN5cy5zdGRvdXQud3JpdGUoc3Rkb3V0KQogICAgICAgIHN5
cy5zdGRvdXQuZmx1c2goKQogICAgICAgIGlmIE9QVElPTlMud2lwZToKICAgICAgICAgICAgc2h1
dGlsLnJtdHJlZShPUFRJT05TLnNhbHRkaXIpCiAgICBlbGlmIE9QVElPTlMud2lwZToKICAgICAg
ICBzdWJwcm9jZXNzLmNhbGwoc2FsdF9hcmd2KQogICAgICAgIHNodXRpbC5ybXRyZWUoT1BUSU9O
Uy5zYWx0ZGlyKQogICAgZWxzZToKICAgICAgICBvcy5leGVjdihzeXMuZXhlY3V0YWJsZSwgc2Fs
dF9hcmd2KQogICAgaWYgT1BUSU9OUy5jbWRfdW1hc2sgaXMgbm90IE5vbmU6CiAgICAgICAgb3Mu
dW1hc2sob2xkX3VtYXNrKQoKaWYgX19uYW1lX18gPT0gJ19fbWFpbl9fJzoKICAgIHN5cy5leGl0
KG1haW4oc3lzLmFyZ3YpKQo=
""").decode("utf-8"))'
else
exec $SUDO "$py_cmd_path" -c \
'import base64;
exec(base64.b64decode("""IyBweWxpbnQ6IGRpc2FibGU9Vzk5MDMKJycnClRoaXMgaXMgYSBzaGltIHRoYXQgaGFuZGxlcyBj
aGVja2luZyBhbmQgdXBkYXRpbmcgc2FsdCB0aGluIGFuZAp0aGVuIGludm9raW5nIHRoaW4uCgpU
aGlzIGlzIG5vdCBpbnRlbmRlZCB0byBiZSBpbnN0YW50aWF0ZWQgYXMgYSBtb2R1bGUsIHJhdGhl
ciBpdCBpcyBhCmhlbHBlciBzY3JpcHQgdXNlZCBieSBzYWx0LmNsaWVudC5zc2guU2luZ2xlLiAg
SXQgaXMgaGVyZSwgaW4gYQpzZXBhcmF0ZSBmaWxlLCBmb3IgY29udmVuaWVuY2Ugb2YgZGV2ZWxv
cG1lbnQuCicnJwoKZnJvbSBfX2Z1dHVyZV9fIGltcG9ydCBhYnNvbHV0ZV9pbXBvcnQKCmltcG9y
dCBoYXNobGliCmltcG9ydCB0YXJmaWxlCmltcG9ydCBzaHV0aWwKaW1wb3J0IHN5cwppbXBvcnQg
b3MKaW1wb3J0IHN0YXQKaW1wb3J0IHN1YnByb2Nlc3MKClRISU5fQVJDSElWRSA9ICdzYWx0LXRo
aW4udGd6JwpFWFRfQVJDSElWRSA9ICdzYWx0LWV4dF9tb2RzLnRneicKCiMgS2VlcCB0aGVzZSBp
biBzeW5jIHdpdGggc2FsdC9kZWZhdWx0cy9leGl0Y29kZXMucHkKRVhfVEhJTl9ERVBMT1kgPSAx
MQpFWF9USElOX0NIRUNLU1VNID0gMTIKRVhfTU9EX0RFUExPWSA9IDEzCkVYX1NDUF9OT1RfRk9V
TkQgPSAxNApFWF9DQU5UQ1JFQVQgPSA3MwoKCmNsYXNzIE9CSihvYmplY3QpOgogICAgIiIiQW4g
ZW1wdHkgY2xhc3MgZm9yIGhvbGRpbmcgaW5zdGFuY2UgYXR0cmlidXRlIHZhbHVlcy4iIiIKICAg
IHBhc3MKCgpPUFRJT05TID0gTm9uZQpBUkdTID0gTm9uZQojIFRoZSBiZWxvdyBsaW5lIGlzIHdo
ZXJlIE9QVElPTlMgY2FuIGJlIHJlZGVmaW5lZCB3aXRoIGludGVybmFsIG9wdGlvbnMKIyAocmF0
aGVyIHRoYW4gY2xpIGFyZ3VtZW50cykgd2hlbiB0aGUgc2hpbSBpcyBidW5kbGVkIGJ5CiMgY2xp
ZW50LnNzaC5TaW5nbGUuX2NtZF9zdHIoKQojIHB5bGludDogZGlzYWJsZT1ibG9jay1jb21tZW50
LXNob3VsZC1zdGFydC13aXRoLWNhcmRpbmFsLXNwYWNlCgpPUFRJT05TID0gT0JKKCkKT1BUSU9O
Uy5jb25maWcgPSAiIiIKe2ZpbGVzZXJ2ZXJfbGlzdF9jYWNoZV90aW1lOiAzLCBncmFpbnNfY2Fj
aGU6IHRydWUsIGlkOiBsb2NhbCwgbG9nX2ZpbGU6IHNhbHQtY2FsbC5sb2csCiAgcm9vdF9kaXI6
IC92YXIvdG1wLy5zYWx0LW9wZV8xYTM1MzJfc2FsdC9ydW5uaW5nX2RhdGEsIHNvY2tfZGlyOiAv
fQoiIiIKT1BUSU9OUy5kZWxpbWl0ZXIgPSAnX2VkYmM3ODg1ZTRmOWFhYzliODNiMzU5OTliNjhk
MDE1MTQ4Y2FmNDY3Yjc4ZmEzOWMwNWY2NjljMGZmODk4NzgnCk9QVElPTlMuc2FsdGRpciA9ICcv
dmFyL3RtcC8uc2FsdC1vcGVfMWEzNTMyX3NhbHQnCk9QVElPTlMuY2hlY2tzdW0gPSAnMmUyNWZj
YmI2YWEyNTU5OWQ1MmU4OTVkZTZlMjExOTZkNWM2ZTU5NScKT1BUSU9OUy5oYXNoZnVuYyA9ICdz
aGExJwpPUFRJT05TLnZlcnNpb24gPSAnMjAxNi4zLjInCk9QVElPTlMuZXh0X21vZHMgPSAnJwpP
UFRJT05TLndpcGUgPSBGYWxzZQpPUFRJT05TLnR0eSA9IEZhbHNlCk9QVElPTlMuY21kX3VtYXNr
ID0gTm9uZQpBUkdTID0gWydzdGF0ZS5wa2cgL3Zhci90bXAvLnNhbHQtb3BlXzFhMzUzMl9zYWx0
L3NhbHRfc3RhdGUudGd6IHRlc3Q9Tm9uZSBwa2dfc3VtPTMzZGJlYTk5ODUxYjVkZDk5ZTJmNzQ3
YWU3NDA0NGRhIGhhc2hfdHlwZT1tZDUnXQoKCgpkZWYgbmVlZF9kZXBsb3ltZW50KCk6CiAgICAi
IiIKICAgIFNhbHQgdGhpbiBuZWVkcyB0byBiZSBkZXBsb3llZCAtIHByZXAgdGhlIHRhcmdldCBk
aXJlY3RvcnkgYW5kIGVtaXQgdGhlCiAgICBkZWxpbWV0ZXIgYW5kIGV4aXQgY29kZSB0aGF0IHNp
Z25hbHMgYSByZXF1aXJlZCBkZXBsb3ltZW50LgogICAgIiIiCiAgICBpZiBvcy5wYXRoLmV4aXN0
cyhPUFRJT05TLnNhbHRkaXIpOgogICAgICAgIHNodXRpbC5ybXRyZWUoT1BUSU9OUy5zYWx0ZGly
KQogICAgb2xkX3VtYXNrID0gb3MudW1hc2soMG8wNzcpCiAgICBvcy5tYWtlZGlycyhPUFRJT05T
LnNhbHRkaXIpCiAgICBvcy51bWFzayhvbGRfdW1hc2spCiAgICAjIFZlcmlmeSBwZXJtcyBvbiBz
YWx0ZGlyCiAgICBldWlkID0gb3MuZ2V0ZXVpZCgpCiAgICBkc3RhdCA9IG9zLnN0YXQoT1BUSU9O
Uy5zYWx0ZGlyKQogICAgaWYgZHN0YXQuc3RfdWlkICE9IGV1aWQ6CiAgICAgICAgIyBBdHRhY2sg
ZGV0ZWN0ZWQsIHRyeSBhZ2FpbgogICAgICAgIG5lZWRfZGVwbG95bWVudCgpCiAgICBpZiBkc3Rh
dC5zdF9tb2RlICE9IDE2ODMyOgogICAgICAgICMgQXR0YWNrIGRldGVjdGVkCiAgICAgICAgbmVl
ZF9kZXBsb3ltZW50KCkKICAgICMgSWYgU1VET2luZyB0aGVuIGFsc28gZ2l2ZSB0aGUgc3VwZXIg
dXNlciBncm91cCB3cml0ZSBwZXJtaXNzaW9ucwogICAgc3Vkb19naWQgPSBvcy5lbnZpcm9uLmdl
dCgnU1VET19HSUQnKQogICAgaWYgc3Vkb19naWQ6CiAgICAgICAgb3MuY2hvd24oT1BUSU9OUy5z
YWx0ZGlyLCAtMSwgaW50KHN1ZG9fZ2lkKSkKICAgICAgICBzdHQgPSBvcy5zdGF0KE9QVElPTlMu
c2FsdGRpcikKICAgICAgICBvcy5jaG1vZChPUFRJT05TLnNhbHRkaXIsIHN0dC5zdF9tb2RlIHwg
c3RhdC5TX0lXR1JQIHwgc3RhdC5TX0lSR1JQIHwgc3RhdC5TX0lYR1JQKQoKICAgICMgRGVsaW1p
dGVyIGVtaXR0ZWQgb24gc3Rkb3V0ICpvbmx5KiB0byBpbmRpY2F0ZSBzaGltIG1lc3NhZ2UgdG8g
bWFzdGVyLgogICAgc3lzLnN0ZG91dC53cml0ZSgiezB9XG5kZXBsb3lcbiIuZm9ybWF0KE9QVElP
TlMuZGVsaW1pdGVyKSkKICAgIHN5cy5leGl0KEVYX1RISU5fREVQTE9ZKQoKCiMgQWRhcHRlZCBm
cm9tIHNhbHQudXRpbHMuZ2V0X2hhc2goKQpkZWYgZ2V0X2hhc2gocGF0aCwgZm9ybT0nc2hhMScs
IGNodW5rX3NpemU9NDA5Nik6CiAgICAiIiJHZW5lcmF0ZSBhIGhhc2ggZGlnZXN0IHN0cmluZyBm
b3IgYSBmaWxlLiIiIgogICAgdHJ5OgogICAgICAgIGhhc2hfdHlwZSA9IGdldGF0dHIoaGFzaGxp
YiwgZm9ybSkKICAgIGV4Y2VwdCBBdHRyaWJ1dGVFcnJvcjoKICAgICAgICByYWlzZSBWYWx1ZUVy
cm9yKCdJbnZhbGlkIGhhc2ggdHlwZTogezB9Jy5mb3JtYXQoZm9ybSkpCiAgICB3aXRoIG9wZW4o
cGF0aCwgJ3JiJykgYXMgaWZpbGU6CiAgICAgICAgaGFzaF9vYmogPSBoYXNoX3R5cGUoKQogICAg
ICAgICMgcmVhZCB0aGUgZmlsZSBpbiBpbiBjaHVua3MsIG5vdCB0aGUgZW50aXJlIGZpbGUKICAg
ICAgICBmb3IgY2h1bmsgaW4gaXRlcihsYW1iZGE6IGlmaWxlLnJlYWQoY2h1bmtfc2l6ZSksIGIn
Jyk6CiAgICAgICAgICAgIGhhc2hfb2JqLnVwZGF0ZShjaHVuaykKICAgICAgICByZXR1cm4gaGFz
aF9vYmouaGV4ZGlnZXN0KCkKCgpkZWYgdW5wYWNrX3RoaW4odGhpbl9wYXRoKToKICAgICIiIlVu
cGFjayB0aGUgU2FsdCB0aGluIGFyY2hpdmUuIiIiCiAgICB0ZmlsZSA9IHRhcmZpbGUuVGFyRmls
ZS5nem9wZW4odGhpbl9wYXRoKQogICAgb2xkX3VtYXNrID0gb3MudW1hc2soMG8wNzcpCiAgICB0
ZmlsZS5leHRyYWN0YWxsKHBhdGg9T1BUSU9OUy5zYWx0ZGlyKQogICAgdGZpbGUuY2xvc2UoKQog
ICAgb3MudW1hc2sob2xkX3VtYXNrKQogICAgb3MudW5saW5rKHRoaW5fcGF0aCkKCgpkZWYgbmVl
ZF9leHQoKToKICAgICIiIlNpZ25hbCB0aGF0IGV4dGVybmFsIG1vZHVsZXMgbmVlZCB0byBiZSBk
ZXBsb3llZC4iIiIKICAgIHN5cy5zdGRvdXQud3JpdGUoInswfVxuZXh0X21vZHNcbiIuZm9ybWF0
KE9QVElPTlMuZGVsaW1pdGVyKSkKICAgIHN5cy5leGl0KEVYX01PRF9ERVBMT1kpCgoKZGVmIHVu
cGFja19leHQoZXh0X3BhdGgpOgogICAgIiIiVW5wYWNrIHRoZSBleHRlcm5hbCBtb2R1bGVzLiIi
IgogICAgbW9kY2FjaGUgPSBvcy5wYXRoLmpvaW4oCiAgICAgICAgICAgIE9QVElPTlMuc2FsdGRp
ciwKICAgICAgICAgICAgJ3J1bm5pbmdfZGF0YScsCiAgICAgICAgICAgICd2YXInLAogICAgICAg
ICAgICAnY2FjaGUnLAogICAgICAgICAgICAnc2FsdCcsCiAgICAgICAgICAgICdtaW5pb24nLAog
ICAgICAgICAgICAnZXh0bW9kcycpCiAgICB0ZmlsZSA9IHRhcmZpbGUuVGFyRmlsZS5nem9wZW4o
ZXh0X3BhdGgpCiAgICBvbGRfdW1hc2sgPSBvcy51bWFzaygwbzA3NykKICAgIHRmaWxlLmV4dHJh
Y3RhbGwocGF0aD1tb2RjYWNoZSkKICAgIHRmaWxlLmNsb3NlKCkKICAgIG9zLnVtYXNrKG9sZF91
bWFzaykKICAgIG9zLnVubGluayhleHRfcGF0aCkKICAgIHZlcl9wYXRoID0gb3MucGF0aC5qb2lu
KG1vZGNhY2hlLCAnZXh0X3ZlcnNpb24nKQogICAgdmVyX2RzdCA9IG9zLnBhdGguam9pbihPUFRJ
T05TLnNhbHRkaXIsICdleHRfdmVyc2lvbicpCiAgICBzaHV0aWwubW92ZSh2ZXJfcGF0aCwgdmVy
X2RzdCkKCgpkZWYgbWFpbihhcmd2KTogICMgcHlsaW50OiBkaXNhYmxlPVcwNjEzCiAgICAiIiJN
YWluIHByb2dyYW0gYm9keSIiIgogICAgdGhpbl9wYXRoID0gb3MucGF0aC5qb2luKE9QVElPTlMu
c2FsdGRpciwgVEhJTl9BUkNISVZFKQogICAgaWYgb3MucGF0aC5pc2ZpbGUodGhpbl9wYXRoKToK
ICAgICAgICBpZiBPUFRJT05TLmNoZWNrc3VtICE9IGdldF9oYXNoKHRoaW5fcGF0aCwgT1BUSU9O
Uy5oYXNoZnVuYyk6CiAgICAgICAgICAgIHN5cy5zdGRlcnIud3JpdGUoJ3swfVxuJy5mb3JtYXQo
T1BUSU9OUy5jaGVja3N1bSkpCiAgICAgICAgICAgIHN5cy5zdGRlcnIud3JpdGUoJ3swfVxuJy5m
b3JtYXQoZ2V0X2hhc2godGhpbl9wYXRoLCBPUFRJT05TLmhhc2hmdW5jKSkpCiAgICAgICAgICAg
IG9zLnVubGluayh0aGluX3BhdGgpCiAgICAgICAgICAgIHN5cy5zdGRlcnIud3JpdGUoJ1dBUk5J
Tkc6IGNoZWNrc3VtIG1pc21hdGNoIGZvciAiezB9IlxuJy5mb3JtYXQodGhpbl9wYXRoKSkKICAg
ICAgICAgICAgc3lzLmV4aXQoRVhfVEhJTl9DSEVDS1NVTSkKICAgICAgICB1bnBhY2tfdGhpbih0
aGluX3BhdGgpCiAgICAgICAgIyBTYWx0IHRoaW4gbm93IGlzIGF2YWlsYWJsZSB0byB1c2UKICAg
IGVsc2U6CiAgICAgICAgc2Nwc3RhdCA9IHN1YnByb2Nlc3MuUG9wZW4oWycvYmluL3NoJywgJy1j
JywgJ2NvbW1hbmQgLXYgc2NwJ10pLndhaXQoKQogICAgICAgIGlmIHNjcHN0YXQgIT0gMDoKICAg
ICAgICAgICAgc3lzLmV4aXQoRVhfU0NQX05PVF9GT1VORCkKCiAgICAgICAgaWYgbm90IG9zLnBh
dGguZXhpc3RzKE9QVElPTlMuc2FsdGRpcik6CiAgICAgICAgICAgIG5lZWRfZGVwbG95bWVudCgp
CgogICAgICAgIGlmIG5vdCBvcy5wYXRoLmlzZGlyKE9QVElPTlMuc2FsdGRpcik6CiAgICAgICAg
ICAgIHN5cy5zdGRlcnIud3JpdGUoCiAgICAgICAgICAgICAgICAnRVJST1I6IHNhbHQgcGF0aCAi
ezB9IiBleGlzdHMgYnV0IGlzJwogICAgICAgICAgICAgICAgJyBub3QgYSBkaXJlY3Rvcnlcbicu
Zm9ybWF0KE9QVElPTlMuc2FsdGRpcikKICAgICAgICAgICAgKQogICAgICAgICAgICBzeXMuZXhp
dChFWF9DQU5UQ1JFQVQpCgogICAgICAgIHZlcnNpb25fcGF0aCA9IG9zLnBhdGguam9pbihPUFRJ
T05TLnNhbHRkaXIsICd2ZXJzaW9uJykKICAgICAgICBpZiBub3Qgb3MucGF0aC5leGlzdHModmVy
c2lvbl9wYXRoKSBvciBub3Qgb3MucGF0aC5pc2ZpbGUodmVyc2lvbl9wYXRoKToKICAgICAgICAg
ICAgc3lzLnN0ZGVyci53cml0ZSgKICAgICAgICAgICAgICAgICdXQVJOSU5HOiBVbmFibGUgdG8g
bG9jYXRlIGN1cnJlbnQgdGhpbiAnCiAgICAgICAgICAgICAgICAnIHZlcnNpb246IHswfS5cbicu
Zm9ybWF0KHZlcnNpb25fcGF0aCkKICAgICAgICAgICAgKQogICAgICAgICAgICBuZWVkX2RlcGxv
eW1lbnQoKQogICAgICAgIHdpdGggb3Blbih2ZXJzaW9uX3BhdGgsICdyJykgYXMgdnBvOgogICAg
ICAgICAgICBjdXJfdmVyc2lvbiA9IHZwby5yZWFkbGluZSgpLnN0cmlwKCkKICAgICAgICBpZiBj
dXJfdmVyc2lvbiAhPSBPUFRJT05TLnZlcnNpb246CiAgICAgICAgICAgIHN5cy5zdGRlcnIud3Jp
dGUoCiAgICAgICAgICAgICAgICAnV0FSTklORzogY3VycmVudCB0aGluIHZlcnNpb24gezB9Jwog
ICAgICAgICAgICAgICAgJyBpcyBub3QgdXAtdG8tZGF0ZSB3aXRoIHsxfS5cbicuZm9ybWF0KAog
ICAgICAgICAgICAgICAgICAgIGN1cl92ZXJzaW9uLCBPUFRJT05TLnZlcnNpb24KICAgICAgICAg
ICAgICAgICkKICAgICAgICAgICAgKQogICAgICAgICAgICBuZWVkX2RlcGxveW1lbnQoKQogICAg
ICAgICMgU2FsdCB0aGluIGV4aXN0cyBhbmQgaXMgdXAtdG8tZGF0ZSAtIGZhbGwgdGhyb3VnaCBh
bmQgdXNlIGl0CgogICAgc2FsdF9jYWxsX3BhdGggPSBvcy5wYXRoLmpvaW4oT1BUSU9OUy5zYWx0
ZGlyLCAnc2FsdC1jYWxsJykKICAgIGlmIG5vdCBvcy5wYXRoLmlzZmlsZShzYWx0X2NhbGxfcGF0
aCk6CiAgICAgICAgc3lzLnN0ZGVyci53cml0ZSgnRVJST1I6IHRoaW4gaXMgbWlzc2luZyAiezB9
IlxuJy5mb3JtYXQoc2FsdF9jYWxsX3BhdGgpKQogICAgICAgIG5lZWRfZGVwbG95bWVudCgpCgog
ICAgd2l0aCBvcGVuKG9zLnBhdGguam9pbihPUFRJT05TLnNhbHRkaXIsICdtaW5pb24nKSwgJ3cn
KSBhcyBjb25maWc6CiAgICAgICAgY29uZmlnLndyaXRlKE9QVElPTlMuY29uZmlnICsgJ1xuJykK
ICAgIGlmIE9QVElPTlMuZXh0X21vZHM6CiAgICAgICAgZXh0X3BhdGggPSBvcy5wYXRoLmpvaW4o
T1BUSU9OUy5zYWx0ZGlyLCBFWFRfQVJDSElWRSkKICAgICAgICBpZiBvcy5wYXRoLmV4aXN0cyhl
eHRfcGF0aCk6CiAgICAgICAgICAgIHVucGFja19leHQoZXh0X3BhdGgpCiAgICAgICAgZWxzZToK
ICAgICAgICAgICAgdmVyc2lvbl9wYXRoID0gb3MucGF0aC5qb2luKE9QVElPTlMuc2FsdGRpciwg
J2V4dF92ZXJzaW9uJykKICAgICAgICAgICAgaWYgbm90IG9zLnBhdGguZXhpc3RzKHZlcnNpb25f
cGF0aCkgb3Igbm90IG9zLnBhdGguaXNmaWxlKHZlcnNpb25fcGF0aCk6CiAgICAgICAgICAgICAg
ICBuZWVkX2V4dCgpCiAgICAgICAgICAgIHdpdGggb3Blbih2ZXJzaW9uX3BhdGgsICdyJykgYXMg
dnBvOgogICAgICAgICAgICAgICAgY3VyX3ZlcnNpb24gPSB2cG8ucmVhZGxpbmUoKS5zdHJpcCgp
CiAgICAgICAgICAgIGlmIGN1cl92ZXJzaW9uICE9IE9QVElPTlMuZXh0X21vZHM6CiAgICAgICAg
ICAgICAgICBuZWVkX2V4dCgpCiAgICAjIEZpeCBwYXJhbWV0ZXIgcGFzc2luZyBpc3N1ZQogICAg
aWYgbGVuKEFSR1MpID09IDE6CiAgICAgICAgYXJndl9wcmVwYXJlZCA9IEFSR1NbMF0uc3BsaXQo
KQogICAgZWxzZToKICAgICAgICBhcmd2X3ByZXBhcmVkID0gQVJHUwoKICAgIHNhbHRfYXJndiA9
IFsKICAgICAgICBzeXMuZXhlY3V0YWJsZSwKICAgICAgICBzYWx0X2NhbGxfcGF0aCwKICAgICAg
ICAnLS1yZXRjb2RlLXBhc3N0aHJvdWdoJywKICAgICAgICAnLS1sb2NhbCcsCiAgICAgICAgJy0t
bWV0YWRhdGEnLAogICAgICAgICctLW91dCcsICdqc29uJywKICAgICAgICAnLWwnLCAncXVpZXQn
LAogICAgICAgICctYycsIE9QVElPTlMuc2FsdGRpciwKICAgICAgICAnLS0nLAogICAgXSArIGFy
Z3ZfcHJlcGFyZWQKCiAgICBzeXMuc3RkZXJyLndyaXRlKCdTQUxUX0FSR1Y6IHswfVxuJy5mb3Jt
YXQoc2FsdF9hcmd2KSkKCiAgICAjIE9ubHkgZW1pdCB0aGUgZGVsaW1pdGVyIG9uICpib3RoKiBz
dGRvdXQgYW5kIHN0ZGVyciB3aGVuIGNvbXBsZXRlbHkgc3VjY2Vzc2Z1bC4KICAgICMgWWVzLCB0
aGUgZmx1c2goKSBpcyBuZWNlc3NhcnkuCiAgICBzeXMuc3Rkb3V0LndyaXRlKE9QVElPTlMuZGVs
aW1pdGVyICsgJ1xuJykKICAgIHN5cy5zdGRvdXQuZmx1c2goKQogICAgaWYgbm90IE9QVElPTlMu
dHR5OgogICAgICAgIHN5cy5zdGRlcnIud3JpdGUoT1BUSU9OUy5kZWxpbWl0ZXIgKyAnXG4nKQog
ICAgICAgIHN5cy5zdGRlcnIuZmx1c2goKQogICAgaWYgT1BUSU9OUy5jbWRfdW1hc2sgaXMgbm90
IE5vbmU6CiAgICAgICAgb2xkX3VtYXNrID0gb3MudW1hc2soT1BUSU9OUy5jbWRfdW1hc2spCiAg
ICBpZiBPUFRJT05TLnR0eToKICAgICAgICBzdGRvdXQsIF8gPSBzdWJwcm9jZXNzLlBvcGVuKHNh
bHRfYXJndiwgc3Rkb3V0PXN1YnByb2Nlc3MuUElQRSwgc3RkZXJyPXN1YnByb2Nlc3MuUElQRSku
Y29tbXVuaWNhdGUoKQogICAgICAgIHN5cy5zdGRvdXQud3JpdGUoc3Rkb3V0KQogICAgICAgIHN5
cy5zdGRvdXQuZmx1c2goKQogICAgICAgIGlmIE9QVElPTlMud2lwZToKICAgICAgICAgICAgc2h1
dGlsLnJtdHJlZShPUFRJT05TLnNhbHRkaXIpCiAgICBlbGlmIE9QVElPTlMud2lwZToKICAgICAg
ICBzdWJwcm9jZXNzLmNhbGwoc2FsdF9hcmd2KQogICAgICAgIHNodXRpbC5ybXRyZWUoT1BUSU9O
Uy5zYWx0ZGlyKQogICAgZWxzZToKICAgICAgICBvcy5leGVjdihzeXMuZXhlY3V0YWJsZSwgc2Fs
dF9hcmd2KQogICAgaWYgT1BUSU9OUy5jbWRfdW1hc2sgaXMgbm90IE5vbmU6CiAgICAgICAgb3Mu
dW1hc2sob2xkX3VtYXNrKQoKaWYgX19uYW1lX18gPT0gJ19fbWFpbl9fJzoKICAgIHN5cy5leGl0
KG1haW4oc3lzLmFyZ3YpKQo=
""").decode("utf-8"))'
fi
exit 0
else
continue
fi
done
echo "ERROR: Unable to locate appropriate python command" >&2
exit $EX_PYTHON_INVALID
EOF
2016-08-27 20:51:57,813 [salt.utils.vt.Terminal.PID-7217.STDOUT][TRACE   ][7069] salt-ope@127.0.0.1's password:
2016-08-27 20:51:58,077 [salt.utils.vt.Terminal.PID-7217.STDERR][TRACE   ][7069] SALT_ARGV: ['/usr/bin/python2.6', '/var/tmp/.salt-ope_1a3532_salt/salt-call', '--retcode-passthrough', '--local', '--metadata', '--out', 'json', '-l', 'quiet', '-c', '/var/tmp/.salt-ope_1a3532_salt', '--', 'state.pkg', '/var/tmp/.salt-ope_1a3532_salt/salt_state.tgz', 'test=None', 'pkg_sum=33dbea99851b5dd99e2f747ae74044da', 'hash_type=md5']
_edbc7885e4f9aac9b83b35999b68d015148caf467b78fa39c05f669c0ff89878
2016-08-27 20:51:58,078 [salt.utils.vt.Terminal.PID-7217.STDOUT][TRACE   ][7069] /usr/bin/scp
_edbc7885e4f9aac9b83b35999b68d015148caf467b78fa39c05f669c0ff89878
2016-08-27 20:52:00,569 [salt.utils.vt.Terminal.PID-7217.STDOUT][TRACE   ][7069] {
    "local": {
        "fun_args": [
            "/var/tmp/.salt-ope_1a3532_salt/salt_state.tgz", 
            "test=None", 
            "pkg_sum=33dbea99851b5dd99e2f747ae74044da", 
            "hash_type=md5"
        ], 
        "jid": "20160827205158407856", 
        "return": {
            "service_|-rsyslog_|-rsyslog_|-running": {
                "comment": "Service restarted", 
                "name": "rsyslog", 
                "start_time": "20:52:00.367191", 
                "result": true, 
                "duration": 193.41499999999999, 
                "__run_num__": 3, 
                "changes": {
                    "rsyslog": true
                }, 
                "__id__": "rsyslog"
            }, 
            "pkg_|-install_packages_|-install_packages_|-installed": {
                "comment": "All specified packages are already installed", 
                "name": "rsyslog", 
                "start_time": "20:51:59.748297", 
                "result": true,
2016-08-27 20:52:00,580 [salt.utils.vt.Terminal.PID-7217.STDOUT][TRACE   ][7069]              "duration": 389.83999999999997, 
                "__run_num__": 0, 
                "changes": {}, 
                "__id__": "install_packages"
            }, 
            "file_|-/etc/rsyslog.conf_|-/etc/rsyslog.conf_|-managed": {
                "comment": "File /etc/rsyslog.conf updated", 
                "pchanges": {
                    "diff": "---  \n+++  \n@@ -78,4 +78,4 @@\n # remote host is: name/ip:port, e.g. 192.168.0.1:514, port optional\n #*.* @@remote-host:514\n # ### end of the forwarding rule ###\n-*.* @192.168.1.12 514\n+*.* @192.168.1.12:514\n"
                }, 
                "name": "/etc/rsyslog.conf", 
                "start_time": "20:52:00.158253", 
                "result": true, 
                "duration": 149.04300000000001, 
                "__run_num__": 1, 
                "changes": {
                    "diff": "---  \n+++  \n@@ -78,4 +78,4 @@\n # remote host is: name/ip:port, e.g. 192.168.0.1:514, port optional\n #*.* @@remote-host:514\n # ##
2016-08-27 20:52:00,593 [salt.utils.vt.Terminal.PID-7217.STDOUT][TRACE   ][7069] # end of the forwarding rule ###\n-*.* @192.168.1.12 514\n+*.* @192.168.1.12:514\n"
                }, 
                "__id__": "/etc/rsyslog.conf"
            }
        }, 
        "retcode": 0, 
        "fun": "state.pkg", 
        "id": "local", 
        "out": "highstate"
    }
}
2016-08-27 20:52:00,861 [salt.client.ssh  ][TRACE   ][7069] STDOUT 127.0.0.1
salt-ope@127.0.0.1's password: 
/usr/bin/scp
_edbc7885e4f9aac9b83b35999b68d015148caf467b78fa39c05f669c0ff89878
{
    "local": {
        "fun_args": [
            "/var/tmp/.salt-ope_1a3532_salt/salt_state.tgz", 
            "test=None", 
            "pkg_sum=33dbea99851b5dd99e2f747ae74044da", 
            "hash_type=md5"
        ], 
        "jid": "20160827205158407856", 
        "return": {
            "service_|-rsyslog_|-rsyslog_|-running": {
                "comment": "Service restarted", 
                "name": "rsyslog", 
                "start_time": "20:52:00.367191", 
                "result": true, 
                "duration": 193.41499999999999, 
                "__run_num__": 3, 
                "changes": {
                    "rsyslog": true
                }, 
                "__id__": "rsyslog"
            }, 
            "pkg_|-install_packages_|-install_packages_|-installed": {
                "comment": "All specified packages are already installed", 
                "name": "rsyslog", 
                "start_time": "20:51:59.748297", 
                "result": true, 
                "duration": 389.83999999999997, 
                "__run_num__": 0, 
                "changes": {}, 
                "__id__": "install_packages"
            }, 
            "file_|-/etc/rsyslog.conf_|-/etc/rsyslog.conf_|-managed": {
                "comment": "File /etc/rsyslog.conf updated", 
                "pchanges": {
                    "diff": "---  \n+++  \n@@ -78,4 +78,4 @@\n # remote host is: name/ip:port, e.g. 192.168.0.1:514, port optional\n #*.* @@remote-host:514\n # ### end of the forwarding rule ###\n-*.* @192.168.1.12 514\n+*.* @192.168.1.12:514\n"
                }, 
                "name": "/etc/rsyslog.conf", 
                "start_time": "20:52:00.158253", 
                "result": true, 
                "duration": 149.04300000000001, 
                "__run_num__": 1, 
                "changes": {
                    "diff": "---  \n+++  \n@@ -78,4 +78,4 @@\n # remote host is: name/ip:port, e.g. 192.168.0.1:514, port optional\n #*.* @@remote-host:514\n # ### end of the forwarding rule ###\n-*.* @192.168.1.12 514\n+*.* @192.168.1.12:514\n"
                }, 
                "__id__": "/etc/rsyslog.conf"
            }
        }, 
        "retcode": 0, 
        "fun": "state.pkg", 
        "id": "local", 
        "out": "highstate"
    }
}

2016-08-27 20:52:00,862 [salt.client.ssh  ][TRACE   ][7069] STDERR 127.0.0.1
SALT_ARGV: ['/usr/bin/python2.6', '/var/tmp/.salt-ope_1a3532_salt/salt-call', '--retcode-passthrough', '--local', '--metadata', '--out', 'json', '-l', 'quiet', '-c', '/var/tmp/.salt-ope_1a3532_salt', '--', 'state.pkg', '/var/tmp/.salt-ope_1a3532_salt/salt_state.tgz', 'test=None', 'pkg_sum=33dbea99851b5dd99e2f747ae74044da', 'hash_type=md5']
_edbc7885e4f9aac9b83b35999b68d015148caf467b78fa39c05f669c0ff89878

2016-08-27 20:52:00,862 [salt.client.ssh  ][DEBUG   ][7069] RETCODE 127.0.0.1: 0
2016-08-27 20:52:00,971 [salt.utils.lazy  ][DEBUG   ][7053] LazyLoaded highstate.output
2016-08-27 20:52:00,974 [salt.utils.lazy  ][DEBUG   ][7053] LazyLoaded nested.output
2016-08-27 20:52:00,977 [salt.utils.lazy  ][DEBUG   ][7053] LazyLoaded nested.output
2016-08-27 20:52:00,978 [salt.output      ][TRACE   ][7053] data = {'local': {'file_|-/etc/rsyslog.conf_|-/etc/rsyslog.conf_|-managed': {'comment': u'File /etc/rsyslog.conf updated', 'pchanges': {'diff': '---  \n+++  \n@@ -78,4 +78,4 @@\n # remote host is: name/ip:port, e.g. 192.168.0.1:514, port optional\n #*.* @@remote-host:514\n # ### end of the forwarding rule ###\n-*.* @192.168.1.12 514\n+*.* @192.168.1.12:514\n'}, 'name': '/etc/rsyslog.conf', 'start_time': '20:52:00.158253', 'result': True, 'duration': u'149.043 ms', '__run_num__': 1, 'changes': {'diff': '---  \n+++  \n@@ -78,4 +78,4 @@\n # remote host is: name/ip:port, e.g. 192.168.0.1:514, port optional\n #*.* @@remote-host:514\n # ### end of the forwarding rule ###\n-*.* @192.168.1.12 514\n+*.* @192.168.1.12:514\n'}, '__id__': '/etc/rsyslog.conf'}, 'pkg_|-install_packages_|-install_packages_|-installed': {'comment': u'All specified packages are already installed', 'name': 'rsyslog', 'start_time': '20:51:59.748297', 'result': True, 'duration': u'389.84 ms', '__run_num__': 0, 'changes': {}, '__id__': 'install_packages'}, 'service_|-rsyslog_|-rsyslog_|-running': {'comment': u'Service restarted', 'name': 'rsyslog', 'start_time': '20:52:00.367191', 'result': True, 'duration': u'193.415 ms', '__run_num__': 3, 'changes': {'rsyslog': True}, '__id__': 'rsyslog'}}}
2016-09-04 13:23:25,968 [salt.state       ][ERROR   ][2506] Unable to render top file: expected alphabetic or numeric character, but found ':'
2016-09-04 13:24:33,813 [salt.client.ssh  ][ERROR   ][2548] TypeError encountered executing state.apply: apply_() takes at most 1 argument (10 given)
2016-09-04 13:24:59,558 [salt.state       ][ERROR   ][2581] Unable to render top file: expected alphabetic or numeric character, but found ':'
2016-09-04 13:25:12,038 [salt.client.ssh  ][ERROR   ][2632] TypeError encountered executing state.apply: apply_() takes at most 1 argument (10 given)
2016-09-04 13:26:44,391 [salt.state       ][CRITICAL][2726] Rendering SLS 'base:top' failed: expected alphabetic or numeric character, but found ':'; line 2

---
base:
  *:    <======================
    - setup-shell
    - rsyslog
    - munin

 
---
2016-09-29 00:00:05,147 [salt.utils.templates][ERROR   ][15662] Rendering exception occurred: Jinja variable 'munin_async' is undefined
2016-09-29 00:00:05,148 [salt.state       ][CRITICAL][15662] Rendering SLS 'base:munin' failed: Jinja variable 'munin_async' is undefined
2016-10-01 00:36:12,719 [salt.utils.templates][ERROR   ][17496] Rendering exception occurred: Jinja error: argument of type 'StrictUndefined' is not iterable
Traceback (most recent call last):
  File "/usr/lib/python2.6/site-packages/salt/utils/templates.py", line 366, in render_jinja_tmpl
    output = template.render(**decoded_context)
  File "/usr/lib/python2.6/site-packages/jinja2/environment.py", line 969, in render
    return self.environment.handle_exception(exc_info, True)
  File "/usr/lib/python2.6/site-packages/jinja2/environment.py", line 742, in handle_exception
    reraise(exc_type, exc_value, tb)
  File "<template>", line 169, in top-level template code
TypeError: argument of type 'StrictUndefined' is not iterable

; line 169

---
[...]
    - file: /etc/munin/munin.conf
{% if host_addr in munin_server_list %}
    - file: /etc/munin/munin-htpasswd
{% endif %}

{% if host_addr in munin_async_list %}    <======================
munin-asyncd:
  service.running:
  - enable: True
{% endif %}

[...]
---
2016-10-01 00:36:12,722 [salt.state       ][CRITICAL][17496] Rendering SLS 'base:munin' failed: Jinja error: argument of type 'StrictUndefined' is not iterable
Traceback (most recent call last):
  File "/usr/lib/python2.6/site-packages/salt/utils/templates.py", line 366, in render_jinja_tmpl
    output = template.render(**decoded_context)
  File "/usr/lib/python2.6/site-packages/jinja2/environment.py", line 969, in render
    return self.environment.handle_exception(exc_info, True)
  File "/usr/lib/python2.6/site-packages/jinja2/environment.py", line 742, in handle_exception
    reraise(exc_type, exc_value, tb)
  File "<template>", line 169, in top-level template code
TypeError: argument of type 'StrictUndefined' is not iterable

; line 169

---
[...]
    - file: /etc/munin/munin.conf
{% if host_addr in munin_server_list %}
    - file: /etc/munin/munin-htpasswd
{% endif %}

{% if host_addr in munin_async_list %}    <======================
munin-asyncd:
  service.running:
  - enable: True
{% endif %}

[...]
---
2016-10-02 13:57:01,209 [salt.utils.templates][ERROR   ][2685] Rendering exception occurred: Jinja syntax error: Unexpected end of template. Jinja was looking for the following tags: 'endfor' or 'else'. The innermost block that needs to be closed is 'for'.; line 174

---
[...]
{% for munin_async in munin_async_client %}
{% if host_addr in munin_async.ip %}
munin-asyncd:
  service.running:
  - enable: True
{% endif %}    <======================


---
2016-10-02 13:57:01,227 [salt.state       ][CRITICAL][2685] Rendering SLS 'base:munin' failed: Jinja syntax error: Unexpected end of template. Jinja was looking for the following tags: 'endfor' or 'else'. The innermost block that needs to be closed is 'for'.; line 174

---
[...]
{% for munin_async in munin_async_client %}
{% if host_addr in munin_async.ip %}
munin-asyncd:
  service.running:
  - enable: True
{% endif %}    <======================


---
2016-10-02 14:21:18,181 [salt.state       ][CRITICAL][2848] Rendering SLS 'base:munin' failed: Conflicting ID '/var/lib/munin-async/.ssh'
2016-10-02 19:28:56,463 [salt.state       ][CRITICAL][3353] Rendering SLS 'base:munin' failed: could not found expected ':'; line 114

---
[...]
  file.directory:
    - group: apache
    - mode: 775

/var/log/munin-graph.log
  file.managed:    <======================
    - group: apache
    - mode: 664

/var/www/html/munin:
  file.directory:
[...]
---
2016-10-05 01:35:18,752 [salt.state       ][CRITICAL][5944] Rendering SLS 'base:munin' failed: mapping values are not allowed here; line 153

---
[...]
      - group
      - mode

/var/lib/munin-async:
  file.directory
    - user: munin    <======================
    - group: munin
    - mode: 700
    - makedirs: True

/var/lib/munin-async/.ssh:
[...]
---
2016-10-05 02:33:31,428 [salt.state       ][CRITICAL][6174] Rendering SLS 'base:munin' failed: Conflicting ID '/var/lib/munin/spool'
2016-10-10 12:53:03,864 [salt.utils.templates][ERROR   ][10673] Rendering exception occurred: Jinja error: argument of type 'StrictUndefined' is not iterable
Traceback (most recent call last):
  File "/usr/lib/python2.6/site-packages/salt/utils/templates.py", line 366, in render_jinja_tmpl
    output = template.render(**decoded_context)
  File "/usr/lib/python2.6/site-packages/jinja2/environment.py", line 969, in render
    return self.environment.handle_exception(exc_info, True)
  File "/usr/lib/python2.6/site-packages/jinja2/environment.py", line 742, in handle_exception
    reraise(exc_type, exc_value, tb)
  File "<template>", line 164, in top-level template code
TypeError: argument of type 'StrictUndefined' is not iterable

; line 164

---
[...]
{% if host_addr in munin_server_list %}
    - file: /etc/munin/munin-htpasswd
{% endif %}

{% for munin_async in munin_async_client %}
{% if host_addr in munin_async.ip %}    <======================

/var/lib/munin/spool:
  file.directory:
  - user: root
  - group: munin
[...]
---
2016-10-10 12:53:03,865 [salt.state       ][CRITICAL][10673] Rendering SLS 'base:munin' failed: Jinja error: argument of type 'StrictUndefined' is not iterable
Traceback (most recent call last):
  File "/usr/lib/python2.6/site-packages/salt/utils/templates.py", line 366, in render_jinja_tmpl
    output = template.render(**decoded_context)
  File "/usr/lib/python2.6/site-packages/jinja2/environment.py", line 969, in render
    return self.environment.handle_exception(exc_info, True)
  File "/usr/lib/python2.6/site-packages/jinja2/environment.py", line 742, in handle_exception
    reraise(exc_type, exc_value, tb)
  File "<template>", line 164, in top-level template code
TypeError: argument of type 'StrictUndefined' is not iterable

; line 164

---
[...]
{% if host_addr in munin_server_list %}
    - file: /etc/munin/munin-htpasswd
{% endif %}

{% for munin_async in munin_async_client %}
{% if host_addr in munin_async.ip %}    <======================

/var/lib/munin/spool:
  file.directory:
  - user: root
  - group: munin
[...]
---
2016-10-10 12:58:11,000 [salt.utils.templates][ERROR   ][10726] Rendering exception occurred: Jinja variable 'salt.utils.odict.OrderedDict object' has no attribute 'munin'
2016-10-10 12:58:11,001 [salt.state       ][CRITICAL][10726] Rendering SLS 'base:munin' failed: Jinja variable 'salt.utils.odict.OrderedDict object' has no attribute 'munin'
2016-10-10 15:30:33,430 [salt.utils.templates][ERROR   ][11283] Rendering exception occurred: Jinja variable 'salt.utils.odict.OrderedDict object' has no attribute 'munin'
2016-10-10 15:30:33,431 [salt.state       ][CRITICAL][11283] Rendering SLS 'base:munin' failed: Jinja variable 'salt.utils.odict.OrderedDict object' has no attribute 'munin'
2016-10-10 16:21:57,737 [salt.pillar      ][ERROR   ][12133] Specified SLS 'test' in environment 'base' is not available on the salt master
2016-10-10 16:21:57,738 [salt.template    ][ERROR   ][12133] Template was specified incorrectly: False
2016-10-10 16:21:57,739 [salt.pillar      ][CRITICAL][12133] Pillar render error: Specified SLS 'test' in environment 'base' is not available on the salt master
2016-10-10 16:21:57,788 [salt.pillar      ][ERROR   ][12133] Specified SLS 'test' in environment 'base' is not available on the salt master
2016-10-10 16:21:57,789 [salt.template    ][ERROR   ][12133] Template was specified incorrectly: False
2016-10-10 16:21:57,790 [salt.pillar      ][CRITICAL][12133] Pillar render error: Specified SLS 'test' in environment 'base' is not available on the salt master
2016-10-10 16:23:23,389 [salt.pillar      ][ERROR   ][12206] Specified SLS 'test' in environment 'base' is not available on the salt master
2016-10-10 16:23:23,389 [salt.template    ][ERROR   ][12206] Template was specified incorrectly: False
2016-10-10 16:23:23,390 [salt.pillar      ][CRITICAL][12206] Pillar render error: Specified SLS 'test' in environment 'base' is not available on the salt master
2016-10-10 16:23:23,441 [salt.pillar      ][ERROR   ][12206] Specified SLS 'test' in environment 'base' is not available on the salt master
2016-10-10 16:23:23,441 [salt.template    ][ERROR   ][12206] Template was specified incorrectly: False
2016-10-10 16:23:23,442 [salt.pillar      ][CRITICAL][12206] Pillar render error: Specified SLS 'test' in environment 'base' is not available on the salt master
2016-10-10 16:23:48,471 [salt.pillar      ][ERROR   ][12237] Specified SLS 'test' in environment 'base' is not available on the salt master
2016-10-10 16:23:48,472 [salt.template    ][ERROR   ][12237] Template was specified incorrectly: False
2016-10-10 16:23:48,473 [salt.pillar      ][CRITICAL][12237] Pillar render error: Specified SLS 'test' in environment 'base' is not available on the salt master
2016-10-10 16:23:48,524 [salt.pillar      ][ERROR   ][12237] Specified SLS 'test' in environment 'base' is not available on the salt master
2016-10-10 16:23:48,524 [salt.template    ][ERROR   ][12237] Template was specified incorrectly: False
2016-10-10 16:23:48,526 [salt.pillar      ][CRITICAL][12237] Pillar render error: Specified SLS 'test' in environment 'base' is not available on the salt master
2016-10-10 16:25:07,782 [salt.pillar      ][ERROR   ][12318] Specified SLS 'testtest' in environment 'base' is not available on the salt master
2016-10-10 16:25:07,782 [salt.template    ][ERROR   ][12318] Template was specified incorrectly: False
2016-10-10 16:25:07,783 [salt.pillar      ][CRITICAL][12318] Pillar render error: Specified SLS 'testtest' in environment 'base' is not available on the salt master
2016-10-10 16:25:07,822 [salt.pillar      ][ERROR   ][12318] Specified SLS 'testtest' in environment 'base' is not available on the salt master
2016-10-10 16:25:07,822 [salt.template    ][ERROR   ][12318] Template was specified incorrectly: False
2016-10-10 16:25:07,823 [salt.pillar      ][CRITICAL][12318] Pillar render error: Specified SLS 'testtest' in environment 'base' is not available on the salt master
2016-10-10 16:26:43,830 [salt.pillar      ][ERROR   ][12542] Specified SLS 'testtest' in environment 'base' is not available on the salt master
2016-10-10 16:26:43,831 [salt.template    ][ERROR   ][12542] Template was specified incorrectly: False
2016-10-10 16:26:43,832 [salt.pillar      ][CRITICAL][12542] Pillar render error: Specified SLS 'testtest' in environment 'base' is not available on the salt master
2016-10-10 16:26:43,879 [salt.pillar      ][ERROR   ][12542] Specified SLS 'testtest' in environment 'base' is not available on the salt master
2016-10-10 16:26:43,879 [salt.template    ][ERROR   ][12542] Template was specified incorrectly: False
2016-10-10 16:26:43,881 [salt.pillar      ][CRITICAL][12542] Pillar render error: Specified SLS 'testtest' in environment 'base' is not available on the salt master
2016-10-10 16:27:11,649 [salt.pillar      ][ERROR   ][12573] Specified SLS 'testtest' in environment 'base' is not available on the salt master
2016-10-10 16:27:11,650 [salt.template    ][ERROR   ][12573] Template was specified incorrectly: False
2016-10-10 16:27:11,651 [salt.pillar      ][CRITICAL][12573] Pillar render error: Specified SLS 'testtest' in environment 'base' is not available on the salt master
2016-10-10 16:27:11,701 [salt.pillar      ][ERROR   ][12573] Specified SLS 'testtest' in environment 'base' is not available on the salt master
2016-10-10 16:27:11,702 [salt.template    ][ERROR   ][12573] Template was specified incorrectly: False
2016-10-10 16:27:11,703 [salt.pillar      ][CRITICAL][12573] Pillar render error: Specified SLS 'testtest' in environment 'base' is not available on the salt master
2016-10-10 16:28:13,281 [salt.pillar      ][ERROR   ][12604] Specified SLS 'testtest' in environment 'base' is not available on the salt master
2016-10-10 16:28:13,282 [salt.template    ][ERROR   ][12604] Template was specified incorrectly: False
2016-10-10 16:28:13,283 [salt.pillar      ][CRITICAL][12604] Pillar render error: Specified SLS 'testtest' in environment 'base' is not available on the salt master
2016-10-10 16:28:13,333 [salt.pillar      ][ERROR   ][12604] Specified SLS 'testtest' in environment 'base' is not available on the salt master
2016-10-10 16:28:13,334 [salt.template    ][ERROR   ][12604] Template was specified incorrectly: False
2016-10-10 16:28:13,335 [salt.pillar      ][CRITICAL][12604] Pillar render error: Specified SLS 'testtest' in environment 'base' is not available on the salt master
2016-10-10 16:37:16,626 [salt.template    ][ERROR   ][12882] Template was specified incorrectly: False
2016-10-10 17:06:28,453 [salt.utils.templates][ERROR   ][13692] Rendering exception occurred: Jinja variable 'salt.utils.context.NamespacedDictWrapper object' has no attribute 'munin_async_client'
2016-10-10 17:06:28,454 [salt.state       ][CRITICAL][13692] Rendering SLS 'base:munin' failed: Jinja variable 'salt.utils.context.NamespacedDictWrapper object' has no attribute 'munin_async_client'
2016-10-10 17:10:08,567 [salt.utils.templates][ERROR   ][13780] Rendering exception occurred: Jinja variable 'salt.utils.context.NamespacedDictWrapper object' has no attribute 'munin_async_client'
2016-10-10 17:10:08,567 [salt.state       ][CRITICAL][13780] Rendering SLS 'base:munin' failed: Jinja variable 'salt.utils.context.NamespacedDictWrapper object' has no attribute 'munin_async_client'
2016-10-16 00:08:06,485 [salt.template    ][ERROR   ][19430] Template was specified incorrectly: False
2016-10-16 00:08:08,861 [salt.template    ][ERROR   ][19428] Template was specified incorrectly: False
2016-10-16 00:08:08,908 [salt.template    ][ERROR   ][19429] Template was specified incorrectly: False
2016-10-19 23:58:04,205 [salt.utils.verify][WARNING ][1678] Insecure logging configuration detected! Sensitive data may be logged.
2016-10-19 23:58:04,215 [salt.utils.lazy  ][DEBUG   ][1678] LazyLoaded flat.targets
2016-10-19 23:58:04,217 [salt.utils.lazy  ][DEBUG   ][1678] LazyLoaded jinja.render
2016-10-19 23:58:04,218 [salt.utils.lazy  ][DEBUG   ][1678] LazyLoaded yaml.render
2016-10-19 23:58:04,218 [salt.template    ][DEBUG   ][1678] compile template: ./roster
2016-10-19 23:58:04,219 [salt.utils.jinja ][DEBUG   ][1678] Jinja search path: ['/root/saltstack_master/var/cache/salt/master/files/base']
2016-10-19 23:58:04,225 [salt.template    ][PROFILE ][1678] Time (in seconds) to render './roster' using 'jinja' renderer: 0.00621199607849
2016-10-19 23:58:04,225 [salt.template    ][DEBUG   ][1678] Rendered data from file: ./roster:
local:
  host: 127.0.0.1
  user: salt-ope
  passwd: salt-ope
  sudo: True
nagioslog:
  host: 192.168.1.12
  user: salt-ope
  passwd: salt-ope
  sudo: True
munin-async01:
  host: 192.168.1.14
  user: salt-ope
  passwd: salt-ope
  sudo: True
munin:
  host: 192.168.1.15
  user: salt-ope
  passwd: salt-ope
  sudo: True
kibana4:
  host: 192.168.1.37
  user: salt-ope
  passwd: salt-ope
  sudo: True
munin_cent71:
  host: 192.168.1.19
  user: salt-ope
  passwd: salt-ope
  sudo: True
ceph-deploy:
  host: 192.168.1.5
  user: salt-ope
  passwd: salt-ope
  sudo: True
ceph-node01:
  host: 192.168.1.6
  user: salt-ope
  passwd: salt-ope
  sudo: True
ceph-node02:
  host: 192.168.1.16
  user: salt-ope
  passwd: salt-ope
  sudo: True
ceph-node03:
  host: 192.168.1.18
  user: salt-ope
  passwd: salt-ope
  sudo: True
ceph-admin:
  host: 192.168.1.20
  user: salt-ope
  passwd: salt-ope
  sudo: True

2016-10-19 23:58:04,242 [salt.loaded.int.render.yaml][DEBUG   ][1678] Results of YAML rendering: 
OrderedDict([('local', OrderedDict([('host', '127.0.0.1'), ('user', 'salt-ope'), ('passwd', 'salt-ope'), ('sudo', True)])), ('nagioslog', OrderedDict([('host', '192.168.1.12'), ('user', 'salt-ope'), ('passwd', 'salt-ope'), ('sudo', True)])), ('munin-async01', OrderedDict([('host', '192.168.1.14'), ('user', 'salt-ope'), ('passwd', 'salt-ope'), ('sudo', True)])), ('munin', OrderedDict([('host', '192.168.1.15'), ('user', 'salt-ope'), ('passwd', 'salt-ope'), ('sudo', True)])), ('kibana4', OrderedDict([('host', '192.168.1.37'), ('user', 'salt-ope'), ('passwd', 'salt-ope'), ('sudo', True)])), ('munin_cent71', OrderedDict([('host', '192.168.1.19'), ('user', 'salt-ope'), ('passwd', 'salt-ope'), ('sudo', True)])), ('ceph-deploy', OrderedDict([('host', '192.168.1.5'), ('user', 'salt-ope'), ('passwd', 'salt-ope'), ('sudo', True)])), ('ceph-node01', OrderedDict([('host', '192.168.1.6'), ('user', 'salt-ope'), ('passwd', 'salt-ope'), ('sudo', True)])), ('ceph-node02', OrderedDict([('host', '192.168.1.16'), ('user', 'salt-ope'), ('passwd', 'salt-ope'), ('sudo', True)])), ('ceph-node03', OrderedDict([('host', '192.168.1.18'), ('user', 'salt-ope'), ('passwd', 'salt-ope'), ('sudo', True)])), ('ceph-admin', OrderedDict([('host', '192.168.1.20'), ('user', 'salt-ope'), ('passwd', 'salt-ope'), ('sudo', True)]))])
2016-10-19 23:58:04,242 [salt.template    ][PROFILE ][1678] Time (in seconds) to render './roster' using 'yaml' renderer: 0.016608953476
2016-10-19 23:58:04,243 [salt.roster      ][DEBUG   ][1678] Matched minions: {'munin': OrderedDict([('host', '192.168.1.15'), ('user', 'salt-ope'), ('passwd', 'salt-ope'), ('sudo', True)])}
2016-10-19 23:58:04,246 [salt.utils.lazy  ][DEBUG   ][1678] LazyLoaded roots.envs
2016-10-19 23:58:04,251 [salt.utils.lazy  ][DEBUG   ][1678] Could not LazyLoad roots.init
2016-10-19 23:58:04,252 [salt.fileserver  ][DEBUG   ][1678] Updating roots fileserver cache
2016-10-19 23:58:04,257 [salt.fileserver  ][TRACE   ][1678] Lockfile /root/saltstack_master/var/cache/salt/master/file_lists/roots/.base.w created
2016-10-19 23:58:04,261 [salt.fileserver  ][TRACE   ][1678] Lockfile /root/saltstack_master/var/cache/salt/master/file_lists/roots/.base.w removed
2016-10-19 23:58:04,263 [salt.fileclient  ][DEBUG   ][1678] In saltenv 'base', looking at rel_path '_modules/custom_munin.py' to resolve 'salt://_modules/custom_munin.py'
2016-10-19 23:58:04,263 [salt.fileclient  ][DEBUG   ][1678] In saltenv 'base', ** considering ** path '/root/saltstack_master/var/cache/salt/master/files/base/_modules/custom_munin.py' to resolve 'salt://_modules/custom_munin.py'
2016-10-19 23:58:04,263 [salt.fileclient  ][INFO    ][1678] Fetching file from saltenv 'base', ** skipped ** latest already in cache 'salt://_modules/custom_munin.py'
2016-10-19 23:58:04,265 [salt.utils.lazy  ][DEBUG   ][1678] LazyLoaded local_cache.prep_jid
2016-10-19 23:58:04,265 [salt.loaded.int.returner.local_cache][DEBUG   ][1678] Adding minions for job 20161019235804264837: ['munin']
2016-10-19 23:58:04,326 [salt.utils.lazy  ][DEBUG   ][1694] LazyLoaded state.apply
2016-10-19 23:58:04,363 [salt.client.ssh  ][DEBUG   ][1694] Performing shimmed, blocking command as follows:
test.opts_pkg
2016-10-19 23:58:04,386 [salt.client.ssh.shell][DEBUG   ][1694] Executed SHIM command. Command logged to TRACE
2016-10-19 23:58:04,386 [salt.client.ssh.shell][TRACE   ][1694] Executing command: ssh 192.168.1.15  -o KbdInteractiveAuthentication=no -o PasswordAuthentication=yes -o GSSAPIAuthentication=no -o ConnectTimeout=65 -o Port=22 -o IdentityFile=/root/saltstack_master/etc/salt/pki/master/ssh/salt-ssh.rsa -o User=******  /bin/sh << 'EOF'
set -e
set -u
DEBUG="1"
if [ -n "$DEBUG" ]
then set -x
fi
SUDO=""
if [ -n "sudo" ]
then SUDO="sudo "
fi
EX_PYTHON_INVALID=10
PYTHON_CMDS="python3 python27 python2.7 python26 python2.6 python2 python"
for py_cmd in $PYTHON_CMDS
do
if command -v "$py_cmd" >/dev/null 2>&1 && "$py_cmd" -c \
"import sys; sys.exit(not (sys.version_info >= (2, 6)
and sys.version_info[0] == 2));"
then
py_cmd_path=`"$py_cmd" -c \
'from __future__ import print_function;
import sys; print(sys.executable);'`
cmdpath=$(which $py_cmd 2>&1)
if file $cmdpath | grep "shell script" > /dev/null
then
ex_vars="'PATH', 'LD_LIBRARY_PATH', 'MANPATH', \
'XDG_DATA_DIRS', 'PKG_CONFIG_PATH'"
export $($py_cmd -c \
"from __future__ import print_function;
import sys;
import os;
map(sys.stdout.write, ['{0}={1} ' \
.format(x, os.environ[x]) for x in [$ex_vars]])")
exec $SUDO PATH=$PATH LD_LIBRARY_PATH=$LD_LIBRARY_PATH \
MANPATH=$MANPATH XDG_DATA_DIRS=$XDG_DATA_DIRS \
PKG_CONFIG_PATH=$PKG_CONFIG_PATH \
"$py_cmd_path" -c \
'import base64;
exec(base64.b64decode("""IyBweWxpbnQ6IGRpc2FibGU9Vzk5MDMKJycnClRoaXMgaXMgYSBzaGltIHRoYXQgaGFuZGxlcyBj
aGVja2luZyBhbmQgdXBkYXRpbmcgc2FsdCB0aGluIGFuZAp0aGVuIGludm9raW5nIHRoaW4uCgpU
aGlzIGlzIG5vdCBpbnRlbmRlZCB0byBiZSBpbnN0YW50aWF0ZWQgYXMgYSBtb2R1bGUsIHJhdGhl
ciBpdCBpcyBhCmhlbHBlciBzY3JpcHQgdXNlZCBieSBzYWx0LmNsaWVudC5zc2guU2luZ2xlLiAg
SXQgaXMgaGVyZSwgaW4gYQpzZXBhcmF0ZSBmaWxlLCBmb3IgY29udmVuaWVuY2Ugb2YgZGV2ZWxv
cG1lbnQuCicnJwoKZnJvbSBfX2Z1dHVyZV9fIGltcG9ydCBhYnNvbHV0ZV9pbXBvcnQKCmltcG9y
dCBoYXNobGliCmltcG9ydCB0YXJmaWxlCmltcG9ydCBzaHV0aWwKaW1wb3J0IHN5cwppbXBvcnQg
b3MKaW1wb3J0IHN0YXQKaW1wb3J0IHN1YnByb2Nlc3MKClRISU5fQVJDSElWRSA9ICdzYWx0LXRo
aW4udGd6JwpFWFRfQVJDSElWRSA9ICdzYWx0LWV4dF9tb2RzLnRneicKCiMgS2VlcCB0aGVzZSBp
biBzeW5jIHdpdGggc2FsdC9kZWZhdWx0cy9leGl0Y29kZXMucHkKRVhfVEhJTl9ERVBMT1kgPSAx
MQpFWF9USElOX0NIRUNLU1VNID0gMTIKRVhfTU9EX0RFUExPWSA9IDEzCkVYX1NDUF9OT1RfRk9V
TkQgPSAxNApFWF9DQU5UQ1JFQVQgPSA3MwoKCmNsYXNzIE9CSihvYmplY3QpOgogICAgIiIiQW4g
ZW1wdHkgY2xhc3MgZm9yIGhvbGRpbmcgaW5zdGFuY2UgYXR0cmlidXRlIHZhbHVlcy4iIiIKICAg
IHBhc3MKCgpPUFRJT05TID0gTm9uZQpBUkdTID0gTm9uZQojIFRoZSBiZWxvdyBsaW5lIGlzIHdo
ZXJlIE9QVElPTlMgY2FuIGJlIHJlZGVmaW5lZCB3aXRoIGludGVybmFsIG9wdGlvbnMKIyAocmF0
aGVyIHRoYW4gY2xpIGFyZ3VtZW50cykgd2hlbiB0aGUgc2hpbSBpcyBidW5kbGVkIGJ5CiMgY2xp
ZW50LnNzaC5TaW5nbGUuX2NtZF9zdHIoKQojIHB5bGludDogZGlzYWJsZT1ibG9jay1jb21tZW50
LXNob3VsZC1zdGFydC13aXRoLWNhcmRpbmFsLXNwYWNlCgpPUFRJT05TID0gT0JKKCkKT1BUSU9O
Uy5jb25maWcgPSAiIiIKe2ZpbGVzZXJ2ZXJfbGlzdF9jYWNoZV90aW1lOiAzLCBncmFpbnNfY2Fj
aGU6IHRydWUsIGlkOiBtdW5pbiwgbG9nX2ZpbGU6IHNhbHQtY2FsbC5sb2csCiAgcm9vdF9kaXI6
IC92YXIvdG1wLy5zYWx0LW9wZV8xYTM1MzJfc2FsdC9ydW5uaW5nX2RhdGEsIHNvY2tfZGlyOiAv
fQoiIiIKT1BUSU9OUy5kZWxpbWl0ZXIgPSAnX2VkYmM3ODg1ZTRmOWFhYzliODNiMzU5OTliNjhk
MDE1MTQ4Y2FmNDY3Yjc4ZmEzOWMwNWY2NjljMGZmODk4NzgnCk9QVElPTlMuc2FsdGRpciA9ICcv
dmFyL3RtcC8uc2FsdC1vcGVfMWEzNTMyX3NhbHQnCk9QVElPTlMuY2hlY2tzdW0gPSAnOTg1MjZk
OTliMWU3YjA3OWRjZWZjZWM5ZmE1Yjg1MWZmYmY5ODEzZCcKT1BUSU9OUy5oYXNoZnVuYyA9ICdz
aGExJwpPUFRJT05TLnZlcnNpb24gPSAnMjAxNi4zLjInCk9QVElPTlMuZXh0X21vZHMgPSAnNzQx
OTZlMDExNDUyMWUyYWRjNjlkNjgxY2U2YTQ1NjNiYTBhZTFlYicKT1BUSU9OUy53aXBlID0gRmFs
c2UKT1BUSU9OUy50dHkgPSBGYWxzZQpPUFRJT05TLmNtZF91bWFzayA9IE5vbmUKQVJHUyA9IFsn
dGVzdC5vcHRzX3BrZyddCgoKCmRlZiBuZWVkX2RlcGxveW1lbnQoKToKICAgICIiIgogICAgU2Fs
dCB0aGluIG5lZWRzIHRvIGJlIGRlcGxveWVkIC0gcHJlcCB0aGUgdGFyZ2V0IGRpcmVjdG9yeSBh
bmQgZW1pdCB0aGUKICAgIGRlbGltZXRlciBhbmQgZXhpdCBjb2RlIHRoYXQgc2lnbmFscyBhIHJl
cXVpcmVkIGRlcGxveW1lbnQuCiAgICAiIiIKICAgIGlmIG9zLnBhdGguZXhpc3RzKE9QVElPTlMu
c2FsdGRpcik6CiAgICAgICAgc2h1dGlsLnJtdHJlZShPUFRJT05TLnNhbHRkaXIpCiAgICBvbGRf
dW1hc2sgPSBvcy51bWFzaygwbzA3NykKICAgIG9zLm1ha2VkaXJzKE9QVElPTlMuc2FsdGRpcikK
ICAgIG9zLnVtYXNrKG9sZF91bWFzaykKICAgICMgVmVyaWZ5IHBlcm1zIG9uIHNhbHRkaXIKICAg
IGV1aWQgPSBvcy5nZXRldWlkKCkKICAgIGRzdGF0ID0gb3Muc3RhdChPUFRJT05TLnNhbHRkaXIp
CiAgICBpZiBkc3RhdC5zdF91aWQgIT0gZXVpZDoKICAgICAgICAjIEF0dGFjayBkZXRlY3RlZCwg
dHJ5IGFnYWluCiAgICAgICAgbmVlZF9kZXBsb3ltZW50KCkKICAgIGlmIGRzdGF0LnN0X21vZGUg
IT0gMTY4MzI6CiAgICAgICAgIyBBdHRhY2sgZGV0ZWN0ZWQKICAgICAgICBuZWVkX2RlcGxveW1l
bnQoKQogICAgIyBJZiBTVURPaW5nIHRoZW4gYWxzbyBnaXZlIHRoZSBzdXBlciB1c2VyIGdyb3Vw
IHdyaXRlIHBlcm1pc3Npb25zCiAgICBzdWRvX2dpZCA9IG9zLmVudmlyb24uZ2V0KCdTVURPX0dJ
RCcpCiAgICBpZiBzdWRvX2dpZDoKICAgICAgICBvcy5jaG93bihPUFRJT05TLnNhbHRkaXIsIC0x
LCBpbnQoc3Vkb19naWQpKQogICAgICAgIHN0dCA9IG9zLnN0YXQoT1BUSU9OUy5zYWx0ZGlyKQog
ICAgICAgIG9zLmNobW9kKE9QVElPTlMuc2FsdGRpciwgc3R0LnN0X21vZGUgfCBzdGF0LlNfSVdH
UlAgfCBzdGF0LlNfSVJHUlAgfCBzdGF0LlNfSVhHUlApCgogICAgIyBEZWxpbWl0ZXIgZW1pdHRl
ZCBvbiBzdGRvdXQgKm9ubHkqIHRvIGluZGljYXRlIHNoaW0gbWVzc2FnZSB0byBtYXN0ZXIuCiAg
ICBzeXMuc3Rkb3V0LndyaXRlKCJ7MH1cbmRlcGxveVxuIi5mb3JtYXQoT1BUSU9OUy5kZWxpbWl0
ZXIpKQogICAgc3lzLmV4aXQoRVhfVEhJTl9ERVBMT1kpCgoKIyBBZGFwdGVkIGZyb20gc2FsdC51
dGlscy5nZXRfaGFzaCgpCmRlZiBnZXRfaGFzaChwYXRoLCBmb3JtPSdzaGExJywgY2h1bmtfc2l6
ZT00MDk2KToKICAgICIiIkdlbmVyYXRlIGEgaGFzaCBkaWdlc3Qgc3RyaW5nIGZvciBhIGZpbGUu
IiIiCiAgICB0cnk6CiAgICAgICAgaGFzaF90eXBlID0gZ2V0YXR0cihoYXNobGliLCBmb3JtKQog
ICAgZXhjZXB0IEF0dHJpYnV0ZUVycm9yOgogICAgICAgIHJhaXNlIFZhbHVlRXJyb3IoJ0ludmFs
aWQgaGFzaCB0eXBlOiB7MH0nLmZvcm1hdChmb3JtKSkKICAgIHdpdGggb3BlbihwYXRoLCAncmIn
KSBhcyBpZmlsZToKICAgICAgICBoYXNoX29iaiA9IGhhc2hfdHlwZSgpCiAgICAgICAgIyByZWFk
IHRoZSBmaWxlIGluIGluIGNodW5rcywgbm90IHRoZSBlbnRpcmUgZmlsZQogICAgICAgIGZvciBj
aHVuayBpbiBpdGVyKGxhbWJkYTogaWZpbGUucmVhZChjaHVua19zaXplKSwgYicnKToKICAgICAg
ICAgICAgaGFzaF9vYmoudXBkYXRlKGNodW5rKQogICAgICAgIHJldHVybiBoYXNoX29iai5oZXhk
aWdlc3QoKQoKCmRlZiB1bnBhY2tfdGhpbih0aGluX3BhdGgpOgogICAgIiIiVW5wYWNrIHRoZSBT
YWx0IHRoaW4gYXJjaGl2ZS4iIiIKICAgIHRmaWxlID0gdGFyZmlsZS5UYXJGaWxlLmd6b3Blbih0
aGluX3BhdGgpCiAgICBvbGRfdW1hc2sgPSBvcy51bWFzaygwbzA3NykKICAgIHRmaWxlLmV4dHJh
Y3RhbGwocGF0aD1PUFRJT05TLnNhbHRkaXIpCiAgICB0ZmlsZS5jbG9zZSgpCiAgICBvcy51bWFz
ayhvbGRfdW1hc2spCiAgICBvcy51bmxpbmsodGhpbl9wYXRoKQoKCmRlZiBuZWVkX2V4dCgpOgog
ICAgIiIiU2lnbmFsIHRoYXQgZXh0ZXJuYWwgbW9kdWxlcyBuZWVkIHRvIGJlIGRlcGxveWVkLiIi
IgogICAgc3lzLnN0ZG91dC53cml0ZSgiezB9XG5leHRfbW9kc1xuIi5mb3JtYXQoT1BUSU9OUy5k
ZWxpbWl0ZXIpKQogICAgc3lzLmV4aXQoRVhfTU9EX0RFUExPWSkKCgpkZWYgdW5wYWNrX2V4dChl
eHRfcGF0aCk6CiAgICAiIiJVbnBhY2sgdGhlIGV4dGVybmFsIG1vZHVsZXMuIiIiCiAgICBtb2Rj
YWNoZSA9IG9zLnBhdGguam9pbigKICAgICAgICAgICAgT1BUSU9OUy5zYWx0ZGlyLAogICAgICAg
ICAgICAncnVubmluZ19kYXRhJywKICAgICAgICAgICAgJ3ZhcicsCiAgICAgICAgICAgICdjYWNo
ZScsCiAgICAgICAgICAgICdzYWx0JywKICAgICAgICAgICAgJ21pbmlvbicsCiAgICAgICAgICAg
ICdleHRtb2RzJykKICAgIHRmaWxlID0gdGFyZmlsZS5UYXJGaWxlLmd6b3BlbihleHRfcGF0aCkK
ICAgIG9sZF91bWFzayA9IG9zLnVtYXNrKDBvMDc3KQogICAgdGZpbGUuZXh0cmFjdGFsbChwYXRo
PW1vZGNhY2hlKQogICAgdGZpbGUuY2xvc2UoKQogICAgb3MudW1hc2sob2xkX3VtYXNrKQogICAg
b3MudW5saW5rKGV4dF9wYXRoKQogICAgdmVyX3BhdGggPSBvcy5wYXRoLmpvaW4obW9kY2FjaGUs
ICdleHRfdmVyc2lvbicpCiAgICB2ZXJfZHN0ID0gb3MucGF0aC5qb2luKE9QVElPTlMuc2FsdGRp
ciwgJ2V4dF92ZXJzaW9uJykKICAgIHNodXRpbC5tb3ZlKHZlcl9wYXRoLCB2ZXJfZHN0KQoKCmRl
ZiBtYWluKGFyZ3YpOiAgIyBweWxpbnQ6IGRpc2FibGU9VzA2MTMKICAgICIiIk1haW4gcHJvZ3Jh
bSBib2R5IiIiCiAgICB0aGluX3BhdGggPSBvcy5wYXRoLmpvaW4oT1BUSU9OUy5zYWx0ZGlyLCBU
SElOX0FSQ0hJVkUpCiAgICBpZiBvcy5wYXRoLmlzZmlsZSh0aGluX3BhdGgpOgogICAgICAgIGlm
IE9QVElPTlMuY2hlY2tzdW0gIT0gZ2V0X2hhc2godGhpbl9wYXRoLCBPUFRJT05TLmhhc2hmdW5j
KToKICAgICAgICAgICAgc3lzLnN0ZGVyci53cml0ZSgnezB9XG4nLmZvcm1hdChPUFRJT05TLmNo
ZWNrc3VtKSkKICAgICAgICAgICAgc3lzLnN0ZGVyci53cml0ZSgnezB9XG4nLmZvcm1hdChnZXRf
aGFzaCh0aGluX3BhdGgsIE9QVElPTlMuaGFzaGZ1bmMpKSkKICAgICAgICAgICAgb3MudW5saW5r
KHRoaW5fcGF0aCkKICAgICAgICAgICAgc3lzLnN0ZGVyci53cml0ZSgnV0FSTklORzogY2hlY2tz
dW0gbWlzbWF0Y2ggZm9yICJ7MH0iXG4nLmZvcm1hdCh0aGluX3BhdGgpKQogICAgICAgICAgICBz
eXMuZXhpdChFWF9USElOX0NIRUNLU1VNKQogICAgICAgIHVucGFja190aGluKHRoaW5fcGF0aCkK
ICAgICAgICAjIFNhbHQgdGhpbiBub3cgaXMgYXZhaWxhYmxlIHRvIHVzZQogICAgZWxzZToKICAg
ICAgICBzY3BzdGF0ID0gc3VicHJvY2Vzcy5Qb3BlbihbJy9iaW4vc2gnLCAnLWMnLCAnY29tbWFu
ZCAtdiBzY3AnXSkud2FpdCgpCiAgICAgICAgaWYgc2Nwc3RhdCAhPSAwOgogICAgICAgICAgICBz
eXMuZXhpdChFWF9TQ1BfTk9UX0ZPVU5EKQoKICAgICAgICBpZiBub3Qgb3MucGF0aC5leGlzdHMo
T1BUSU9OUy5zYWx0ZGlyKToKICAgICAgICAgICAgbmVlZF9kZXBsb3ltZW50KCkKCiAgICAgICAg
aWYgbm90IG9zLnBhdGguaXNkaXIoT1BUSU9OUy5zYWx0ZGlyKToKICAgICAgICAgICAgc3lzLnN0
ZGVyci53cml0ZSgKICAgICAgICAgICAgICAgICdFUlJPUjogc2FsdCBwYXRoICJ7MH0iIGV4aXN0
cyBidXQgaXMnCiAgICAgICAgICAgICAgICAnIG5vdCBhIGRpcmVjdG9yeVxuJy5mb3JtYXQoT1BU
SU9OUy5zYWx0ZGlyKQogICAgICAgICAgICApCiAgICAgICAgICAgIHN5cy5leGl0KEVYX0NBTlRD
UkVBVCkKCiAgICAgICAgdmVyc2lvbl9wYXRoID0gb3MucGF0aC5qb2luKE9QVElPTlMuc2FsdGRp
ciwgJ3ZlcnNpb24nKQogICAgICAgIGlmIG5vdCBvcy5wYXRoLmV4aXN0cyh2ZXJzaW9uX3BhdGgp
IG9yIG5vdCBvcy5wYXRoLmlzZmlsZSh2ZXJzaW9uX3BhdGgpOgogICAgICAgICAgICBzeXMuc3Rk
ZXJyLndyaXRlKAogICAgICAgICAgICAgICAgJ1dBUk5JTkc6IFVuYWJsZSB0byBsb2NhdGUgY3Vy
cmVudCB0aGluICcKICAgICAgICAgICAgICAgICcgdmVyc2lvbjogezB9LlxuJy5mb3JtYXQodmVy
c2lvbl9wYXRoKQogICAgICAgICAgICApCiAgICAgICAgICAgIG5lZWRfZGVwbG95bWVudCgpCiAg
ICAgICAgd2l0aCBvcGVuKHZlcnNpb25fcGF0aCwgJ3InKSBhcyB2cG86CiAgICAgICAgICAgIGN1
cl92ZXJzaW9uID0gdnBvLnJlYWRsaW5lKCkuc3RyaXAoKQogICAgICAgIGlmIGN1cl92ZXJzaW9u
ICE9IE9QVElPTlMudmVyc2lvbjoKICAgICAgICAgICAgc3lzLnN0ZGVyci53cml0ZSgKICAgICAg
ICAgICAgICAgICdXQVJOSU5HOiBjdXJyZW50IHRoaW4gdmVyc2lvbiB7MH0nCiAgICAgICAgICAg
ICAgICAnIGlzIG5vdCB1cC10by1kYXRlIHdpdGggezF9LlxuJy5mb3JtYXQoCiAgICAgICAgICAg
ICAgICAgICAgY3VyX3ZlcnNpb24sIE9QVElPTlMudmVyc2lvbgogICAgICAgICAgICAgICAgKQog
ICAgICAgICAgICApCiAgICAgICAgICAgIG5lZWRfZGVwbG95bWVudCgpCiAgICAgICAgIyBTYWx0
IHRoaW4gZXhpc3RzIGFuZCBpcyB1cC10by1kYXRlIC0gZmFsbCB0aHJvdWdoIGFuZCB1c2UgaXQK
CiAgICBzYWx0X2NhbGxfcGF0aCA9IG9zLnBhdGguam9pbihPUFRJT05TLnNhbHRkaXIsICdzYWx0
LWNhbGwnKQogICAgaWYgbm90IG9zLnBhdGguaXNmaWxlKHNhbHRfY2FsbF9wYXRoKToKICAgICAg
ICBzeXMuc3RkZXJyLndyaXRlKCdFUlJPUjogdGhpbiBpcyBtaXNzaW5nICJ7MH0iXG4nLmZvcm1h
dChzYWx0X2NhbGxfcGF0aCkpCiAgICAgICAgbmVlZF9kZXBsb3ltZW50KCkKCiAgICB3aXRoIG9w
ZW4ob3MucGF0aC5qb2luKE9QVElPTlMuc2FsdGRpciwgJ21pbmlvbicpLCAndycpIGFzIGNvbmZp
ZzoKICAgICAgICBjb25maWcud3JpdGUoT1BUSU9OUy5jb25maWcgKyAnXG4nKQogICAgaWYgT1BU
SU9OUy5leHRfbW9kczoKICAgICAgICBleHRfcGF0aCA9IG9zLnBhdGguam9pbihPUFRJT05TLnNh
bHRkaXIsIEVYVF9BUkNISVZFKQogICAgICAgIGlmIG9zLnBhdGguZXhpc3RzKGV4dF9wYXRoKToK
ICAgICAgICAgICAgdW5wYWNrX2V4dChleHRfcGF0aCkKICAgICAgICBlbHNlOgogICAgICAgICAg
ICB2ZXJzaW9uX3BhdGggPSBvcy5wYXRoLmpvaW4oT1BUSU9OUy5zYWx0ZGlyLCAnZXh0X3ZlcnNp
b24nKQogICAgICAgICAgICBpZiBub3Qgb3MucGF0aC5leGlzdHModmVyc2lvbl9wYXRoKSBvciBu
b3Qgb3MucGF0aC5pc2ZpbGUodmVyc2lvbl9wYXRoKToKICAgICAgICAgICAgICAgIG5lZWRfZXh0
KCkKICAgICAgICAgICAgd2l0aCBvcGVuKHZlcnNpb25fcGF0aCwgJ3InKSBhcyB2cG86CiAgICAg
ICAgICAgICAgICBjdXJfdmVyc2lvbiA9IHZwby5yZWFkbGluZSgpLnN0cmlwKCkKICAgICAgICAg
ICAgaWYgY3VyX3ZlcnNpb24gIT0gT1BUSU9OUy5leHRfbW9kczoKICAgICAgICAgICAgICAgIG5l
ZWRfZXh0KCkKICAgICMgRml4IHBhcmFtZXRlciBwYXNzaW5nIGlzc3VlCiAgICBpZiBsZW4oQVJH
UykgPT0gMToKICAgICAgICBhcmd2X3ByZXBhcmVkID0gQVJHU1swXS5zcGxpdCgpCiAgICBlbHNl
OgogICAgICAgIGFyZ3ZfcHJlcGFyZWQgPSBBUkdTCgogICAgc2FsdF9hcmd2ID0gWwogICAgICAg
IHN5cy5leGVjdXRhYmxlLAogICAgICAgIHNhbHRfY2FsbF9wYXRoLAogICAgICAgICctLXJldGNv
ZGUtcGFzc3Rocm91Z2gnLAogICAgICAgICctLWxvY2FsJywKICAgICAgICAnLS1tZXRhZGF0YScs
CiAgICAgICAgJy0tb3V0JywgJ2pzb24nLAogICAgICAgICctbCcsICdxdWlldCcsCiAgICAgICAg
Jy1jJywgT1BUSU9OUy5zYWx0ZGlyLAogICAgICAgICctLScsCiAgICBdICsgYXJndl9wcmVwYXJl
ZAoKICAgIHN5cy5zdGRlcnIud3JpdGUoJ1NBTFRfQVJHVjogezB9XG4nLmZvcm1hdChzYWx0X2Fy
Z3YpKQoKICAgICMgT25seSBlbWl0IHRoZSBkZWxpbWl0ZXIgb24gKmJvdGgqIHN0ZG91dCBhbmQg
c3RkZXJyIHdoZW4gY29tcGxldGVseSBzdWNjZXNzZnVsLgogICAgIyBZZXMsIHRoZSBmbHVzaCgp
IGlzIG5lY2Vzc2FyeS4KICAgIHN5cy5zdGRvdXQud3JpdGUoT1BUSU9OUy5kZWxpbWl0ZXIgKyAn
XG4nKQogICAgc3lzLnN0ZG91dC5mbHVzaCgpCiAgICBpZiBub3QgT1BUSU9OUy50dHk6CiAgICAg
ICAgc3lzLnN0ZGVyci53cml0ZShPUFRJT05TLmRlbGltaXRlciArICdcbicpCiAgICAgICAgc3lz
LnN0ZGVyci5mbHVzaCgpCiAgICBpZiBPUFRJT05TLmNtZF91bWFzayBpcyBub3QgTm9uZToKICAg
ICAgICBvbGRfdW1hc2sgPSBvcy51bWFzayhPUFRJT05TLmNtZF91bWFzaykKICAgIGlmIE9QVElP
TlMudHR5OgogICAgICAgIHN0ZG91dCwgXyA9IHN1YnByb2Nlc3MuUG9wZW4oc2FsdF9hcmd2LCBz
dGRvdXQ9c3VicHJvY2Vzcy5QSVBFLCBzdGRlcnI9c3VicHJvY2Vzcy5QSVBFKS5jb21tdW5pY2F0
ZSgpCiAgICAgICAgc3lzLnN0ZG91dC53cml0ZShzdGRvdXQpCiAgICAgICAgc3lzLnN0ZG91dC5m
bHVzaCgpCiAgICAgICAgaWYgT1BUSU9OUy53aXBlOgogICAgICAgICAgICBzaHV0aWwucm10cmVl
KE9QVElPTlMuc2FsdGRpcikKICAgIGVsaWYgT1BUSU9OUy53aXBlOgogICAgICAgIHN1YnByb2Nl
c3MuY2FsbChzYWx0X2FyZ3YpCiAgICAgICAgc2h1dGlsLnJtdHJlZShPUFRJT05TLnNhbHRkaXIp
CiAgICBlbHNlOgogICAgICAgIG9zLmV4ZWN2KHN5cy5leGVjdXRhYmxlLCBzYWx0X2FyZ3YpCiAg
ICBpZiBPUFRJT05TLmNtZF91bWFzayBpcyBub3QgTm9uZToKICAgICAgICBvcy51bWFzayhvbGRf
dW1hc2spCgppZiBfX25hbWVfXyA9PSAnX19tYWluX18nOgogICAgc3lzLmV4aXQobWFpbihzeXMu
YXJndikpCg==
""").decode("utf-8"))'
else
exec $SUDO "$py_cmd_path" -c \
'import base64;
exec(base64.b64decode("""IyBweWxpbnQ6IGRpc2FibGU9Vzk5MDMKJycnClRoaXMgaXMgYSBzaGltIHRoYXQgaGFuZGxlcyBj
aGVja2luZyBhbmQgdXBkYXRpbmcgc2FsdCB0aGluIGFuZAp0aGVuIGludm9raW5nIHRoaW4uCgpU
aGlzIGlzIG5vdCBpbnRlbmRlZCB0byBiZSBpbnN0YW50aWF0ZWQgYXMgYSBtb2R1bGUsIHJhdGhl
ciBpdCBpcyBhCmhlbHBlciBzY3JpcHQgdXNlZCBieSBzYWx0LmNsaWVudC5zc2guU2luZ2xlLiAg
SXQgaXMgaGVyZSwgaW4gYQpzZXBhcmF0ZSBmaWxlLCBmb3IgY29udmVuaWVuY2Ugb2YgZGV2ZWxv
cG1lbnQuCicnJwoKZnJvbSBfX2Z1dHVyZV9fIGltcG9ydCBhYnNvbHV0ZV9pbXBvcnQKCmltcG9y
dCBoYXNobGliCmltcG9ydCB0YXJmaWxlCmltcG9ydCBzaHV0aWwKaW1wb3J0IHN5cwppbXBvcnQg
b3MKaW1wb3J0IHN0YXQKaW1wb3J0IHN1YnByb2Nlc3MKClRISU5fQVJDSElWRSA9ICdzYWx0LXRo
aW4udGd6JwpFWFRfQVJDSElWRSA9ICdzYWx0LWV4dF9tb2RzLnRneicKCiMgS2VlcCB0aGVzZSBp
biBzeW5jIHdpdGggc2FsdC9kZWZhdWx0cy9leGl0Y29kZXMucHkKRVhfVEhJTl9ERVBMT1kgPSAx
MQpFWF9USElOX0NIRUNLU1VNID0gMTIKRVhfTU9EX0RFUExPWSA9IDEzCkVYX1NDUF9OT1RfRk9V
TkQgPSAxNApFWF9DQU5UQ1JFQVQgPSA3MwoKCmNsYXNzIE9CSihvYmplY3QpOgogICAgIiIiQW4g
ZW1wdHkgY2xhc3MgZm9yIGhvbGRpbmcgaW5zdGFuY2UgYXR0cmlidXRlIHZhbHVlcy4iIiIKICAg
IHBhc3MKCgpPUFRJT05TID0gTm9uZQpBUkdTID0gTm9uZQojIFRoZSBiZWxvdyBsaW5lIGlzIHdo
ZXJlIE9QVElPTlMgY2FuIGJlIHJlZGVmaW5lZCB3aXRoIGludGVybmFsIG9wdGlvbnMKIyAocmF0
aGVyIHRoYW4gY2xpIGFyZ3VtZW50cykgd2hlbiB0aGUgc2hpbSBpcyBidW5kbGVkIGJ5CiMgY2xp
ZW50LnNzaC5TaW5nbGUuX2NtZF9zdHIoKQojIHB5bGludDogZGlzYWJsZT1ibG9jay1jb21tZW50
LXNob3VsZC1zdGFydC13aXRoLWNhcmRpbmFsLXNwYWNlCgpPUFRJT05TID0gT0JKKCkKT1BUSU9O
Uy5jb25maWcgPSAiIiIKe2ZpbGVzZXJ2ZXJfbGlzdF9jYWNoZV90aW1lOiAzLCBncmFpbnNfY2Fj
aGU6IHRydWUsIGlkOiBtdW5pbiwgbG9nX2ZpbGU6IHNhbHQtY2FsbC5sb2csCiAgcm9vdF9kaXI6
IC92YXIvdG1wLy5zYWx0LW9wZV8xYTM1MzJfc2FsdC9ydW5uaW5nX2RhdGEsIHNvY2tfZGlyOiAv
fQoiIiIKT1BUSU9OUy5kZWxpbWl0ZXIgPSAnX2VkYmM3ODg1ZTRmOWFhYzliODNiMzU5OTliNjhk
MDE1MTQ4Y2FmNDY3Yjc4ZmEzOWMwNWY2NjljMGZmODk4NzgnCk9QVElPTlMuc2FsdGRpciA9ICcv
dmFyL3RtcC8uc2FsdC1vcGVfMWEzNTMyX3NhbHQnCk9QVElPTlMuY2hlY2tzdW0gPSAnOTg1MjZk
OTliMWU3YjA3OWRjZWZjZWM5ZmE1Yjg1MWZmYmY5ODEzZCcKT1BUSU9OUy5oYXNoZnVuYyA9ICdz
aGExJwpPUFRJT05TLnZlcnNpb24gPSAnMjAxNi4zLjInCk9QVElPTlMuZXh0X21vZHMgPSAnNzQx
OTZlMDExNDUyMWUyYWRjNjlkNjgxY2U2YTQ1NjNiYTBhZTFlYicKT1BUSU9OUy53aXBlID0gRmFs
c2UKT1BUSU9OUy50dHkgPSBGYWxzZQpPUFRJT05TLmNtZF91bWFzayA9IE5vbmUKQVJHUyA9IFsn
dGVzdC5vcHRzX3BrZyddCgoKCmRlZiBuZWVkX2RlcGxveW1lbnQoKToKICAgICIiIgogICAgU2Fs
dCB0aGluIG5lZWRzIHRvIGJlIGRlcGxveWVkIC0gcHJlcCB0aGUgdGFyZ2V0IGRpcmVjdG9yeSBh
bmQgZW1pdCB0aGUKICAgIGRlbGltZXRlciBhbmQgZXhpdCBjb2RlIHRoYXQgc2lnbmFscyBhIHJl
cXVpcmVkIGRlcGxveW1lbnQuCiAgICAiIiIKICAgIGlmIG9zLnBhdGguZXhpc3RzKE9QVElPTlMu
c2FsdGRpcik6CiAgICAgICAgc2h1dGlsLnJtdHJlZShPUFRJT05TLnNhbHRkaXIpCiAgICBvbGRf
dW1hc2sgPSBvcy51bWFzaygwbzA3NykKICAgIG9zLm1ha2VkaXJzKE9QVElPTlMuc2FsdGRpcikK
ICAgIG9zLnVtYXNrKG9sZF91bWFzaykKICAgICMgVmVyaWZ5IHBlcm1zIG9uIHNhbHRkaXIKICAg
IGV1aWQgPSBvcy5nZXRldWlkKCkKICAgIGRzdGF0ID0gb3Muc3RhdChPUFRJT05TLnNhbHRkaXIp
CiAgICBpZiBkc3RhdC5zdF91aWQgIT0gZXVpZDoKICAgICAgICAjIEF0dGFjayBkZXRlY3RlZCwg
dHJ5IGFnYWluCiAgICAgICAgbmVlZF9kZXBsb3ltZW50KCkKICAgIGlmIGRzdGF0LnN0X21vZGUg
IT0gMTY4MzI6CiAgICAgICAgIyBBdHRhY2sgZGV0ZWN0ZWQKICAgICAgICBuZWVkX2RlcGxveW1l
bnQoKQogICAgIyBJZiBTVURPaW5nIHRoZW4gYWxzbyBnaXZlIHRoZSBzdXBlciB1c2VyIGdyb3Vw
IHdyaXRlIHBlcm1pc3Npb25zCiAgICBzdWRvX2dpZCA9IG9zLmVudmlyb24uZ2V0KCdTVURPX0dJ
RCcpCiAgICBpZiBzdWRvX2dpZDoKICAgICAgICBvcy5jaG93bihPUFRJT05TLnNhbHRkaXIsIC0x
LCBpbnQoc3Vkb19naWQpKQogICAgICAgIHN0dCA9IG9zLnN0YXQoT1BUSU9OUy5zYWx0ZGlyKQog
ICAgICAgIG9zLmNobW9kKE9QVElPTlMuc2FsdGRpciwgc3R0LnN0X21vZGUgfCBzdGF0LlNfSVdH
UlAgfCBzdGF0LlNfSVJHUlAgfCBzdGF0LlNfSVhHUlApCgogICAgIyBEZWxpbWl0ZXIgZW1pdHRl
ZCBvbiBzdGRvdXQgKm9ubHkqIHRvIGluZGljYXRlIHNoaW0gbWVzc2FnZSB0byBtYXN0ZXIuCiAg
ICBzeXMuc3Rkb3V0LndyaXRlKCJ7MH1cbmRlcGxveVxuIi5mb3JtYXQoT1BUSU9OUy5kZWxpbWl0
ZXIpKQogICAgc3lzLmV4aXQoRVhfVEhJTl9ERVBMT1kpCgoKIyBBZGFwdGVkIGZyb20gc2FsdC51
dGlscy5nZXRfaGFzaCgpCmRlZiBnZXRfaGFzaChwYXRoLCBmb3JtPSdzaGExJywgY2h1bmtfc2l6
ZT00MDk2KToKICAgICIiIkdlbmVyYXRlIGEgaGFzaCBkaWdlc3Qgc3RyaW5nIGZvciBhIGZpbGUu
IiIiCiAgICB0cnk6CiAgICAgICAgaGFzaF90eXBlID0gZ2V0YXR0cihoYXNobGliLCBmb3JtKQog
ICAgZXhjZXB0IEF0dHJpYnV0ZUVycm9yOgogICAgICAgIHJhaXNlIFZhbHVlRXJyb3IoJ0ludmFs
aWQgaGFzaCB0eXBlOiB7MH0nLmZvcm1hdChmb3JtKSkKICAgIHdpdGggb3BlbihwYXRoLCAncmIn
KSBhcyBpZmlsZToKICAgICAgICBoYXNoX29iaiA9IGhhc2hfdHlwZSgpCiAgICAgICAgIyByZWFk
IHRoZSBmaWxlIGluIGluIGNodW5rcywgbm90IHRoZSBlbnRpcmUgZmlsZQogICAgICAgIGZvciBj
aHVuayBpbiBpdGVyKGxhbWJkYTogaWZpbGUucmVhZChjaHVua19zaXplKSwgYicnKToKICAgICAg
ICAgICAgaGFzaF9vYmoudXBkYXRlKGNodW5rKQogICAgICAgIHJldHVybiBoYXNoX29iai5oZXhk
aWdlc3QoKQoKCmRlZiB1bnBhY2tfdGhpbih0aGluX3BhdGgpOgogICAgIiIiVW5wYWNrIHRoZSBT
YWx0IHRoaW4gYXJjaGl2ZS4iIiIKICAgIHRmaWxlID0gdGFyZmlsZS5UYXJGaWxlLmd6b3Blbih0
aGluX3BhdGgpCiAgICBvbGRfdW1hc2sgPSBvcy51bWFzaygwbzA3NykKICAgIHRmaWxlLmV4dHJh
Y3RhbGwocGF0aD1PUFRJT05TLnNhbHRkaXIpCiAgICB0ZmlsZS5jbG9zZSgpCiAgICBvcy51bWFz
ayhvbGRfdW1hc2spCiAgICBvcy51bmxpbmsodGhpbl9wYXRoKQoKCmRlZiBuZWVkX2V4dCgpOgog
ICAgIiIiU2lnbmFsIHRoYXQgZXh0ZXJuYWwgbW9kdWxlcyBuZWVkIHRvIGJlIGRlcGxveWVkLiIi
IgogICAgc3lzLnN0ZG91dC53cml0ZSgiezB9XG5leHRfbW9kc1xuIi5mb3JtYXQoT1BUSU9OUy5k
ZWxpbWl0ZXIpKQogICAgc3lzLmV4aXQoRVhfTU9EX0RFUExPWSkKCgpkZWYgdW5wYWNrX2V4dChl
eHRfcGF0aCk6CiAgICAiIiJVbnBhY2sgdGhlIGV4dGVybmFsIG1vZHVsZXMuIiIiCiAgICBtb2Rj
YWNoZSA9IG9zLnBhdGguam9pbigKICAgICAgICAgICAgT1BUSU9OUy5zYWx0ZGlyLAogICAgICAg
ICAgICAncnVubmluZ19kYXRhJywKICAgICAgICAgICAgJ3ZhcicsCiAgICAgICAgICAgICdjYWNo
ZScsCiAgICAgICAgICAgICdzYWx0JywKICAgICAgICAgICAgJ21pbmlvbicsCiAgICAgICAgICAg
ICdleHRtb2RzJykKICAgIHRmaWxlID0gdGFyZmlsZS5UYXJGaWxlLmd6b3BlbihleHRfcGF0aCkK
ICAgIG9sZF91bWFzayA9IG9zLnVtYXNrKDBvMDc3KQogICAgdGZpbGUuZXh0cmFjdGFsbChwYXRo
PW1vZGNhY2hlKQogICAgdGZpbGUuY2xvc2UoKQogICAgb3MudW1hc2sob2xkX3VtYXNrKQogICAg
b3MudW5saW5rKGV4dF9wYXRoKQogICAgdmVyX3BhdGggPSBvcy5wYXRoLmpvaW4obW9kY2FjaGUs
ICdleHRfdmVyc2lvbicpCiAgICB2ZXJfZHN0ID0gb3MucGF0aC5qb2luKE9QVElPTlMuc2FsdGRp
ciwgJ2V4dF92ZXJzaW9uJykKICAgIHNodXRpbC5tb3ZlKHZlcl9wYXRoLCB2ZXJfZHN0KQoKCmRl
ZiBtYWluKGFyZ3YpOiAgIyBweWxpbnQ6IGRpc2FibGU9VzA2MTMKICAgICIiIk1haW4gcHJvZ3Jh
bSBib2R5IiIiCiAgICB0aGluX3BhdGggPSBvcy5wYXRoLmpvaW4oT1BUSU9OUy5zYWx0ZGlyLCBU
SElOX0FSQ0hJVkUpCiAgICBpZiBvcy5wYXRoLmlzZmlsZSh0aGluX3BhdGgpOgogICAgICAgIGlm
IE9QVElPTlMuY2hlY2tzdW0gIT0gZ2V0X2hhc2godGhpbl9wYXRoLCBPUFRJT05TLmhhc2hmdW5j
KToKICAgICAgICAgICAgc3lzLnN0ZGVyci53cml0ZSgnezB9XG4nLmZvcm1hdChPUFRJT05TLmNo
ZWNrc3VtKSkKICAgICAgICAgICAgc3lzLnN0ZGVyci53cml0ZSgnezB9XG4nLmZvcm1hdChnZXRf
aGFzaCh0aGluX3BhdGgsIE9QVElPTlMuaGFzaGZ1bmMpKSkKICAgICAgICAgICAgb3MudW5saW5r
KHRoaW5fcGF0aCkKICAgICAgICAgICAgc3lzLnN0ZGVyci53cml0ZSgnV0FSTklORzogY2hlY2tz
dW0gbWlzbWF0Y2ggZm9yICJ7MH0iXG4nLmZvcm1hdCh0aGluX3BhdGgpKQogICAgICAgICAgICBz
eXMuZXhpdChFWF9USElOX0NIRUNLU1VNKQogICAgICAgIHVucGFja190aGluKHRoaW5fcGF0aCkK
ICAgICAgICAjIFNhbHQgdGhpbiBub3cgaXMgYXZhaWxhYmxlIHRvIHVzZQogICAgZWxzZToKICAg
ICAgICBzY3BzdGF0ID0gc3VicHJvY2Vzcy5Qb3BlbihbJy9iaW4vc2gnLCAnLWMnLCAnY29tbWFu
ZCAtdiBzY3AnXSkud2FpdCgpCiAgICAgICAgaWYgc2Nwc3RhdCAhPSAwOgogICAgICAgICAgICBz
eXMuZXhpdChFWF9TQ1BfTk9UX0ZPVU5EKQoKICAgICAgICBpZiBub3Qgb3MucGF0aC5leGlzdHMo
T1BUSU9OUy5zYWx0ZGlyKToKICAgICAgICAgICAgbmVlZF9kZXBsb3ltZW50KCkKCiAgICAgICAg
aWYgbm90IG9zLnBhdGguaXNkaXIoT1BUSU9OUy5zYWx0ZGlyKToKICAgICAgICAgICAgc3lzLnN0
ZGVyci53cml0ZSgKICAgICAgICAgICAgICAgICdFUlJPUjogc2FsdCBwYXRoICJ7MH0iIGV4aXN0
cyBidXQgaXMnCiAgICAgICAgICAgICAgICAnIG5vdCBhIGRpcmVjdG9yeVxuJy5mb3JtYXQoT1BU
SU9OUy5zYWx0ZGlyKQogICAgICAgICAgICApCiAgICAgICAgICAgIHN5cy5leGl0KEVYX0NBTlRD
UkVBVCkKCiAgICAgICAgdmVyc2lvbl9wYXRoID0gb3MucGF0aC5qb2luKE9QVElPTlMuc2FsdGRp
ciwgJ3ZlcnNpb24nKQogICAgICAgIGlmIG5vdCBvcy5wYXRoLmV4aXN0cyh2ZXJzaW9uX3BhdGgp
IG9yIG5vdCBvcy5wYXRoLmlzZmlsZSh2ZXJzaW9uX3BhdGgpOgogICAgICAgICAgICBzeXMuc3Rk
ZXJyLndyaXRlKAogICAgICAgICAgICAgICAgJ1dBUk5JTkc6IFVuYWJsZSB0byBsb2NhdGUgY3Vy
cmVudCB0aGluICcKICAgICAgICAgICAgICAgICcgdmVyc2lvbjogezB9LlxuJy5mb3JtYXQodmVy
c2lvbl9wYXRoKQogICAgICAgICAgICApCiAgICAgICAgICAgIG5lZWRfZGVwbG95bWVudCgpCiAg
ICAgICAgd2l0aCBvcGVuKHZlcnNpb25fcGF0aCwgJ3InKSBhcyB2cG86CiAgICAgICAgICAgIGN1
cl92ZXJzaW9uID0gdnBvLnJlYWRsaW5lKCkuc3RyaXAoKQogICAgICAgIGlmIGN1cl92ZXJzaW9u
ICE9IE9QVElPTlMudmVyc2lvbjoKICAgICAgICAgICAgc3lzLnN0ZGVyci53cml0ZSgKICAgICAg
ICAgICAgICAgICdXQVJOSU5HOiBjdXJyZW50IHRoaW4gdmVyc2lvbiB7MH0nCiAgICAgICAgICAg
ICAgICAnIGlzIG5vdCB1cC10by1kYXRlIHdpdGggezF9LlxuJy5mb3JtYXQoCiAgICAgICAgICAg
ICAgICAgICAgY3VyX3ZlcnNpb24sIE9QVElPTlMudmVyc2lvbgogICAgICAgICAgICAgICAgKQog
ICAgICAgICAgICApCiAgICAgICAgICAgIG5lZWRfZGVwbG95bWVudCgpCiAgICAgICAgIyBTYWx0
IHRoaW4gZXhpc3RzIGFuZCBpcyB1cC10by1kYXRlIC0gZmFsbCB0aHJvdWdoIGFuZCB1c2UgaXQK
CiAgICBzYWx0X2NhbGxfcGF0aCA9IG9zLnBhdGguam9pbihPUFRJT05TLnNhbHRkaXIsICdzYWx0
LWNhbGwnKQogICAgaWYgbm90IG9zLnBhdGguaXNmaWxlKHNhbHRfY2FsbF9wYXRoKToKICAgICAg
ICBzeXMuc3RkZXJyLndyaXRlKCdFUlJPUjogdGhpbiBpcyBtaXNzaW5nICJ7MH0iXG4nLmZvcm1h
dChzYWx0X2NhbGxfcGF0aCkpCiAgICAgICAgbmVlZF9kZXBsb3ltZW50KCkKCiAgICB3aXRoIG9w
ZW4ob3MucGF0aC5qb2luKE9QVElPTlMuc2FsdGRpciwgJ21pbmlvbicpLCAndycpIGFzIGNvbmZp
ZzoKICAgICAgICBjb25maWcud3JpdGUoT1BUSU9OUy5jb25maWcgKyAnXG4nKQogICAgaWYgT1BU
SU9OUy5leHRfbW9kczoKICAgICAgICBleHRfcGF0aCA9IG9zLnBhdGguam9pbihPUFRJT05TLnNh
bHRkaXIsIEVYVF9BUkNISVZFKQogICAgICAgIGlmIG9zLnBhdGguZXhpc3RzKGV4dF9wYXRoKToK
ICAgICAgICAgICAgdW5wYWNrX2V4dChleHRfcGF0aCkKICAgICAgICBlbHNlOgogICAgICAgICAg
ICB2ZXJzaW9uX3BhdGggPSBvcy5wYXRoLmpvaW4oT1BUSU9OUy5zYWx0ZGlyLCAnZXh0X3ZlcnNp
b24nKQogICAgICAgICAgICBpZiBub3Qgb3MucGF0aC5leGlzdHModmVyc2lvbl9wYXRoKSBvciBu
b3Qgb3MucGF0aC5pc2ZpbGUodmVyc2lvbl9wYXRoKToKICAgICAgICAgICAgICAgIG5lZWRfZXh0
KCkKICAgICAgICAgICAgd2l0aCBvcGVuKHZlcnNpb25fcGF0aCwgJ3InKSBhcyB2cG86CiAgICAg
ICAgICAgICAgICBjdXJfdmVyc2lvbiA9IHZwby5yZWFkbGluZSgpLnN0cmlwKCkKICAgICAgICAg
ICAgaWYgY3VyX3ZlcnNpb24gIT0gT1BUSU9OUy5leHRfbW9kczoKICAgICAgICAgICAgICAgIG5l
ZWRfZXh0KCkKICAgICMgRml4IHBhcmFtZXRlciBwYXNzaW5nIGlzc3VlCiAgICBpZiBsZW4oQVJH
UykgPT0gMToKICAgICAgICBhcmd2X3ByZXBhcmVkID0gQVJHU1swXS5zcGxpdCgpCiAgICBlbHNl
OgogICAgICAgIGFyZ3ZfcHJlcGFyZWQgPSBBUkdTCgogICAgc2FsdF9hcmd2ID0gWwogICAgICAg
IHN5cy5leGVjdXRhYmxlLAogICAgICAgIHNhbHRfY2FsbF9wYXRoLAogICAgICAgICctLXJldGNv
ZGUtcGFzc3Rocm91Z2gnLAogICAgICAgICctLWxvY2FsJywKICAgICAgICAnLS1tZXRhZGF0YScs
CiAgICAgICAgJy0tb3V0JywgJ2pzb24nLAogICAgICAgICctbCcsICdxdWlldCcsCiAgICAgICAg
Jy1jJywgT1BUSU9OUy5zYWx0ZGlyLAogICAgICAgICctLScsCiAgICBdICsgYXJndl9wcmVwYXJl
ZAoKICAgIHN5cy5zdGRlcnIud3JpdGUoJ1NBTFRfQVJHVjogezB9XG4nLmZvcm1hdChzYWx0X2Fy
Z3YpKQoKICAgICMgT25seSBlbWl0IHRoZSBkZWxpbWl0ZXIgb24gKmJvdGgqIHN0ZG91dCBhbmQg
c3RkZXJyIHdoZW4gY29tcGxldGVseSBzdWNjZXNzZnVsLgogICAgIyBZZXMsIHRoZSBmbHVzaCgp
IGlzIG5lY2Vzc2FyeS4KICAgIHN5cy5zdGRvdXQud3JpdGUoT1BUSU9OUy5kZWxpbWl0ZXIgKyAn
XG4nKQogICAgc3lzLnN0ZG91dC5mbHVzaCgpCiAgICBpZiBub3QgT1BUSU9OUy50dHk6CiAgICAg
ICAgc3lzLnN0ZGVyci53cml0ZShPUFRJT05TLmRlbGltaXRlciArICdcbicpCiAgICAgICAgc3lz
LnN0ZGVyci5mbHVzaCgpCiAgICBpZiBPUFRJT05TLmNtZF91bWFzayBpcyBub3QgTm9uZToKICAg
ICAgICBvbGRfdW1hc2sgPSBvcy51bWFzayhPUFRJT05TLmNtZF91bWFzaykKICAgIGlmIE9QVElP
TlMudHR5OgogICAgICAgIHN0ZG91dCwgXyA9IHN1YnByb2Nlc3MuUG9wZW4oc2FsdF9hcmd2LCBz
dGRvdXQ9c3VicHJvY2Vzcy5QSVBFLCBzdGRlcnI9c3VicHJvY2Vzcy5QSVBFKS5jb21tdW5pY2F0
ZSgpCiAgICAgICAgc3lzLnN0ZG91dC53cml0ZShzdGRvdXQpCiAgICAgICAgc3lzLnN0ZG91dC5m
bHVzaCgpCiAgICAgICAgaWYgT1BUSU9OUy53aXBlOgogICAgICAgICAgICBzaHV0aWwucm10cmVl
KE9QVElPTlMuc2FsdGRpcikKICAgIGVsaWYgT1BUSU9OUy53aXBlOgogICAgICAgIHN1YnByb2Nl
c3MuY2FsbChzYWx0X2FyZ3YpCiAgICAgICAgc2h1dGlsLnJtdHJlZShPUFRJT05TLnNhbHRkaXIp
CiAgICBlbHNlOgogICAgICAgIG9zLmV4ZWN2KHN5cy5leGVjdXRhYmxlLCBzYWx0X2FyZ3YpCiAg
ICBpZiBPUFRJT05TLmNtZF91bWFzayBpcyBub3QgTm9uZToKICAgICAgICBvcy51bWFzayhvbGRf
dW1hc2spCgppZiBfX25hbWVfXyA9PSAnX19tYWluX18nOgogICAgc3lzLmV4aXQobWFpbihzeXMu
YXJndikpCg==
""").decode("utf-8"))'
fi
exit 0
else
continue
fi
done
echo "ERROR: Unable to locate appropriate python command" >&2
exit $EX_PYTHON_INVALID
EOF
2016-10-19 23:58:04,402 [salt.utils.vt    ][DEBUG   ][1694] Child Forked! PID: 1695  STDOUT_FD: 9  STDERR_FD: 11
2016-10-19 23:58:04,403 [salt.utils.vt    ][DEBUG   ][1694] VT: Salt-SSH SHIM Terminal Command executed. Logged to TRACE
2016-10-19 23:58:04,406 [salt.utils.vt    ][TRACE   ][1694] Terminal Command: /bin/sh -c ssh 192.168.1.15  -o KbdInteractiveAuthentication=no -o PasswordAuthentication=yes -o GSSAPIAuthentication=no -o ConnectTimeout=65 -o Port=22 -o IdentityFile=/root/saltstack_master/etc/salt/pki/master/ssh/salt-ssh.rsa -o User=salt-ope  /bin/sh << 'EOF'
set -e
set -u
DEBUG="1"
if [ -n "$DEBUG" ]
then set -x
fi
SUDO=""
if [ -n "sudo" ]
then SUDO="sudo "
fi
EX_PYTHON_INVALID=10
PYTHON_CMDS="python3 python27 python2.7 python26 python2.6 python2 python"
for py_cmd in $PYTHON_CMDS
do
if command -v "$py_cmd" >/dev/null 2>&1 && "$py_cmd" -c \
"import sys; sys.exit(not (sys.version_info >= (2, 6)
and sys.version_info[0] == 2));"
then
py_cmd_path=`"$py_cmd" -c \
'from __future__ import print_function;
import sys; print(sys.executable);'`
cmdpath=$(which $py_cmd 2>&1)
if file $cmdpath | grep "shell script" > /dev/null
then
ex_vars="'PATH', 'LD_LIBRARY_PATH', 'MANPATH', \
'XDG_DATA_DIRS', 'PKG_CONFIG_PATH'"
export $($py_cmd -c \
"from __future__ import print_function;
import sys;
import os;
map(sys.stdout.write, ['{0}={1} ' \
.format(x, os.environ[x]) for x in [$ex_vars]])")
exec $SUDO PATH=$PATH LD_LIBRARY_PATH=$LD_LIBRARY_PATH \
MANPATH=$MANPATH XDG_DATA_DIRS=$XDG_DATA_DIRS \
PKG_CONFIG_PATH=$PKG_CONFIG_PATH \
"$py_cmd_path" -c \
'import base64;
exec(base64.b64decode("""IyBweWxpbnQ6IGRpc2FibGU9Vzk5MDMKJycnClRoaXMgaXMgYSBzaGltIHRoYXQgaGFuZGxlcyBj
aGVja2luZyBhbmQgdXBkYXRpbmcgc2FsdCB0aGluIGFuZAp0aGVuIGludm9raW5nIHRoaW4uCgpU
aGlzIGlzIG5vdCBpbnRlbmRlZCB0byBiZSBpbnN0YW50aWF0ZWQgYXMgYSBtb2R1bGUsIHJhdGhl
ciBpdCBpcyBhCmhlbHBlciBzY3JpcHQgdXNlZCBieSBzYWx0LmNsaWVudC5zc2guU2luZ2xlLiAg
SXQgaXMgaGVyZSwgaW4gYQpzZXBhcmF0ZSBmaWxlLCBmb3IgY29udmVuaWVuY2Ugb2YgZGV2ZWxv
cG1lbnQuCicnJwoKZnJvbSBfX2Z1dHVyZV9fIGltcG9ydCBhYnNvbHV0ZV9pbXBvcnQKCmltcG9y
dCBoYXNobGliCmltcG9ydCB0YXJmaWxlCmltcG9ydCBzaHV0aWwKaW1wb3J0IHN5cwppbXBvcnQg
b3MKaW1wb3J0IHN0YXQKaW1wb3J0IHN1YnByb2Nlc3MKClRISU5fQVJDSElWRSA9ICdzYWx0LXRo
aW4udGd6JwpFWFRfQVJDSElWRSA9ICdzYWx0LWV4dF9tb2RzLnRneicKCiMgS2VlcCB0aGVzZSBp
biBzeW5jIHdpdGggc2FsdC9kZWZhdWx0cy9leGl0Y29kZXMucHkKRVhfVEhJTl9ERVBMT1kgPSAx
MQpFWF9USElOX0NIRUNLU1VNID0gMTIKRVhfTU9EX0RFUExPWSA9IDEzCkVYX1NDUF9OT1RfRk9V
TkQgPSAxNApFWF9DQU5UQ1JFQVQgPSA3MwoKCmNsYXNzIE9CSihvYmplY3QpOgogICAgIiIiQW4g
ZW1wdHkgY2xhc3MgZm9yIGhvbGRpbmcgaW5zdGFuY2UgYXR0cmlidXRlIHZhbHVlcy4iIiIKICAg
IHBhc3MKCgpPUFRJT05TID0gTm9uZQpBUkdTID0gTm9uZQojIFRoZSBiZWxvdyBsaW5lIGlzIHdo
ZXJlIE9QVElPTlMgY2FuIGJlIHJlZGVmaW5lZCB3aXRoIGludGVybmFsIG9wdGlvbnMKIyAocmF0
aGVyIHRoYW4gY2xpIGFyZ3VtZW50cykgd2hlbiB0aGUgc2hpbSBpcyBidW5kbGVkIGJ5CiMgY2xp
ZW50LnNzaC5TaW5nbGUuX2NtZF9zdHIoKQojIHB5bGludDogZGlzYWJsZT1ibG9jay1jb21tZW50
LXNob3VsZC1zdGFydC13aXRoLWNhcmRpbmFsLXNwYWNlCgpPUFRJT05TID0gT0JKKCkKT1BUSU9O
Uy5jb25maWcgPSAiIiIKe2ZpbGVzZXJ2ZXJfbGlzdF9jYWNoZV90aW1lOiAzLCBncmFpbnNfY2Fj
aGU6IHRydWUsIGlkOiBtdW5pbiwgbG9nX2ZpbGU6IHNhbHQtY2FsbC5sb2csCiAgcm9vdF9kaXI6
IC92YXIvdG1wLy5zYWx0LW9wZV8xYTM1MzJfc2FsdC9ydW5uaW5nX2RhdGEsIHNvY2tfZGlyOiAv
fQoiIiIKT1BUSU9OUy5kZWxpbWl0ZXIgPSAnX2VkYmM3ODg1ZTRmOWFhYzliODNiMzU5OTliNjhk
MDE1MTQ4Y2FmNDY3Yjc4ZmEzOWMwNWY2NjljMGZmODk4NzgnCk9QVElPTlMuc2FsdGRpciA9ICcv
dmFyL3RtcC8uc2FsdC1vcGVfMWEzNTMyX3NhbHQnCk9QVElPTlMuY2hlY2tzdW0gPSAnOTg1MjZk
OTliMWU3YjA3OWRjZWZjZWM5ZmE1Yjg1MWZmYmY5ODEzZCcKT1BUSU9OUy5oYXNoZnVuYyA9ICdz
aGExJwpPUFRJT05TLnZlcnNpb24gPSAnMjAxNi4zLjInCk9QVElPTlMuZXh0X21vZHMgPSAnNzQx
OTZlMDExNDUyMWUyYWRjNjlkNjgxY2U2YTQ1NjNiYTBhZTFlYicKT1BUSU9OUy53aXBlID0gRmFs
c2UKT1BUSU9OUy50dHkgPSBGYWxzZQpPUFRJT05TLmNtZF91bWFzayA9IE5vbmUKQVJHUyA9IFsn
dGVzdC5vcHRzX3BrZyddCgoKCmRlZiBuZWVkX2RlcGxveW1lbnQoKToKICAgICIiIgogICAgU2Fs
dCB0aGluIG5lZWRzIHRvIGJlIGRlcGxveWVkIC0gcHJlcCB0aGUgdGFyZ2V0IGRpcmVjdG9yeSBh
bmQgZW1pdCB0aGUKICAgIGRlbGltZXRlciBhbmQgZXhpdCBjb2RlIHRoYXQgc2lnbmFscyBhIHJl
cXVpcmVkIGRlcGxveW1lbnQuCiAgICAiIiIKICAgIGlmIG9zLnBhdGguZXhpc3RzKE9QVElPTlMu
c2FsdGRpcik6CiAgICAgICAgc2h1dGlsLnJtdHJlZShPUFRJT05TLnNhbHRkaXIpCiAgICBvbGRf
dW1hc2sgPSBvcy51bWFzaygwbzA3NykKICAgIG9zLm1ha2VkaXJzKE9QVElPTlMuc2FsdGRpcikK
ICAgIG9zLnVtYXNrKG9sZF91bWFzaykKICAgICMgVmVyaWZ5IHBlcm1zIG9uIHNhbHRkaXIKICAg
IGV1aWQgPSBvcy5nZXRldWlkKCkKICAgIGRzdGF0ID0gb3Muc3RhdChPUFRJT05TLnNhbHRkaXIp
CiAgICBpZiBkc3RhdC5zdF91aWQgIT0gZXVpZDoKICAgICAgICAjIEF0dGFjayBkZXRlY3RlZCwg
dHJ5IGFnYWluCiAgICAgICAgbmVlZF9kZXBsb3ltZW50KCkKICAgIGlmIGRzdGF0LnN0X21vZGUg
IT0gMTY4MzI6CiAgICAgICAgIyBBdHRhY2sgZGV0ZWN0ZWQKICAgICAgICBuZWVkX2RlcGxveW1l
bnQoKQogICAgIyBJZiBTVURPaW5nIHRoZW4gYWxzbyBnaXZlIHRoZSBzdXBlciB1c2VyIGdyb3Vw
IHdyaXRlIHBlcm1pc3Npb25zCiAgICBzdWRvX2dpZCA9IG9zLmVudmlyb24uZ2V0KCdTVURPX0dJ
RCcpCiAgICBpZiBzdWRvX2dpZDoKICAgICAgICBvcy5jaG93bihPUFRJT05TLnNhbHRkaXIsIC0x
LCBpbnQoc3Vkb19naWQpKQogICAgICAgIHN0dCA9IG9zLnN0YXQoT1BUSU9OUy5zYWx0ZGlyKQog
ICAgICAgIG9zLmNobW9kKE9QVElPTlMuc2FsdGRpciwgc3R0LnN0X21vZGUgfCBzdGF0LlNfSVdH
UlAgfCBzdGF0LlNfSVJHUlAgfCBzdGF0LlNfSVhHUlApCgogICAgIyBEZWxpbWl0ZXIgZW1pdHRl
ZCBvbiBzdGRvdXQgKm9ubHkqIHRvIGluZGljYXRlIHNoaW0gbWVzc2FnZSB0byBtYXN0ZXIuCiAg
ICBzeXMuc3Rkb3V0LndyaXRlKCJ7MH1cbmRlcGxveVxuIi5mb3JtYXQoT1BUSU9OUy5kZWxpbWl0
ZXIpKQogICAgc3lzLmV4aXQoRVhfVEhJTl9ERVBMT1kpCgoKIyBBZGFwdGVkIGZyb20gc2FsdC51
dGlscy5nZXRfaGFzaCgpCmRlZiBnZXRfaGFzaChwYXRoLCBmb3JtPSdzaGExJywgY2h1bmtfc2l6
ZT00MDk2KToKICAgICIiIkdlbmVyYXRlIGEgaGFzaCBkaWdlc3Qgc3RyaW5nIGZvciBhIGZpbGUu
IiIiCiAgICB0cnk6CiAgICAgICAgaGFzaF90eXBlID0gZ2V0YXR0cihoYXNobGliLCBmb3JtKQog
ICAgZXhjZXB0IEF0dHJpYnV0ZUVycm9yOgogICAgICAgIHJhaXNlIFZhbHVlRXJyb3IoJ0ludmFs
aWQgaGFzaCB0eXBlOiB7MH0nLmZvcm1hdChmb3JtKSkKICAgIHdpdGggb3BlbihwYXRoLCAncmIn
KSBhcyBpZmlsZToKICAgICAgICBoYXNoX29iaiA9IGhhc2hfdHlwZSgpCiAgICAgICAgIyByZWFk
IHRoZSBmaWxlIGluIGluIGNodW5rcywgbm90IHRoZSBlbnRpcmUgZmlsZQogICAgICAgIGZvciBj
aHVuayBpbiBpdGVyKGxhbWJkYTogaWZpbGUucmVhZChjaHVua19zaXplKSwgYicnKToKICAgICAg
ICAgICAgaGFzaF9vYmoudXBkYXRlKGNodW5rKQogICAgICAgIHJldHVybiBoYXNoX29iai5oZXhk
aWdlc3QoKQoKCmRlZiB1bnBhY2tfdGhpbih0aGluX3BhdGgpOgogICAgIiIiVW5wYWNrIHRoZSBT
YWx0IHRoaW4gYXJjaGl2ZS4iIiIKICAgIHRmaWxlID0gdGFyZmlsZS5UYXJGaWxlLmd6b3Blbih0
aGluX3BhdGgpCiAgICBvbGRfdW1hc2sgPSBvcy51bWFzaygwbzA3NykKICAgIHRmaWxlLmV4dHJh
Y3RhbGwocGF0aD1PUFRJT05TLnNhbHRkaXIpCiAgICB0ZmlsZS5jbG9zZSgpCiAgICBvcy51bWFz
ayhvbGRfdW1hc2spCiAgICBvcy51bmxpbmsodGhpbl9wYXRoKQoKCmRlZiBuZWVkX2V4dCgpOgog
ICAgIiIiU2lnbmFsIHRoYXQgZXh0ZXJuYWwgbW9kdWxlcyBuZWVkIHRvIGJlIGRlcGxveWVkLiIi
IgogICAgc3lzLnN0ZG91dC53cml0ZSgiezB9XG5leHRfbW9kc1xuIi5mb3JtYXQoT1BUSU9OUy5k
ZWxpbWl0ZXIpKQogICAgc3lzLmV4aXQoRVhfTU9EX0RFUExPWSkKCgpkZWYgdW5wYWNrX2V4dChl
eHRfcGF0aCk6CiAgICAiIiJVbnBhY2sgdGhlIGV4dGVybmFsIG1vZHVsZXMuIiIiCiAgICBtb2Rj
YWNoZSA9IG9zLnBhdGguam9pbigKICAgICAgICAgICAgT1BUSU9OUy5zYWx0ZGlyLAogICAgICAg
ICAgICAncnVubmluZ19kYXRhJywKICAgICAgICAgICAgJ3ZhcicsCiAgICAgICAgICAgICdjYWNo
ZScsCiAgICAgICAgICAgICdzYWx0JywKICAgICAgICAgICAgJ21pbmlvbicsCiAgICAgICAgICAg
ICdleHRtb2RzJykKICAgIHRmaWxlID0gdGFyZmlsZS5UYXJGaWxlLmd6b3BlbihleHRfcGF0aCkK
ICAgIG9sZF91bWFzayA9IG9zLnVtYXNrKDBvMDc3KQogICAgdGZpbGUuZXh0cmFjdGFsbChwYXRo
PW1vZGNhY2hlKQogICAgdGZpbGUuY2xvc2UoKQogICAgb3MudW1hc2sob2xkX3VtYXNrKQogICAg
b3MudW5saW5rKGV4dF9wYXRoKQogICAgdmVyX3BhdGggPSBvcy5wYXRoLmpvaW4obW9kY2FjaGUs
ICdleHRfdmVyc2lvbicpCiAgICB2ZXJfZHN0ID0gb3MucGF0aC5qb2luKE9QVElPTlMuc2FsdGRp
ciwgJ2V4dF92ZXJzaW9uJykKICAgIHNodXRpbC5tb3ZlKHZlcl9wYXRoLCB2ZXJfZHN0KQoKCmRl
ZiBtYWluKGFyZ3YpOiAgIyBweWxpbnQ6IGRpc2FibGU9VzA2MTMKICAgICIiIk1haW4gcHJvZ3Jh
bSBib2R5IiIiCiAgICB0aGluX3BhdGggPSBvcy5wYXRoLmpvaW4oT1BUSU9OUy5zYWx0ZGlyLCBU
SElOX0FSQ0hJVkUpCiAgICBpZiBvcy5wYXRoLmlzZmlsZSh0aGluX3BhdGgpOgogICAgICAgIGlm
IE9QVElPTlMuY2hlY2tzdW0gIT0gZ2V0X2hhc2godGhpbl9wYXRoLCBPUFRJT05TLmhhc2hmdW5j
KToKICAgICAgICAgICAgc3lzLnN0ZGVyci53cml0ZSgnezB9XG4nLmZvcm1hdChPUFRJT05TLmNo
ZWNrc3VtKSkKICAgICAgICAgICAgc3lzLnN0ZGVyci53cml0ZSgnezB9XG4nLmZvcm1hdChnZXRf
aGFzaCh0aGluX3BhdGgsIE9QVElPTlMuaGFzaGZ1bmMpKSkKICAgICAgICAgICAgb3MudW5saW5r
KHRoaW5fcGF0aCkKICAgICAgICAgICAgc3lzLnN0ZGVyci53cml0ZSgnV0FSTklORzogY2hlY2tz
dW0gbWlzbWF0Y2ggZm9yICJ7MH0iXG4nLmZvcm1hdCh0aGluX3BhdGgpKQogICAgICAgICAgICBz
eXMuZXhpdChFWF9USElOX0NIRUNLU1VNKQogICAgICAgIHVucGFja190aGluKHRoaW5fcGF0aCkK
ICAgICAgICAjIFNhbHQgdGhpbiBub3cgaXMgYXZhaWxhYmxlIHRvIHVzZQogICAgZWxzZToKICAg
ICAgICBzY3BzdGF0ID0gc3VicHJvY2Vzcy5Qb3BlbihbJy9iaW4vc2gnLCAnLWMnLCAnY29tbWFu
ZCAtdiBzY3AnXSkud2FpdCgpCiAgICAgICAgaWYgc2Nwc3RhdCAhPSAwOgogICAgICAgICAgICBz
eXMuZXhpdChFWF9TQ1BfTk9UX0ZPVU5EKQoKICAgICAgICBpZiBub3Qgb3MucGF0aC5leGlzdHMo
T1BUSU9OUy5zYWx0ZGlyKToKICAgICAgICAgICAgbmVlZF9kZXBsb3ltZW50KCkKCiAgICAgICAg
aWYgbm90IG9zLnBhdGguaXNkaXIoT1BUSU9OUy5zYWx0ZGlyKToKICAgICAgICAgICAgc3lzLnN0
ZGVyci53cml0ZSgKICAgICAgICAgICAgICAgICdFUlJPUjogc2FsdCBwYXRoICJ7MH0iIGV4aXN0
cyBidXQgaXMnCiAgICAgICAgICAgICAgICAnIG5vdCBhIGRpcmVjdG9yeVxuJy5mb3JtYXQoT1BU
SU9OUy5zYWx0ZGlyKQogICAgICAgICAgICApCiAgICAgICAgICAgIHN5cy5leGl0KEVYX0NBTlRD
UkVBVCkKCiAgICAgICAgdmVyc2lvbl9wYXRoID0gb3MucGF0aC5qb2luKE9QVElPTlMuc2FsdGRp
ciwgJ3ZlcnNpb24nKQogICAgICAgIGlmIG5vdCBvcy5wYXRoLmV4aXN0cyh2ZXJzaW9uX3BhdGgp
IG9yIG5vdCBvcy5wYXRoLmlzZmlsZSh2ZXJzaW9uX3BhdGgpOgogICAgICAgICAgICBzeXMuc3Rk
ZXJyLndyaXRlKAogICAgICAgICAgICAgICAgJ1dBUk5JTkc6IFVuYWJsZSB0byBsb2NhdGUgY3Vy
cmVudCB0aGluICcKICAgICAgICAgICAgICAgICcgdmVyc2lvbjogezB9LlxuJy5mb3JtYXQodmVy
c2lvbl9wYXRoKQogICAgICAgICAgICApCiAgICAgICAgICAgIG5lZWRfZGVwbG95bWVudCgpCiAg
ICAgICAgd2l0aCBvcGVuKHZlcnNpb25fcGF0aCwgJ3InKSBhcyB2cG86CiAgICAgICAgICAgIGN1
cl92ZXJzaW9uID0gdnBvLnJlYWRsaW5lKCkuc3RyaXAoKQogICAgICAgIGlmIGN1cl92ZXJzaW9u
ICE9IE9QVElPTlMudmVyc2lvbjoKICAgICAgICAgICAgc3lzLnN0ZGVyci53cml0ZSgKICAgICAg
ICAgICAgICAgICdXQVJOSU5HOiBjdXJyZW50IHRoaW4gdmVyc2lvbiB7MH0nCiAgICAgICAgICAg
ICAgICAnIGlzIG5vdCB1cC10by1kYXRlIHdpdGggezF9LlxuJy5mb3JtYXQoCiAgICAgICAgICAg
ICAgICAgICAgY3VyX3ZlcnNpb24sIE9QVElPTlMudmVyc2lvbgogICAgICAgICAgICAgICAgKQog
ICAgICAgICAgICApCiAgICAgICAgICAgIG5lZWRfZGVwbG95bWVudCgpCiAgICAgICAgIyBTYWx0
IHRoaW4gZXhpc3RzIGFuZCBpcyB1cC10by1kYXRlIC0gZmFsbCB0aHJvdWdoIGFuZCB1c2UgaXQK
CiAgICBzYWx0X2NhbGxfcGF0aCA9IG9zLnBhdGguam9pbihPUFRJT05TLnNhbHRkaXIsICdzYWx0
LWNhbGwnKQogICAgaWYgbm90IG9zLnBhdGguaXNmaWxlKHNhbHRfY2FsbF9wYXRoKToKICAgICAg
ICBzeXMuc3RkZXJyLndyaXRlKCdFUlJPUjogdGhpbiBpcyBtaXNzaW5nICJ7MH0iXG4nLmZvcm1h
dChzYWx0X2NhbGxfcGF0aCkpCiAgICAgICAgbmVlZF9kZXBsb3ltZW50KCkKCiAgICB3aXRoIG9w
ZW4ob3MucGF0aC5qb2luKE9QVElPTlMuc2FsdGRpciwgJ21pbmlvbicpLCAndycpIGFzIGNvbmZp
ZzoKICAgICAgICBjb25maWcud3JpdGUoT1BUSU9OUy5jb25maWcgKyAnXG4nKQogICAgaWYgT1BU
SU9OUy5leHRfbW9kczoKICAgICAgICBleHRfcGF0aCA9IG9zLnBhdGguam9pbihPUFRJT05TLnNh
bHRkaXIsIEVYVF9BUkNISVZFKQogICAgICAgIGlmIG9zLnBhdGguZXhpc3RzKGV4dF9wYXRoKToK
ICAgICAgICAgICAgdW5wYWNrX2V4dChleHRfcGF0aCkKICAgICAgICBlbHNlOgogICAgICAgICAg
ICB2ZXJzaW9uX3BhdGggPSBvcy5wYXRoLmpvaW4oT1BUSU9OUy5zYWx0ZGlyLCAnZXh0X3ZlcnNp
b24nKQogICAgICAgICAgICBpZiBub3Qgb3MucGF0aC5leGlzdHModmVyc2lvbl9wYXRoKSBvciBu
b3Qgb3MucGF0aC5pc2ZpbGUodmVyc2lvbl9wYXRoKToKICAgICAgICAgICAgICAgIG5lZWRfZXh0
KCkKICAgICAgICAgICAgd2l0aCBvcGVuKHZlcnNpb25fcGF0aCwgJ3InKSBhcyB2cG86CiAgICAg
ICAgICAgICAgICBjdXJfdmVyc2lvbiA9IHZwby5yZWFkbGluZSgpLnN0cmlwKCkKICAgICAgICAg
ICAgaWYgY3VyX3ZlcnNpb24gIT0gT1BUSU9OUy5leHRfbW9kczoKICAgICAgICAgICAgICAgIG5l
ZWRfZXh0KCkKICAgICMgRml4IHBhcmFtZXRlciBwYXNzaW5nIGlzc3VlCiAgICBpZiBsZW4oQVJH
UykgPT0gMToKICAgICAgICBhcmd2X3ByZXBhcmVkID0gQVJHU1swXS5zcGxpdCgpCiAgICBlbHNl
OgogICAgICAgIGFyZ3ZfcHJlcGFyZWQgPSBBUkdTCgogICAgc2FsdF9hcmd2ID0gWwogICAgICAg
IHN5cy5leGVjdXRhYmxlLAogICAgICAgIHNhbHRfY2FsbF9wYXRoLAogICAgICAgICctLXJldGNv
ZGUtcGFzc3Rocm91Z2gnLAogICAgICAgICctLWxvY2FsJywKICAgICAgICAnLS1tZXRhZGF0YScs
CiAgICAgICAgJy0tb3V0JywgJ2pzb24nLAogICAgICAgICctbCcsICdxdWlldCcsCiAgICAgICAg
Jy1jJywgT1BUSU9OUy5zYWx0ZGlyLAogICAgICAgICctLScsCiAgICBdICsgYXJndl9wcmVwYXJl
ZAoKICAgIHN5cy5zdGRlcnIud3JpdGUoJ1NBTFRfQVJHVjogezB9XG4nLmZvcm1hdChzYWx0X2Fy
Z3YpKQoKICAgICMgT25seSBlbWl0IHRoZSBkZWxpbWl0ZXIgb24gKmJvdGgqIHN0ZG91dCBhbmQg
c3RkZXJyIHdoZW4gY29tcGxldGVseSBzdWNjZXNzZnVsLgogICAgIyBZZXMsIHRoZSBmbHVzaCgp
IGlzIG5lY2Vzc2FyeS4KICAgIHN5cy5zdGRvdXQud3JpdGUoT1BUSU9OUy5kZWxpbWl0ZXIgKyAn
XG4nKQogICAgc3lzLnN0ZG91dC5mbHVzaCgpCiAgICBpZiBub3QgT1BUSU9OUy50dHk6CiAgICAg
ICAgc3lzLnN0ZGVyci53cml0ZShPUFRJT05TLmRlbGltaXRlciArICdcbicpCiAgICAgICAgc3lz
LnN0ZGVyci5mbHVzaCgpCiAgICBpZiBPUFRJT05TLmNtZF91bWFzayBpcyBub3QgTm9uZToKICAg
ICAgICBvbGRfdW1hc2sgPSBvcy51bWFzayhPUFRJT05TLmNtZF91bWFzaykKICAgIGlmIE9QVElP
TlMudHR5OgogICAgICAgIHN0ZG91dCwgXyA9IHN1YnByb2Nlc3MuUG9wZW4oc2FsdF9hcmd2LCBz
dGRvdXQ9c3VicHJvY2Vzcy5QSVBFLCBzdGRlcnI9c3VicHJvY2Vzcy5QSVBFKS5jb21tdW5pY2F0
ZSgpCiAgICAgICAgc3lzLnN0ZG91dC53cml0ZShzdGRvdXQpCiAgICAgICAgc3lzLnN0ZG91dC5m
bHVzaCgpCiAgICAgICAgaWYgT1BUSU9OUy53aXBlOgogICAgICAgICAgICBzaHV0aWwucm10cmVl
KE9QVElPTlMuc2FsdGRpcikKICAgIGVsaWYgT1BUSU9OUy53aXBlOgogICAgICAgIHN1YnByb2Nl
c3MuY2FsbChzYWx0X2FyZ3YpCiAgICAgICAgc2h1dGlsLnJtdHJlZShPUFRJT05TLnNhbHRkaXIp
CiAgICBlbHNlOgogICAgICAgIG9zLmV4ZWN2KHN5cy5leGVjdXRhYmxlLCBzYWx0X2FyZ3YpCiAg
ICBpZiBPUFRJT05TLmNtZF91bWFzayBpcyBub3QgTm9uZToKICAgICAgICBvcy51bWFzayhvbGRf
dW1hc2spCgppZiBfX25hbWVfXyA9PSAnX19tYWluX18nOgogICAgc3lzLmV4aXQobWFpbihzeXMu
YXJndikpCg==
""").decode("utf-8"))'
else
exec $SUDO "$py_cmd_path" -c \
'import base64;
exec(base64.b64decode("""IyBweWxpbnQ6IGRpc2FibGU9Vzk5MDMKJycnClRoaXMgaXMgYSBzaGltIHRoYXQgaGFuZGxlcyBj
aGVja2luZyBhbmQgdXBkYXRpbmcgc2FsdCB0aGluIGFuZAp0aGVuIGludm9raW5nIHRoaW4uCgpU
aGlzIGlzIG5vdCBpbnRlbmRlZCB0byBiZSBpbnN0YW50aWF0ZWQgYXMgYSBtb2R1bGUsIHJhdGhl
ciBpdCBpcyBhCmhlbHBlciBzY3JpcHQgdXNlZCBieSBzYWx0LmNsaWVudC5zc2guU2luZ2xlLiAg
SXQgaXMgaGVyZSwgaW4gYQpzZXBhcmF0ZSBmaWxlLCBmb3IgY29udmVuaWVuY2Ugb2YgZGV2ZWxv
cG1lbnQuCicnJwoKZnJvbSBfX2Z1dHVyZV9fIGltcG9ydCBhYnNvbHV0ZV9pbXBvcnQKCmltcG9y
dCBoYXNobGliCmltcG9ydCB0YXJmaWxlCmltcG9ydCBzaHV0aWwKaW1wb3J0IHN5cwppbXBvcnQg
b3MKaW1wb3J0IHN0YXQKaW1wb3J0IHN1YnByb2Nlc3MKClRISU5fQVJDSElWRSA9ICdzYWx0LXRo
aW4udGd6JwpFWFRfQVJDSElWRSA9ICdzYWx0LWV4dF9tb2RzLnRneicKCiMgS2VlcCB0aGVzZSBp
biBzeW5jIHdpdGggc2FsdC9kZWZhdWx0cy9leGl0Y29kZXMucHkKRVhfVEhJTl9ERVBMT1kgPSAx
MQpFWF9USElOX0NIRUNLU1VNID0gMTIKRVhfTU9EX0RFUExPWSA9IDEzCkVYX1NDUF9OT1RfRk9V
TkQgPSAxNApFWF9DQU5UQ1JFQVQgPSA3MwoKCmNsYXNzIE9CSihvYmplY3QpOgogICAgIiIiQW4g
ZW1wdHkgY2xhc3MgZm9yIGhvbGRpbmcgaW5zdGFuY2UgYXR0cmlidXRlIHZhbHVlcy4iIiIKICAg
IHBhc3MKCgpPUFRJT05TID0gTm9uZQpBUkdTID0gTm9uZQojIFRoZSBiZWxvdyBsaW5lIGlzIHdo
ZXJlIE9QVElPTlMgY2FuIGJlIHJlZGVmaW5lZCB3aXRoIGludGVybmFsIG9wdGlvbnMKIyAocmF0
aGVyIHRoYW4gY2xpIGFyZ3VtZW50cykgd2hlbiB0aGUgc2hpbSBpcyBidW5kbGVkIGJ5CiMgY2xp
ZW50LnNzaC5TaW5nbGUuX2NtZF9zdHIoKQojIHB5bGludDogZGlzYWJsZT1ibG9jay1jb21tZW50
LXNob3VsZC1zdGFydC13aXRoLWNhcmRpbmFsLXNwYWNlCgpPUFRJT05TID0gT0JKKCkKT1BUSU9O
Uy5jb25maWcgPSAiIiIKe2ZpbGVzZXJ2ZXJfbGlzdF9jYWNoZV90aW1lOiAzLCBncmFpbnNfY2Fj
aGU6IHRydWUsIGlkOiBtdW5pbiwgbG9nX2ZpbGU6IHNhbHQtY2FsbC5sb2csCiAgcm9vdF9kaXI6
IC92YXIvdG1wLy5zYWx0LW9wZV8xYTM1MzJfc2FsdC9ydW5uaW5nX2RhdGEsIHNvY2tfZGlyOiAv
fQoiIiIKT1BUSU9OUy5kZWxpbWl0ZXIgPSAnX2VkYmM3ODg1ZTRmOWFhYzliODNiMzU5OTliNjhk
MDE1MTQ4Y2FmNDY3Yjc4ZmEzOWMwNWY2NjljMGZmODk4NzgnCk9QVElPTlMuc2FsdGRpciA9ICcv
dmFyL3RtcC8uc2FsdC1vcGVfMWEzNTMyX3NhbHQnCk9QVElPTlMuY2hlY2tzdW0gPSAnOTg1MjZk
OTliMWU3YjA3OWRjZWZjZWM5ZmE1Yjg1MWZmYmY5ODEzZCcKT1BUSU9OUy5oYXNoZnVuYyA9ICdz
aGExJwpPUFRJT05TLnZlcnNpb24gPSAnMjAxNi4zLjInCk9QVElPTlMuZXh0X21vZHMgPSAnNzQx
OTZlMDExNDUyMWUyYWRjNjlkNjgxY2U2YTQ1NjNiYTBhZTFlYicKT1BUSU9OUy53aXBlID0gRmFs
c2UKT1BUSU9OUy50dHkgPSBGYWxzZQpPUFRJT05TLmNtZF91bWFzayA9IE5vbmUKQVJHUyA9IFsn
dGVzdC5vcHRzX3BrZyddCgoKCmRlZiBuZWVkX2RlcGxveW1lbnQoKToKICAgICIiIgogICAgU2Fs
dCB0aGluIG5lZWRzIHRvIGJlIGRlcGxveWVkIC0gcHJlcCB0aGUgdGFyZ2V0IGRpcmVjdG9yeSBh
bmQgZW1pdCB0aGUKICAgIGRlbGltZXRlciBhbmQgZXhpdCBjb2RlIHRoYXQgc2lnbmFscyBhIHJl
cXVpcmVkIGRlcGxveW1lbnQuCiAgICAiIiIKICAgIGlmIG9zLnBhdGguZXhpc3RzKE9QVElPTlMu
c2FsdGRpcik6CiAgICAgICAgc2h1dGlsLnJtdHJlZShPUFRJT05TLnNhbHRkaXIpCiAgICBvbGRf
dW1hc2sgPSBvcy51bWFzaygwbzA3NykKICAgIG9zLm1ha2VkaXJzKE9QVElPTlMuc2FsdGRpcikK
ICAgIG9zLnVtYXNrKG9sZF91bWFzaykKICAgICMgVmVyaWZ5IHBlcm1zIG9uIHNhbHRkaXIKICAg
IGV1aWQgPSBvcy5nZXRldWlkKCkKICAgIGRzdGF0ID0gb3Muc3RhdChPUFRJT05TLnNhbHRkaXIp
CiAgICBpZiBkc3RhdC5zdF91aWQgIT0gZXVpZDoKICAgICAgICAjIEF0dGFjayBkZXRlY3RlZCwg
dHJ5IGFnYWluCiAgICAgICAgbmVlZF9kZXBsb3ltZW50KCkKICAgIGlmIGRzdGF0LnN0X21vZGUg
IT0gMTY4MzI6CiAgICAgICAgIyBBdHRhY2sgZGV0ZWN0ZWQKICAgICAgICBuZWVkX2RlcGxveW1l
bnQoKQogICAgIyBJZiBTVURPaW5nIHRoZW4gYWxzbyBnaXZlIHRoZSBzdXBlciB1c2VyIGdyb3Vw
IHdyaXRlIHBlcm1pc3Npb25zCiAgICBzdWRvX2dpZCA9IG9zLmVudmlyb24uZ2V0KCdTVURPX0dJ
RCcpCiAgICBpZiBzdWRvX2dpZDoKICAgICAgICBvcy5jaG93bihPUFRJT05TLnNhbHRkaXIsIC0x
LCBpbnQoc3Vkb19naWQpKQogICAgICAgIHN0dCA9IG9zLnN0YXQoT1BUSU9OUy5zYWx0ZGlyKQog
ICAgICAgIG9zLmNobW9kKE9QVElPTlMuc2FsdGRpciwgc3R0LnN0X21vZGUgfCBzdGF0LlNfSVdH
UlAgfCBzdGF0LlNfSVJHUlAgfCBzdGF0LlNfSVhHUlApCgogICAgIyBEZWxpbWl0ZXIgZW1pdHRl
ZCBvbiBzdGRvdXQgKm9ubHkqIHRvIGluZGljYXRlIHNoaW0gbWVzc2FnZSB0byBtYXN0ZXIuCiAg
ICBzeXMuc3Rkb3V0LndyaXRlKCJ7MH1cbmRlcGxveVxuIi5mb3JtYXQoT1BUSU9OUy5kZWxpbWl0
ZXIpKQogICAgc3lzLmV4aXQoRVhfVEhJTl9ERVBMT1kpCgoKIyBBZGFwdGVkIGZyb20gc2FsdC51
dGlscy5nZXRfaGFzaCgpCmRlZiBnZXRfaGFzaChwYXRoLCBmb3JtPSdzaGExJywgY2h1bmtfc2l6
ZT00MDk2KToKICAgICIiIkdlbmVyYXRlIGEgaGFzaCBkaWdlc3Qgc3RyaW5nIGZvciBhIGZpbGUu
IiIiCiAgICB0cnk6CiAgICAgICAgaGFzaF90eXBlID0gZ2V0YXR0cihoYXNobGliLCBmb3JtKQog
ICAgZXhjZXB0IEF0dHJpYnV0ZUVycm9yOgogICAgICAgIHJhaXNlIFZhbHVlRXJyb3IoJ0ludmFs
aWQgaGFzaCB0eXBlOiB7MH0nLmZvcm1hdChmb3JtKSkKICAgIHdpdGggb3BlbihwYXRoLCAncmIn
KSBhcyBpZmlsZToKICAgICAgICBoYXNoX29iaiA9IGhhc2hfdHlwZSgpCiAgICAgICAgIyByZWFk
IHRoZSBmaWxlIGluIGluIGNodW5rcywgbm90IHRoZSBlbnRpcmUgZmlsZQogICAgICAgIGZvciBj
aHVuayBpbiBpdGVyKGxhbWJkYTogaWZpbGUucmVhZChjaHVua19zaXplKSwgYicnKToKICAgICAg
ICAgICAgaGFzaF9vYmoudXBkYXRlKGNodW5rKQogICAgICAgIHJldHVybiBoYXNoX29iai5oZXhk
aWdlc3QoKQoKCmRlZiB1bnBhY2tfdGhpbih0aGluX3BhdGgpOgogICAgIiIiVW5wYWNrIHRoZSBT
YWx0IHRoaW4gYXJjaGl2ZS4iIiIKICAgIHRmaWxlID0gdGFyZmlsZS5UYXJGaWxlLmd6b3Blbih0
aGluX3BhdGgpCiAgICBvbGRfdW1hc2sgPSBvcy51bWFzaygwbzA3NykKICAgIHRmaWxlLmV4dHJh
Y3RhbGwocGF0aD1PUFRJT05TLnNhbHRkaXIpCiAgICB0ZmlsZS5jbG9zZSgpCiAgICBvcy51bWFz
ayhvbGRfdW1hc2spCiAgICBvcy51bmxpbmsodGhpbl9wYXRoKQoKCmRlZiBuZWVkX2V4dCgpOgog
ICAgIiIiU2lnbmFsIHRoYXQgZXh0ZXJuYWwgbW9kdWxlcyBuZWVkIHRvIGJlIGRlcGxveWVkLiIi
IgogICAgc3lzLnN0ZG91dC53cml0ZSgiezB9XG5leHRfbW9kc1xuIi5mb3JtYXQoT1BUSU9OUy5k
ZWxpbWl0ZXIpKQogICAgc3lzLmV4aXQoRVhfTU9EX0RFUExPWSkKCgpkZWYgdW5wYWNrX2V4dChl
eHRfcGF0aCk6CiAgICAiIiJVbnBhY2sgdGhlIGV4dGVybmFsIG1vZHVsZXMuIiIiCiAgICBtb2Rj
YWNoZSA9IG9zLnBhdGguam9pbigKICAgICAgICAgICAgT1BUSU9OUy5zYWx0ZGlyLAogICAgICAg
ICAgICAncnVubmluZ19kYXRhJywKICAgICAgICAgICAgJ3ZhcicsCiAgICAgICAgICAgICdjYWNo
ZScsCiAgICAgICAgICAgICdzYWx0JywKICAgICAgICAgICAgJ21pbmlvbicsCiAgICAgICAgICAg
ICdleHRtb2RzJykKICAgIHRmaWxlID0gdGFyZmlsZS5UYXJGaWxlLmd6b3BlbihleHRfcGF0aCkK
ICAgIG9sZF91bWFzayA9IG9zLnVtYXNrKDBvMDc3KQogICAgdGZpbGUuZXh0cmFjdGFsbChwYXRo
PW1vZGNhY2hlKQogICAgdGZpbGUuY2xvc2UoKQogICAgb3MudW1hc2sob2xkX3VtYXNrKQogICAg
b3MudW5saW5rKGV4dF9wYXRoKQogICAgdmVyX3BhdGggPSBvcy5wYXRoLmpvaW4obW9kY2FjaGUs
ICdleHRfdmVyc2lvbicpCiAgICB2ZXJfZHN0ID0gb3MucGF0aC5qb2luKE9QVElPTlMuc2FsdGRp
ciwgJ2V4dF92ZXJzaW9uJykKICAgIHNodXRpbC5tb3ZlKHZlcl9wYXRoLCB2ZXJfZHN0KQoKCmRl
ZiBtYWluKGFyZ3YpOiAgIyBweWxpbnQ6IGRpc2FibGU9VzA2MTMKICAgICIiIk1haW4gcHJvZ3Jh
bSBib2R5IiIiCiAgICB0aGluX3BhdGggPSBvcy5wYXRoLmpvaW4oT1BUSU9OUy5zYWx0ZGlyLCBU
SElOX0FSQ0hJVkUpCiAgICBpZiBvcy5wYXRoLmlzZmlsZSh0aGluX3BhdGgpOgogICAgICAgIGlm
IE9QVElPTlMuY2hlY2tzdW0gIT0gZ2V0X2hhc2godGhpbl9wYXRoLCBPUFRJT05TLmhhc2hmdW5j
KToKICAgICAgICAgICAgc3lzLnN0ZGVyci53cml0ZSgnezB9XG4nLmZvcm1hdChPUFRJT05TLmNo
ZWNrc3VtKSkKICAgICAgICAgICAgc3lzLnN0ZGVyci53cml0ZSgnezB9XG4nLmZvcm1hdChnZXRf
aGFzaCh0aGluX3BhdGgsIE9QVElPTlMuaGFzaGZ1bmMpKSkKICAgICAgICAgICAgb3MudW5saW5r
KHRoaW5fcGF0aCkKICAgICAgICAgICAgc3lzLnN0ZGVyci53cml0ZSgnV0FSTklORzogY2hlY2tz
dW0gbWlzbWF0Y2ggZm9yICJ7MH0iXG4nLmZvcm1hdCh0aGluX3BhdGgpKQogICAgICAgICAgICBz
eXMuZXhpdChFWF9USElOX0NIRUNLU1VNKQogICAgICAgIHVucGFja190aGluKHRoaW5fcGF0aCkK
ICAgICAgICAjIFNhbHQgdGhpbiBub3cgaXMgYXZhaWxhYmxlIHRvIHVzZQogICAgZWxzZToKICAg
ICAgICBzY3BzdGF0ID0gc3VicHJvY2Vzcy5Qb3BlbihbJy9iaW4vc2gnLCAnLWMnLCAnY29tbWFu
ZCAtdiBzY3AnXSkud2FpdCgpCiAgICAgICAgaWYgc2Nwc3RhdCAhPSAwOgogICAgICAgICAgICBz
eXMuZXhpdChFWF9TQ1BfTk9UX0ZPVU5EKQoKICAgICAgICBpZiBub3Qgb3MucGF0aC5leGlzdHMo
T1BUSU9OUy5zYWx0ZGlyKToKICAgICAgICAgICAgbmVlZF9kZXBsb3ltZW50KCkKCiAgICAgICAg
aWYgbm90IG9zLnBhdGguaXNkaXIoT1BUSU9OUy5zYWx0ZGlyKToKICAgICAgICAgICAgc3lzLnN0
ZGVyci53cml0ZSgKICAgICAgICAgICAgICAgICdFUlJPUjogc2FsdCBwYXRoICJ7MH0iIGV4aXN0
cyBidXQgaXMnCiAgICAgICAgICAgICAgICAnIG5vdCBhIGRpcmVjdG9yeVxuJy5mb3JtYXQoT1BU
SU9OUy5zYWx0ZGlyKQogICAgICAgICAgICApCiAgICAgICAgICAgIHN5cy5leGl0KEVYX0NBTlRD
UkVBVCkKCiAgICAgICAgdmVyc2lvbl9wYXRoID0gb3MucGF0aC5qb2luKE9QVElPTlMuc2FsdGRp
ciwgJ3ZlcnNpb24nKQogICAgICAgIGlmIG5vdCBvcy5wYXRoLmV4aXN0cyh2ZXJzaW9uX3BhdGgp
IG9yIG5vdCBvcy5wYXRoLmlzZmlsZSh2ZXJzaW9uX3BhdGgpOgogICAgICAgICAgICBzeXMuc3Rk
ZXJyLndyaXRlKAogICAgICAgICAgICAgICAgJ1dBUk5JTkc6IFVuYWJsZSB0byBsb2NhdGUgY3Vy
cmVudCB0aGluICcKICAgICAgICAgICAgICAgICcgdmVyc2lvbjogezB9LlxuJy5mb3JtYXQodmVy
c2lvbl9wYXRoKQogICAgICAgICAgICApCiAgICAgICAgICAgIG5lZWRfZGVwbG95bWVudCgpCiAg
ICAgICAgd2l0aCBvcGVuKHZlcnNpb25fcGF0aCwgJ3InKSBhcyB2cG86CiAgICAgICAgICAgIGN1
cl92ZXJzaW9uID0gdnBvLnJlYWRsaW5lKCkuc3RyaXAoKQogICAgICAgIGlmIGN1cl92ZXJzaW9u
ICE9IE9QVElPTlMudmVyc2lvbjoKICAgICAgICAgICAgc3lzLnN0ZGVyci53cml0ZSgKICAgICAg
ICAgICAgICAgICdXQVJOSU5HOiBjdXJyZW50IHRoaW4gdmVyc2lvbiB7MH0nCiAgICAgICAgICAg
ICAgICAnIGlzIG5vdCB1cC10by1kYXRlIHdpdGggezF9LlxuJy5mb3JtYXQoCiAgICAgICAgICAg
ICAgICAgICAgY3VyX3ZlcnNpb24sIE9QVElPTlMudmVyc2lvbgogICAgICAgICAgICAgICAgKQog
ICAgICAgICAgICApCiAgICAgICAgICAgIG5lZWRfZGVwbG95bWVudCgpCiAgICAgICAgIyBTYWx0
IHRoaW4gZXhpc3RzIGFuZCBpcyB1cC10by1kYXRlIC0gZmFsbCB0aHJvdWdoIGFuZCB1c2UgaXQK
CiAgICBzYWx0X2NhbGxfcGF0aCA9IG9zLnBhdGguam9pbihPUFRJT05TLnNhbHRkaXIsICdzYWx0
LWNhbGwnKQogICAgaWYgbm90IG9zLnBhdGguaXNmaWxlKHNhbHRfY2FsbF9wYXRoKToKICAgICAg
ICBzeXMuc3RkZXJyLndyaXRlKCdFUlJPUjogdGhpbiBpcyBtaXNzaW5nICJ7MH0iXG4nLmZvcm1h
dChzYWx0X2NhbGxfcGF0aCkpCiAgICAgICAgbmVlZF9kZXBsb3ltZW50KCkKCiAgICB3aXRoIG9w
ZW4ob3MucGF0aC5qb2luKE9QVElPTlMuc2FsdGRpciwgJ21pbmlvbicpLCAndycpIGFzIGNvbmZp
ZzoKICAgICAgICBjb25maWcud3JpdGUoT1BUSU9OUy5jb25maWcgKyAnXG4nKQogICAgaWYgT1BU
SU9OUy5leHRfbW9kczoKICAgICAgICBleHRfcGF0aCA9IG9zLnBhdGguam9pbihPUFRJT05TLnNh
bHRkaXIsIEVYVF9BUkNISVZFKQogICAgICAgIGlmIG9zLnBhdGguZXhpc3RzKGV4dF9wYXRoKToK
ICAgICAgICAgICAgdW5wYWNrX2V4dChleHRfcGF0aCkKICAgICAgICBlbHNlOgogICAgICAgICAg
ICB2ZXJzaW9uX3BhdGggPSBvcy5wYXRoLmpvaW4oT1BUSU9OUy5zYWx0ZGlyLCAnZXh0X3ZlcnNp
b24nKQogICAgICAgICAgICBpZiBub3Qgb3MucGF0aC5leGlzdHModmVyc2lvbl9wYXRoKSBvciBu
b3Qgb3MucGF0aC5pc2ZpbGUodmVyc2lvbl9wYXRoKToKICAgICAgICAgICAgICAgIG5lZWRfZXh0
KCkKICAgICAgICAgICAgd2l0aCBvcGVuKHZlcnNpb25fcGF0aCwgJ3InKSBhcyB2cG86CiAgICAg
ICAgICAgICAgICBjdXJfdmVyc2lvbiA9IHZwby5yZWFkbGluZSgpLnN0cmlwKCkKICAgICAgICAg
ICAgaWYgY3VyX3ZlcnNpb24gIT0gT1BUSU9OUy5leHRfbW9kczoKICAgICAgICAgICAgICAgIG5l
ZWRfZXh0KCkKICAgICMgRml4IHBhcmFtZXRlciBwYXNzaW5nIGlzc3VlCiAgICBpZiBsZW4oQVJH
UykgPT0gMToKICAgICAgICBhcmd2X3ByZXBhcmVkID0gQVJHU1swXS5zcGxpdCgpCiAgICBlbHNl
OgogICAgICAgIGFyZ3ZfcHJlcGFyZWQgPSBBUkdTCgogICAgc2FsdF9hcmd2ID0gWwogICAgICAg
IHN5cy5leGVjdXRhYmxlLAogICAgICAgIHNhbHRfY2FsbF9wYXRoLAogICAgICAgICctLXJldGNv
ZGUtcGFzc3Rocm91Z2gnLAogICAgICAgICctLWxvY2FsJywKICAgICAgICAnLS1tZXRhZGF0YScs
CiAgICAgICAgJy0tb3V0JywgJ2pzb24nLAogICAgICAgICctbCcsICdxdWlldCcsCiAgICAgICAg
Jy1jJywgT1BUSU9OUy5zYWx0ZGlyLAogICAgICAgICctLScsCiAgICBdICsgYXJndl9wcmVwYXJl
ZAoKICAgIHN5cy5zdGRlcnIud3JpdGUoJ1NBTFRfQVJHVjogezB9XG4nLmZvcm1hdChzYWx0X2Fy
Z3YpKQoKICAgICMgT25seSBlbWl0IHRoZSBkZWxpbWl0ZXIgb24gKmJvdGgqIHN0ZG91dCBhbmQg
c3RkZXJyIHdoZW4gY29tcGxldGVseSBzdWNjZXNzZnVsLgogICAgIyBZZXMsIHRoZSBmbHVzaCgp
IGlzIG5lY2Vzc2FyeS4KICAgIHN5cy5zdGRvdXQud3JpdGUoT1BUSU9OUy5kZWxpbWl0ZXIgKyAn
XG4nKQogICAgc3lzLnN0ZG91dC5mbHVzaCgpCiAgICBpZiBub3QgT1BUSU9OUy50dHk6CiAgICAg
ICAgc3lzLnN0ZGVyci53cml0ZShPUFRJT05TLmRlbGltaXRlciArICdcbicpCiAgICAgICAgc3lz
LnN0ZGVyci5mbHVzaCgpCiAgICBpZiBPUFRJT05TLmNtZF91bWFzayBpcyBub3QgTm9uZToKICAg
ICAgICBvbGRfdW1hc2sgPSBvcy51bWFzayhPUFRJT05TLmNtZF91bWFzaykKICAgIGlmIE9QVElP
TlMudHR5OgogICAgICAgIHN0ZG91dCwgXyA9IHN1YnByb2Nlc3MuUG9wZW4oc2FsdF9hcmd2LCBz
dGRvdXQ9c3VicHJvY2Vzcy5QSVBFLCBzdGRlcnI9c3VicHJvY2Vzcy5QSVBFKS5jb21tdW5pY2F0
ZSgpCiAgICAgICAgc3lzLnN0ZG91dC53cml0ZShzdGRvdXQpCiAgICAgICAgc3lzLnN0ZG91dC5m
bHVzaCgpCiAgICAgICAgaWYgT1BUSU9OUy53aXBlOgogICAgICAgICAgICBzaHV0aWwucm10cmVl
KE9QVElPTlMuc2FsdGRpcikKICAgIGVsaWYgT1BUSU9OUy53aXBlOgogICAgICAgIHN1YnByb2Nl
c3MuY2FsbChzYWx0X2FyZ3YpCiAgICAgICAgc2h1dGlsLnJtdHJlZShPUFRJT05TLnNhbHRkaXIp
CiAgICBlbHNlOgogICAgICAgIG9zLmV4ZWN2KHN5cy5leGVjdXRhYmxlLCBzYWx0X2FyZ3YpCiAg
ICBpZiBPUFRJT05TLmNtZF91bWFzayBpcyBub3QgTm9uZToKICAgICAgICBvcy51bWFzayhvbGRf
dW1hc2spCgppZiBfX25hbWVfXyA9PSAnX19tYWluX18nOgogICAgc3lzLmV4aXQobWFpbihzeXMu
YXJndikpCg==
""").decode("utf-8"))'
fi
exit 0
else
continue
fi
done
echo "ERROR: Unable to locate appropriate python command" >&2
exit $EX_PYTHON_INVALID
EOF
2016-10-19 23:58:04,502 [salt.utils.vt.Terminal.PID-1695.STDOUT][TRACE   ][1694] salt-ope@192.168.1.15's password:
2016-10-19 23:58:04,585 [salt.utils.vt.Terminal.PID-1695.STDERR][TRACE   ][1694] + SUDO=
+ '[' -n sudo ']'
+ SUDO='sudo '
+ EX_PYTHON_INVALID=10
+ PYTHON_CMDS='python3 python27 python2.7 python26 python2.6 python2 python'
+ for py_cmd in '$PYTHON_CMDS'
+ command -v python3
+ continue
+ for py_cmd in '$PYTHON_CMDS'
+ command -v python27
+ continue
+ for py_cmd in '$PYTHON_CMDS'
+ command -v python2.7
+ python2.7 -c 'import sys; sys.exit(not (sys.version_info >= (2, 6)
and sys.version_info[0] == 2));'
2016-10-19 23:58:04,606 [salt.utils.vt.Terminal.PID-1695.STDERR][TRACE   ][1694] ++ python2.7 -c 'from __future__ import print_function;
import sys; print(sys.executable);'
+ py_cmd_path=/usr/bin/python2.7
++ which python2.7
+ cmdpath=/usr/bin/python2.7
2016-10-19 23:58:04,616 [salt.utils.vt.Terminal.PID-1695.STDERR][TRACE   ][1694] + grep 'shell script'
+ file /usr/bin/python2.7
+ exec sudo /usr/bin/python2.7 -c 'import base64;
exec(base64.b64decode("""IyBweWxpbnQ6IGRpc2FibGU9Vzk5MDMKJycnClRoaXMgaXMgYSBzaGltIHRoYXQgaGFuZGxlcyBj
aGVja2luZyBhbmQgdXBkYXRpbmcgc2FsdCB0aGluIGFuZAp0aGVuIGludm9raW5nIHRoaW4uCgpU
aGlzIGlzIG5vdCBpbnRlbmRlZCB0byBiZSBpbnN0YW50aWF0ZWQgYXMgYSBtb2R1bGUsIHJhdGhl
ciBpdCBpcyBhCmhlbHBlciBzY3JpcHQgdXNlZCBieSBzYWx0LmNsaWVudC5zc2guU2luZ2xlLiAg
SXQgaXMgaGVyZSwgaW4gYQpzZXBhcmF0ZSBmaWxlLCBmb3IgY29udmVuaWVuY2Ugb2YgZGV2ZWxv
cG1lbnQuCicnJwoKZnJvbSBfX2Z1dHVyZV9fIGltcG9ydCBhYnNvbHV0ZV9pbXBvcnQKCmltcG9y
dCBoYXNobGliCmltcG9ydCB0YXJmaWxlCmltcG9ydCBzaHV0aWwKaW1wb3J0IHN5cwppbXBvcnQg
b3MKaW1wb3J0IHN0YXQKaW1wb3J0IHN1YnByb2Nlc3MKClRISU5fQVJDSElWRSA9ICdzYWx0LXRo
aW4udGd6JwpFWFRfQVJDSElWRSA9ICdzYWx0LWV4dF9tb2RzLnRneicKCiMgS2VlcCB0aGVzZSBp
biBzeW5jIHdpdGggc2FsdC9kZWZhdWx0cy9leGl0Y29kZXMucHkKRVhfVEhJTl9ERVBMT1kgPSAx
MQpFWF9USElOX0NIRUNLU1VNID0gMTIKRVhfTU9EX0RFUExPWSA9IDEzCkVYX1NDUF9OT1RfRk9V
TkQgPSAxNApFWF9DQU5UQ1JFQVQgPSA3MwoKCmNs
2016-10-19 23:58:04,627 [salt.utils.vt.Terminal.PID-1695.STDERR][TRACE   ][1694] YXNzIE9CSihvYmplY3QpOgogICAgIiIiQW4g
ZW1wdHkgY2xhc3MgZm9yIGhvbGRpbmcgaW5zdGFuY2UgYXR0cmlidXRlIHZhbHVlcy4iIiIKICAg
IHBhc3MKCgpPUFRJT05TID0gTm9uZQpBUkdTID0gTm9uZQojIFRoZSBiZWxvdyBsaW5lIGlzIHdo
ZXJlIE9QVElPTlMgY2FuIGJlIHJlZGVmaW5lZCB3aXRoIGludGVybmFsIG9wdGlvbnMKIyAocmF0
aGVyIHRoYW4gY2xpIGFyZ3VtZW50cykgd2hlbiB0aGUgc2hpbSBpcyBidW5kbGVkIGJ5CiMgY2xp
ZW50LnNzaC5TaW5nbGUuX2NtZF9zdHIoKQojIHB5bGludDogZGlzYWJsZT1ibG9jay1jb21tZW50
LXNob3VsZC1zdGFydC13aXRoLWNhcmRpbmFsLXNwYWNlCgpPUFRJT05TID0gT0JKKCkKT1BUSU9O
Uy5jb25maWcgPSAiIiIKe2ZpbGVzZXJ2ZXJfbGlzdF9jYWNoZV90aW1lOiAzLCBncmFpbnNfY2Fj
aGU6IHRydWUsIGlkOiBtdW5pbiwgbG9nX2ZpbGU6IHNhbHQtY2FsbC5sb2csCiAgcm9vdF9kaXI6
IC92YXIvdG1wLy5zYWx0LW9wZV8xYTM1MzJfc2FsdC9ydW5uaW5nX2RhdGEsIHNvY2tfZGlyOiAv
fQoiIiIKT1BUSU9OUy5kZWxpbWl0ZXIgPSAnX2VkYmM3ODg1ZTRmOWFhYzliODNiMzU5OTliNjhk
MDE1MTQ4Y2FmNDY3Yjc4ZmEzOWMwNWY2NjljMGZmODk4NzgnCk9QVElPTlMuc2FsdGRpciA9ICcv
dmFyL3RtcC8uc2FsdC1vcGVfMWEzNTMyX3NhbHQnCk9QVElPTlMuY2hlY2tzdW0gPSAnOTg1MjZk
OTliMWU3YjA3OWRjZWZjZWM5ZmE1Yjg1MWZmYmY5ODEzZCcKT1
2016-10-19 23:58:04,637 [salt.utils.vt.Terminal.PID-1695.STDERR][TRACE   ][1694] BUSU9OUy5oYXNoZnVuYyA9ICdz
aGExJwpPUFRJT05TLnZlcnNpb24gPSAnMjAxNi4zLjInCk9QVElPTlMuZXh0X21vZHMgPSAnNzQx
OTZlMDExNDUyMWUyYWRjNjlkNjgxY2U2YTQ1NjNiYTBhZTFlYicKT1BUSU9OUy53aXBlID0gRmFs
c2UKT1BUSU9OUy50dHkgPSBGYWxzZQpPUFRJT05TLmNtZF91bWFzayA9IE5vbmUKQVJHUyA9IFsn
dGVzdC5vcHRzX3BrZyddCgoKCmRlZiBuZWVkX2RlcGxveW1lbnQoKToKICAgICIiIgogICAgU2Fs
dCB0aGluIG5lZWRzIHRvIGJlIGRlcGxveWVkIC0gcHJlcCB0aGUgdGFyZ2V0IGRpcmVjdG9yeSBh
bmQgZW1pdCB0aGUKICAgIGRlbGltZXRlciBhbmQgZXhpdCBjb2RlIHRoYXQgc2lnbmFscyBhIHJl
cXVpcmVkIGRlcGxveW1lbnQuCiAgICAiIiIKICAgIGlmIG9zLnBhdGguZXhpc3RzKE9QVElPTlMu
c2FsdGRpcik6CiAgICAgICAgc2h1dGlsLnJtdHJlZShPUFRJT05TLnNhbHRkaXIpCiAgICBvbGRf
dW1hc2sgPSBvcy51bWFzaygwbzA3NykKICAgIG9zLm1ha2VkaXJzKE9QVElPTlMuc2FsdGRpcikK
ICAgIG9zLnVtYXNrKG9sZF91bWFzaykKICAgICMgVmVyaWZ5IHBlcm1zIG9uIHNhbHRkaXIKICAg
IGV1aWQgPSBvcy5nZXRldWlkKCkKICAgIGRzdGF0ID0gb3Muc3RhdChPUFRJT05TLnNhbHRkaXIp
CiAgICBpZiBkc3RhdC5zdF91aWQgIT0gZXVpZDoKICAgICAgICAjIEF0dGFjayBkZXRlY3RlZCwg
dHJ5IGFnYWluCiAgICAgICAgbmVlZF9kZXBsb3ltZW50KCkKICAgIGlmIGRz
2016-10-19 23:58:04,648 [salt.utils.vt.Terminal.PID-1695.STDERR][TRACE   ][1694] dGF0LnN0X21vZGUg
IT0gMTY4MzI6CiAgICAgICAgIyBBdHRhY2sgZGV0ZWN0ZWQKICAgICAgICBuZWVkX2RlcGxveW1l
bnQoKQogICAgIyBJZiBTVURPaW5nIHRoZW4gYWxzbyBnaXZlIHRoZSBzdXBlciB1c2VyIGdyb3Vw
IHdyaXRlIHBlcm1pc3Npb25zCiAgICBzdWRvX2dpZCA9IG9zLmVudmlyb24uZ2V0KCdTVURPX0dJ
RCcpCiAgICBpZiBzdWRvX2dpZDoKICAgICAgICBvcy5jaG93bihPUFRJT05TLnNhbHRkaXIsIC0x
LCBpbnQoc3Vkb19naWQpKQogICAgICAgIHN0dCA9IG9zLnN0YXQoT1BUSU9OUy5zYWx0ZGlyKQog
ICAgICAgIG9zLmNobW9kKE9QVElPTlMuc2FsdGRpciwgc3R0LnN0X21vZGUgfCBzdGF0LlNfSVdH
UlAgfCBzdGF0LlNfSVJHUlAgfCBzdGF0LlNfSVhHUlApCgogICAgIyBEZWxpbWl0ZXIgZW1pdHRl
ZCBvbiBzdGRvdXQgKm9ubHkqIHRvIGluZGljYXRlIHNoaW0gbWVzc2FnZSB0byBtYXN0ZXIuCiAg
ICBzeXMuc3Rkb3V0LndyaXRlKCJ7MH1cbmRlcGxveVxuIi5mb3JtYXQoT1BUSU9OUy5kZWxpbWl0
ZXIpKQogICAgc3lzLmV4aXQoRVhfVEhJTl9ERVBMT1kpCgoKIyBBZGFwdGVkIGZyb20gc2FsdC51
dGlscy5nZXRfaGFzaCgpCmRlZiBnZXRfaGFzaChwYXRoLCBmb3JtPSdzaGExJywgY2h1bmtfc2l6
ZT00MDk2KToKICAgICIiIkdlbmVyYXRlIGEgaGFzaCBkaWdlc3Qgc3RyaW5nIGZvciBhIGZpbGUu
IiIiCiAgICB0cnk6CiAgICAgICAgaGFzaF90eXBlID0gZ2V0YXR0cihoYXNobGliLCBmb3
2016-10-19 23:58:04,659 [salt.utils.vt.Terminal.PID-1695.STDERR][TRACE   ][1694] JtKQog
ICAgZXhjZXB0IEF0dHJpYnV0ZUVycm9yOgogICAgICAgIHJhaXNlIFZhbHVlRXJyb3IoJ0ludmFs
aWQgaGFzaCB0eXBlOiB7MH0nLmZvcm1hdChmb3JtKSkKICAgIHdpdGggb3BlbihwYXRoLCAncmIn
KSBhcyBpZmlsZToKICAgICAgICBoYXNoX29iaiA9IGhhc2hfdHlwZSgpCiAgICAgICAgIyByZWFk
IHRoZSBmaWxlIGluIGluIGNodW5rcywgbm90IHRoZSBlbnRpcmUgZmlsZQogICAgICAgIGZvciBj
aHVuayBpbiBpdGVyKGxhbWJkYTogaWZpbGUucmVhZChjaHVua19zaXplKSwgYicnKToKICAgICAg
ICAgICAgaGFzaF9vYmoudXBkYXRlKGNodW5rKQogICAgICAgIHJldHVybiBoYXNoX29iai5oZXhk
aWdlc3QoKQoKCmRlZiB1bnBhY2tfdGhpbih0aGluX3BhdGgpOgogICAgIiIiVW5wYWNrIHRoZSBT
YWx0IHRoaW4gYXJjaGl2ZS4iIiIKICAgIHRmaWxlID0gdGFyZmlsZS5UYXJGaWxlLmd6b3Blbih0
aGluX3BhdGgpCiAgICBvbGRfdW1hc2sgPSBvcy51bWFzaygwbzA3NykKICAgIHRmaWxlLmV4dHJh
Y3RhbGwocGF0aD1PUFRJT05TLnNhbHRkaXIpCiAgICB0ZmlsZS5jbG9zZSgpCiAgICBvcy51bWFz
ayhvbGRfdW1hc2spCiAgICBvcy51bmxpbmsodGhpbl9wYXRoKQoKCmRlZiBuZWVkX2V4dCgpOgog
ICAgIiIiU2lnbmFsIHRoYXQgZXh0ZXJuYWwgbW9kdWxlcyBuZWVkIHRvIGJlIGRlcGxveWVkLiIi
IgogICAgc3lzLnN0ZG91dC53cml0ZSgiezB9XG5leHRfbW9kc1xuIi5mb3JtYXQoT1BUSU9OUy5k
ZW
2016-10-19 23:58:04,669 [salt.utils.vt.Terminal.PID-1695.STDERR][TRACE   ][1694] xpbWl0ZXIpKQogICAgc3lzLmV4aXQoRVhfTU9EX0RFUExPWSkKCgpkZWYgdW5wYWNrX2V4dChl
eHRfcGF0aCk6CiAgICAiIiJVbnBhY2sgdGhlIGV4dGVybmFsIG1vZHVsZXMuIiIiCiAgICBtb2Rj
YWNoZSA9IG9zLnBhdGguam9pbigKICAgICAgICAgICAgT1BUSU9OUy5zYWx0ZGlyLAogICAgICAg
ICAgICAncnVubmluZ19kYXRhJywKICAgICAgICAgICAgJ3ZhcicsCiAgICAgICAgICAgICdjYWNo
ZScsCiAgICAgICAgICAgICdzYWx0JywKICAgICAgICAgICAgJ21pbmlvbicsCiAgICAgICAgICAg
ICdleHRtb2RzJykKICAgIHRmaWxlID0gdGFyZmlsZS5UYXJGaWxlLmd6b3BlbihleHRfcGF0aCkK
ICAgIG9sZF91bWFzayA9IG9zLnVtYXNrKDBvMDc3KQogICAgdGZpbGUuZXh0cmFjdGFsbChwYXRo
PW1vZGNhY2hlKQogICAgdGZpbGUuY2xvc2UoKQogICAgb3MudW1hc2sob2xkX3VtYXNrKQogICAg
b3MudW5saW5rKGV4dF9wYXRoKQogICAgdmVyX3BhdGggPSBvcy5wYXRoLmpvaW4obW9kY2FjaGUs
ICdleHRfdmVyc2lvbicpCiAgICB2ZXJfZHN0ID0gb3MucGF0aC5qb2luKE9QVElPTlMuc2FsdGRp
ciwgJ2V4dF92ZXJzaW9uJykKICAgIHNodXRpbC5tb3ZlKHZlcl9wYXRoLCB2ZXJfZHN0KQoKCmRl
ZiBtYWluKGFyZ3YpOiAgIyBweWxpbnQ6IGRpc2FibGU9VzA2MTMKICAgICIiIk1haW4gcHJvZ3Jh
bSBib2R5IiIiCiAgICB0aGluX3BhdGggPSBvcy5wYXRoLmpvaW4oT1BUSU9OUy5zYWx0ZGlyLCBU
SElOX0FSQ0hJ
2016-10-19 23:58:04,680 [salt.utils.vt.Terminal.PID-1695.STDERR][TRACE   ][1694] VkUpCiAgICBpZiBvcy5wYXRoLmlzZmlsZSh0aGluX3BhdGgpOgogICAgICAgIGlm
IE9QVElPTlMuY2hlY2tzdW0gIT0gZ2V0X2hhc2godGhpbl9wYXRoLCBPUFRJT05TLmhhc2hmdW5j
KToKICAgICAgICAgICAgc3lzLnN0ZGVyci53cml0ZSgnezB9XG4nLmZvcm1hdChPUFRJT05TLmNo
ZWNrc3VtKSkKICAgICAgICAgICAgc3lzLnN0ZGVyci53cml0ZSgnezB9XG4nLmZvcm1hdChnZXRf
aGFzaCh0aGluX3BhdGgsIE9QVElPTlMuaGFzaGZ1bmMpKSkKICAgICAgICAgICAgb3MudW5saW5r
KHRoaW5fcGF0aCkKICAgICAgICAgICAgc3lzLnN0ZGVyci53cml0ZSgnV0FSTklORzogY2hlY2tz
dW0gbWlzbWF0Y2ggZm9yICJ7MH0iXG4nLmZvcm1hdCh0aGluX3BhdGgpKQogICAgICAgICAgICBz
eXMuZXhpdChFWF9USElOX0NIRUNLU1VNKQogICAgICAgIHVucGFja190aGluKHRoaW5fcGF0aCkK
ICAgICAgICAjIFNhbHQgdGhpbiBub3cgaXMgYXZhaWxhYmxlIHRvIHVzZQogICAgZWxzZToKICAg
ICAgICBzY3BzdGF0ID0gc3VicHJvY2Vzcy5Qb3BlbihbJy9iaW4vc2gnLCAnLWMnLCAnY29tbWFu
ZCAtdiBzY3AnXSkud2FpdCgpCiAgICAgICAgaWYgc2Nwc3RhdCAhPSAwOgogICAgICAgICAgICBz
eXMuZXhpdChFWF9TQ1BfTk9UX0ZPVU5EKQoKICAgICAgICBpZiBub3Qgb3MucGF0aC5leGlzdHMo
T1BUSU9OUy5zYWx0ZGlyKToKICAgICAgICAgICAgbmVlZF9kZXBsb3ltZW50KCkKCiAgICAgICAg
2016-10-19 23:58:04,691 [salt.utils.vt.Terminal.PID-1695.STDERR][TRACE   ][1694] aWYgbm90IG9zLnBhdGguaXNkaXIoT1BUSU9OUy5zYWx0ZGlyKToKICAgICAgICAgICAgc3lzLnN0
ZGVyci53cml0ZSgKICAgICAgICAgICAgICAgICdFUlJPUjogc2FsdCBwYXRoICJ7MH0iIGV4aXN0
cyBidXQgaXMnCiAgICAgICAgICAgICAgICAnIG5vdCBhIGRpcmVjdG9yeVxuJy5mb3JtYXQoT1BU
SU9OUy5zYWx0ZGlyKQogICAgICAgICAgICApCiAgICAgICAgICAgIHN5cy5leGl0KEVYX0NBTlRD
UkVBVCkKCiAgICAgICAgdmVyc2lvbl9wYXRoID0gb3MucGF0aC5qb2luKE9QVElPTlMuc2FsdGRp
ciwgJ3ZlcnNpb24nKQogICAgICAgIGlmIG5vdCBvcy5wYXRoLmV4aXN0cyh2ZXJzaW9uX3BhdGgp
IG9yIG5vdCBvcy5wYXRoLmlzZmlsZSh2ZXJzaW9uX3BhdGgpOgogICAgICAgICAgICBzeXMuc3Rk
ZXJyLndyaXRlKAogICAgICAgICAgICAgICAgJ1dBUk5JTkc6IFVuYWJsZSB0byBsb2NhdGUgY3Vy
cmVudCB0aGluICcKICAgICAgICAgICAgICAgICcgdmVyc2lvbjogezB9LlxuJy5mb3JtYXQodmVy
c2lvbl9wYXRoKQogICAgICAgICAgICApCiAgICAgICAgICAgIG5lZWRfZGVwbG95bWVudCgpCiAg
ICAgICAgd2l0aCBvcGVuKHZlcnNpb25fcGF0aCwgJ3InKSBhcyB2cG86CiAgICAgICAgICAgIGN1
cl92ZXJzaW9uID0gdnBvLnJlYWRsaW5lKCkuc3RyaXAoKQogICAgICAgIGlmIGN1cl92ZXJzaW9u
ICE9IE9QVElPTlMudmVyc2lvbjoKICAgICAgICAgICAgc3lzLnN0ZGVyci53cml0ZSgKICAgICAg
ICAgICAg
2016-10-19 23:58:04,691 [salt.utils.vt.Terminal.PID-1695.STDOUT][TRACE   ][1694] /bin/scp
_edbc7885e4f9aac9b83b35999b68d015148caf467b78fa39c05f669c0ff89878
2016-10-19 23:58:04,702 [salt.utils.vt.Terminal.PID-1695.STDERR][TRACE   ][1694] ICAgICdXQVJOSU5HOiBjdXJyZW50IHRoaW4gdmVyc2lvbiB7MH0nCiAgICAgICAgICAg
ICAgICAnIGlzIG5vdCB1cC10by1kYXRlIHdpdGggezF9LlxuJy5mb3JtYXQoCiAgICAgICAgICAg
ICAgICAgICAgY3VyX3ZlcnNpb24sIE9QVElPTlMudmVyc2lvbgogICAgICAgICAgICAgICAgKQog
ICAgICAgICAgICApCiAgICAgICAgICAgIG5lZWRfZGVwbG95bWVudCgpCiAgICAgICAgIyBTYWx0
IHRoaW4gZXhpc3RzIGFuZCBpcyB1cC10by1kYXRlIC0gZmFsbCB0aHJvdWdoIGFuZCB1c2UgaXQK
CiAgICBzYWx0X2NhbGxfcGF0aCA9IG9zLnBhdGguam9pbihPUFRJT05TLnNhbHRkaXIsICdzYWx0
LWNhbGwnKQogICAgaWYgbm90IG9zLnBhdGguaXNmaWxlKHNhbHRfY2FsbF9wYXRoKToKICAgICAg
ICBzeXMuc3RkZXJyLndyaXRlKCdFUlJPUjogdGhpbiBpcyBtaXNzaW5nICJ7MH0iXG4nLmZvcm1h
dChzYWx0X2NhbGxfcGF0aCkpCiAgICAgICAgbmVlZF9kZXBsb3ltZW50KCkKCiAgICB3aXRoIG9w
ZW4ob3MucGF0aC5qb2luKE9QVElPTlMuc2FsdGRpciwgJ21pbmlvbicpLCAndycpIGFzIGNvbmZp
ZzoKICAgICAgICBjb25maWcud3JpdGUoT1BUSU9OUy5jb25maWcgKyAnXG4nKQogICAgaWYgT1BU
SU9OUy5leHRfbW9kczoKICAgICAgICBleHRfcGF0aCA9IG9zLnBhdGguam9pbihPUFRJT05TLnNh
bHRkaXIsIEVYVF9BUkNISVZFKQogICAgICAgIGlmIG9zLnBhdGguZXhpc3RzKGV4dF9wYXRoKToK
ICAgICAgICAgICAgdW
2016-10-19 23:58:04,712 [salt.utils.vt.Terminal.PID-1695.STDERR][TRACE   ][1694] 5wYWNrX2V4dChleHRfcGF0aCkKICAgICAgICBlbHNlOgogICAgICAgICAg
ICB2ZXJzaW9uX3BhdGggPSBvcy5wYXRoLmpvaW4oT1BUSU9OUy5zYWx0ZGlyLCAnZXh0X3ZlcnNp
b24nKQogICAgICAgICAgICBpZiBub3Qgb3MucGF0aC5leGlzdHModmVyc2lvbl9wYXRoKSBvciBu
b3Qgb3MucGF0aC5pc2ZpbGUodmVyc2lvbl9wYXRoKToKICAgICAgICAgICAgICAgIG5lZWRfZXh0
KCkKICAgICAgICAgICAgd2l0aCBvcGVuKHZlcnNpb25fcGF0aCwgJ3InKSBhcyB2cG86CiAgICAg
ICAgICAgICAgICBjdXJfdmVyc2lvbiA9IHZwby5yZWFkbGluZSgpLnN0cmlwKCkKICAgICAgICAg
ICAgaWYgY3VyX3ZlcnNpb24gIT0gT1BUSU9OUy5leHRfbW9kczoKICAgICAgICAgICAgICAgIG5l
ZWRfZXh0KCkKICAgICMgRml4IHBhcmFtZXRlciBwYXNzaW5nIGlzc3VlCiAgICBpZiBsZW4oQVJH
UykgPT0gMToKICAgICAgICBhcmd2X3ByZXBhcmVkID0gQVJHU1swXS5zcGxpdCgpCiAgICBlbHNl
OgogICAgICAgIGFyZ3ZfcHJlcGFyZWQgPSBBUkdTCgogICAgc2FsdF9hcmd2ID0gWwogICAgICAg
IHN5cy5leGVjdXRhYmxlLAogICAgICAgIHNhbHRfY2FsbF9wYXRoLAogICAgICAgICctLXJldGNv
ZGUtcGFzc3Rocm91Z2gnLAogICAgICAgICctLWxvY2FsJywKICAgICAgICAnLS1tZXRhZGF0YScs
CiAgICAgICAgJy0tb3V0JywgJ2pzb24nLAogICAgICAgICctbCcsICdxdWlldCcsCiAgICAgICAg
Jy1jJywgT1BUSU9OUy5zYWx0ZGly
2016-10-19 23:58:04,723 [salt.utils.vt.Terminal.PID-1695.STDERR][TRACE   ][1694] LAogICAgICAgICctLScsCiAgICBdICsgYXJndl9wcmVwYXJl
ZAoKICAgIHN5cy5zdGRlcnIud3JpdGUoJ1NBTFRfQVJHVjogezB9XG4nLmZvcm1hdChzYWx0X2Fy
Z3YpKQoKICAgICMgT25seSBlbWl0IHRoZSBkZWxpbWl0ZXIgb24gKmJvdGgqIHN0ZG91dCBhbmQg
c3RkZXJyIHdoZW4gY29tcGxldGVseSBzdWNjZXNzZnVsLgogICAgIyBZZXMsIHRoZSBmbHVzaCgp
IGlzIG5lY2Vzc2FyeS4KICAgIHN5cy5zdGRvdXQud3JpdGUoT1BUSU9OUy5kZWxpbWl0ZXIgKyAn
XG4nKQogICAgc3lzLnN0ZG91dC5mbHVzaCgpCiAgICBpZiBub3QgT1BUSU9OUy50dHk6CiAgICAg
ICAgc3lzLnN0ZGVyci53cml0ZShPUFRJT05TLmRlbGltaXRlciArICdcbicpCiAgICAgICAgc3lz
LnN0ZGVyci5mbHVzaCgpCiAgICBpZiBPUFRJT05TLmNtZF91bWFzayBpcyBub3QgTm9uZToKICAg
ICAgICBvbGRfdW1hc2sgPSBvcy51bWFzayhPUFRJT05TLmNtZF91bWFzaykKICAgIGlmIE9QVElP
TlMudHR5OgogICAgICAgIHN0ZG91dCwgXyA9IHN1YnByb2Nlc3MuUG9wZW4oc2FsdF9hcmd2LCBz
dGRvdXQ9c3VicHJvY2Vzcy5QSVBFLCBzdGRlcnI9c3VicHJvY2Vzcy5QSVBFKS5jb21tdW5pY2F0
ZSgpCiAgICAgICAgc3lzLnN0ZG91dC53cml0ZShzdGRvdXQpCiAgICAgICAgc3lzLnN0ZG91dC5m
bHVzaCgpCiAgICAgICAgaWYgT1BUSU9OUy53aXBlOgogICAgICAgICAgICBzaHV0aWwucm10cmVl
KE9QVElPTlMuc2FsdGRpcikKICAgIGVsaWYgT1
2016-10-19 23:58:04,733 [salt.utils.vt.Terminal.PID-1695.STDERR][TRACE   ][1694] BUSU9OUy53aXBlOgogICAgICAgIHN1YnByb2Nl
c3MuY2FsbChzYWx0X2FyZ3YpCiAgICAgICAgc2h1dGlsLnJtdHJlZShPUFRJT05TLnNhbHRkaXIp
CiAgICBlbHNlOgogICAgICAgIG9zLmV4ZWN2KHN5cy5leGVjdXRhYmxlLCBzYWx0X2FyZ3YpCiAg
ICBpZiBPUFRJT05TLmNtZF91bWFzayBpcyBub3QgTm9uZToKICAgICAgICBvcy51bWFzayhvbGRf
dW1hc2spCgppZiBfX25hbWVfXyA9PSAnX19tYWluX18nOgogICAgc3lzLmV4aXQobWFpbihzeXMu
YXJndikpCg==
""").decode("utf-8"))'
SALT_ARGV: ['/usr/bin/python2.7', '/var/tmp/.salt-ope_1a3532_salt/salt-call', '--retcode-passthrough', '--local', '--metadata', '--out', 'json', '-l', 'quiet', '-c', '/var/tmp/.salt-ope_1a3532_salt', '--', 'test.opts_pkg']
_edbc7885e4f9aac9b83b35999b68d015148caf467b78fa39c05f669c0ff89878
2016-10-19 23:58:04,998 [salt.utils.vt.Terminal.PID-1695.STDOUT][TRACE   ][1694] {
    "local": {
        "fun_args": [], 
        "jid": "20161019235805843721", 
        "return": {
            "output_file_append": false, 
            "selected_output_option": "output_indent", 
            "ioflo_realtime": true, 
            "zmq_filtering": false, 
            "acceptance_wait_time": 10, 
            "recon_default": 1000, 
            "whitelist_modules": [], 
            "ioflo_console_logdir": "", 
            "winrepo_password": "", 
            "utils_dirs": [
                "/var/cache/salt/minion/extmods/utils"
            ], 
            "state_top_saltenv": null, 
            "states_dirs": [], 
            "state_output_diff": false, 
            "fileserver_backend": [
                "roots"
            ], 
            "outputter_dirs": [], 
            "raet_port": 4510, 
            "module_dirs": [], 
            "git_pillar_ssl_verify": false, 
            "tcp_keepalive": true, 
            "environment": null, 
            "state_auto_or
2016-10-19 23:58:05,009 [salt.utils.vt.Terminal.PID-1695.STDOUT][TRACE   ][1694] der": true, 
            "master_alive_interval": 0, 
            "__role": "minion", 
            "disable_modules": [], 
            "backup_mode": "", 
            "cluster_masters": [], 
            "recon_randomize": true, 
            "return": "", 
            "args_stdin": false, 
            "file_ignore_glob": [], 
            "auto_accept": true, 
            "open_mode": false, 
            "winrepo_ssl_verify": false, 
            "git_pillar_root": "", 
            "git_pillar_pubkey": "", 
            "master_failback_interval": 0, 
            "state_verbose": true, 
            "verify_master_pubkey_sign": false, 
            "password": null, 
            "cluster_mode": false, 
            "startup_states": "", 
            "grains": {
                "biosversion": "Bochs", 
                "kernel": "Linux", 
                "domain": "", 
                "uid": 0, 
                "kernelrelease": "3.10.0-327.el7.x86_64", 
                "selinux": {
2016-10-19 23:58:05,021 [salt.utils.vt.Terminal.PID-1695.STDOUT][TRACE   ][1694]             "enforced": "Disabled", 
                    "enabled": false
                }, 
                "pid": 18159, 
                "ip_interfaces": {
                    "lo": [
                        "127.0.0.1", 
                        "::1"
                    ], 
                    "eth0": [
                        "192.168.1.15", 
                        "fe80::5054:ff:feb2:a17b"
                    ]
                }, 
                "groupname": "root", 
                "fqdn_ip6": [], 
                "mem_total": 993, 
                "saltversioninfo": [
                    2016, 
                    3, 
                    2, 
                    0
                ], 
                "SSDs": [], 
                "mdadm": [], 
                "id": "munin", 
                "osrelease": "7.2.1511", 
                "ps": "ps -efH", 
                "server_id": 1385707368, 
                "fqdn": "munin", 
                "uuid": "f675deb9-6afd-4c92-a9a2
2016-10-19 23:58:05,035 [salt.utils.vt.Terminal.PID-1695.STDOUT][TRACE   ][1694] -33e43d53bd48", 
                "ip6_interfaces": {
                    "lo": [
                        "::1"
                    ], 
                    "eth0": [
                        "fe80::5054:ff:feb2:a17b"
                    ]
                }, 
                "num_cpus": 1, 
                "hwaddr_interfaces": {
                    "lo": "00:00:00:00:00:00", 
                    "eth0": "52:54:00:b2:a1:7b"
                }, 
                "osfullname": "CentOS Linux", 
                "ip4_interfaces": {
                    "lo": [
                        "127.0.0.1"
                    ], 
                    "eth0": [
                        "192.168.1.15"
                    ]
                }, 
                "init": "systemd", 
                "gid": 0, 
                "master": "salt", 
                "ipv4": [
                    "127.0.0.1", 
                    "192.168.1.15"
                ], 
                "dns": {
                    "nameserv
2016-10-19 23:58:05,047 [salt.utils.vt.Terminal.PID-1695.STDOUT][TRACE   ][1694] ers": [
                        "192.168.1.1"
                    ], 
                    "domain": "", 
                    "ip4_nameservers": [
                        "192.168.1.1"
                    ], 
                    "search": [], 
                    "ip6_nameservers": []
                }, 
                "ipv6": [
                    "::1", 
                    "fe80::5054:ff:feb2:a17b"
                ], 
                "cpu_flags": [
                    "fpu", 
                    "de", 
                    "pse", 
                    "tsc", 
                    "msr", 
                    "pae", 
                    "mce", 
                    "cx8", 
                    "apic", 
                    "sep", 
                    "mtrr", 
                    "pge", 
                    "mca", 
                    "cmov", 
                    "pse36", 
                    "clflush", 
                    "mmx", 
                    "fxsr", 
                    "s
2016-10-19 23:58:05,059 [salt.utils.vt.Terminal.PID-1695.STDOUT][TRACE   ][1694] se", 
                    "sse2", 
                    "syscall", 
                    "nx", 
                    "lm", 
                    "rep_good", 
                    "nopl", 
                    "pni", 
                    "vmx", 
                    "cx16", 
                    "x2apic", 
                    "hypervisor", 
                    "lahf_lm", 
                    "tpr_shadow", 
                    "vnmi", 
                    "flexpriority", 
                    "ept", 
                    "vpid"
                ], 
                "localhost": "munin", 
                "lsb_distrib_id": "CentOS Linux", 
                "username": "root", 
                "fqdn_ip4": [], 
                "shell": "/bin/bash", 
                "nodename": "munin", 
                "saltversion": "2016.3.2", 
                "pythonpath": [
                    "/var/tmp/.salt-ope_1a3532_salt/py2", 
                    "/var/tmp/.salt-ope_1a3532_salt", 
                    "/usr/
2016-10-19 23:58:05,071 [salt.utils.vt.Terminal.PID-1695.STDOUT][TRACE   ][1694] lib64/python27.zip", 
                    "/usr/lib64/python2.7", 
                    "/usr/lib64/python2.7/plat-linux2", 
                    "/usr/lib64/python2.7/lib-tk", 
                    "/usr/lib64/python2.7/lib-old", 
                    "/usr/lib64/python2.7/lib-dynload", 
                    "/usr/lib64/python2.7/site-packages", 
                    "/usr/lib/python2.7/site-packages"
                ], 
                "systemd": {
                    "version": "219", 
                    "features": "+PAM +AUDIT +SELINUX +IMA -APPARMOR +SMACK +SYSVINIT +UTMP +LIBCRYPTSETUP +GCRYPT +GNUTLS +ACL +XZ -LZ4 -SECCOMP +BLKID +ELFUTILS +KMOD +IDN"
                }, 
                "saltpath": "/var/tmp/.salt-ope_1a3532_salt/py2/salt", 
                "osmajorrelease": "7", 
                "os_family": "RedHat", 
                "oscodename": "CentOS Linux 7 (Core)", 
                "osfinger": "CentOS Linux-7",
2016-10-19 23:58:05,084 [salt.utils.vt.Terminal.PID-1695.STDOUT][TRACE   ][1694]                 "pythonversion": [
                    2, 
                    7, 
                    5, 
                    "final", 
                    0
                ], 
                "manufacturer": "QEMU", 
                "num_gpus": 0, 
                "virtual": "kvm", 
                "os": "CentOS", 
                "disks": [
                    "sr0", 
                    "vda", 
                    "dm-0", 
                    "dm-1"
                ], 
                "cpu_model": "QEMU Virtual CPU version 2.5+", 
                "host": "munin", 
                "biosreleasedate": "01/01/2011", 
                "productname": "Standard PC (i440FX + PIIX, 1996)", 
                "osarch": "x86_64", 
                "cpuarch": "x86_64", 
                "lsb_distrib_codename": "CentOS Linux 7 (Core)", 
                "osrelease_info": [
                    7, 
                    2, 
                    1511
                ], 
                "locale_info
2016-10-19 23:58:05,096 [salt.utils.vt.Terminal.PID-1695.STDOUT][TRACE   ][1694] ": {
                    "detectedencoding": "UTF-8", 
                    "defaultlanguage": "en_US", 
                    "defaultencoding": "UTF-8"
                }, 
                "gpus": [], 
                "path": "/sbin:/bin:/usr/sbin:/usr/bin:/usr/local/bin", 
                "machine_id": "6f1f82d9f041d40c28e2936eed7a932a", 
                "pythonexecutable": "/usr/bin/python2.7"
            }, 
            "state_output": "full", 
            "tcp_pull_port": 4511, 
            "pillar": {}, 
            "fileserver_ignoresymlinks": false, 
            "retry_dns": 30, 
            "gitfs_global_lock": true, 
            "master_tries": 1, 
            "return_retry_timer": 5, 
            "file_ignore_regex": [], 
            "output": "json", 
            "master_shuffle": false, 
            "range_server": "range:80", 
            "gitfs_pubkey": "", 
            "file_roots": {
                "base": [
                    "/srv/salt", 
                    "/srv/s
2016-10-19 23:58:05,108 [salt.utils.vt.Terminal.PID-1695.STDOUT][TRACE   ][1694] pm/salt"
                ]
            }, 
            "master_failback": false, 
            "top_file_merging_strategy": "merge", 
            "root_dir": "/var/tmp/.salt-ope_1a3532_salt/running_data", 
            "log_granular_levels": {}, 
            "git_pillar_insecure_auth": false, 
            "returner_dirs": [], 
            "gitfs_privkey": "", 
            "skip_grains": false, 
            "winrepo_remotes_ng": [
                "https://github.com/saltstack/salt-winrepo-ng.git"
            ], 
            "arg": [], 
            "grains_dirs": [], 
            "config_dir": "/var/tmp/.salt-ope_1a3532_salt", 
            "state_top": "top.sls", 
            "transport": "zeromq", 
            "winrepo_privkey": "", 
            "gitfs_base": "master", 
            "render_dirs": [], 
            "pillar_opts": false, 
            "pillar_cache_ttl": 3600, 
            "gitfs_user": "", 
            "fileserver_limit_traversal": false, 
            "tcp_keepalive_intvl"
2016-10-19 23:58:05,120 [salt.utils.vt.Terminal.PID-1695.STDOUT][TRACE   ][1694] : -1, 
            "conf_file": "/var/tmp/.salt-ope_1a3532_salt/minion", 
            "top_file": "", 
            "zmq_monitor": false, 
            "file_recv_max_size": 100, 
            "pidfile": "/var/tmp/.salt-ope_1a3532_salt/running_data/var/run/salt-minion.pid", 
            "metadata": true, 
            "raet_mutable": false, 
            "log_datefmt_logfile": "%Y-%m-%d %H:%M:%S", 
            "pillar_roots": {
                "base": [
                    "/srv/pillar", 
                    "/srv/spm/pillar"
                ]
            }, 
            "winrepo_cachefile": "winrepo.p", 
            "schedule": {}, 
            "raet_main": false, 
            "thorium_roots": {
                "base": [
                    "/srv/thorium"
                ]
            }, 
            "cachedir": "/var/tmp/.salt-ope_1a3532_salt/running_data/var/cache/salt/minion", 
            "winrepo_passphrase": "", 
            "interface": "0.0.0.0", 
            "update_restart_serv
2016-10-19 23:58:05,132 [salt.utils.vt.Terminal.PID-1695.STDOUT][TRACE   ][1694] ices": [], 
            "recon_max": 10000, 
            "master_uri_format": "default", 
            "default_include": "minion.d/*.conf", 
            "hard_crash": false, 
            "http_request_timeout": 3600.0, 
            "rejected_retry": false, 
            "state_events": false, 
            "gitfs_ssl_verify": false, 
            "http_max_body": 107374182400, 
            "restart_on_error": false, 
            "winrepo_dir": "/srv/salt/win/repo", 
            "raet_road_bufcnt": 2, 
            "multiprocessing": true, 
            "winrepo_pubkey": "", 
            "mine_enabled": true, 
            "ipc_mode": "ipc", 
            "keysize": 2048, 
            "profiling_enabled": false, 
            "master_sign_key_name": "master_sign", 
            "cython_enable": false, 
            "sls_list": [], 
            "beacons": {}, 
            "git_pillar_env": "", 
            "ext_job_cache": "", 
            "hash_type": "md5", 
            "winrepo_source_dir": "
2016-10-19 23:58:05,145 [salt.utils.vt.Terminal.PID-1695.STDOUT][TRACE   ][1694] salt://win/repo-ng/", 
            "always_verify_signature": false, 
            "force_color": false, 
            "modules_max_memory": -1, 
            "renderer": "yaml_jinja", 
            "random_reauth_delay": 10, 
            "gitfs_env_whitelist": [], 
            "git_pillar_base": "master", 
            "gitfs_insecure_auth": false, 
            "mine_interval": 60, 
            "git_pillar_privkey": "", 
            "__cli": "salt-call", 
            "extension_modules": "/var/tmp/.salt-ope_1a3532_salt/running_data/var/cache/salt/minion/extmods", 
            "minion_id_caching": true, 
            "providers": {}, 
            "winrepo_user": "", 
            "grains_cache": true, 
            "file_recv": false, 
            "no_color": false, 
            "ipv6": false, 
            "verify_env": true, 
            "sudo_user": "", 
            "username": null, 
            "master_finger": "", 
            "syndic_finger": "", 
            "tcp_keepalive_idle": 300,
2016-10-19 23:58:05,158 [salt.utils.vt.Terminal.PID-1695.STDOUT][TRACE   ][1694]             "thorium_interval": 0.5, 
            "grains_deep_merge": false, 
            "gitfs_passphrase": "", 
            "log_fmt_logfile": "%(asctime)s,%(msecs)03.0f [%(name)-17s][%(levelname)-8s][%(process)d] %(message)s", 
            "mine_return_job": false, 
            "master_port": 4506, 
            "enable_zip_modules": false, 
            "ioflo_period": 0.1, 
            "use_master_when_local": false, 
            "ping_interval": 0, 
            "auth_timeout": 60, 
            "local": true, 
            "tcp_keepalive_cnt": -1, 
            "raet_lane_bufcnt": 100, 
            "git_pillar_global_lock": true, 
            "pillar_cache_backend": "disk", 
            "raet_alt_port": 4511, 
            "env_order": [], 
            "profiling_path": "/tmp/stats", 
            "caller": true, 
            "retcode_passthrough": true, 
            "doc": false, 
            "fun": "test.opts_pkg", 
            "winrepo_insecure_auth": false, 
            "update_
2016-10-19 23:58:05,172 [salt.utils.vt.Terminal.PID-1695.STDOUT][TRACE   ][1694] url": false, 
            "grains_refresh_every": 0, 
            "master_type": "str", 
            "git_pillar_branch": "master", 
            "default_top": "base", 
            "winrepo_branch": "master", 
            "pillar_cache": false,
2016-10-19 23:58:05,185 [salt.utils.vt.Terminal.PID-1695.STDOUT][TRACE   ][1694]             "winrepo_remotes": [
                "https://github.com/saltstack/salt-winrepo.git"
            ], 
            "autoload_dynamic_modules": true, 
            "file_buffer_size": 262144, 
            "log_fmt_console": "[%(levelname)-8s] %(message)s", 
            "random_master": false, 
            "log_datefmt": "%H:%M:%S", 
            "grains_cache_expiration": 300, 
            "max_event_size": 1048576, 
            "id": "munin", 
            "caller_floscript": "/var/tmp/.salt-ope_1a3532_salt/py2/salt/daemons/flo/caller.flo", 
            "state_aggregate": false, 
            "event_publisher_pub_hwm": 1000, 
            "loop_interval": 1, 
            "log_level": "quiet", 
            "git_pillar_password": "", 
            "event_match_type": "startswith", 
            "git_pillar_user": "", 
            "auth_safemode": false, 
            "clean_dynamic_modules": true, 
            "disable_returners": [], 
            "ipc_write_buffer": 0, 
            "
2016-10-19 23:58:05,197 [salt.utils.vt.Terminal.PID-1695.STDOUT][TRACE   ][1694] cache_sreqs": true, 
            "autosign_timeout": 120, 
            "gitfs_root": "", 
            "test": false, 
            "gitfs_password": "", 
            "return_retry_timer_max": 10, 
            "failhard": false, 
            "raet_clear_remotes": true, 
            "raet_clear_remote_masters": true, 
            "file_client": "local", 
            "user": "root", 
            "git_pillar_passphrase": "", 
            "pillarenv": null, 
            "auth_tries": 7, 
            "cache_jobs": false, 
            "permissive_pki_access": false, 
            "cmd_safe": true, 
            "gitfs_env_blacklist": [], 
            "winrepo_dir_ng": "/srv/salt/win/repo-ng", 
            "refresh_grains_cache": false, 
            "fileserver_list_cache_time": 3, 
            "salt_event_pub_hwm": 2000, 
            "pki_dir": "/var/tmp/.salt-ope_1a3532_salt/running_data/etc/salt/pki/minion", 
            "grains_run": false, 
            "minion_floscript": "/var/tmp/.salt-ope
2016-10-19 23:58:05,210 [salt.utils.vt.Terminal.PID-1695.STDOUT][TRACE   ][1694] _1a3532_salt/py2/salt/daemons/flo/minion.flo", 
            "ioflo_verbose": 0, 
            "sock_dir": "/var/tmp/.salt-ope_1a3532_salt/running_data", 
            "tcp_pub_port": 4510, 
            "acceptance_wait_time_max": 0, 
            "master": "salt", 
            "fileserver_followsymlinks": true, 
            "log_file": "/var/tmp/.salt-ope_1a3532_salt/running_data/salt-call.log", 
            "gitfs_remotes": [], 
            "gitfs_mountpoint": ""
        }, 
        "retcode": 0, 
        "fun": "test.opts_pkg", 
        "id": "munin"
    }
}
2016-10-19 23:58:05,434 [salt.client.ssh  ][TRACE   ][1694] STDOUT 192.168.1.15
salt-ope@192.168.1.15's password: 
/bin/scp
_edbc7885e4f9aac9b83b35999b68d015148caf467b78fa39c05f669c0ff89878
{
    "local": {
        "fun_args": [], 
        "jid": "20161019235805843721", 
        "return": {
            "output_file_append": false, 
            "selected_output_option": "output_indent", 
            "ioflo_realtime": true, 
            "zmq_filtering": false, 
            "acceptance_wait_time": 10, 
            "recon_default": 1000, 
            "whitelist_modules": [], 
            "ioflo_console_logdir": "", 
            "winrepo_password": "", 
            "utils_dirs": [
                "/var/cache/salt/minion/extmods/utils"
            ], 
            "state_top_saltenv": null, 
            "states_dirs": [], 
            "state_output_diff": false, 
            "fileserver_backend": [
                "roots"
            ], 
            "outputter_dirs": [], 
            "raet_port": 4510, 
            "module_dirs": [], 
            "git_pillar_ssl_verify": false, 
            "tcp_keepalive": true, 
            "environment": null, 
            "state_auto_order": true, 
            "master_alive_interval": 0, 
            "__role": "minion", 
            "disable_modules": [], 
            "backup_mode": "", 
            "cluster_masters": [], 
            "recon_randomize": true, 
            "return": "", 
            "args_stdin": false, 
            "file_ignore_glob": [], 
            "auto_accept": true, 
            "open_mode": false, 
            "winrepo_ssl_verify": false, 
            "git_pillar_root": "", 
            "git_pillar_pubkey": "", 
            "master_failback_interval": 0, 
            "state_verbose": true, 
            "verify_master_pubkey_sign": false, 
            "password": null, 
            "cluster_mode": false, 
            "startup_states": "", 
            "grains": {
                "biosversion": "Bochs", 
                "kernel": "Linux", 
                "domain": "", 
                "uid": 0, 
                "kernelrelease": "3.10.0-327.el7.x86_64", 
                "selinux": {
                    "enforced": "Disabled", 
                    "enabled": false
                }, 
                "pid": 18159, 
                "ip_interfaces": {
                    "lo": [
                        "127.0.0.1", 
                        "::1"
                    ], 
                    "eth0": [
                        "192.168.1.15", 
                        "fe80::5054:ff:feb2:a17b"
                    ]
                }, 
                "groupname": "root", 
                "fqdn_ip6": [], 
                "mem_total": 993, 
                "saltversioninfo": [
                    2016, 
                    3, 
                    2, 
                    0
                ], 
                "SSDs": [], 
                "mdadm": [], 
                "id": "munin", 
                "osrelease": "7.2.1511", 
                "ps": "ps -efH", 
                "server_id": 1385707368, 
                "fqdn": "munin", 
                "uuid": "f675deb9-6afd-4c92-a9a2-33e43d53bd48", 
                "ip6_interfaces": {
                    "lo": [
                        "::1"
                    ], 
                    "eth0": [
                        "fe80::5054:ff:feb2:a17b"
                    ]
                }, 
                "num_cpus": 1, 
                "hwaddr_interfaces": {
                    "lo": "00:00:00:00:00:00", 
                    "eth0": "52:54:00:b2:a1:7b"
                }, 
                "osfullname": "CentOS Linux", 
                "ip4_interfaces": {
                    "lo": [
                        "127.0.0.1"
                    ], 
                    "eth0": [
                        "192.168.1.15"
                    ]
                }, 
                "init": "systemd", 
                "gid": 0, 
                "master": "salt", 
                "ipv4": [
                    "127.0.0.1", 
                    "192.168.1.15"
                ], 
                "dns": {
                    "nameservers": [
                        "192.168.1.1"
                    ], 
                    "domain": "", 
                    "ip4_nameservers": [
                        "192.168.1.1"
                    ], 
                    "search": [], 
                    "ip6_nameservers": []
                }, 
                "ipv6": [
                    "::1", 
                    "fe80::5054:ff:feb2:a17b"
                ], 
                "cpu_flags": [
                    "fpu", 
                    "de", 
                    "pse", 
                    "tsc", 
                    "msr", 
                    "pae", 
                    "mce", 
                    "cx8", 
                    "apic", 
                    "sep", 
                    "mtrr", 
                    "pge", 
                    "mca", 
                    "cmov", 
                    "pse36", 
                    "clflush", 
                    "mmx", 
                    "fxsr", 
                    "sse", 
                    "sse2", 
                    "syscall", 
                    "nx", 
                    "lm", 
                    "rep_good", 
                    "nopl", 
                    "pni", 
                    "vmx", 
                    "cx16", 
                    "x2apic", 
                    "hypervisor", 
                    "lahf_lm", 
                    "tpr_shadow", 
                    "vnmi", 
                    "flexpriority", 
                    "ept", 
                    "vpid"
                ], 
                "localhost": "munin", 
                "lsb_distrib_id": "CentOS Linux", 
                "username": "root", 
                "fqdn_ip4": [], 
                "shell": "/bin/bash", 
                "nodename": "munin", 
                "saltversion": "2016.3.2", 
                "pythonpath": [
                    "/var/tmp/.salt-ope_1a3532_salt/py2", 
                    "/var/tmp/.salt-ope_1a3532_salt", 
                    "/usr/lib64/python27.zip", 
                    "/usr/lib64/python2.7", 
                    "/usr/lib64/python2.7/plat-linux2", 
                    "/usr/lib64/python2.7/lib-tk", 
                    "/usr/lib64/python2.7/lib-old", 
                    "/usr/lib64/python2.7/lib-dynload", 
                    "/usr/lib64/python2.7/site-packages", 
                    "/usr/lib/python2.7/site-packages"
                ], 
                "systemd": {
                    "version": "219", 
                    "features": "+PAM +AUDIT +SELINUX +IMA -APPARMOR +SMACK +SYSVINIT +UTMP +LIBCRYPTSETUP +GCRYPT +GNUTLS +ACL +XZ -LZ4 -SECCOMP +BLKID +ELFUTILS +KMOD +IDN"
                }, 
                "saltpath": "/var/tmp/.salt-ope_1a3532_salt/py2/salt", 
                "osmajorrelease": "7", 
                "os_family": "RedHat", 
                "oscodename": "CentOS Linux 7 (Core)", 
                "osfinger": "CentOS Linux-7", 
                "pythonversion": [
                    2, 
                    7, 
                    5, 
                    "final", 
                    0
                ], 
                "manufacturer": "QEMU", 
                "num_gpus": 0, 
                "virtual": "kvm", 
                "os": "CentOS", 
                "disks": [
                    "sr0", 
                    "vda", 
                    "dm-0", 
                    "dm-1"
                ], 
                "cpu_model": "QEMU Virtual CPU version 2.5+", 
                "host": "munin", 
                "biosreleasedate": "01/01/2011", 
                "productname": "Standard PC (i440FX + PIIX, 1996)", 
                "osarch": "x86_64", 
                "cpuarch": "x86_64", 
                "lsb_distrib_codename": "CentOS Linux 7 (Core)", 
                "osrelease_info": [
                    7, 
                    2, 
                    1511
                ], 
                "locale_info": {
                    "detectedencoding": "UTF-8", 
                    "defaultlanguage": "en_US", 
                    "defaultencoding": "UTF-8"
                }, 
                "gpus": [], 
                "path": "/sbin:/bin:/usr/sbin:/usr/bin:/usr/local/bin", 
                "machine_id": "6f1f82d9f041d40c28e2936eed7a932a", 
                "pythonexecutable": "/usr/bin/python2.7"
            }, 
            "state_output": "full", 
            "tcp_pull_port": 4511, 
            "pillar": {}, 
            "fileserver_ignoresymlinks": false, 
            "retry_dns": 30, 
            "gitfs_global_lock": true, 
            "master_tries": 1, 
            "return_retry_timer": 5, 
            "file_ignore_regex": [], 
            "output": "json", 
            "master_shuffle": false, 
            "range_server": "range:80", 
            "gitfs_pubkey": "", 
            "file_roots": {
                "base": [
                    "/srv/salt", 
                    "/srv/spm/salt"
                ]
            }, 
            "master_failback": false, 
            "top_file_merging_strategy": "merge", 
            "root_dir": "/var/tmp/.salt-ope_1a3532_salt/running_data", 
            "log_granular_levels": {}, 
            "git_pillar_insecure_auth": false, 
            "returner_dirs": [], 
            "gitfs_privkey": "", 
            "skip_grains": false, 
            "winrepo_remotes_ng": [
                "https://github.com/saltstack/salt-winrepo-ng.git"
            ], 
            "arg": [], 
            "grains_dirs": [], 
            "config_dir": "/var/tmp/.salt-ope_1a3532_salt", 
            "state_top": "top.sls", 
            "transport": "zeromq", 
            "winrepo_privkey": "", 
            "gitfs_base": "master", 
            "render_dirs": [], 
            "pillar_opts": false, 
            "pillar_cache_ttl": 3600, 
            "gitfs_user": "", 
            "fileserver_limit_traversal": false, 
            "tcp_keepalive_intvl": -1, 
            "conf_file": "/var/tmp/.salt-ope_1a3532_salt/minion", 
            "top_file": "", 
            "zmq_monitor": false, 
            "file_recv_max_size": 100, 
            "pidfile": "/var/tmp/.salt-ope_1a3532_salt/running_data/var/run/salt-minion.pid", 
            "metadata": true, 
            "raet_mutable": false, 
            "log_datefmt_logfile": "%Y-%m-%d %H:%M:%S", 
            "pillar_roots": {
                "base": [
                    "/srv/pillar", 
                    "/srv/spm/pillar"
                ]
            }, 
            "winrepo_cachefile": "winrepo.p", 
            "schedule": {}, 
            "raet_main": false, 
            "thorium_roots": {
                "base": [
                    "/srv/thorium"
                ]
            }, 
            "cachedir": "/var/tmp/.salt-ope_1a3532_salt/running_data/var/cache/salt/minion", 
            "winrepo_passphrase": "", 
            "interface": "0.0.0.0", 
            "update_restart_services": [], 
            "recon_max": 10000, 
            "master_uri_format": "default", 
            "default_include": "minion.d/*.conf", 
            "hard_crash": false, 
            "http_request_timeout": 3600.0, 
            "rejected_retry": false, 
            "state_events": false, 
            "gitfs_ssl_verify": false, 
            "http_max_body": 107374182400, 
            "restart_on_error": false, 
            "winrepo_dir": "/srv/salt/win/repo", 
            "raet_road_bufcnt": 2, 
            "multiprocessing": true, 
            "winrepo_pubkey": "", 
            "mine_enabled": true, 
            "ipc_mode": "ipc", 
            "keysize": 2048, 
            "profiling_enabled": false, 
            "master_sign_key_name": "master_sign", 
            "cython_enable": false, 
            "sls_list": [], 
            "beacons": {}, 
            "git_pillar_env": "", 
            "ext_job_cache": "", 
            "hash_type": "md5", 
            "winrepo_source_dir": "salt://win/repo-ng/", 
            "always_verify_signature": false, 
            "force_color": false, 
            "modules_max_memory": -1, 
            "renderer": "yaml_jinja", 
            "random_reauth_delay": 10, 
            "gitfs_env_whitelist": [], 
            "git_pillar_base": "master", 
            "gitfs_insecure_auth": false, 
            "mine_interval": 60, 
            "git_pillar_privkey": "", 
            "__cli": "salt-call", 
            "extension_modules": "/var/tmp/.salt-ope_1a3532_salt/running_data/var/cache/salt/minion/extmods", 
            "minion_id_caching": true, 
            "providers": {}, 
            "winrepo_user": "", 
            "grains_cache": true, 
            "file_recv": false, 
            "no_color": false, 
            "ipv6": false, 
            "verify_env": true, 
            "sudo_user": "", 
            "username": null, 
            "master_finger": "", 
            "syndic_finger": "", 
            "tcp_keepalive_idle": 300, 
            "thorium_interval": 0.5, 
            "grains_deep_merge": false, 
            "gitfs_passphrase": "", 
            "log_fmt_logfile": "%(asctime)s,%(msecs)03.0f [%(name)-17s][%(levelname)-8s][%(process)d] %(message)s", 
            "mine_return_job": false, 
            "master_port": 4506, 
            "enable_zip_modules": false, 
            "ioflo_period": 0.1, 
            "use_master_when_local": false, 
            "ping_interval": 0, 
            "auth_timeout": 60, 
            "local": true, 
            "tcp_keepalive_cnt": -1, 
            "raet_lane_bufcnt": 100, 
            "git_pillar_global_lock": true, 
            "pillar_cache_backend": "disk", 
            "raet_alt_port": 4511, 
            "env_order": [], 
            "profiling_path": "/tmp/stats", 
            "caller": true, 
            "retcode_passthrough": true, 
            "doc": false, 
            "fun": "test.opts_pkg", 
            "winrepo_insecure_auth": false, 
            "update_url": false, 
            "grains_refresh_every": 0, 
            "master_type": "str", 
            "git_pillar_branch": "master", 
            "default_top": "base", 
            "winrepo_branch": "master", 
            "pillar_cache": false, 
            "winrepo_remotes": [
                "https://github.com/saltstack/salt-winrepo.git"
            ], 
            "autoload_dynamic_modules": true, 
            "file_buffer_size": 262144, 
            "log_fmt_console": "[%(levelname)-8s] %(message)s", 
            "random_master": false, 
            "log_datefmt": "%H:%M:%S", 
            "grains_cache_expiration": 300, 
            "max_event_size": 1048576, 
            "id": "munin", 
            "caller_floscript": "/var/tmp/.salt-ope_1a3532_salt/py2/salt/daemons/flo/caller.flo", 
            "state_aggregate": false, 
            "event_publisher_pub_hwm": 1000, 
            "loop_interval": 1, 
            "log_level": "quiet", 
            "git_pillar_password": "", 
            "event_match_type": "startswith", 
            "git_pillar_user": "", 
            "auth_safemode": false, 
            "clean_dynamic_modules": true, 
            "disable_returners": [], 
            "ipc_write_buffer": 0, 
            "cache_sreqs": true, 
            "autosign_timeout": 120, 
            "gitfs_root": "", 
            "test": false, 
            "gitfs_password": "", 
            "return_retry_timer_max": 10, 
            "failhard": false, 
            "raet_clear_remotes": true, 
            "raet_clear_remote_masters": true, 
            "file_client": "local", 
            "user": "root", 
            "git_pillar_passphrase": "", 
            "pillarenv": null, 
            "auth_tries": 7, 
            "cache_jobs": false, 
            "permissive_pki_access": false, 
            "cmd_safe": true, 
            "gitfs_env_blacklist": [], 
            "winrepo_dir_ng": "/srv/salt/win/repo-ng", 
            "refresh_grains_cache": false, 
            "fileserver_list_cache_time": 3, 
            "salt_event_pub_hwm": 2000, 
            "pki_dir": "/var/tmp/.salt-ope_1a3532_salt/running_data/etc/salt/pki/minion", 
            "grains_run": false, 
            "minion_floscript": "/var/tmp/.salt-ope_1a3532_salt/py2/salt/daemons/flo/minion.flo", 
            "ioflo_verbose": 0, 
            "sock_dir": "/var/tmp/.salt-ope_1a3532_salt/running_data", 
            "tcp_pub_port": 4510, 
            "acceptance_wait_time_max": 0, 
            "master": "salt", 
            "fileserver_followsymlinks": true, 
            "log_file": "/var/tmp/.salt-ope_1a3532_salt/running_data/salt-call.log", 
            "gitfs_remotes": [], 
            "gitfs_mountpoint": ""
        }, 
        "retcode": 0, 
        "fun": "test.opts_pkg", 
        "id": "munin"
    }
}

2016-10-19 23:58:05,437 [salt.client.ssh  ][TRACE   ][1694] STDERR 192.168.1.15
+ SUDO=
+ '[' -n sudo ']'
+ SUDO='sudo '
+ EX_PYTHON_INVALID=10
+ PYTHON_CMDS='python3 python27 python2.7 python26 python2.6 python2 python'
+ for py_cmd in '$PYTHON_CMDS'
+ command -v python3
+ continue
+ for py_cmd in '$PYTHON_CMDS'
+ command -v python27
+ continue
+ for py_cmd in '$PYTHON_CMDS'
+ command -v python2.7
+ python2.7 -c 'import sys; sys.exit(not (sys.version_info >= (2, 6)
and sys.version_info[0] == 2));'
++ python2.7 -c 'from __future__ import print_function;
import sys; print(sys.executable);'
+ py_cmd_path=/usr/bin/python2.7
++ which python2.7
+ cmdpath=/usr/bin/python2.7
+ grep 'shell script'
+ file /usr/bin/python2.7
+ exec sudo /usr/bin/python2.7 -c 'import base64;
exec(base64.b64decode("""IyBweWxpbnQ6IGRpc2FibGU9Vzk5MDMKJycnClRoaXMgaXMgYSBzaGltIHRoYXQgaGFuZGxlcyBj
aGVja2luZyBhbmQgdXBkYXRpbmcgc2FsdCB0aGluIGFuZAp0aGVuIGludm9raW5nIHRoaW4uCgpU
aGlzIGlzIG5vdCBpbnRlbmRlZCB0byBiZSBpbnN0YW50aWF0ZWQgYXMgYSBtb2R1bGUsIHJhdGhl
ciBpdCBpcyBhCmhlbHBlciBzY3JpcHQgdXNlZCBieSBzYWx0LmNsaWVudC5zc2guU2luZ2xlLiAg
SXQgaXMgaGVyZSwgaW4gYQpzZXBhcmF0ZSBmaWxlLCBmb3IgY29udmVuaWVuY2Ugb2YgZGV2ZWxv
cG1lbnQuCicnJwoKZnJvbSBfX2Z1dHVyZV9fIGltcG9ydCBhYnNvbHV0ZV9pbXBvcnQKCmltcG9y
dCBoYXNobGliCmltcG9ydCB0YXJmaWxlCmltcG9ydCBzaHV0aWwKaW1wb3J0IHN5cwppbXBvcnQg
b3MKaW1wb3J0IHN0YXQKaW1wb3J0IHN1YnByb2Nlc3MKClRISU5fQVJDSElWRSA9ICdzYWx0LXRo
aW4udGd6JwpFWFRfQVJDSElWRSA9ICdzYWx0LWV4dF9tb2RzLnRneicKCiMgS2VlcCB0aGVzZSBp
biBzeW5jIHdpdGggc2FsdC9kZWZhdWx0cy9leGl0Y29kZXMucHkKRVhfVEhJTl9ERVBMT1kgPSAx
MQpFWF9USElOX0NIRUNLU1VNID0gMTIKRVhfTU9EX0RFUExPWSA9IDEzCkVYX1NDUF9OT1RfRk9V
TkQgPSAxNApFWF9DQU5UQ1JFQVQgPSA3MwoKCmNsYXNzIE9CSihvYmplY3QpOgogICAgIiIiQW4g
ZW1wdHkgY2xhc3MgZm9yIGhvbGRpbmcgaW5zdGFuY2UgYXR0cmlidXRlIHZhbHVlcy4iIiIKICAg
IHBhc3MKCgpPUFRJT05TID0gTm9uZQpBUkdTID0gTm9uZQojIFRoZSBiZWxvdyBsaW5lIGlzIHdo
ZXJlIE9QVElPTlMgY2FuIGJlIHJlZGVmaW5lZCB3aXRoIGludGVybmFsIG9wdGlvbnMKIyAocmF0
aGVyIHRoYW4gY2xpIGFyZ3VtZW50cykgd2hlbiB0aGUgc2hpbSBpcyBidW5kbGVkIGJ5CiMgY2xp
ZW50LnNzaC5TaW5nbGUuX2NtZF9zdHIoKQojIHB5bGludDogZGlzYWJsZT1ibG9jay1jb21tZW50
LXNob3VsZC1zdGFydC13aXRoLWNhcmRpbmFsLXNwYWNlCgpPUFRJT05TID0gT0JKKCkKT1BUSU9O
Uy5jb25maWcgPSAiIiIKe2ZpbGVzZXJ2ZXJfbGlzdF9jYWNoZV90aW1lOiAzLCBncmFpbnNfY2Fj
aGU6IHRydWUsIGlkOiBtdW5pbiwgbG9nX2ZpbGU6IHNhbHQtY2FsbC5sb2csCiAgcm9vdF9kaXI6
IC92YXIvdG1wLy5zYWx0LW9wZV8xYTM1MzJfc2FsdC9ydW5uaW5nX2RhdGEsIHNvY2tfZGlyOiAv
fQoiIiIKT1BUSU9OUy5kZWxpbWl0ZXIgPSAnX2VkYmM3ODg1ZTRmOWFhYzliODNiMzU5OTliNjhk
MDE1MTQ4Y2FmNDY3Yjc4ZmEzOWMwNWY2NjljMGZmODk4NzgnCk9QVElPTlMuc2FsdGRpciA9ICcv
dmFyL3RtcC8uc2FsdC1vcGVfMWEzNTMyX3NhbHQnCk9QVElPTlMuY2hlY2tzdW0gPSAnOTg1MjZk
OTliMWU3YjA3OWRjZWZjZWM5ZmE1Yjg1MWZmYmY5ODEzZCcKT1BUSU9OUy5oYXNoZnVuYyA9ICdz
aGExJwpPUFRJT05TLnZlcnNpb24gPSAnMjAxNi4zLjInCk9QVElPTlMuZXh0X21vZHMgPSAnNzQx
OTZlMDExNDUyMWUyYWRjNjlkNjgxY2U2YTQ1NjNiYTBhZTFlYicKT1BUSU9OUy53aXBlID0gRmFs
c2UKT1BUSU9OUy50dHkgPSBGYWxzZQpPUFRJT05TLmNtZF91bWFzayA9IE5vbmUKQVJHUyA9IFsn
dGVzdC5vcHRzX3BrZyddCgoKCmRlZiBuZWVkX2RlcGxveW1lbnQoKToKICAgICIiIgogICAgU2Fs
dCB0aGluIG5lZWRzIHRvIGJlIGRlcGxveWVkIC0gcHJlcCB0aGUgdGFyZ2V0IGRpcmVjdG9yeSBh
bmQgZW1pdCB0aGUKICAgIGRlbGltZXRlciBhbmQgZXhpdCBjb2RlIHRoYXQgc2lnbmFscyBhIHJl
cXVpcmVkIGRlcGxveW1lbnQuCiAgICAiIiIKICAgIGlmIG9zLnBhdGguZXhpc3RzKE9QVElPTlMu
c2FsdGRpcik6CiAgICAgICAgc2h1dGlsLnJtdHJlZShPUFRJT05TLnNhbHRkaXIpCiAgICBvbGRf
dW1hc2sgPSBvcy51bWFzaygwbzA3NykKICAgIG9zLm1ha2VkaXJzKE9QVElPTlMuc2FsdGRpcikK
ICAgIG9zLnVtYXNrKG9sZF91bWFzaykKICAgICMgVmVyaWZ5IHBlcm1zIG9uIHNhbHRkaXIKICAg
IGV1aWQgPSBvcy5nZXRldWlkKCkKICAgIGRzdGF0ID0gb3Muc3RhdChPUFRJT05TLnNhbHRkaXIp
CiAgICBpZiBkc3RhdC5zdF91aWQgIT0gZXVpZDoKICAgICAgICAjIEF0dGFjayBkZXRlY3RlZCwg
dHJ5IGFnYWluCiAgICAgICAgbmVlZF9kZXBsb3ltZW50KCkKICAgIGlmIGRzdGF0LnN0X21vZGUg
IT0gMTY4MzI6CiAgICAgICAgIyBBdHRhY2sgZGV0ZWN0ZWQKICAgICAgICBuZWVkX2RlcGxveW1l
bnQoKQogICAgIyBJZiBTVURPaW5nIHRoZW4gYWxzbyBnaXZlIHRoZSBzdXBlciB1c2VyIGdyb3Vw
IHdyaXRlIHBlcm1pc3Npb25zCiAgICBzdWRvX2dpZCA9IG9zLmVudmlyb24uZ2V0KCdTVURPX0dJ
RCcpCiAgICBpZiBzdWRvX2dpZDoKICAgICAgICBvcy5jaG93bihPUFRJT05TLnNhbHRkaXIsIC0x
LCBpbnQoc3Vkb19naWQpKQogICAgICAgIHN0dCA9IG9zLnN0YXQoT1BUSU9OUy5zYWx0ZGlyKQog
ICAgICAgIG9zLmNobW9kKE9QVElPTlMuc2FsdGRpciwgc3R0LnN0X21vZGUgfCBzdGF0LlNfSVdH
UlAgfCBzdGF0LlNfSVJHUlAgfCBzdGF0LlNfSVhHUlApCgogICAgIyBEZWxpbWl0ZXIgZW1pdHRl
ZCBvbiBzdGRvdXQgKm9ubHkqIHRvIGluZGljYXRlIHNoaW0gbWVzc2FnZSB0byBtYXN0ZXIuCiAg
ICBzeXMuc3Rkb3V0LndyaXRlKCJ7MH1cbmRlcGxveVxuIi5mb3JtYXQoT1BUSU9OUy5kZWxpbWl0
ZXIpKQogICAgc3lzLmV4aXQoRVhfVEhJTl9ERVBMT1kpCgoKIyBBZGFwdGVkIGZyb20gc2FsdC51
dGlscy5nZXRfaGFzaCgpCmRlZiBnZXRfaGFzaChwYXRoLCBmb3JtPSdzaGExJywgY2h1bmtfc2l6
ZT00MDk2KToKICAgICIiIkdlbmVyYXRlIGEgaGFzaCBkaWdlc3Qgc3RyaW5nIGZvciBhIGZpbGUu
IiIiCiAgICB0cnk6CiAgICAgICAgaGFzaF90eXBlID0gZ2V0YXR0cihoYXNobGliLCBmb3JtKQog
ICAgZXhjZXB0IEF0dHJpYnV0ZUVycm9yOgogICAgICAgIHJhaXNlIFZhbHVlRXJyb3IoJ0ludmFs
aWQgaGFzaCB0eXBlOiB7MH0nLmZvcm1hdChmb3JtKSkKICAgIHdpdGggb3BlbihwYXRoLCAncmIn
KSBhcyBpZmlsZToKICAgICAgICBoYXNoX29iaiA9IGhhc2hfdHlwZSgpCiAgICAgICAgIyByZWFk
IHRoZSBmaWxlIGluIGluIGNodW5rcywgbm90IHRoZSBlbnRpcmUgZmlsZQogICAgICAgIGZvciBj
aHVuayBpbiBpdGVyKGxhbWJkYTogaWZpbGUucmVhZChjaHVua19zaXplKSwgYicnKToKICAgICAg
ICAgICAgaGFzaF9vYmoudXBkYXRlKGNodW5rKQogICAgICAgIHJldHVybiBoYXNoX29iai5oZXhk
aWdlc3QoKQoKCmRlZiB1bnBhY2tfdGhpbih0aGluX3BhdGgpOgogICAgIiIiVW5wYWNrIHRoZSBT
YWx0IHRoaW4gYXJjaGl2ZS4iIiIKICAgIHRmaWxlID0gdGFyZmlsZS5UYXJGaWxlLmd6b3Blbih0
aGluX3BhdGgpCiAgICBvbGRfdW1hc2sgPSBvcy51bWFzaygwbzA3NykKICAgIHRmaWxlLmV4dHJh
Y3RhbGwocGF0aD1PUFRJT05TLnNhbHRkaXIpCiAgICB0ZmlsZS5jbG9zZSgpCiAgICBvcy51bWFz
ayhvbGRfdW1hc2spCiAgICBvcy51bmxpbmsodGhpbl9wYXRoKQoKCmRlZiBuZWVkX2V4dCgpOgog
ICAgIiIiU2lnbmFsIHRoYXQgZXh0ZXJuYWwgbW9kdWxlcyBuZWVkIHRvIGJlIGRlcGxveWVkLiIi
IgogICAgc3lzLnN0ZG91dC53cml0ZSgiezB9XG5leHRfbW9kc1xuIi5mb3JtYXQoT1BUSU9OUy5k
ZWxpbWl0ZXIpKQogICAgc3lzLmV4aXQoRVhfTU9EX0RFUExPWSkKCgpkZWYgdW5wYWNrX2V4dChl
eHRfcGF0aCk6CiAgICAiIiJVbnBhY2sgdGhlIGV4dGVybmFsIG1vZHVsZXMuIiIiCiAgICBtb2Rj
YWNoZSA9IG9zLnBhdGguam9pbigKICAgICAgICAgICAgT1BUSU9OUy5zYWx0ZGlyLAogICAgICAg
ICAgICAncnVubmluZ19kYXRhJywKICAgICAgICAgICAgJ3ZhcicsCiAgICAgICAgICAgICdjYWNo
ZScsCiAgICAgICAgICAgICdzYWx0JywKICAgICAgICAgICAgJ21pbmlvbicsCiAgICAgICAgICAg
ICdleHRtb2RzJykKICAgIHRmaWxlID0gdGFyZmlsZS5UYXJGaWxlLmd6b3BlbihleHRfcGF0aCkK
ICAgIG9sZF91bWFzayA9IG9zLnVtYXNrKDBvMDc3KQogICAgdGZpbGUuZXh0cmFjdGFsbChwYXRo
PW1vZGNhY2hlKQogICAgdGZpbGUuY2xvc2UoKQogICAgb3MudW1hc2sob2xkX3VtYXNrKQogICAg
b3MudW5saW5rKGV4dF9wYXRoKQogICAgdmVyX3BhdGggPSBvcy5wYXRoLmpvaW4obW9kY2FjaGUs
ICdleHRfdmVyc2lvbicpCiAgICB2ZXJfZHN0ID0gb3MucGF0aC5qb2luKE9QVElPTlMuc2FsdGRp
ciwgJ2V4dF92ZXJzaW9uJykKICAgIHNodXRpbC5tb3ZlKHZlcl9wYXRoLCB2ZXJfZHN0KQoKCmRl
ZiBtYWluKGFyZ3YpOiAgIyBweWxpbnQ6IGRpc2FibGU9VzA2MTMKICAgICIiIk1haW4gcHJvZ3Jh
bSBib2R5IiIiCiAgICB0aGluX3BhdGggPSBvcy5wYXRoLmpvaW4oT1BUSU9OUy5zYWx0ZGlyLCBU
SElOX0FSQ0hJVkUpCiAgICBpZiBvcy5wYXRoLmlzZmlsZSh0aGluX3BhdGgpOgogICAgICAgIGlm
IE9QVElPTlMuY2hlY2tzdW0gIT0gZ2V0X2hhc2godGhpbl9wYXRoLCBPUFRJT05TLmhhc2hmdW5j
KToKICAgICAgICAgICAgc3lzLnN0ZGVyci53cml0ZSgnezB9XG4nLmZvcm1hdChPUFRJT05TLmNo
ZWNrc3VtKSkKICAgICAgICAgICAgc3lzLnN0ZGVyci53cml0ZSgnezB9XG4nLmZvcm1hdChnZXRf
aGFzaCh0aGluX3BhdGgsIE9QVElPTlMuaGFzaGZ1bmMpKSkKICAgICAgICAgICAgb3MudW5saW5r
KHRoaW5fcGF0aCkKICAgICAgICAgICAgc3lzLnN0ZGVyci53cml0ZSgnV0FSTklORzogY2hlY2tz
dW0gbWlzbWF0Y2ggZm9yICJ7MH0iXG4nLmZvcm1hdCh0aGluX3BhdGgpKQogICAgICAgICAgICBz
eXMuZXhpdChFWF9USElOX0NIRUNLU1VNKQogICAgICAgIHVucGFja190aGluKHRoaW5fcGF0aCkK
ICAgICAgICAjIFNhbHQgdGhpbiBub3cgaXMgYXZhaWxhYmxlIHRvIHVzZQogICAgZWxzZToKICAg
ICAgICBzY3BzdGF0ID0gc3VicHJvY2Vzcy5Qb3BlbihbJy9iaW4vc2gnLCAnLWMnLCAnY29tbWFu
ZCAtdiBzY3AnXSkud2FpdCgpCiAgICAgICAgaWYgc2Nwc3RhdCAhPSAwOgogICAgICAgICAgICBz
eXMuZXhpdChFWF9TQ1BfTk9UX0ZPVU5EKQoKICAgICAgICBpZiBub3Qgb3MucGF0aC5leGlzdHMo
T1BUSU9OUy5zYWx0ZGlyKToKICAgICAgICAgICAgbmVlZF9kZXBsb3ltZW50KCkKCiAgICAgICAg
aWYgbm90IG9zLnBhdGguaXNkaXIoT1BUSU9OUy5zYWx0ZGlyKToKICAgICAgICAgICAgc3lzLnN0
ZGVyci53cml0ZSgKICAgICAgICAgICAgICAgICdFUlJPUjogc2FsdCBwYXRoICJ7MH0iIGV4aXN0
cyBidXQgaXMnCiAgICAgICAgICAgICAgICAnIG5vdCBhIGRpcmVjdG9yeVxuJy5mb3JtYXQoT1BU
SU9OUy5zYWx0ZGlyKQogICAgICAgICAgICApCiAgICAgICAgICAgIHN5cy5leGl0KEVYX0NBTlRD
UkVBVCkKCiAgICAgICAgdmVyc2lvbl9wYXRoID0gb3MucGF0aC5qb2luKE9QVElPTlMuc2FsdGRp
ciwgJ3ZlcnNpb24nKQogICAgICAgIGlmIG5vdCBvcy5wYXRoLmV4aXN0cyh2ZXJzaW9uX3BhdGgp
IG9yIG5vdCBvcy5wYXRoLmlzZmlsZSh2ZXJzaW9uX3BhdGgpOgogICAgICAgICAgICBzeXMuc3Rk
ZXJyLndyaXRlKAogICAgICAgICAgICAgICAgJ1dBUk5JTkc6IFVuYWJsZSB0byBsb2NhdGUgY3Vy
cmVudCB0aGluICcKICAgICAgICAgICAgICAgICcgdmVyc2lvbjogezB9LlxuJy5mb3JtYXQodmVy
c2lvbl9wYXRoKQogICAgICAgICAgICApCiAgICAgICAgICAgIG5lZWRfZGVwbG95bWVudCgpCiAg
ICAgICAgd2l0aCBvcGVuKHZlcnNpb25fcGF0aCwgJ3InKSBhcyB2cG86CiAgICAgICAgICAgIGN1
cl92ZXJzaW9uID0gdnBvLnJlYWRsaW5lKCkuc3RyaXAoKQogICAgICAgIGlmIGN1cl92ZXJzaW9u
ICE9IE9QVElPTlMudmVyc2lvbjoKICAgICAgICAgICAgc3lzLnN0ZGVyci53cml0ZSgKICAgICAg
ICAgICAgICAgICdXQVJOSU5HOiBjdXJyZW50IHRoaW4gdmVyc2lvbiB7MH0nCiAgICAgICAgICAg
ICAgICAnIGlzIG5vdCB1cC10by1kYXRlIHdpdGggezF9LlxuJy5mb3JtYXQoCiAgICAgICAgICAg
ICAgICAgICAgY3VyX3ZlcnNpb24sIE9QVElPTlMudmVyc2lvbgogICAgICAgICAgICAgICAgKQog
ICAgICAgICAgICApCiAgICAgICAgICAgIG5lZWRfZGVwbG95bWVudCgpCiAgICAgICAgIyBTYWx0
IHRoaW4gZXhpc3RzIGFuZCBpcyB1cC10by1kYXRlIC0gZmFsbCB0aHJvdWdoIGFuZCB1c2UgaXQK
CiAgICBzYWx0X2NhbGxfcGF0aCA9IG9zLnBhdGguam9pbihPUFRJT05TLnNhbHRkaXIsICdzYWx0
LWNhbGwnKQogICAgaWYgbm90IG9zLnBhdGguaXNmaWxlKHNhbHRfY2FsbF9wYXRoKToKICAgICAg
ICBzeXMuc3RkZXJyLndyaXRlKCdFUlJPUjogdGhpbiBpcyBtaXNzaW5nICJ7MH0iXG4nLmZvcm1h
dChzYWx0X2NhbGxfcGF0aCkpCiAgICAgICAgbmVlZF9kZXBsb3ltZW50KCkKCiAgICB3aXRoIG9w
ZW4ob3MucGF0aC5qb2luKE9QVElPTlMuc2FsdGRpciwgJ21pbmlvbicpLCAndycpIGFzIGNvbmZp
ZzoKICAgICAgICBjb25maWcud3JpdGUoT1BUSU9OUy5jb25maWcgKyAnXG4nKQogICAgaWYgT1BU
SU9OUy5leHRfbW9kczoKICAgICAgICBleHRfcGF0aCA9IG9zLnBhdGguam9pbihPUFRJT05TLnNh
bHRkaXIsIEVYVF9BUkNISVZFKQogICAgICAgIGlmIG9zLnBhdGguZXhpc3RzKGV4dF9wYXRoKToK
ICAgICAgICAgICAgdW5wYWNrX2V4dChleHRfcGF0aCkKICAgICAgICBlbHNlOgogICAgICAgICAg
ICB2ZXJzaW9uX3BhdGggPSBvcy5wYXRoLmpvaW4oT1BUSU9OUy5zYWx0ZGlyLCAnZXh0X3ZlcnNp
b24nKQogICAgICAgICAgICBpZiBub3Qgb3MucGF0aC5leGlzdHModmVyc2lvbl9wYXRoKSBvciBu
b3Qgb3MucGF0aC5pc2ZpbGUodmVyc2lvbl9wYXRoKToKICAgICAgICAgICAgICAgIG5lZWRfZXh0
KCkKICAgICAgICAgICAgd2l0aCBvcGVuKHZlcnNpb25fcGF0aCwgJ3InKSBhcyB2cG86CiAgICAg
ICAgICAgICAgICBjdXJfdmVyc2lvbiA9IHZwby5yZWFkbGluZSgpLnN0cmlwKCkKICAgICAgICAg
ICAgaWYgY3VyX3ZlcnNpb24gIT0gT1BUSU9OUy5leHRfbW9kczoKICAgICAgICAgICAgICAgIG5l
ZWRfZXh0KCkKICAgICMgRml4IHBhcmFtZXRlciBwYXNzaW5nIGlzc3VlCiAgICBpZiBsZW4oQVJH
UykgPT0gMToKICAgICAgICBhcmd2X3ByZXBhcmVkID0gQVJHU1swXS5zcGxpdCgpCiAgICBlbHNl
OgogICAgICAgIGFyZ3ZfcHJlcGFyZWQgPSBBUkdTCgogICAgc2FsdF9hcmd2ID0gWwogICAgICAg
IHN5cy5leGVjdXRhYmxlLAogICAgICAgIHNhbHRfY2FsbF9wYXRoLAogICAgICAgICctLXJldGNv
ZGUtcGFzc3Rocm91Z2gnLAogICAgICAgICctLWxvY2FsJywKICAgICAgICAnLS1tZXRhZGF0YScs
CiAgICAgICAgJy0tb3V0JywgJ2pzb24nLAogICAgICAgICctbCcsICdxdWlldCcsCiAgICAgICAg
Jy1jJywgT1BUSU9OUy5zYWx0ZGlyLAogICAgICAgICctLScsCiAgICBdICsgYXJndl9wcmVwYXJl
ZAoKICAgIHN5cy5zdGRlcnIud3JpdGUoJ1NBTFRfQVJHVjogezB9XG4nLmZvcm1hdChzYWx0X2Fy
Z3YpKQoKICAgICMgT25seSBlbWl0IHRoZSBkZWxpbWl0ZXIgb24gKmJvdGgqIHN0ZG91dCBhbmQg
c3RkZXJyIHdoZW4gY29tcGxldGVseSBzdWNjZXNzZnVsLgogICAgIyBZZXMsIHRoZSBmbHVzaCgp
IGlzIG5lY2Vzc2FyeS4KICAgIHN5cy5zdGRvdXQud3JpdGUoT1BUSU9OUy5kZWxpbWl0ZXIgKyAn
XG4nKQogICAgc3lzLnN0ZG91dC5mbHVzaCgpCiAgICBpZiBub3QgT1BUSU9OUy50dHk6CiAgICAg
ICAgc3lzLnN0ZGVyci53cml0ZShPUFRJT05TLmRlbGltaXRlciArICdcbicpCiAgICAgICAgc3lz
LnN0ZGVyci5mbHVzaCgpCiAgICBpZiBPUFRJT05TLmNtZF91bWFzayBpcyBub3QgTm9uZToKICAg
ICAgICBvbGRfdW1hc2sgPSBvcy51bWFzayhPUFRJT05TLmNtZF91bWFzaykKICAgIGlmIE9QVElP
TlMudHR5OgogICAgICAgIHN0ZG91dCwgXyA9IHN1YnByb2Nlc3MuUG9wZW4oc2FsdF9hcmd2LCBz
dGRvdXQ9c3VicHJvY2Vzcy5QSVBFLCBzdGRlcnI9c3VicHJvY2Vzcy5QSVBFKS5jb21tdW5pY2F0
ZSgpCiAgICAgICAgc3lzLnN0ZG91dC53cml0ZShzdGRvdXQpCiAgICAgICAgc3lzLnN0ZG91dC5m
bHVzaCgpCiAgICAgICAgaWYgT1BUSU9OUy53aXBlOgogICAgICAgICAgICBzaHV0aWwucm10cmVl
KE9QVElPTlMuc2FsdGRpcikKICAgIGVsaWYgT1BUSU9OUy53aXBlOgogICAgICAgIHN1YnByb2Nl
c3MuY2FsbChzYWx0X2FyZ3YpCiAgICAgICAgc2h1dGlsLnJtdHJlZShPUFRJT05TLnNhbHRkaXIp
CiAgICBlbHNlOgogICAgICAgIG9zLmV4ZWN2KHN5cy5leGVjdXRhYmxlLCBzYWx0X2FyZ3YpCiAg
ICBpZiBPUFRJT05TLmNtZF91bWFzayBpcyBub3QgTm9uZToKICAgICAgICBvcy51bWFzayhvbGRf
dW1hc2spCgppZiBfX25hbWVfXyA9PSAnX19tYWluX18nOgogICAgc3lzLmV4aXQobWFpbihzeXMu
YXJndikpCg==
""").decode("utf-8"))'
SALT_ARGV: ['/usr/bin/python2.7', '/var/tmp/.salt-ope_1a3532_salt/salt-call', '--retcode-passthrough', '--local', '--metadata', '--out', 'json', '-l', 'quiet', '-c', '/var/tmp/.salt-ope_1a3532_salt', '--', 'test.opts_pkg']
_edbc7885e4f9aac9b83b35999b68d015148caf467b78fa39c05f669c0ff89878

2016-10-19 23:58:05,439 [salt.client.ssh  ][DEBUG   ][1694] RETCODE 192.168.1.15: 0
2016-10-19 23:58:05,487 [salt.utils.lazy  ][DEBUG   ][1694] LazyLoaded jinja.render
2016-10-19 23:58:05,488 [salt.utils.lazy  ][DEBUG   ][1694] LazyLoaded yaml.render
2016-10-19 23:58:05,493 [salt.template    ][DEBUG   ][1694] compile template: ./pillar/top.sls
2016-10-19 23:58:05,495 [salt.utils.jinja ][DEBUG   ][1694] Jinja search path: ['./pillar']
2016-10-19 23:58:05,497 [salt.template    ][PROFILE ][1694] Time (in seconds) to render './pillar/top.sls' using 'jinja' renderer: 0.00288391113281
2016-10-19 23:58:05,497 [salt.template    ][DEBUG   ][1694] Rendered data from file: ./pillar/top.sls:
base:
  '*':
    - munin
    - munin-node-list
    - test


2016-10-19 23:58:05,504 [salt.utils.lazy  ][DEBUG   ][1694] LazyLoaded config.get
2016-10-19 23:58:05,505 [salt.loaded.int.render.yaml][DEBUG   ][1694] Results of YAML rendering: 
OrderedDict([('base', OrderedDict([('*', ['munin', 'munin-node-list', 'test'])]))])
2016-10-19 23:58:05,505 [salt.template    ][PROFILE ][1694] Time (in seconds) to render './pillar/top.sls' using 'yaml' renderer: 0.00751495361328
2016-10-19 23:58:05,506 [salt.minion      ][DEBUG   ][1694] compound_match: munin ? *
2016-10-19 23:58:05,506 [salt.minion      ][DEBUG   ][1694] compound_match munin ? "*" => "True"
2016-10-19 23:58:05,507 [salt.template    ][DEBUG   ][1694] compile template: ./pillar/munin.sls
2016-10-19 23:58:05,507 [salt.utils.jinja ][DEBUG   ][1694] Jinja search path: ['./pillar']
2016-10-19 23:58:05,509 [salt.template    ][PROFILE ][1694] Time (in seconds) to render './pillar/munin.sls' using 'jinja' renderer: 0.00177192687988
2016-10-19 23:58:05,510 [salt.template    ][DEBUG   ][1694] Rendered data from file: ./pillar/munin.sls:
munin_server_namelist:
  munin-async01:
    ip: 192.168.1.14
  munin:
    ip: 192.168.1.15
munin_server_list:
  - 192.168.1.15
  - 192.168.1.14
munin_master: 192.168.1.15
munin_async_client:
  munin-async01:
    ip: 192.168.1.14
munin_async_param:
  auth_command: '/usr/share/munin/munin-async --spooldir /var/lib/munin/spool --spoolfetch'
  auth_pubkey: 'ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQCwJsD6T3LETiNvDclWJLrPHUIEIljoejN3IbpYrs9RTx2eaj9xwzAoyCowS3NKFmXkeoz3BN+QirWFZanvwr65U4Qo6tvYBGKLCHRywcxE7ASuRGydHCyHrM9Zde7v/UvWDkLyAEgNPBwjHGBq5uk4/c0gmn1dVhX9EgJBqDg8QQ74Rz9B9bRiXX9SY1eugI/EdILkQW8fYDK4E9QMxGMKX664KZKXAP8blP7bttFHYBmZSjEHCtpCJYeKtMX2Xu9CwhTCz40EAdFZnYzFjbQC5FwCsIFPevzPveZ04Ji8c4rMX5OASeI6tNoC3TAxyS9Aglvfy4Tf396vMFnuiERt munin@munin'


2016-10-19 23:58:05,516 [salt.loaded.int.render.yaml][DEBUG   ][1694] Results of YAML rendering: 
OrderedDict([('munin_server_namelist', OrderedDict([('munin-async01', OrderedDict([('ip', '192.168.1.14')])), ('munin', OrderedDict([('ip', '192.168.1.15')]))])), ('munin_server_list', ['192.168.1.15', '192.168.1.14']), ('munin_master', '192.168.1.15'), ('munin_async_client', OrderedDict([('munin-async01', OrderedDict([('ip', '192.168.1.14')]))])), ('munin_async_param', OrderedDict([('auth_command', '/usr/share/munin/munin-async --spooldir /var/lib/munin/spool --spoolfetch'), ('auth_pubkey', 'ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQCwJsD6T3LETiNvDclWJLrPHUIEIljoejN3IbpYrs9RTx2eaj9xwzAoyCowS3NKFmXkeoz3BN+QirWFZanvwr65U4Qo6tvYBGKLCHRywcxE7ASuRGydHCyHrM9Zde7v/UvWDkLyAEgNPBwjHGBq5uk4/c0gmn1dVhX9EgJBqDg8QQ74Rz9B9bRiXX9SY1eugI/EdILkQW8fYDK4E9QMxGMKX664KZKXAP8blP7bttFHYBmZSjEHCtpCJYeKtMX2Xu9CwhTCz40EAdFZnYzFjbQC5FwCsIFPevzPveZ04Ji8c4rMX5OASeI6tNoC3TAxyS9Aglvfy4Tf396vMFnuiERt munin@munin')]))])
2016-10-19 23:58:05,516 [salt.template    ][PROFILE ][1694] Time (in seconds) to render './pillar/munin.sls' using 'yaml' renderer: 0.00612902641296
2016-10-19 23:58:05,517 [salt.template    ][DEBUG   ][1694] compile template: ./pillar/munin-node-list.sls
2016-10-19 23:58:05,517 [salt.utils.jinja ][DEBUG   ][1694] Jinja search path: ['./pillar']
2016-10-19 23:58:05,520 [salt.template    ][PROFILE ][1694] Time (in seconds) to render './pillar/munin-node-list.sls' using 'jinja' renderer: 0.00237202644348
2016-10-19 23:58:05,520 [salt.template    ][DEBUG   ][1694] Rendered data from file: ./pillar/munin-node-list.sls:
munin_node_list:
  munin-async01:
    hostname: munin-async01
    ip: 192.168.1.14
    munin_server: munin-async01

  kibana4:
    hostname: kibana4
    ip: 192.168.1.37
    group: Dev
    alarm_rules:
      - 'df._dev_vda1.warning 75'
      - 'df._dev_vda1.critical 80'
      - 'df_inode._dev_vda1.warning 75'
      - 'df_inode._dev_vda1.critical 80'
      - 'load.load.warning 8'
      - 'load.load.critical 15'
    munin_server: munin-async01

  nagioslog:
    hostname: nagioslog
    ip: 192.168.1.12
    group: Dev
    alarm_rules:
      - 'df._dev_vda1.warning 75'
      - 'df._dev_vda1.critical 80'
      - 'df_inode._dev_vda1.warning 75'
      - 'df_inode._dev_vda1.critical 80'
      - 'load.load.warning 8'
      - 'load.load.critical 15'
    munin_server: munin-async01

  ceph-node01:
    hostname: ceph-node01
    ip: 192.168.1.6
    group: Dev
    alarm_rules:
      - 'df._dev_vda1.warning 75'
      - 'df._dev_vda1.critical 80'
      - 'df_inode._dev_vda1.warning 75'
      - 'df_inode._dev_vda1.critical 80'
      - 'load.load.warning 1'
      - 'load.load.critical 2'
    munin_server: munin-async01

  ceph-node02:
    hostname: ceph-node02
    ip: 192.168.1.16
    group: Dev
    alarm_rules:
      - 'df._dev_vda1.warning 75'
      - 'df._dev_vda1.critical 80'
      - 'df_inode._dev_vda1.warning 75'
      - 'df_inode._dev_vda1.critical 80'
      - 'load.load.warning 1'
      - 'load.load.critical 2'
    munin_server: munin-async01

  ceph-node03:
    hostname: ceph-node03
    ip: 192.168.1.18
    group: Dev
    alarm_rules:
      - 'df._dev_vda1.warning 75'
      - 'df._dev_vda1.critical 80'
      - 'df_inode._dev_vda1.warning 75'
      - 'df_inode._dev_vda1.critical 80'
      - 'load.load.warning 1'
      - 'load.load.critical 2'
    munin_server: munin-async01

  ceph-admin:
    hostname: ceph-admin
    ip: 192.168.1.20
    group: Dev
    alarm_rules:
      - 'df._dev_vda1.warning 75'
      - 'df._dev_vda1.critical 80'
      - 'df_inode._dev_vda1.warning 75'
      - 'df_inode._dev_vda1.critical 80'
      - 'load.load.warning 1'
      - 'load.load.critical 2'
    munin_server: munin-async01


2016-10-19 23:58:05,542 [salt.loaded.int.render.yaml][DEBUG   ][1694] Results of YAML rendering: 
OrderedDict([('munin_node_list', OrderedDict([('munin-async01', OrderedDict([('hostname', 'munin-async01'), ('ip', '192.168.1.14'), ('munin_server', 'munin-async01')])), ('kibana4', OrderedDict([('hostname', 'kibana4'), ('ip', '192.168.1.37'), ('group', 'Dev'), ('alarm_rules', ['df._dev_vda1.warning 75', 'df._dev_vda1.critical 80', 'df_inode._dev_vda1.warning 75', 'df_inode._dev_vda1.critical 80', 'load.load.warning 8', 'load.load.critical 15']), ('munin_server', 'munin-async01')])), ('nagioslog', OrderedDict([('hostname', 'nagioslog'), ('ip', '192.168.1.12'), ('group', 'Dev'), ('alarm_rules', ['df._dev_vda1.warning 75', 'df._dev_vda1.critical 80', 'df_inode._dev_vda1.warning 75', 'df_inode._dev_vda1.critical 80', 'load.load.warning 8', 'load.load.critical 15']), ('munin_server', 'munin-async01')])), ('ceph-node01', OrderedDict([('hostname', 'ceph-node01'), ('ip', '192.168.1.6'), ('group', 'Dev'), ('alarm_rules', ['df._dev_vda1.warning 75', 'df._dev_vda1.critical 80', 'df_inode._dev_vda1.warning 75', 'df_inode._dev_vda1.critical 80', 'load.load.warning 1', 'load.load.critical 2']), ('munin_server', 'munin-async01')])), ('ceph-node02', OrderedDict([('hostname', 'ceph-node02'), ('ip', '192.168.1.16'), ('group', 'Dev'), ('alarm_rules', ['df._dev_vda1.warning 75', 'df._dev_vda1.critical 80', 'df_inode._dev_vda1.warning 75', 'df_inode._dev_vda1.critical 80', 'load.load.warning 1', 'load.load.critical 2']), ('munin_server', 'munin-async01')])), ('ceph-node03', OrderedDict([('hostname', 'ceph-node03'), ('ip', '192.168.1.18'), ('group', 'Dev'), ('alarm_rules', ['df._dev_vda1.warning 75', 'df._dev_vda1.critical 80', 'df_inode._dev_vda1.warning 75', 'df_inode._dev_vda1.critical 80', 'load.load.warning 1', 'load.load.critical 2']), ('munin_server', 'munin-async01')])), ('ceph-admin', OrderedDict([('hostname', 'ceph-admin'), ('ip', '192.168.1.20'), ('group', 'Dev'), ('alarm_rules', ['df._dev_vda1.warning 75', 'df._dev_vda1.critical 80', 'df_inode._dev_vda1.warning 75', 'df_inode._dev_vda1.critical 80', 'load.load.warning 1', 'load.load.critical 2']), ('munin_server', 'munin-async01')]))]))])
2016-10-19 23:58:05,542 [salt.template    ][PROFILE ][1694] Time (in seconds) to render './pillar/munin-node-list.sls' using 'yaml' renderer: 0.0219280719757
2016-10-19 23:58:05,543 [salt.template    ][DEBUG   ][1694] compile template: ./pillar/test.sls
2016-10-19 23:58:05,544 [salt.utils.jinja ][DEBUG   ][1694] Jinja search path: ['./pillar']
2016-10-19 23:58:05,545 [salt.template    ][PROFILE ][1694] Time (in seconds) to render './pillar/test.sls' using 'jinja' renderer: 0.00120902061462
2016-10-19 23:58:05,546 [salt.template    ][DEBUG   ][1694] Rendered data from file: ./pillar/test.sls:
test:
  test1:
    ip: 192.168.1.1
  test2:
    ip: 192.168.1.2
  test3:
    ip: 192.168.1.3


2016-10-19 23:58:05,548 [salt.loaded.int.render.yaml][DEBUG   ][1694] Results of YAML rendering: 
OrderedDict([('test', OrderedDict([('test1', OrderedDict([('ip', '192.168.1.1')])), ('test2', OrderedDict([('ip', '192.168.1.2')])), ('test3', OrderedDict([('ip', '192.168.1.3')]))]))])
2016-10-19 23:58:05,548 [salt.template    ][PROFILE ][1694] Time (in seconds) to render './pillar/test.sls' using 'yaml' renderer: 0.00252819061279
2016-10-19 23:58:05,551 [salt.utils.lazy  ][DEBUG   ][1694] LazyLoaded state.apply
2016-10-19 23:58:05,552 [salt.fileserver  ][TRACE   ][1694] Returning file_lists cache data from /root/saltstack_master/var/cache/salt/master/file_lists/roots/base.p
2016-10-19 23:58:05,552 [salt.pillar      ][DEBUG   ][1694] Determining pillar cache
2016-10-19 23:58:05,573 [salt.utils.lazy  ][DEBUG   ][1694] LazyLoaded jinja.render
2016-10-19 23:58:05,574 [salt.utils.lazy  ][DEBUG   ][1694] LazyLoaded yaml.render
2016-10-19 23:58:05,579 [salt.template    ][DEBUG   ][1694] compile template: ./pillar/top.sls
2016-10-19 23:58:05,580 [salt.utils.jinja ][DEBUG   ][1694] Jinja search path: ['./pillar']
2016-10-19 23:58:05,581 [salt.template    ][PROFILE ][1694] Time (in seconds) to render './pillar/top.sls' using 'jinja' renderer: 0.00117588043213
2016-10-19 23:58:05,581 [salt.template    ][DEBUG   ][1694] Rendered data from file: ./pillar/top.sls:
base:
  '*':
    - munin
    - munin-node-list
    - test


2016-10-19 23:58:05,583 [salt.utils.lazy  ][DEBUG   ][1694] LazyLoaded config.get
2016-10-19 23:58:05,583 [salt.loaded.int.render.yaml][DEBUG   ][1694] Results of YAML rendering: 
OrderedDict([('base', OrderedDict([('*', ['munin', 'munin-node-list', 'test'])]))])
2016-10-19 23:58:05,583 [salt.template    ][PROFILE ][1694] Time (in seconds) to render './pillar/top.sls' using 'yaml' renderer: 0.00204396247864
2016-10-19 23:58:05,584 [salt.minion      ][DEBUG   ][1694] compound_match: munin ? *
2016-10-19 23:58:05,584 [salt.minion      ][DEBUG   ][1694] compound_match munin ? "*" => "True"
2016-10-19 23:58:05,584 [salt.template    ][DEBUG   ][1694] compile template: ./pillar/munin.sls
2016-10-19 23:58:05,585 [salt.utils.jinja ][DEBUG   ][1694] Jinja search path: ['./pillar']
2016-10-19 23:58:05,586 [salt.template    ][PROFILE ][1694] Time (in seconds) to render './pillar/munin.sls' using 'jinja' renderer: 0.00127696990967
2016-10-19 23:58:05,586 [salt.template    ][DEBUG   ][1694] Rendered data from file: ./pillar/munin.sls:
munin_server_namelist:
  munin-async01:
    ip: 192.168.1.14
  munin:
    ip: 192.168.1.15
munin_server_list:
  - 192.168.1.15
  - 192.168.1.14
munin_master: 192.168.1.15
munin_async_client:
  munin-async01:
    ip: 192.168.1.14
munin_async_param:
  auth_command: '/usr/share/munin/munin-async --spooldir /var/lib/munin/spool --spoolfetch'
  auth_pubkey: 'ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQCwJsD6T3LETiNvDclWJLrPHUIEIljoejN3IbpYrs9RTx2eaj9xwzAoyCowS3NKFmXkeoz3BN+QirWFZanvwr65U4Qo6tvYBGKLCHRywcxE7ASuRGydHCyHrM9Zde7v/UvWDkLyAEgNPBwjHGBq5uk4/c0gmn1dVhX9EgJBqDg8QQ74Rz9B9bRiXX9SY1eugI/EdILkQW8fYDK4E9QMxGMKX664KZKXAP8blP7bttFHYBmZSjEHCtpCJYeKtMX2Xu9CwhTCz40EAdFZnYzFjbQC5FwCsIFPevzPveZ04Ji8c4rMX5OASeI6tNoC3TAxyS9Aglvfy4Tf396vMFnuiERt munin@munin'


2016-10-19 23:58:05,591 [salt.loaded.int.render.yaml][DEBUG   ][1694] Results of YAML rendering: 
OrderedDict([('munin_server_namelist', OrderedDict([('munin-async01', OrderedDict([('ip', '192.168.1.14')])), ('munin', OrderedDict([('ip', '192.168.1.15')]))])), ('munin_server_list', ['192.168.1.15', '192.168.1.14']), ('munin_master', '192.168.1.15'), ('munin_async_client', OrderedDict([('munin-async01', OrderedDict([('ip', '192.168.1.14')]))])), ('munin_async_param', OrderedDict([('auth_command', '/usr/share/munin/munin-async --spooldir /var/lib/munin/spool --spoolfetch'), ('auth_pubkey', 'ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQCwJsD6T3LETiNvDclWJLrPHUIEIljoejN3IbpYrs9RTx2eaj9xwzAoyCowS3NKFmXkeoz3BN+QirWFZanvwr65U4Qo6tvYBGKLCHRywcxE7ASuRGydHCyHrM9Zde7v/UvWDkLyAEgNPBwjHGBq5uk4/c0gmn1dVhX9EgJBqDg8QQ74Rz9B9bRiXX9SY1eugI/EdILkQW8fYDK4E9QMxGMKX664KZKXAP8blP7bttFHYBmZSjEHCtpCJYeKtMX2Xu9CwhTCz40EAdFZnYzFjbQC5FwCsIFPevzPveZ04Ji8c4rMX5OASeI6tNoC3TAxyS9Aglvfy4Tf396vMFnuiERt munin@munin')]))])
2016-10-19 23:58:05,591 [salt.template    ][PROFILE ][1694] Time (in seconds) to render './pillar/munin.sls' using 'yaml' renderer: 0.0046980381012
2016-10-19 23:58:05,593 [salt.template    ][DEBUG   ][1694] compile template: ./pillar/munin-node-list.sls
2016-10-19 23:58:05,594 [salt.utils.jinja ][DEBUG   ][1694] Jinja search path: ['./pillar']
2016-10-19 23:58:05,595 [salt.template    ][PROFILE ][1694] Time (in seconds) to render './pillar/munin-node-list.sls' using 'jinja' renderer: 0.00175309181213
2016-10-19 23:58:05,596 [salt.template    ][DEBUG   ][1694] Rendered data from file: ./pillar/munin-node-list.sls:
munin_node_list:
  munin-async01:
    hostname: munin-async01
    ip: 192.168.1.14
    munin_server: munin-async01

  kibana4:
    hostname: kibana4
    ip: 192.168.1.37
    group: Dev
    alarm_rules:
      - 'df._dev_vda1.warning 75'
      - 'df._dev_vda1.critical 80'
      - 'df_inode._dev_vda1.warning 75'
      - 'df_inode._dev_vda1.critical 80'
      - 'load.load.warning 8'
      - 'load.load.critical 15'
    munin_server: munin-async01

  nagioslog:
    hostname: nagioslog
    ip: 192.168.1.12
    group: Dev
    alarm_rules:
      - 'df._dev_vda1.warning 75'
      - 'df._dev_vda1.critical 80'
      - 'df_inode._dev_vda1.warning 75'
      - 'df_inode._dev_vda1.critical 80'
      - 'load.load.warning 8'
      - 'load.load.critical 15'
    munin_server: munin-async01

  ceph-node01:
    hostname: ceph-node01
    ip: 192.168.1.6
    group: Dev
    alarm_rules:
      - 'df._dev_vda1.warning 75'
      - 'df._dev_vda1.critical 80'
      - 'df_inode._dev_vda1.warning 75'
      - 'df_inode._dev_vda1.critical 80'
      - 'load.load.warning 1'
      - 'load.load.critical 2'
    munin_server: munin-async01

  ceph-node02:
    hostname: ceph-node02
    ip: 192.168.1.16
    group: Dev
    alarm_rules:
      - 'df._dev_vda1.warning 75'
      - 'df._dev_vda1.critical 80'
      - 'df_inode._dev_vda1.warning 75'
      - 'df_inode._dev_vda1.critical 80'
      - 'load.load.warning 1'
      - 'load.load.critical 2'
    munin_server: munin-async01

  ceph-node03:
    hostname: ceph-node03
    ip: 192.168.1.18
    group: Dev
    alarm_rules:
      - 'df._dev_vda1.warning 75'
      - 'df._dev_vda1.critical 80'
      - 'df_inode._dev_vda1.warning 75'
      - 'df_inode._dev_vda1.critical 80'
      - 'load.load.warning 1'
      - 'load.load.critical 2'
    munin_server: munin-async01

  ceph-admin:
    hostname: ceph-admin
    ip: 192.168.1.20
    group: Dev
    alarm_rules:
      - 'df._dev_vda1.warning 75'
      - 'df._dev_vda1.critical 80'
      - 'df_inode._dev_vda1.warning 75'
      - 'df_inode._dev_vda1.critical 80'
      - 'load.load.warning 1'
      - 'load.load.critical 2'
    munin_server: munin-async01


2016-10-19 23:58:05,611 [salt.loaded.int.render.yaml][DEBUG   ][1694] Results of YAML rendering: 
OrderedDict([('munin_node_list', OrderedDict([('munin-async01', OrderedDict([('hostname', 'munin-async01'), ('ip', '192.168.1.14'), ('munin_server', 'munin-async01')])), ('kibana4', OrderedDict([('hostname', 'kibana4'), ('ip', '192.168.1.37'), ('group', 'Dev'), ('alarm_rules', ['df._dev_vda1.warning 75', 'df._dev_vda1.critical 80', 'df_inode._dev_vda1.warning 75', 'df_inode._dev_vda1.critical 80', 'load.load.warning 8', 'load.load.critical 15']), ('munin_server', 'munin-async01')])), ('nagioslog', OrderedDict([('hostname', 'nagioslog'), ('ip', '192.168.1.12'), ('group', 'Dev'), ('alarm_rules', ['df._dev_vda1.warning 75', 'df._dev_vda1.critical 80', 'df_inode._dev_vda1.warning 75', 'df_inode._dev_vda1.critical 80', 'load.load.warning 8', 'load.load.critical 15']), ('munin_server', 'munin-async01')])), ('ceph-node01', OrderedDict([('hostname', 'ceph-node01'), ('ip', '192.168.1.6'), ('group', 'Dev'), ('alarm_rules', ['df._dev_vda1.warning 75', 'df._dev_vda1.critical 80', 'df_inode._dev_vda1.warning 75', 'df_inode._dev_vda1.critical 80', 'load.load.warning 1', 'load.load.critical 2']), ('munin_server', 'munin-async01')])), ('ceph-node02', OrderedDict([('hostname', 'ceph-node02'), ('ip', '192.168.1.16'), ('group', 'Dev'), ('alarm_rules', ['df._dev_vda1.warning 75', 'df._dev_vda1.critical 80', 'df_inode._dev_vda1.warning 75', 'df_inode._dev_vda1.critical 80', 'load.load.warning 1', 'load.load.critical 2']), ('munin_server', 'munin-async01')])), ('ceph-node03', OrderedDict([('hostname', 'ceph-node03'), ('ip', '192.168.1.18'), ('group', 'Dev'), ('alarm_rules', ['df._dev_vda1.warning 75', 'df._dev_vda1.critical 80', 'df_inode._dev_vda1.warning 75', 'df_inode._dev_vda1.critical 80', 'load.load.warning 1', 'load.load.critical 2']), ('munin_server', 'munin-async01')])), ('ceph-admin', OrderedDict([('hostname', 'ceph-admin'), ('ip', '192.168.1.20'), ('group', 'Dev'), ('alarm_rules', ['df._dev_vda1.warning 75', 'df._dev_vda1.critical 80', 'df_inode._dev_vda1.warning 75', 'df_inode._dev_vda1.critical 80', 'load.load.warning 1', 'load.load.critical 2']), ('munin_server', 'munin-async01')]))]))])
2016-10-19 23:58:05,611 [salt.template    ][PROFILE ][1694] Time (in seconds) to render './pillar/munin-node-list.sls' using 'yaml' renderer: 0.0150628089905
2016-10-19 23:58:05,613 [salt.template    ][DEBUG   ][1694] compile template: ./pillar/test.sls
2016-10-19 23:58:05,613 [salt.utils.jinja ][DEBUG   ][1694] Jinja search path: ['./pillar']
2016-10-19 23:58:05,614 [salt.template    ][PROFILE ][1694] Time (in seconds) to render './pillar/test.sls' using 'jinja' renderer: 0.000991106033325
2016-10-19 23:58:05,615 [salt.template    ][DEBUG   ][1694] Rendered data from file: ./pillar/test.sls:
test:
  test1:
    ip: 192.168.1.1
  test2:
    ip: 192.168.1.2
  test3:
    ip: 192.168.1.3


2016-10-19 23:58:05,617 [salt.loaded.int.render.yaml][DEBUG   ][1694] Results of YAML rendering: 
OrderedDict([('test', OrderedDict([('test1', OrderedDict([('ip', '192.168.1.1')])), ('test2', OrderedDict([('ip', '192.168.1.2')])), ('test3', OrderedDict([('ip', '192.168.1.3')]))]))])
2016-10-19 23:58:05,617 [salt.template    ][PROFILE ][1694] Time (in seconds) to render './pillar/test.sls' using 'yaml' renderer: 0.00200390815735
2016-10-19 23:58:05,643 [salt.utils.lazy  ][DEBUG   ][1694] LazyLoaded jinja.render
2016-10-19 23:58:05,644 [salt.utils.lazy  ][DEBUG   ][1694] LazyLoaded yaml.render
2016-10-19 23:58:05,644 [salt.fileclient  ][DEBUG   ][1694] In saltenv 'base', looking at rel_path 'munin.sls' to resolve 'salt://munin.sls'
2016-10-19 23:58:05,645 [salt.fileclient  ][DEBUG   ][1694] In saltenv 'base', ** considering ** path '/root/saltstack_master/var/cache/salt/master/files/base/munin.sls' to resolve 'salt://munin.sls'
2016-10-19 23:58:05,645 [salt.fileclient  ][INFO    ][1694] Fetching file from saltenv 'base', ** skipped ** latest already in cache 'salt://munin.sls'
2016-10-19 23:58:05,645 [salt.template    ][DEBUG   ][1694] compile template: /root/saltstack_master/var/cache/salt/master/files/base/munin.sls
2016-10-19 23:58:05,646 [salt.utils.jinja ][DEBUG   ][1694] Jinja search path: ['/var/tmp/.salt-ope_1a3532_salt/running_data/var/cache/salt/minion/files/base']
2016-10-19 23:58:05,667 [salt.utils.lazy  ][DEBUG   ][1694] Could not LazyLoad network.interface_ip
2016-10-19 23:58:05,726 [salt.client.ssh  ][DEBUG   ][1694] Performing shimmed, blocking command as follows:
network.interface_ip "eth0"
2016-10-19 23:58:05,744 [salt.client.ssh.shell][DEBUG   ][1694] Executed SHIM command. Command logged to TRACE
2016-10-19 23:58:05,745 [salt.client.ssh.shell][TRACE   ][1694] Executing command: ssh 192.168.1.15  -o KbdInteractiveAuthentication=no -o PasswordAuthentication=yes -o GSSAPIAuthentication=no -o ConnectTimeout=65 -o Port=22 -o IdentityFile=/root/saltstack_master/etc/salt/pki/master/ssh/salt-ssh.rsa -o User=******  /bin/sh << 'EOF'
set -e
set -u
DEBUG=""
if [ -n "$DEBUG" ]
then set -x
fi
SUDO=""
if [ -n "sudo" ]
then SUDO="sudo "
fi
EX_PYTHON_INVALID=10
PYTHON_CMDS="python3 python27 python2.7 python26 python2.6 python2 python"
for py_cmd in $PYTHON_CMDS
do
if command -v "$py_cmd" >/dev/null 2>&1 && "$py_cmd" -c \
"import sys; sys.exit(not (sys.version_info >= (2, 6)
and sys.version_info[0] == 2));"
then
py_cmd_path=`"$py_cmd" -c \
'from __future__ import print_function;
import sys; print(sys.executable);'`
cmdpath=$(which $py_cmd 2>&1)
if file $cmdpath | grep "shell script" > /dev/null
then
ex_vars="'PATH', 'LD_LIBRARY_PATH', 'MANPATH', \
'XDG_DATA_DIRS', 'PKG_CONFIG_PATH'"
export $($py_cmd -c \
"from __future__ import print_function;
import sys;
import os;
map(sys.stdout.write, ['{0}={1} ' \
.format(x, os.environ[x]) for x in [$ex_vars]])")
exec $SUDO PATH=$PATH LD_LIBRARY_PATH=$LD_LIBRARY_PATH \
MANPATH=$MANPATH XDG_DATA_DIRS=$XDG_DATA_DIRS \
PKG_CONFIG_PATH=$PKG_CONFIG_PATH \
"$py_cmd_path" -c \
'import base64;
exec(base64.b64decode("""IyBweWxpbnQ6IGRpc2FibGU9Vzk5MDMKJycnClRoaXMgaXMgYSBzaGltIHRoYXQgaGFuZGxlcyBj
aGVja2luZyBhbmQgdXBkYXRpbmcgc2FsdCB0aGluIGFuZAp0aGVuIGludm9raW5nIHRoaW4uCgpU
aGlzIGlzIG5vdCBpbnRlbmRlZCB0byBiZSBpbnN0YW50aWF0ZWQgYXMgYSBtb2R1bGUsIHJhdGhl
ciBpdCBpcyBhCmhlbHBlciBzY3JpcHQgdXNlZCBieSBzYWx0LmNsaWVudC5zc2guU2luZ2xlLiAg
SXQgaXMgaGVyZSwgaW4gYQpzZXBhcmF0ZSBmaWxlLCBmb3IgY29udmVuaWVuY2Ugb2YgZGV2ZWxv
cG1lbnQuCicnJwoKZnJvbSBfX2Z1dHVyZV9fIGltcG9ydCBhYnNvbHV0ZV9pbXBvcnQKCmltcG9y
dCBoYXNobGliCmltcG9ydCB0YXJmaWxlCmltcG9ydCBzaHV0aWwKaW1wb3J0IHN5cwppbXBvcnQg
b3MKaW1wb3J0IHN0YXQKaW1wb3J0IHN1YnByb2Nlc3MKClRISU5fQVJDSElWRSA9ICdzYWx0LXRo
aW4udGd6JwpFWFRfQVJDSElWRSA9ICdzYWx0LWV4dF9tb2RzLnRneicKCiMgS2VlcCB0aGVzZSBp
biBzeW5jIHdpdGggc2FsdC9kZWZhdWx0cy9leGl0Y29kZXMucHkKRVhfVEhJTl9ERVBMT1kgPSAx
MQpFWF9USElOX0NIRUNLU1VNID0gMTIKRVhfTU9EX0RFUExPWSA9IDEzCkVYX1NDUF9OT1RfRk9V
TkQgPSAxNApFWF9DQU5UQ1JFQVQgPSA3MwoKCmNsYXNzIE9CSihvYmplY3QpOgogICAgIiIiQW4g
ZW1wdHkgY2xhc3MgZm9yIGhvbGRpbmcgaW5zdGFuY2UgYXR0cmlidXRlIHZhbHVlcy4iIiIKICAg
IHBhc3MKCgpPUFRJT05TID0gTm9uZQpBUkdTID0gTm9uZQojIFRoZSBiZWxvdyBsaW5lIGlzIHdo
ZXJlIE9QVElPTlMgY2FuIGJlIHJlZGVmaW5lZCB3aXRoIGludGVybmFsIG9wdGlvbnMKIyAocmF0
aGVyIHRoYW4gY2xpIGFyZ3VtZW50cykgd2hlbiB0aGUgc2hpbSBpcyBidW5kbGVkIGJ5CiMgY2xp
ZW50LnNzaC5TaW5nbGUuX2NtZF9zdHIoKQojIHB5bGludDogZGlzYWJsZT1ibG9jay1jb21tZW50
LXNob3VsZC1zdGFydC13aXRoLWNhcmRpbmFsLXNwYWNlCgpPUFRJT05TID0gT0JKKCkKT1BUSU9O
Uy5jb25maWcgPSAiIiIKe2ZpbGVzZXJ2ZXJfbGlzdF9jYWNoZV90aW1lOiAzLCBncmFpbnNfY2Fj
aGU6IHRydWUsIGlkOiBtdW5pbiwgbG9nX2ZpbGU6IHNhbHQtY2FsbC5sb2csCiAgcm9vdF9kaXI6
IC92YXIvdG1wLy5zYWx0LW9wZV8xYTM1MzJfc2FsdC9ydW5uaW5nX2RhdGEsIHNvY2tfZGlyOiAv
fQoiIiIKT1BUSU9OUy5kZWxpbWl0ZXIgPSAnX2VkYmM3ODg1ZTRmOWFhYzliODNiMzU5OTliNjhk
MDE1MTQ4Y2FmNDY3Yjc4ZmEzOWMwNWY2NjljMGZmODk4NzgnCk9QVElPTlMuc2FsdGRpciA9ICcv
dmFyL3RtcC8uc2FsdC1vcGVfMWEzNTMyX3NhbHQnCk9QVElPTlMuY2hlY2tzdW0gPSAnOTg1MjZk
OTliMWU3YjA3OWRjZWZjZWM5ZmE1Yjg1MWZmYmY5ODEzZCcKT1BUSU9OUy5oYXNoZnVuYyA9ICdz
aGExJwpPUFRJT05TLnZlcnNpb24gPSAnMjAxNi4zLjInCk9QVElPTlMuZXh0X21vZHMgPSAnNzQx
OTZlMDExNDUyMWUyYWRjNjlkNjgxY2U2YTQ1NjNiYTBhZTFlYicKT1BUSU9OUy53aXBlID0gRmFs
c2UKT1BUSU9OUy50dHkgPSBGYWxzZQpPUFRJT05TLmNtZF91bWFzayA9IE5vbmUKQVJHUyA9IFsn
bmV0d29yay5pbnRlcmZhY2VfaXAnLCAnImV0aDAiJ10KCgoKZGVmIG5lZWRfZGVwbG95bWVudCgp
OgogICAgIiIiCiAgICBTYWx0IHRoaW4gbmVlZHMgdG8gYmUgZGVwbG95ZWQgLSBwcmVwIHRoZSB0
YXJnZXQgZGlyZWN0b3J5IGFuZCBlbWl0IHRoZQogICAgZGVsaW1ldGVyIGFuZCBleGl0IGNvZGUg
dGhhdCBzaWduYWxzIGEgcmVxdWlyZWQgZGVwbG95bWVudC4KICAgICIiIgogICAgaWYgb3MucGF0
aC5leGlzdHMoT1BUSU9OUy5zYWx0ZGlyKToKICAgICAgICBzaHV0aWwucm10cmVlKE9QVElPTlMu
c2FsdGRpcikKICAgIG9sZF91bWFzayA9IG9zLnVtYXNrKDBvMDc3KQogICAgb3MubWFrZWRpcnMo
T1BUSU9OUy5zYWx0ZGlyKQogICAgb3MudW1hc2sob2xkX3VtYXNrKQogICAgIyBWZXJpZnkgcGVy
bXMgb24gc2FsdGRpcgogICAgZXVpZCA9IG9zLmdldGV1aWQoKQogICAgZHN0YXQgPSBvcy5zdGF0
KE9QVElPTlMuc2FsdGRpcikKICAgIGlmIGRzdGF0LnN0X3VpZCAhPSBldWlkOgogICAgICAgICMg
QXR0YWNrIGRldGVjdGVkLCB0cnkgYWdhaW4KICAgICAgICBuZWVkX2RlcGxveW1lbnQoKQogICAg
aWYgZHN0YXQuc3RfbW9kZSAhPSAxNjgzMjoKICAgICAgICAjIEF0dGFjayBkZXRlY3RlZAogICAg
ICAgIG5lZWRfZGVwbG95bWVudCgpCiAgICAjIElmIFNVRE9pbmcgdGhlbiBhbHNvIGdpdmUgdGhl
IHN1cGVyIHVzZXIgZ3JvdXAgd3JpdGUgcGVybWlzc2lvbnMKICAgIHN1ZG9fZ2lkID0gb3MuZW52
aXJvbi5nZXQoJ1NVRE9fR0lEJykKICAgIGlmIHN1ZG9fZ2lkOgogICAgICAgIG9zLmNob3duKE9Q
VElPTlMuc2FsdGRpciwgLTEsIGludChzdWRvX2dpZCkpCiAgICAgICAgc3R0ID0gb3Muc3RhdChP
UFRJT05TLnNhbHRkaXIpCiAgICAgICAgb3MuY2htb2QoT1BUSU9OUy5zYWx0ZGlyLCBzdHQuc3Rf
bW9kZSB8IHN0YXQuU19JV0dSUCB8IHN0YXQuU19JUkdSUCB8IHN0YXQuU19JWEdSUCkKCiAgICAj
IERlbGltaXRlciBlbWl0dGVkIG9uIHN0ZG91dCAqb25seSogdG8gaW5kaWNhdGUgc2hpbSBtZXNz
YWdlIHRvIG1hc3Rlci4KICAgIHN5cy5zdGRvdXQud3JpdGUoInswfVxuZGVwbG95XG4iLmZvcm1h
dChPUFRJT05TLmRlbGltaXRlcikpCiAgICBzeXMuZXhpdChFWF9USElOX0RFUExPWSkKCgojIEFk
YXB0ZWQgZnJvbSBzYWx0LnV0aWxzLmdldF9oYXNoKCkKZGVmIGdldF9oYXNoKHBhdGgsIGZvcm09
J3NoYTEnLCBjaHVua19zaXplPTQwOTYpOgogICAgIiIiR2VuZXJhdGUgYSBoYXNoIGRpZ2VzdCBz
dHJpbmcgZm9yIGEgZmlsZS4iIiIKICAgIHRyeToKICAgICAgICBoYXNoX3R5cGUgPSBnZXRhdHRy
KGhhc2hsaWIsIGZvcm0pCiAgICBleGNlcHQgQXR0cmlidXRlRXJyb3I6CiAgICAgICAgcmFpc2Ug
VmFsdWVFcnJvcignSW52YWxpZCBoYXNoIHR5cGU6IHswfScuZm9ybWF0KGZvcm0pKQogICAgd2l0
aCBvcGVuKHBhdGgsICdyYicpIGFzIGlmaWxlOgogICAgICAgIGhhc2hfb2JqID0gaGFzaF90eXBl
KCkKICAgICAgICAjIHJlYWQgdGhlIGZpbGUgaW4gaW4gY2h1bmtzLCBub3QgdGhlIGVudGlyZSBm
aWxlCiAgICAgICAgZm9yIGNodW5rIGluIGl0ZXIobGFtYmRhOiBpZmlsZS5yZWFkKGNodW5rX3Np
emUpLCBiJycpOgogICAgICAgICAgICBoYXNoX29iai51cGRhdGUoY2h1bmspCiAgICAgICAgcmV0
dXJuIGhhc2hfb2JqLmhleGRpZ2VzdCgpCgoKZGVmIHVucGFja190aGluKHRoaW5fcGF0aCk6CiAg
ICAiIiJVbnBhY2sgdGhlIFNhbHQgdGhpbiBhcmNoaXZlLiIiIgogICAgdGZpbGUgPSB0YXJmaWxl
LlRhckZpbGUuZ3pvcGVuKHRoaW5fcGF0aCkKICAgIG9sZF91bWFzayA9IG9zLnVtYXNrKDBvMDc3
KQogICAgdGZpbGUuZXh0cmFjdGFsbChwYXRoPU9QVElPTlMuc2FsdGRpcikKICAgIHRmaWxlLmNs
b3NlKCkKICAgIG9zLnVtYXNrKG9sZF91bWFzaykKICAgIG9zLnVubGluayh0aGluX3BhdGgpCgoK
ZGVmIG5lZWRfZXh0KCk6CiAgICAiIiJTaWduYWwgdGhhdCBleHRlcm5hbCBtb2R1bGVzIG5lZWQg
dG8gYmUgZGVwbG95ZWQuIiIiCiAgICBzeXMuc3Rkb3V0LndyaXRlKCJ7MH1cbmV4dF9tb2RzXG4i
LmZvcm1hdChPUFRJT05TLmRlbGltaXRlcikpCiAgICBzeXMuZXhpdChFWF9NT0RfREVQTE9ZKQoK
CmRlZiB1bnBhY2tfZXh0KGV4dF9wYXRoKToKICAgICIiIlVucGFjayB0aGUgZXh0ZXJuYWwgbW9k
dWxlcy4iIiIKICAgIG1vZGNhY2hlID0gb3MucGF0aC5qb2luKAogICAgICAgICAgICBPUFRJT05T
LnNhbHRkaXIsCiAgICAgICAgICAgICdydW5uaW5nX2RhdGEnLAogICAgICAgICAgICAndmFyJywK
ICAgICAgICAgICAgJ2NhY2hlJywKICAgICAgICAgICAgJ3NhbHQnLAogICAgICAgICAgICAnbWlu
aW9uJywKICAgICAgICAgICAgJ2V4dG1vZHMnKQogICAgdGZpbGUgPSB0YXJmaWxlLlRhckZpbGUu
Z3pvcGVuKGV4dF9wYXRoKQogICAgb2xkX3VtYXNrID0gb3MudW1hc2soMG8wNzcpCiAgICB0Zmls
ZS5leHRyYWN0YWxsKHBhdGg9bW9kY2FjaGUpCiAgICB0ZmlsZS5jbG9zZSgpCiAgICBvcy51bWFz
ayhvbGRfdW1hc2spCiAgICBvcy51bmxpbmsoZXh0X3BhdGgpCiAgICB2ZXJfcGF0aCA9IG9zLnBh
dGguam9pbihtb2RjYWNoZSwgJ2V4dF92ZXJzaW9uJykKICAgIHZlcl9kc3QgPSBvcy5wYXRoLmpv
aW4oT1BUSU9OUy5zYWx0ZGlyLCAnZXh0X3ZlcnNpb24nKQogICAgc2h1dGlsLm1vdmUodmVyX3Bh
dGgsIHZlcl9kc3QpCgoKZGVmIG1haW4oYXJndik6ICAjIHB5bGludDogZGlzYWJsZT1XMDYxMwog
ICAgIiIiTWFpbiBwcm9ncmFtIGJvZHkiIiIKICAgIHRoaW5fcGF0aCA9IG9zLnBhdGguam9pbihP
UFRJT05TLnNhbHRkaXIsIFRISU5fQVJDSElWRSkKICAgIGlmIG9zLnBhdGguaXNmaWxlKHRoaW5f
cGF0aCk6CiAgICAgICAgaWYgT1BUSU9OUy5jaGVja3N1bSAhPSBnZXRfaGFzaCh0aGluX3BhdGgs
IE9QVElPTlMuaGFzaGZ1bmMpOgogICAgICAgICAgICBzeXMuc3RkZXJyLndyaXRlKCd7MH1cbicu
Zm9ybWF0KE9QVElPTlMuY2hlY2tzdW0pKQogICAgICAgICAgICBzeXMuc3RkZXJyLndyaXRlKCd7
MH1cbicuZm9ybWF0KGdldF9oYXNoKHRoaW5fcGF0aCwgT1BUSU9OUy5oYXNoZnVuYykpKQogICAg
ICAgICAgICBvcy51bmxpbmsodGhpbl9wYXRoKQogICAgICAgICAgICBzeXMuc3RkZXJyLndyaXRl
KCdXQVJOSU5HOiBjaGVja3N1bSBtaXNtYXRjaCBmb3IgInswfSJcbicuZm9ybWF0KHRoaW5fcGF0
aCkpCiAgICAgICAgICAgIHN5cy5leGl0KEVYX1RISU5fQ0hFQ0tTVU0pCiAgICAgICAgdW5wYWNr
X3RoaW4odGhpbl9wYXRoKQogICAgICAgICMgU2FsdCB0aGluIG5vdyBpcyBhdmFpbGFibGUgdG8g
dXNlCiAgICBlbHNlOgogICAgICAgIHNjcHN0YXQgPSBzdWJwcm9jZXNzLlBvcGVuKFsnL2Jpbi9z
aCcsICctYycsICdjb21tYW5kIC12IHNjcCddKS53YWl0KCkKICAgICAgICBpZiBzY3BzdGF0ICE9
IDA6CiAgICAgICAgICAgIHN5cy5leGl0KEVYX1NDUF9OT1RfRk9VTkQpCgogICAgICAgIGlmIG5v
dCBvcy5wYXRoLmV4aXN0cyhPUFRJT05TLnNhbHRkaXIpOgogICAgICAgICAgICBuZWVkX2RlcGxv
eW1lbnQoKQoKICAgICAgICBpZiBub3Qgb3MucGF0aC5pc2RpcihPUFRJT05TLnNhbHRkaXIpOgog
ICAgICAgICAgICBzeXMuc3RkZXJyLndyaXRlKAogICAgICAgICAgICAgICAgJ0VSUk9SOiBzYWx0
IHBhdGggInswfSIgZXhpc3RzIGJ1dCBpcycKICAgICAgICAgICAgICAgICcgbm90IGEgZGlyZWN0
b3J5XG4nLmZvcm1hdChPUFRJT05TLnNhbHRkaXIpCiAgICAgICAgICAgICkKICAgICAgICAgICAg
c3lzLmV4aXQoRVhfQ0FOVENSRUFUKQoKICAgICAgICB2ZXJzaW9uX3BhdGggPSBvcy5wYXRoLmpv
aW4oT1BUSU9OUy5zYWx0ZGlyLCAndmVyc2lvbicpCiAgICAgICAgaWYgbm90IG9zLnBhdGguZXhp
c3RzKHZlcnNpb25fcGF0aCkgb3Igbm90IG9zLnBhdGguaXNmaWxlKHZlcnNpb25fcGF0aCk6CiAg
ICAgICAgICAgIHN5cy5zdGRlcnIud3JpdGUoCiAgICAgICAgICAgICAgICAnV0FSTklORzogVW5h
YmxlIHRvIGxvY2F0ZSBjdXJyZW50IHRoaW4gJwogICAgICAgICAgICAgICAgJyB2ZXJzaW9uOiB7
MH0uXG4nLmZvcm1hdCh2ZXJzaW9uX3BhdGgpCiAgICAgICAgICAgICkKICAgICAgICAgICAgbmVl
ZF9kZXBsb3ltZW50KCkKICAgICAgICB3aXRoIG9wZW4odmVyc2lvbl9wYXRoLCAncicpIGFzIHZw
bzoKICAgICAgICAgICAgY3VyX3ZlcnNpb24gPSB2cG8ucmVhZGxpbmUoKS5zdHJpcCgpCiAgICAg
ICAgaWYgY3VyX3ZlcnNpb24gIT0gT1BUSU9OUy52ZXJzaW9uOgogICAgICAgICAgICBzeXMuc3Rk
ZXJyLndyaXRlKAogICAgICAgICAgICAgICAgJ1dBUk5JTkc6IGN1cnJlbnQgdGhpbiB2ZXJzaW9u
IHswfScKICAgICAgICAgICAgICAgICcgaXMgbm90IHVwLXRvLWRhdGUgd2l0aCB7MX0uXG4nLmZv
cm1hdCgKICAgICAgICAgICAgICAgICAgICBjdXJfdmVyc2lvbiwgT1BUSU9OUy52ZXJzaW9uCiAg
ICAgICAgICAgICAgICApCiAgICAgICAgICAgICkKICAgICAgICAgICAgbmVlZF9kZXBsb3ltZW50
KCkKICAgICAgICAjIFNhbHQgdGhpbiBleGlzdHMgYW5kIGlzIHVwLXRvLWRhdGUgLSBmYWxsIHRo
cm91Z2ggYW5kIHVzZSBpdAoKICAgIHNhbHRfY2FsbF9wYXRoID0gb3MucGF0aC5qb2luKE9QVElP
TlMuc2FsdGRpciwgJ3NhbHQtY2FsbCcpCiAgICBpZiBub3Qgb3MucGF0aC5pc2ZpbGUoc2FsdF9j
YWxsX3BhdGgpOgogICAgICAgIHN5cy5zdGRlcnIud3JpdGUoJ0VSUk9SOiB0aGluIGlzIG1pc3Np
bmcgInswfSJcbicuZm9ybWF0KHNhbHRfY2FsbF9wYXRoKSkKICAgICAgICBuZWVkX2RlcGxveW1l
bnQoKQoKICAgIHdpdGggb3Blbihvcy5wYXRoLmpvaW4oT1BUSU9OUy5zYWx0ZGlyLCAnbWluaW9u
JyksICd3JykgYXMgY29uZmlnOgogICAgICAgIGNvbmZpZy53cml0ZShPUFRJT05TLmNvbmZpZyAr
ICdcbicpCiAgICBpZiBPUFRJT05TLmV4dF9tb2RzOgogICAgICAgIGV4dF9wYXRoID0gb3MucGF0
aC5qb2luKE9QVElPTlMuc2FsdGRpciwgRVhUX0FSQ0hJVkUpCiAgICAgICAgaWYgb3MucGF0aC5l
eGlzdHMoZXh0X3BhdGgpOgogICAgICAgICAgICB1bnBhY2tfZXh0KGV4dF9wYXRoKQogICAgICAg
IGVsc2U6CiAgICAgICAgICAgIHZlcnNpb25fcGF0aCA9IG9zLnBhdGguam9pbihPUFRJT05TLnNh
bHRkaXIsICdleHRfdmVyc2lvbicpCiAgICAgICAgICAgIGlmIG5vdCBvcy5wYXRoLmV4aXN0cyh2
ZXJzaW9uX3BhdGgpIG9yIG5vdCBvcy5wYXRoLmlzZmlsZSh2ZXJzaW9uX3BhdGgpOgogICAgICAg
ICAgICAgICAgbmVlZF9leHQoKQogICAgICAgICAgICB3aXRoIG9wZW4odmVyc2lvbl9wYXRoLCAn
cicpIGFzIHZwbzoKICAgICAgICAgICAgICAgIGN1cl92ZXJzaW9uID0gdnBvLnJlYWRsaW5lKCku
c3RyaXAoKQogICAgICAgICAgICBpZiBjdXJfdmVyc2lvbiAhPSBPUFRJT05TLmV4dF9tb2RzOgog
ICAgICAgICAgICAgICAgbmVlZF9leHQoKQogICAgIyBGaXggcGFyYW1ldGVyIHBhc3NpbmcgaXNz
dWUKICAgIGlmIGxlbihBUkdTKSA9PSAxOgogICAgICAgIGFyZ3ZfcHJlcGFyZWQgPSBBUkdTWzBd
LnNwbGl0KCkKICAgIGVsc2U6CiAgICAgICAgYXJndl9wcmVwYXJlZCA9IEFSR1MKCiAgICBzYWx0
X2FyZ3YgPSBbCiAgICAgICAgc3lzLmV4ZWN1dGFibGUsCiAgICAgICAgc2FsdF9jYWxsX3BhdGgs
CiAgICAgICAgJy0tcmV0Y29kZS1wYXNzdGhyb3VnaCcsCiAgICAgICAgJy0tbG9jYWwnLAogICAg
ICAgICctLW1ldGFkYXRhJywKICAgICAgICAnLS1vdXQnLCAnanNvbicsCiAgICAgICAgJy1sJywg
J3F1aWV0JywKICAgICAgICAnLWMnLCBPUFRJT05TLnNhbHRkaXIsCiAgICAgICAgJy0tJywKICAg
IF0gKyBhcmd2X3ByZXBhcmVkCgogICAgc3lzLnN0ZGVyci53cml0ZSgnU0FMVF9BUkdWOiB7MH1c
bicuZm9ybWF0KHNhbHRfYXJndikpCgogICAgIyBPbmx5IGVtaXQgdGhlIGRlbGltaXRlciBvbiAq
Ym90aCogc3Rkb3V0IGFuZCBzdGRlcnIgd2hlbiBjb21wbGV0ZWx5IHN1Y2Nlc3NmdWwuCiAgICAj
IFllcywgdGhlIGZsdXNoKCkgaXMgbmVjZXNzYXJ5LgogICAgc3lzLnN0ZG91dC53cml0ZShPUFRJ
T05TLmRlbGltaXRlciArICdcbicpCiAgICBzeXMuc3Rkb3V0LmZsdXNoKCkKICAgIGlmIG5vdCBP
UFRJT05TLnR0eToKICAgICAgICBzeXMuc3RkZXJyLndyaXRlKE9QVElPTlMuZGVsaW1pdGVyICsg
J1xuJykKICAgICAgICBzeXMuc3RkZXJyLmZsdXNoKCkKICAgIGlmIE9QVElPTlMuY21kX3VtYXNr
IGlzIG5vdCBOb25lOgogICAgICAgIG9sZF91bWFzayA9IG9zLnVtYXNrKE9QVElPTlMuY21kX3Vt
YXNrKQogICAgaWYgT1BUSU9OUy50dHk6CiAgICAgICAgc3Rkb3V0LCBfID0gc3VicHJvY2Vzcy5Q
b3BlbihzYWx0X2FyZ3YsIHN0ZG91dD1zdWJwcm9jZXNzLlBJUEUsIHN0ZGVycj1zdWJwcm9jZXNz
LlBJUEUpLmNvbW11bmljYXRlKCkKICAgICAgICBzeXMuc3Rkb3V0LndyaXRlKHN0ZG91dCkKICAg
ICAgICBzeXMuc3Rkb3V0LmZsdXNoKCkKICAgICAgICBpZiBPUFRJT05TLndpcGU6CiAgICAgICAg
ICAgIHNodXRpbC5ybXRyZWUoT1BUSU9OUy5zYWx0ZGlyKQogICAgZWxpZiBPUFRJT05TLndpcGU6
CiAgICAgICAgc3VicHJvY2Vzcy5jYWxsKHNhbHRfYXJndikKICAgICAgICBzaHV0aWwucm10cmVl
KE9QVElPTlMuc2FsdGRpcikKICAgIGVsc2U6CiAgICAgICAgb3MuZXhlY3Yoc3lzLmV4ZWN1dGFi
bGUsIHNhbHRfYXJndikKICAgIGlmIE9QVElPTlMuY21kX3VtYXNrIGlzIG5vdCBOb25lOgogICAg
ICAgIG9zLnVtYXNrKG9sZF91bWFzaykKCmlmIF9fbmFtZV9fID09ICdfX21haW5fXyc6CiAgICBz
eXMuZXhpdChtYWluKHN5cy5hcmd2KSkK
""").decode("utf-8"))'
else
exec $SUDO "$py_cmd_path" -c \
'import base64;
exec(base64.b64decode("""IyBweWxpbnQ6IGRpc2FibGU9Vzk5MDMKJycnClRoaXMgaXMgYSBzaGltIHRoYXQgaGFuZGxlcyBj
aGVja2luZyBhbmQgdXBkYXRpbmcgc2FsdCB0aGluIGFuZAp0aGVuIGludm9raW5nIHRoaW4uCgpU
aGlzIGlzIG5vdCBpbnRlbmRlZCB0byBiZSBpbnN0YW50aWF0ZWQgYXMgYSBtb2R1bGUsIHJhdGhl
ciBpdCBpcyBhCmhlbHBlciBzY3JpcHQgdXNlZCBieSBzYWx0LmNsaWVudC5zc2guU2luZ2xlLiAg
SXQgaXMgaGVyZSwgaW4gYQpzZXBhcmF0ZSBmaWxlLCBmb3IgY29udmVuaWVuY2Ugb2YgZGV2ZWxv
cG1lbnQuCicnJwoKZnJvbSBfX2Z1dHVyZV9fIGltcG9ydCBhYnNvbHV0ZV9pbXBvcnQKCmltcG9y
dCBoYXNobGliCmltcG9ydCB0YXJmaWxlCmltcG9ydCBzaHV0aWwKaW1wb3J0IHN5cwppbXBvcnQg
b3MKaW1wb3J0IHN0YXQKaW1wb3J0IHN1YnByb2Nlc3MKClRISU5fQVJDSElWRSA9ICdzYWx0LXRo
aW4udGd6JwpFWFRfQVJDSElWRSA9ICdzYWx0LWV4dF9tb2RzLnRneicKCiMgS2VlcCB0aGVzZSBp
biBzeW5jIHdpdGggc2FsdC9kZWZhdWx0cy9leGl0Y29kZXMucHkKRVhfVEhJTl9ERVBMT1kgPSAx
MQpFWF9USElOX0NIRUNLU1VNID0gMTIKRVhfTU9EX0RFUExPWSA9IDEzCkVYX1NDUF9OT1RfRk9V
TkQgPSAxNApFWF9DQU5UQ1JFQVQgPSA3MwoKCmNsYXNzIE9CSihvYmplY3QpOgogICAgIiIiQW4g
ZW1wdHkgY2xhc3MgZm9yIGhvbGRpbmcgaW5zdGFuY2UgYXR0cmlidXRlIHZhbHVlcy4iIiIKICAg
IHBhc3MKCgpPUFRJT05TID0gTm9uZQpBUkdTID0gTm9uZQojIFRoZSBiZWxvdyBsaW5lIGlzIHdo
ZXJlIE9QVElPTlMgY2FuIGJlIHJlZGVmaW5lZCB3aXRoIGludGVybmFsIG9wdGlvbnMKIyAocmF0
aGVyIHRoYW4gY2xpIGFyZ3VtZW50cykgd2hlbiB0aGUgc2hpbSBpcyBidW5kbGVkIGJ5CiMgY2xp
ZW50LnNzaC5TaW5nbGUuX2NtZF9zdHIoKQojIHB5bGludDogZGlzYWJsZT1ibG9jay1jb21tZW50
LXNob3VsZC1zdGFydC13aXRoLWNhcmRpbmFsLXNwYWNlCgpPUFRJT05TID0gT0JKKCkKT1BUSU9O
Uy5jb25maWcgPSAiIiIKe2ZpbGVzZXJ2ZXJfbGlzdF9jYWNoZV90aW1lOiAzLCBncmFpbnNfY2Fj
aGU6IHRydWUsIGlkOiBtdW5pbiwgbG9nX2ZpbGU6IHNhbHQtY2FsbC5sb2csCiAgcm9vdF9kaXI6
IC92YXIvdG1wLy5zYWx0LW9wZV8xYTM1MzJfc2FsdC9ydW5uaW5nX2RhdGEsIHNvY2tfZGlyOiAv
fQoiIiIKT1BUSU9OUy5kZWxpbWl0ZXIgPSAnX2VkYmM3ODg1ZTRmOWFhYzliODNiMzU5OTliNjhk
MDE1MTQ4Y2FmNDY3Yjc4ZmEzOWMwNWY2NjljMGZmODk4NzgnCk9QVElPTlMuc2FsdGRpciA9ICcv
dmFyL3RtcC8uc2FsdC1vcGVfMWEzNTMyX3NhbHQnCk9QVElPTlMuY2hlY2tzdW0gPSAnOTg1MjZk
OTliMWU3YjA3OWRjZWZjZWM5ZmE1Yjg1MWZmYmY5ODEzZCcKT1BUSU9OUy5oYXNoZnVuYyA9ICdz
aGExJwpPUFRJT05TLnZlcnNpb24gPSAnMjAxNi4zLjInCk9QVElPTlMuZXh0X21vZHMgPSAnNzQx
OTZlMDExNDUyMWUyYWRjNjlkNjgxY2U2YTQ1NjNiYTBhZTFlYicKT1BUSU9OUy53aXBlID0gRmFs
c2UKT1BUSU9OUy50dHkgPSBGYWxzZQpPUFRJT05TLmNtZF91bWFzayA9IE5vbmUKQVJHUyA9IFsn
bmV0d29yay5pbnRlcmZhY2VfaXAnLCAnImV0aDAiJ10KCgoKZGVmIG5lZWRfZGVwbG95bWVudCgp
OgogICAgIiIiCiAgICBTYWx0IHRoaW4gbmVlZHMgdG8gYmUgZGVwbG95ZWQgLSBwcmVwIHRoZSB0
YXJnZXQgZGlyZWN0b3J5IGFuZCBlbWl0IHRoZQogICAgZGVsaW1ldGVyIGFuZCBleGl0IGNvZGUg
dGhhdCBzaWduYWxzIGEgcmVxdWlyZWQgZGVwbG95bWVudC4KICAgICIiIgogICAgaWYgb3MucGF0
aC5leGlzdHMoT1BUSU9OUy5zYWx0ZGlyKToKICAgICAgICBzaHV0aWwucm10cmVlKE9QVElPTlMu
c2FsdGRpcikKICAgIG9sZF91bWFzayA9IG9zLnVtYXNrKDBvMDc3KQogICAgb3MubWFrZWRpcnMo
T1BUSU9OUy5zYWx0ZGlyKQogICAgb3MudW1hc2sob2xkX3VtYXNrKQogICAgIyBWZXJpZnkgcGVy
bXMgb24gc2FsdGRpcgogICAgZXVpZCA9IG9zLmdldGV1aWQoKQogICAgZHN0YXQgPSBvcy5zdGF0
KE9QVElPTlMuc2FsdGRpcikKICAgIGlmIGRzdGF0LnN0X3VpZCAhPSBldWlkOgogICAgICAgICMg
QXR0YWNrIGRldGVjdGVkLCB0cnkgYWdhaW4KICAgICAgICBuZWVkX2RlcGxveW1lbnQoKQogICAg
aWYgZHN0YXQuc3RfbW9kZSAhPSAxNjgzMjoKICAgICAgICAjIEF0dGFjayBkZXRlY3RlZAogICAg
ICAgIG5lZWRfZGVwbG95bWVudCgpCiAgICAjIElmIFNVRE9pbmcgdGhlbiBhbHNvIGdpdmUgdGhl
IHN1cGVyIHVzZXIgZ3JvdXAgd3JpdGUgcGVybWlzc2lvbnMKICAgIHN1ZG9fZ2lkID0gb3MuZW52
aXJvbi5nZXQoJ1NVRE9fR0lEJykKICAgIGlmIHN1ZG9fZ2lkOgogICAgICAgIG9zLmNob3duKE9Q
VElPTlMuc2FsdGRpciwgLTEsIGludChzdWRvX2dpZCkpCiAgICAgICAgc3R0ID0gb3Muc3RhdChP
UFRJT05TLnNhbHRkaXIpCiAgICAgICAgb3MuY2htb2QoT1BUSU9OUy5zYWx0ZGlyLCBzdHQuc3Rf
bW9kZSB8IHN0YXQuU19JV0dSUCB8IHN0YXQuU19JUkdSUCB8IHN0YXQuU19JWEdSUCkKCiAgICAj
IERlbGltaXRlciBlbWl0dGVkIG9uIHN0ZG91dCAqb25seSogdG8gaW5kaWNhdGUgc2hpbSBtZXNz
YWdlIHRvIG1hc3Rlci4KICAgIHN5cy5zdGRvdXQud3JpdGUoInswfVxuZGVwbG95XG4iLmZvcm1h
dChPUFRJT05TLmRlbGltaXRlcikpCiAgICBzeXMuZXhpdChFWF9USElOX0RFUExPWSkKCgojIEFk
YXB0ZWQgZnJvbSBzYWx0LnV0aWxzLmdldF9oYXNoKCkKZGVmIGdldF9oYXNoKHBhdGgsIGZvcm09
J3NoYTEnLCBjaHVua19zaXplPTQwOTYpOgogICAgIiIiR2VuZXJhdGUgYSBoYXNoIGRpZ2VzdCBz
dHJpbmcgZm9yIGEgZmlsZS4iIiIKICAgIHRyeToKICAgICAgICBoYXNoX3R5cGUgPSBnZXRhdHRy
KGhhc2hsaWIsIGZvcm0pCiAgICBleGNlcHQgQXR0cmlidXRlRXJyb3I6CiAgICAgICAgcmFpc2Ug
VmFsdWVFcnJvcignSW52YWxpZCBoYXNoIHR5cGU6IHswfScuZm9ybWF0KGZvcm0pKQogICAgd2l0
aCBvcGVuKHBhdGgsICdyYicpIGFzIGlmaWxlOgogICAgICAgIGhhc2hfb2JqID0gaGFzaF90eXBl
KCkKICAgICAgICAjIHJlYWQgdGhlIGZpbGUgaW4gaW4gY2h1bmtzLCBub3QgdGhlIGVudGlyZSBm
aWxlCiAgICAgICAgZm9yIGNodW5rIGluIGl0ZXIobGFtYmRhOiBpZmlsZS5yZWFkKGNodW5rX3Np
emUpLCBiJycpOgogICAgICAgICAgICBoYXNoX29iai51cGRhdGUoY2h1bmspCiAgICAgICAgcmV0
dXJuIGhhc2hfb2JqLmhleGRpZ2VzdCgpCgoKZGVmIHVucGFja190aGluKHRoaW5fcGF0aCk6CiAg
ICAiIiJVbnBhY2sgdGhlIFNhbHQgdGhpbiBhcmNoaXZlLiIiIgogICAgdGZpbGUgPSB0YXJmaWxl
LlRhckZpbGUuZ3pvcGVuKHRoaW5fcGF0aCkKICAgIG9sZF91bWFzayA9IG9zLnVtYXNrKDBvMDc3
KQogICAgdGZpbGUuZXh0cmFjdGFsbChwYXRoPU9QVElPTlMuc2FsdGRpcikKICAgIHRmaWxlLmNs
b3NlKCkKICAgIG9zLnVtYXNrKG9sZF91bWFzaykKICAgIG9zLnVubGluayh0aGluX3BhdGgpCgoK
ZGVmIG5lZWRfZXh0KCk6CiAgICAiIiJTaWduYWwgdGhhdCBleHRlcm5hbCBtb2R1bGVzIG5lZWQg
dG8gYmUgZGVwbG95ZWQuIiIiCiAgICBzeXMuc3Rkb3V0LndyaXRlKCJ7MH1cbmV4dF9tb2RzXG4i
LmZvcm1hdChPUFRJT05TLmRlbGltaXRlcikpCiAgICBzeXMuZXhpdChFWF9NT0RfREVQTE9ZKQoK
CmRlZiB1bnBhY2tfZXh0KGV4dF9wYXRoKToKICAgICIiIlVucGFjayB0aGUgZXh0ZXJuYWwgbW9k
dWxlcy4iIiIKICAgIG1vZGNhY2hlID0gb3MucGF0aC5qb2luKAogICAgICAgICAgICBPUFRJT05T
LnNhbHRkaXIsCiAgICAgICAgICAgICdydW5uaW5nX2RhdGEnLAogICAgICAgICAgICAndmFyJywK
ICAgICAgICAgICAgJ2NhY2hlJywKICAgICAgICAgICAgJ3NhbHQnLAogICAgICAgICAgICAnbWlu
aW9uJywKICAgICAgICAgICAgJ2V4dG1vZHMnKQogICAgdGZpbGUgPSB0YXJmaWxlLlRhckZpbGUu
Z3pvcGVuKGV4dF9wYXRoKQogICAgb2xkX3VtYXNrID0gb3MudW1hc2soMG8wNzcpCiAgICB0Zmls
ZS5leHRyYWN0YWxsKHBhdGg9bW9kY2FjaGUpCiAgICB0ZmlsZS5jbG9zZSgpCiAgICBvcy51bWFz
ayhvbGRfdW1hc2spCiAgICBvcy51bmxpbmsoZXh0X3BhdGgpCiAgICB2ZXJfcGF0aCA9IG9zLnBh
dGguam9pbihtb2RjYWNoZSwgJ2V4dF92ZXJzaW9uJykKICAgIHZlcl9kc3QgPSBvcy5wYXRoLmpv
aW4oT1BUSU9OUy5zYWx0ZGlyLCAnZXh0X3ZlcnNpb24nKQogICAgc2h1dGlsLm1vdmUodmVyX3Bh
dGgsIHZlcl9kc3QpCgoKZGVmIG1haW4oYXJndik6ICAjIHB5bGludDogZGlzYWJsZT1XMDYxMwog
ICAgIiIiTWFpbiBwcm9ncmFtIGJvZHkiIiIKICAgIHRoaW5fcGF0aCA9IG9zLnBhdGguam9pbihP
UFRJT05TLnNhbHRkaXIsIFRISU5fQVJDSElWRSkKICAgIGlmIG9zLnBhdGguaXNmaWxlKHRoaW5f
cGF0aCk6CiAgICAgICAgaWYgT1BUSU9OUy5jaGVja3N1bSAhPSBnZXRfaGFzaCh0aGluX3BhdGgs
IE9QVElPTlMuaGFzaGZ1bmMpOgogICAgICAgICAgICBzeXMuc3RkZXJyLndyaXRlKCd7MH1cbicu
Zm9ybWF0KE9QVElPTlMuY2hlY2tzdW0pKQogICAgICAgICAgICBzeXMuc3RkZXJyLndyaXRlKCd7
MH1cbicuZm9ybWF0KGdldF9oYXNoKHRoaW5fcGF0aCwgT1BUSU9OUy5oYXNoZnVuYykpKQogICAg
ICAgICAgICBvcy51bmxpbmsodGhpbl9wYXRoKQogICAgICAgICAgICBzeXMuc3RkZXJyLndyaXRl
KCdXQVJOSU5HOiBjaGVja3N1bSBtaXNtYXRjaCBmb3IgInswfSJcbicuZm9ybWF0KHRoaW5fcGF0
aCkpCiAgICAgICAgICAgIHN5cy5leGl0KEVYX1RISU5fQ0hFQ0tTVU0pCiAgICAgICAgdW5wYWNr
X3RoaW4odGhpbl9wYXRoKQogICAgICAgICMgU2FsdCB0aGluIG5vdyBpcyBhdmFpbGFibGUgdG8g
dXNlCiAgICBlbHNlOgogICAgICAgIHNjcHN0YXQgPSBzdWJwcm9jZXNzLlBvcGVuKFsnL2Jpbi9z
aCcsICctYycsICdjb21tYW5kIC12IHNjcCddKS53YWl0KCkKICAgICAgICBpZiBzY3BzdGF0ICE9
IDA6CiAgICAgICAgICAgIHN5cy5leGl0KEVYX1NDUF9OT1RfRk9VTkQpCgogICAgICAgIGlmIG5v
dCBvcy5wYXRoLmV4aXN0cyhPUFRJT05TLnNhbHRkaXIpOgogICAgICAgICAgICBuZWVkX2RlcGxv
eW1lbnQoKQoKICAgICAgICBpZiBub3Qgb3MucGF0aC5pc2RpcihPUFRJT05TLnNhbHRkaXIpOgog
ICAgICAgICAgICBzeXMuc3RkZXJyLndyaXRlKAogICAgICAgICAgICAgICAgJ0VSUk9SOiBzYWx0
IHBhdGggInswfSIgZXhpc3RzIGJ1dCBpcycKICAgICAgICAgICAgICAgICcgbm90IGEgZGlyZWN0
b3J5XG4nLmZvcm1hdChPUFRJT05TLnNhbHRkaXIpCiAgICAgICAgICAgICkKICAgICAgICAgICAg
c3lzLmV4aXQoRVhfQ0FOVENSRUFUKQoKICAgICAgICB2ZXJzaW9uX3BhdGggPSBvcy5wYXRoLmpv
aW4oT1BUSU9OUy5zYWx0ZGlyLCAndmVyc2lvbicpCiAgICAgICAgaWYgbm90IG9zLnBhdGguZXhp
c3RzKHZlcnNpb25fcGF0aCkgb3Igbm90IG9zLnBhdGguaXNmaWxlKHZlcnNpb25fcGF0aCk6CiAg
ICAgICAgICAgIHN5cy5zdGRlcnIud3JpdGUoCiAgICAgICAgICAgICAgICAnV0FSTklORzogVW5h
YmxlIHRvIGxvY2F0ZSBjdXJyZW50IHRoaW4gJwogICAgICAgICAgICAgICAgJyB2ZXJzaW9uOiB7
MH0uXG4nLmZvcm1hdCh2ZXJzaW9uX3BhdGgpCiAgICAgICAgICAgICkKICAgICAgICAgICAgbmVl
ZF9kZXBsb3ltZW50KCkKICAgICAgICB3aXRoIG9wZW4odmVyc2lvbl9wYXRoLCAncicpIGFzIHZw
bzoKICAgICAgICAgICAgY3VyX3ZlcnNpb24gPSB2cG8ucmVhZGxpbmUoKS5zdHJpcCgpCiAgICAg
ICAgaWYgY3VyX3ZlcnNpb24gIT0gT1BUSU9OUy52ZXJzaW9uOgogICAgICAgICAgICBzeXMuc3Rk
ZXJyLndyaXRlKAogICAgICAgICAgICAgICAgJ1dBUk5JTkc6IGN1cnJlbnQgdGhpbiB2ZXJzaW9u
IHswfScKICAgICAgICAgICAgICAgICcgaXMgbm90IHVwLXRvLWRhdGUgd2l0aCB7MX0uXG4nLmZv
cm1hdCgKICAgICAgICAgICAgICAgICAgICBjdXJfdmVyc2lvbiwgT1BUSU9OUy52ZXJzaW9uCiAg
ICAgICAgICAgICAgICApCiAgICAgICAgICAgICkKICAgICAgICAgICAgbmVlZF9kZXBsb3ltZW50
KCkKICAgICAgICAjIFNhbHQgdGhpbiBleGlzdHMgYW5kIGlzIHVwLXRvLWRhdGUgLSBmYWxsIHRo
cm91Z2ggYW5kIHVzZSBpdAoKICAgIHNhbHRfY2FsbF9wYXRoID0gb3MucGF0aC5qb2luKE9QVElP
TlMuc2FsdGRpciwgJ3NhbHQtY2FsbCcpCiAgICBpZiBub3Qgb3MucGF0aC5pc2ZpbGUoc2FsdF9j
YWxsX3BhdGgpOgogICAgICAgIHN5cy5zdGRlcnIud3JpdGUoJ0VSUk9SOiB0aGluIGlzIG1pc3Np
bmcgInswfSJcbicuZm9ybWF0KHNhbHRfY2FsbF9wYXRoKSkKICAgICAgICBuZWVkX2RlcGxveW1l
bnQoKQoKICAgIHdpdGggb3Blbihvcy5wYXRoLmpvaW4oT1BUSU9OUy5zYWx0ZGlyLCAnbWluaW9u
JyksICd3JykgYXMgY29uZmlnOgogICAgICAgIGNvbmZpZy53cml0ZShPUFRJT05TLmNvbmZpZyAr
ICdcbicpCiAgICBpZiBPUFRJT05TLmV4dF9tb2RzOgogICAgICAgIGV4dF9wYXRoID0gb3MucGF0
aC5qb2luKE9QVElPTlMuc2FsdGRpciwgRVhUX0FSQ0hJVkUpCiAgICAgICAgaWYgb3MucGF0aC5l
eGlzdHMoZXh0X3BhdGgpOgogICAgICAgICAgICB1bnBhY2tfZXh0KGV4dF9wYXRoKQogICAgICAg
IGVsc2U6CiAgICAgICAgICAgIHZlcnNpb25fcGF0aCA9IG9zLnBhdGguam9pbihPUFRJT05TLnNh
bHRkaXIsICdleHRfdmVyc2lvbicpCiAgICAgICAgICAgIGlmIG5vdCBvcy5wYXRoLmV4aXN0cyh2
ZXJzaW9uX3BhdGgpIG9yIG5vdCBvcy5wYXRoLmlzZmlsZSh2ZXJzaW9uX3BhdGgpOgogICAgICAg
ICAgICAgICAgbmVlZF9leHQoKQogICAgICAgICAgICB3aXRoIG9wZW4odmVyc2lvbl9wYXRoLCAn
cicpIGFzIHZwbzoKICAgICAgICAgICAgICAgIGN1cl92ZXJzaW9uID0gdnBvLnJlYWRsaW5lKCku
c3RyaXAoKQogICAgICAgICAgICBpZiBjdXJfdmVyc2lvbiAhPSBPUFRJT05TLmV4dF9tb2RzOgog
ICAgICAgICAgICAgICAgbmVlZF9leHQoKQogICAgIyBGaXggcGFyYW1ldGVyIHBhc3NpbmcgaXNz
dWUKICAgIGlmIGxlbihBUkdTKSA9PSAxOgogICAgICAgIGFyZ3ZfcHJlcGFyZWQgPSBBUkdTWzBd
LnNwbGl0KCkKICAgIGVsc2U6CiAgICAgICAgYXJndl9wcmVwYXJlZCA9IEFSR1MKCiAgICBzYWx0
X2FyZ3YgPSBbCiAgICAgICAgc3lzLmV4ZWN1dGFibGUsCiAgICAgICAgc2FsdF9jYWxsX3BhdGgs
CiAgICAgICAgJy0tcmV0Y29kZS1wYXNzdGhyb3VnaCcsCiAgICAgICAgJy0tbG9jYWwnLAogICAg
ICAgICctLW1ldGFkYXRhJywKICAgICAgICAnLS1vdXQnLCAnanNvbicsCiAgICAgICAgJy1sJywg
J3F1aWV0JywKICAgICAgICAnLWMnLCBPUFRJT05TLnNhbHRkaXIsCiAgICAgICAgJy0tJywKICAg
IF0gKyBhcmd2X3ByZXBhcmVkCgogICAgc3lzLnN0ZGVyci53cml0ZSgnU0FMVF9BUkdWOiB7MH1c
bicuZm9ybWF0KHNhbHRfYXJndikpCgogICAgIyBPbmx5IGVtaXQgdGhlIGRlbGltaXRlciBvbiAq
Ym90aCogc3Rkb3V0IGFuZCBzdGRlcnIgd2hlbiBjb21wbGV0ZWx5IHN1Y2Nlc3NmdWwuCiAgICAj
IFllcywgdGhlIGZsdXNoKCkgaXMgbmVjZXNzYXJ5LgogICAgc3lzLnN0ZG91dC53cml0ZShPUFRJ
T05TLmRlbGltaXRlciArICdcbicpCiAgICBzeXMuc3Rkb3V0LmZsdXNoKCkKICAgIGlmIG5vdCBP
UFRJT05TLnR0eToKICAgICAgICBzeXMuc3RkZXJyLndyaXRlKE9QVElPTlMuZGVsaW1pdGVyICsg
J1xuJykKICAgICAgICBzeXMuc3RkZXJyLmZsdXNoKCkKICAgIGlmIE9QVElPTlMuY21kX3VtYXNr
IGlzIG5vdCBOb25lOgogICAgICAgIG9sZF91bWFzayA9IG9zLnVtYXNrKE9QVElPTlMuY21kX3Vt
YXNrKQogICAgaWYgT1BUSU9OUy50dHk6CiAgICAgICAgc3Rkb3V0LCBfID0gc3VicHJvY2Vzcy5Q
b3BlbihzYWx0X2FyZ3YsIHN0ZG91dD1zdWJwcm9jZXNzLlBJUEUsIHN0ZGVycj1zdWJwcm9jZXNz
LlBJUEUpLmNvbW11bmljYXRlKCkKICAgICAgICBzeXMuc3Rkb3V0LndyaXRlKHN0ZG91dCkKICAg
ICAgICBzeXMuc3Rkb3V0LmZsdXNoKCkKICAgICAgICBpZiBPUFRJT05TLndpcGU6CiAgICAgICAg
ICAgIHNodXRpbC5ybXRyZWUoT1BUSU9OUy5zYWx0ZGlyKQogICAgZWxpZiBPUFRJT05TLndpcGU6
CiAgICAgICAgc3VicHJvY2Vzcy5jYWxsKHNhbHRfYXJndikKICAgICAgICBzaHV0aWwucm10cmVl
KE9QVElPTlMuc2FsdGRpcikKICAgIGVsc2U6CiAgICAgICAgb3MuZXhlY3Yoc3lzLmV4ZWN1dGFi
bGUsIHNhbHRfYXJndikKICAgIGlmIE9QVElPTlMuY21kX3VtYXNrIGlzIG5vdCBOb25lOgogICAg
ICAgIG9zLnVtYXNrKG9sZF91bWFzaykKCmlmIF9fbmFtZV9fID09ICdfX21haW5fXyc6CiAgICBz
eXMuZXhpdChtYWluKHN5cy5hcmd2KSkK
""").decode("utf-8"))'
fi
exit 0
else
continue
fi
done
echo "ERROR: Unable to locate appropriate python command" >&2
exit $EX_PYTHON_INVALID
EOF
2016-10-19 23:58:05,753 [salt.utils.vt    ][DEBUG   ][1694] Child Forked! PID: 1697  STDOUT_FD: 9  STDERR_FD: 11
2016-10-19 23:58:05,754 [salt.utils.vt    ][DEBUG   ][1694] VT: Salt-SSH SHIM Terminal Command executed. Logged to TRACE
2016-10-19 23:58:05,758 [salt.utils.vt    ][TRACE   ][1694] Terminal Command: /bin/sh -c ssh 192.168.1.15  -o KbdInteractiveAuthentication=no -o PasswordAuthentication=yes -o GSSAPIAuthentication=no -o ConnectTimeout=65 -o Port=22 -o IdentityFile=/root/saltstack_master/etc/salt/pki/master/ssh/salt-ssh.rsa -o User=salt-ope  /bin/sh << 'EOF'
set -e
set -u
DEBUG=""
if [ -n "$DEBUG" ]
then set -x
fi
SUDO=""
if [ -n "sudo" ]
then SUDO="sudo "
fi
EX_PYTHON_INVALID=10
PYTHON_CMDS="python3 python27 python2.7 python26 python2.6 python2 python"
for py_cmd in $PYTHON_CMDS
do
if command -v "$py_cmd" >/dev/null 2>&1 && "$py_cmd" -c \
"import sys; sys.exit(not (sys.version_info >= (2, 6)
and sys.version_info[0] == 2));"
then
py_cmd_path=`"$py_cmd" -c \
'from __future__ import print_function;
import sys; print(sys.executable);'`
cmdpath=$(which $py_cmd 2>&1)
if file $cmdpath | grep "shell script" > /dev/null
then
ex_vars="'PATH', 'LD_LIBRARY_PATH', 'MANPATH', \
'XDG_DATA_DIRS', 'PKG_CONFIG_PATH'"
export $($py_cmd -c \
"from __future__ import print_function;
import sys;
import os;
map(sys.stdout.write, ['{0}={1} ' \
.format(x, os.environ[x]) for x in [$ex_vars]])")
exec $SUDO PATH=$PATH LD_LIBRARY_PATH=$LD_LIBRARY_PATH \
MANPATH=$MANPATH XDG_DATA_DIRS=$XDG_DATA_DIRS \
PKG_CONFIG_PATH=$PKG_CONFIG_PATH \
"$py_cmd_path" -c \
'import base64;
exec(base64.b64decode("""IyBweWxpbnQ6IGRpc2FibGU9Vzk5MDMKJycnClRoaXMgaXMgYSBzaGltIHRoYXQgaGFuZGxlcyBj
aGVja2luZyBhbmQgdXBkYXRpbmcgc2FsdCB0aGluIGFuZAp0aGVuIGludm9raW5nIHRoaW4uCgpU
aGlzIGlzIG5vdCBpbnRlbmRlZCB0byBiZSBpbnN0YW50aWF0ZWQgYXMgYSBtb2R1bGUsIHJhdGhl
ciBpdCBpcyBhCmhlbHBlciBzY3JpcHQgdXNlZCBieSBzYWx0LmNsaWVudC5zc2guU2luZ2xlLiAg
SXQgaXMgaGVyZSwgaW4gYQpzZXBhcmF0ZSBmaWxlLCBmb3IgY29udmVuaWVuY2Ugb2YgZGV2ZWxv
cG1lbnQuCicnJwoKZnJvbSBfX2Z1dHVyZV9fIGltcG9ydCBhYnNvbHV0ZV9pbXBvcnQKCmltcG9y
dCBoYXNobGliCmltcG9ydCB0YXJmaWxlCmltcG9ydCBzaHV0aWwKaW1wb3J0IHN5cwppbXBvcnQg
b3MKaW1wb3J0IHN0YXQKaW1wb3J0IHN1YnByb2Nlc3MKClRISU5fQVJDSElWRSA9ICdzYWx0LXRo
aW4udGd6JwpFWFRfQVJDSElWRSA9ICdzYWx0LWV4dF9tb2RzLnRneicKCiMgS2VlcCB0aGVzZSBp
biBzeW5jIHdpdGggc2FsdC9kZWZhdWx0cy9leGl0Y29kZXMucHkKRVhfVEhJTl9ERVBMT1kgPSAx
MQpFWF9USElOX0NIRUNLU1VNID0gMTIKRVhfTU9EX0RFUExPWSA9IDEzCkVYX1NDUF9OT1RfRk9V
TkQgPSAxNApFWF9DQU5UQ1JFQVQgPSA3MwoKCmNsYXNzIE9CSihvYmplY3QpOgogICAgIiIiQW4g
ZW1wdHkgY2xhc3MgZm9yIGhvbGRpbmcgaW5zdGFuY2UgYXR0cmlidXRlIHZhbHVlcy4iIiIKICAg
IHBhc3MKCgpPUFRJT05TID0gTm9uZQpBUkdTID0gTm9uZQojIFRoZSBiZWxvdyBsaW5lIGlzIHdo
ZXJlIE9QVElPTlMgY2FuIGJlIHJlZGVmaW5lZCB3aXRoIGludGVybmFsIG9wdGlvbnMKIyAocmF0
aGVyIHRoYW4gY2xpIGFyZ3VtZW50cykgd2hlbiB0aGUgc2hpbSBpcyBidW5kbGVkIGJ5CiMgY2xp
ZW50LnNzaC5TaW5nbGUuX2NtZF9zdHIoKQojIHB5bGludDogZGlzYWJsZT1ibG9jay1jb21tZW50
LXNob3VsZC1zdGFydC13aXRoLWNhcmRpbmFsLXNwYWNlCgpPUFRJT05TID0gT0JKKCkKT1BUSU9O
Uy5jb25maWcgPSAiIiIKe2ZpbGVzZXJ2ZXJfbGlzdF9jYWNoZV90aW1lOiAzLCBncmFpbnNfY2Fj
aGU6IHRydWUsIGlkOiBtdW5pbiwgbG9nX2ZpbGU6IHNhbHQtY2FsbC5sb2csCiAgcm9vdF9kaXI6
IC92YXIvdG1wLy5zYWx0LW9wZV8xYTM1MzJfc2FsdC9ydW5uaW5nX2RhdGEsIHNvY2tfZGlyOiAv
fQoiIiIKT1BUSU9OUy5kZWxpbWl0ZXIgPSAnX2VkYmM3ODg1ZTRmOWFhYzliODNiMzU5OTliNjhk
MDE1MTQ4Y2FmNDY3Yjc4ZmEzOWMwNWY2NjljMGZmODk4NzgnCk9QVElPTlMuc2FsdGRpciA9ICcv
dmFyL3RtcC8uc2FsdC1vcGVfMWEzNTMyX3NhbHQnCk9QVElPTlMuY2hlY2tzdW0gPSAnOTg1MjZk
OTliMWU3YjA3OWRjZWZjZWM5ZmE1Yjg1MWZmYmY5ODEzZCcKT1BUSU9OUy5oYXNoZnVuYyA9ICdz
aGExJwpPUFRJT05TLnZlcnNpb24gPSAnMjAxNi4zLjInCk9QVElPTlMuZXh0X21vZHMgPSAnNzQx
OTZlMDExNDUyMWUyYWRjNjlkNjgxY2U2YTQ1NjNiYTBhZTFlYicKT1BUSU9OUy53aXBlID0gRmFs
c2UKT1BUSU9OUy50dHkgPSBGYWxzZQpPUFRJT05TLmNtZF91bWFzayA9IE5vbmUKQVJHUyA9IFsn
bmV0d29yay5pbnRlcmZhY2VfaXAnLCAnImV0aDAiJ10KCgoKZGVmIG5lZWRfZGVwbG95bWVudCgp
OgogICAgIiIiCiAgICBTYWx0IHRoaW4gbmVlZHMgdG8gYmUgZGVwbG95ZWQgLSBwcmVwIHRoZSB0
YXJnZXQgZGlyZWN0b3J5IGFuZCBlbWl0IHRoZQogICAgZGVsaW1ldGVyIGFuZCBleGl0IGNvZGUg
dGhhdCBzaWduYWxzIGEgcmVxdWlyZWQgZGVwbG95bWVudC4KICAgICIiIgogICAgaWYgb3MucGF0
aC5leGlzdHMoT1BUSU9OUy5zYWx0ZGlyKToKICAgICAgICBzaHV0aWwucm10cmVlKE9QVElPTlMu
c2FsdGRpcikKICAgIG9sZF91bWFzayA9IG9zLnVtYXNrKDBvMDc3KQogICAgb3MubWFrZWRpcnMo
T1BUSU9OUy5zYWx0ZGlyKQogICAgb3MudW1hc2sob2xkX3VtYXNrKQogICAgIyBWZXJpZnkgcGVy
bXMgb24gc2FsdGRpcgogICAgZXVpZCA9IG9zLmdldGV1aWQoKQogICAgZHN0YXQgPSBvcy5zdGF0
KE9QVElPTlMuc2FsdGRpcikKICAgIGlmIGRzdGF0LnN0X3VpZCAhPSBldWlkOgogICAgICAgICMg
QXR0YWNrIGRldGVjdGVkLCB0cnkgYWdhaW4KICAgICAgICBuZWVkX2RlcGxveW1lbnQoKQogICAg
aWYgZHN0YXQuc3RfbW9kZSAhPSAxNjgzMjoKICAgICAgICAjIEF0dGFjayBkZXRlY3RlZAogICAg
ICAgIG5lZWRfZGVwbG95bWVudCgpCiAgICAjIElmIFNVRE9pbmcgdGhlbiBhbHNvIGdpdmUgdGhl
IHN1cGVyIHVzZXIgZ3JvdXAgd3JpdGUgcGVybWlzc2lvbnMKICAgIHN1ZG9fZ2lkID0gb3MuZW52
aXJvbi5nZXQoJ1NVRE9fR0lEJykKICAgIGlmIHN1ZG9fZ2lkOgogICAgICAgIG9zLmNob3duKE9Q
VElPTlMuc2FsdGRpciwgLTEsIGludChzdWRvX2dpZCkpCiAgICAgICAgc3R0ID0gb3Muc3RhdChP
UFRJT05TLnNhbHRkaXIpCiAgICAgICAgb3MuY2htb2QoT1BUSU9OUy5zYWx0ZGlyLCBzdHQuc3Rf
bW9kZSB8IHN0YXQuU19JV0dSUCB8IHN0YXQuU19JUkdSUCB8IHN0YXQuU19JWEdSUCkKCiAgICAj
IERlbGltaXRlciBlbWl0dGVkIG9uIHN0ZG91dCAqb25seSogdG8gaW5kaWNhdGUgc2hpbSBtZXNz
YWdlIHRvIG1hc3Rlci4KICAgIHN5cy5zdGRvdXQud3JpdGUoInswfVxuZGVwbG95XG4iLmZvcm1h
dChPUFRJT05TLmRlbGltaXRlcikpCiAgICBzeXMuZXhpdChFWF9USElOX0RFUExPWSkKCgojIEFk
YXB0ZWQgZnJvbSBzYWx0LnV0aWxzLmdldF9oYXNoKCkKZGVmIGdldF9oYXNoKHBhdGgsIGZvcm09
J3NoYTEnLCBjaHVua19zaXplPTQwOTYpOgogICAgIiIiR2VuZXJhdGUgYSBoYXNoIGRpZ2VzdCBz
dHJpbmcgZm9yIGEgZmlsZS4iIiIKICAgIHRyeToKICAgICAgICBoYXNoX3R5cGUgPSBnZXRhdHRy
KGhhc2hsaWIsIGZvcm0pCiAgICBleGNlcHQgQXR0cmlidXRlRXJyb3I6CiAgICAgICAgcmFpc2Ug
VmFsdWVFcnJvcignSW52YWxpZCBoYXNoIHR5cGU6IHswfScuZm9ybWF0KGZvcm0pKQogICAgd2l0
aCBvcGVuKHBhdGgsICdyYicpIGFzIGlmaWxlOgogICAgICAgIGhhc2hfb2JqID0gaGFzaF90eXBl
KCkKICAgICAgICAjIHJlYWQgdGhlIGZpbGUgaW4gaW4gY2h1bmtzLCBub3QgdGhlIGVudGlyZSBm
aWxlCiAgICAgICAgZm9yIGNodW5rIGluIGl0ZXIobGFtYmRhOiBpZmlsZS5yZWFkKGNodW5rX3Np
emUpLCBiJycpOgogICAgICAgICAgICBoYXNoX29iai51cGRhdGUoY2h1bmspCiAgICAgICAgcmV0
dXJuIGhhc2hfb2JqLmhleGRpZ2VzdCgpCgoKZGVmIHVucGFja190aGluKHRoaW5fcGF0aCk6CiAg
ICAiIiJVbnBhY2sgdGhlIFNhbHQgdGhpbiBhcmNoaXZlLiIiIgogICAgdGZpbGUgPSB0YXJmaWxl
LlRhckZpbGUuZ3pvcGVuKHRoaW5fcGF0aCkKICAgIG9sZF91bWFzayA9IG9zLnVtYXNrKDBvMDc3
KQogICAgdGZpbGUuZXh0cmFjdGFsbChwYXRoPU9QVElPTlMuc2FsdGRpcikKICAgIHRmaWxlLmNs
b3NlKCkKICAgIG9zLnVtYXNrKG9sZF91bWFzaykKICAgIG9zLnVubGluayh0aGluX3BhdGgpCgoK
ZGVmIG5lZWRfZXh0KCk6CiAgICAiIiJTaWduYWwgdGhhdCBleHRlcm5hbCBtb2R1bGVzIG5lZWQg
dG8gYmUgZGVwbG95ZWQuIiIiCiAgICBzeXMuc3Rkb3V0LndyaXRlKCJ7MH1cbmV4dF9tb2RzXG4i
LmZvcm1hdChPUFRJT05TLmRlbGltaXRlcikpCiAgICBzeXMuZXhpdChFWF9NT0RfREVQTE9ZKQoK
CmRlZiB1bnBhY2tfZXh0KGV4dF9wYXRoKToKICAgICIiIlVucGFjayB0aGUgZXh0ZXJuYWwgbW9k
dWxlcy4iIiIKICAgIG1vZGNhY2hlID0gb3MucGF0aC5qb2luKAogICAgICAgICAgICBPUFRJT05T
LnNhbHRkaXIsCiAgICAgICAgICAgICdydW5uaW5nX2RhdGEnLAogICAgICAgICAgICAndmFyJywK
ICAgICAgICAgICAgJ2NhY2hlJywKICAgICAgICAgICAgJ3NhbHQnLAogICAgICAgICAgICAnbWlu
aW9uJywKICAgICAgICAgICAgJ2V4dG1vZHMnKQogICAgdGZpbGUgPSB0YXJmaWxlLlRhckZpbGUu
Z3pvcGVuKGV4dF9wYXRoKQogICAgb2xkX3VtYXNrID0gb3MudW1hc2soMG8wNzcpCiAgICB0Zmls
ZS5leHRyYWN0YWxsKHBhdGg9bW9kY2FjaGUpCiAgICB0ZmlsZS5jbG9zZSgpCiAgICBvcy51bWFz
ayhvbGRfdW1hc2spCiAgICBvcy51bmxpbmsoZXh0X3BhdGgpCiAgICB2ZXJfcGF0aCA9IG9zLnBh
dGguam9pbihtb2RjYWNoZSwgJ2V4dF92ZXJzaW9uJykKICAgIHZlcl9kc3QgPSBvcy5wYXRoLmpv
aW4oT1BUSU9OUy5zYWx0ZGlyLCAnZXh0X3ZlcnNpb24nKQogICAgc2h1dGlsLm1vdmUodmVyX3Bh
dGgsIHZlcl9kc3QpCgoKZGVmIG1haW4oYXJndik6ICAjIHB5bGludDogZGlzYWJsZT1XMDYxMwog
ICAgIiIiTWFpbiBwcm9ncmFtIGJvZHkiIiIKICAgIHRoaW5fcGF0aCA9IG9zLnBhdGguam9pbihP
UFRJT05TLnNhbHRkaXIsIFRISU5fQVJDSElWRSkKICAgIGlmIG9zLnBhdGguaXNmaWxlKHRoaW5f
cGF0aCk6CiAgICAgICAgaWYgT1BUSU9OUy5jaGVja3N1bSAhPSBnZXRfaGFzaCh0aGluX3BhdGgs
IE9QVElPTlMuaGFzaGZ1bmMpOgogICAgICAgICAgICBzeXMuc3RkZXJyLndyaXRlKCd7MH1cbicu
Zm9ybWF0KE9QVElPTlMuY2hlY2tzdW0pKQogICAgICAgICAgICBzeXMuc3RkZXJyLndyaXRlKCd7
MH1cbicuZm9ybWF0KGdldF9oYXNoKHRoaW5fcGF0aCwgT1BUSU9OUy5oYXNoZnVuYykpKQogICAg
ICAgICAgICBvcy51bmxpbmsodGhpbl9wYXRoKQogICAgICAgICAgICBzeXMuc3RkZXJyLndyaXRl
KCdXQVJOSU5HOiBjaGVja3N1bSBtaXNtYXRjaCBmb3IgInswfSJcbicuZm9ybWF0KHRoaW5fcGF0
aCkpCiAgICAgICAgICAgIHN5cy5leGl0KEVYX1RISU5fQ0hFQ0tTVU0pCiAgICAgICAgdW5wYWNr
X3RoaW4odGhpbl9wYXRoKQogICAgICAgICMgU2FsdCB0aGluIG5vdyBpcyBhdmFpbGFibGUgdG8g
dXNlCiAgICBlbHNlOgogICAgICAgIHNjcHN0YXQgPSBzdWJwcm9jZXNzLlBvcGVuKFsnL2Jpbi9z
aCcsICctYycsICdjb21tYW5kIC12IHNjcCddKS53YWl0KCkKICAgICAgICBpZiBzY3BzdGF0ICE9
IDA6CiAgICAgICAgICAgIHN5cy5leGl0KEVYX1NDUF9OT1RfRk9VTkQpCgogICAgICAgIGlmIG5v
dCBvcy5wYXRoLmV4aXN0cyhPUFRJT05TLnNhbHRkaXIpOgogICAgICAgICAgICBuZWVkX2RlcGxv
eW1lbnQoKQoKICAgICAgICBpZiBub3Qgb3MucGF0aC5pc2RpcihPUFRJT05TLnNhbHRkaXIpOgog
ICAgICAgICAgICBzeXMuc3RkZXJyLndyaXRlKAogICAgICAgICAgICAgICAgJ0VSUk9SOiBzYWx0
IHBhdGggInswfSIgZXhpc3RzIGJ1dCBpcycKICAgICAgICAgICAgICAgICcgbm90IGEgZGlyZWN0
b3J5XG4nLmZvcm1hdChPUFRJT05TLnNhbHRkaXIpCiAgICAgICAgICAgICkKICAgICAgICAgICAg
c3lzLmV4aXQoRVhfQ0FOVENSRUFUKQoKICAgICAgICB2ZXJzaW9uX3BhdGggPSBvcy5wYXRoLmpv
aW4oT1BUSU9OUy5zYWx0ZGlyLCAndmVyc2lvbicpCiAgICAgICAgaWYgbm90IG9zLnBhdGguZXhp
c3RzKHZlcnNpb25fcGF0aCkgb3Igbm90IG9zLnBhdGguaXNmaWxlKHZlcnNpb25fcGF0aCk6CiAg
ICAgICAgICAgIHN5cy5zdGRlcnIud3JpdGUoCiAgICAgICAgICAgICAgICAnV0FSTklORzogVW5h
YmxlIHRvIGxvY2F0ZSBjdXJyZW50IHRoaW4gJwogICAgICAgICAgICAgICAgJyB2ZXJzaW9uOiB7
MH0uXG4nLmZvcm1hdCh2ZXJzaW9uX3BhdGgpCiAgICAgICAgICAgICkKICAgICAgICAgICAgbmVl
ZF9kZXBsb3ltZW50KCkKICAgICAgICB3aXRoIG9wZW4odmVyc2lvbl9wYXRoLCAncicpIGFzIHZw
bzoKICAgICAgICAgICAgY3VyX3ZlcnNpb24gPSB2cG8ucmVhZGxpbmUoKS5zdHJpcCgpCiAgICAg
ICAgaWYgY3VyX3ZlcnNpb24gIT0gT1BUSU9OUy52ZXJzaW9uOgogICAgICAgICAgICBzeXMuc3Rk
ZXJyLndyaXRlKAogICAgICAgICAgICAgICAgJ1dBUk5JTkc6IGN1cnJlbnQgdGhpbiB2ZXJzaW9u
IHswfScKICAgICAgICAgICAgICAgICcgaXMgbm90IHVwLXRvLWRhdGUgd2l0aCB7MX0uXG4nLmZv
cm1hdCgKICAgICAgICAgICAgICAgICAgICBjdXJfdmVyc2lvbiwgT1BUSU9OUy52ZXJzaW9uCiAg
ICAgICAgICAgICAgICApCiAgICAgICAgICAgICkKICAgICAgICAgICAgbmVlZF9kZXBsb3ltZW50
KCkKICAgICAgICAjIFNhbHQgdGhpbiBleGlzdHMgYW5kIGlzIHVwLXRvLWRhdGUgLSBmYWxsIHRo
cm91Z2ggYW5kIHVzZSBpdAoKICAgIHNhbHRfY2FsbF9wYXRoID0gb3MucGF0aC5qb2luKE9QVElP
TlMuc2FsdGRpciwgJ3NhbHQtY2FsbCcpCiAgICBpZiBub3Qgb3MucGF0aC5pc2ZpbGUoc2FsdF9j
YWxsX3BhdGgpOgogICAgICAgIHN5cy5zdGRlcnIud3JpdGUoJ0VSUk9SOiB0aGluIGlzIG1pc3Np
bmcgInswfSJcbicuZm9ybWF0KHNhbHRfY2FsbF9wYXRoKSkKICAgICAgICBuZWVkX2RlcGxveW1l
bnQoKQoKICAgIHdpdGggb3Blbihvcy5wYXRoLmpvaW4oT1BUSU9OUy5zYWx0ZGlyLCAnbWluaW9u
JyksICd3JykgYXMgY29uZmlnOgogICAgICAgIGNvbmZpZy53cml0ZShPUFRJT05TLmNvbmZpZyAr
ICdcbicpCiAgICBpZiBPUFRJT05TLmV4dF9tb2RzOgogICAgICAgIGV4dF9wYXRoID0gb3MucGF0
aC5qb2luKE9QVElPTlMuc2FsdGRpciwgRVhUX0FSQ0hJVkUpCiAgICAgICAgaWYgb3MucGF0aC5l
eGlzdHMoZXh0X3BhdGgpOgogICAgICAgICAgICB1bnBhY2tfZXh0KGV4dF9wYXRoKQogICAgICAg
IGVsc2U6CiAgICAgICAgICAgIHZlcnNpb25fcGF0aCA9IG9zLnBhdGguam9pbihPUFRJT05TLnNh
bHRkaXIsICdleHRfdmVyc2lvbicpCiAgICAgICAgICAgIGlmIG5vdCBvcy5wYXRoLmV4aXN0cyh2
ZXJzaW9uX3BhdGgpIG9yIG5vdCBvcy5wYXRoLmlzZmlsZSh2ZXJzaW9uX3BhdGgpOgogICAgICAg
ICAgICAgICAgbmVlZF9leHQoKQogICAgICAgICAgICB3aXRoIG9wZW4odmVyc2lvbl9wYXRoLCAn
cicpIGFzIHZwbzoKICAgICAgICAgICAgICAgIGN1cl92ZXJzaW9uID0gdnBvLnJlYWRsaW5lKCku
c3RyaXAoKQogICAgICAgICAgICBpZiBjdXJfdmVyc2lvbiAhPSBPUFRJT05TLmV4dF9tb2RzOgog
ICAgICAgICAgICAgICAgbmVlZF9leHQoKQogICAgIyBGaXggcGFyYW1ldGVyIHBhc3NpbmcgaXNz
dWUKICAgIGlmIGxlbihBUkdTKSA9PSAxOgogICAgICAgIGFyZ3ZfcHJlcGFyZWQgPSBBUkdTWzBd
LnNwbGl0KCkKICAgIGVsc2U6CiAgICAgICAgYXJndl9wcmVwYXJlZCA9IEFSR1MKCiAgICBzYWx0
X2FyZ3YgPSBbCiAgICAgICAgc3lzLmV4ZWN1dGFibGUsCiAgICAgICAgc2FsdF9jYWxsX3BhdGgs
CiAgICAgICAgJy0tcmV0Y29kZS1wYXNzdGhyb3VnaCcsCiAgICAgICAgJy0tbG9jYWwnLAogICAg
ICAgICctLW1ldGFkYXRhJywKICAgICAgICAnLS1vdXQnLCAnanNvbicsCiAgICAgICAgJy1sJywg
J3F1aWV0JywKICAgICAgICAnLWMnLCBPUFRJT05TLnNhbHRkaXIsCiAgICAgICAgJy0tJywKICAg
IF0gKyBhcmd2X3ByZXBhcmVkCgogICAgc3lzLnN0ZGVyci53cml0ZSgnU0FMVF9BUkdWOiB7MH1c
bicuZm9ybWF0KHNhbHRfYXJndikpCgogICAgIyBPbmx5IGVtaXQgdGhlIGRlbGltaXRlciBvbiAq
Ym90aCogc3Rkb3V0IGFuZCBzdGRlcnIgd2hlbiBjb21wbGV0ZWx5IHN1Y2Nlc3NmdWwuCiAgICAj
IFllcywgdGhlIGZsdXNoKCkgaXMgbmVjZXNzYXJ5LgogICAgc3lzLnN0ZG91dC53cml0ZShPUFRJ
T05TLmRlbGltaXRlciArICdcbicpCiAgICBzeXMuc3Rkb3V0LmZsdXNoKCkKICAgIGlmIG5vdCBP
UFRJT05TLnR0eToKICAgICAgICBzeXMuc3RkZXJyLndyaXRlKE9QVElPTlMuZGVsaW1pdGVyICsg
J1xuJykKICAgICAgICBzeXMuc3RkZXJyLmZsdXNoKCkKICAgIGlmIE9QVElPTlMuY21kX3VtYXNr
IGlzIG5vdCBOb25lOgogICAgICAgIG9sZF91bWFzayA9IG9zLnVtYXNrKE9QVElPTlMuY21kX3Vt
YXNrKQogICAgaWYgT1BUSU9OUy50dHk6CiAgICAgICAgc3Rkb3V0LCBfID0gc3VicHJvY2Vzcy5Q
b3BlbihzYWx0X2FyZ3YsIHN0ZG91dD1zdWJwcm9jZXNzLlBJUEUsIHN0ZGVycj1zdWJwcm9jZXNz
LlBJUEUpLmNvbW11bmljYXRlKCkKICAgICAgICBzeXMuc3Rkb3V0LndyaXRlKHN0ZG91dCkKICAg
ICAgICBzeXMuc3Rkb3V0LmZsdXNoKCkKICAgICAgICBpZiBPUFRJT05TLndpcGU6CiAgICAgICAg
ICAgIHNodXRpbC5ybXRyZWUoT1BUSU9OUy5zYWx0ZGlyKQogICAgZWxpZiBPUFRJT05TLndpcGU6
CiAgICAgICAgc3VicHJvY2Vzcy5jYWxsKHNhbHRfYXJndikKICAgICAgICBzaHV0aWwucm10cmVl
KE9QVElPTlMuc2FsdGRpcikKICAgIGVsc2U6CiAgICAgICAgb3MuZXhlY3Yoc3lzLmV4ZWN1dGFi
bGUsIHNhbHRfYXJndikKICAgIGlmIE9QVElPTlMuY21kX3VtYXNrIGlzIG5vdCBOb25lOgogICAg
ICAgIG9zLnVtYXNrKG9sZF91bWFzaykKCmlmIF9fbmFtZV9fID09ICdfX21haW5fXyc6CiAgICBz
eXMuZXhpdChtYWluKHN5cy5hcmd2KSkK
""").decode("utf-8"))'
else
exec $SUDO "$py_cmd_path" -c \
'import base64;
exec(base64.b64decode("""IyBweWxpbnQ6IGRpc2FibGU9Vzk5MDMKJycnClRoaXMgaXMgYSBzaGltIHRoYXQgaGFuZGxlcyBj
aGVja2luZyBhbmQgdXBkYXRpbmcgc2FsdCB0aGluIGFuZAp0aGVuIGludm9raW5nIHRoaW4uCgpU
aGlzIGlzIG5vdCBpbnRlbmRlZCB0byBiZSBpbnN0YW50aWF0ZWQgYXMgYSBtb2R1bGUsIHJhdGhl
ciBpdCBpcyBhCmhlbHBlciBzY3JpcHQgdXNlZCBieSBzYWx0LmNsaWVudC5zc2guU2luZ2xlLiAg
SXQgaXMgaGVyZSwgaW4gYQpzZXBhcmF0ZSBmaWxlLCBmb3IgY29udmVuaWVuY2Ugb2YgZGV2ZWxv
cG1lbnQuCicnJwoKZnJvbSBfX2Z1dHVyZV9fIGltcG9ydCBhYnNvbHV0ZV9pbXBvcnQKCmltcG9y
dCBoYXNobGliCmltcG9ydCB0YXJmaWxlCmltcG9ydCBzaHV0aWwKaW1wb3J0IHN5cwppbXBvcnQg
b3MKaW1wb3J0IHN0YXQKaW1wb3J0IHN1YnByb2Nlc3MKClRISU5fQVJDSElWRSA9ICdzYWx0LXRo
aW4udGd6JwpFWFRfQVJDSElWRSA9ICdzYWx0LWV4dF9tb2RzLnRneicKCiMgS2VlcCB0aGVzZSBp
biBzeW5jIHdpdGggc2FsdC9kZWZhdWx0cy9leGl0Y29kZXMucHkKRVhfVEhJTl9ERVBMT1kgPSAx
MQpFWF9USElOX0NIRUNLU1VNID0gMTIKRVhfTU9EX0RFUExPWSA9IDEzCkVYX1NDUF9OT1RfRk9V
TkQgPSAxNApFWF9DQU5UQ1JFQVQgPSA3MwoKCmNsYXNzIE9CSihvYmplY3QpOgogICAgIiIiQW4g
ZW1wdHkgY2xhc3MgZm9yIGhvbGRpbmcgaW5zdGFuY2UgYXR0cmlidXRlIHZhbHVlcy4iIiIKICAg
IHBhc3MKCgpPUFRJT05TID0gTm9uZQpBUkdTID0gTm9uZQojIFRoZSBiZWxvdyBsaW5lIGlzIHdo
ZXJlIE9QVElPTlMgY2FuIGJlIHJlZGVmaW5lZCB3aXRoIGludGVybmFsIG9wdGlvbnMKIyAocmF0
aGVyIHRoYW4gY2xpIGFyZ3VtZW50cykgd2hlbiB0aGUgc2hpbSBpcyBidW5kbGVkIGJ5CiMgY2xp
ZW50LnNzaC5TaW5nbGUuX2NtZF9zdHIoKQojIHB5bGludDogZGlzYWJsZT1ibG9jay1jb21tZW50
LXNob3VsZC1zdGFydC13aXRoLWNhcmRpbmFsLXNwYWNlCgpPUFRJT05TID0gT0JKKCkKT1BUSU9O
Uy5jb25maWcgPSAiIiIKe2ZpbGVzZXJ2ZXJfbGlzdF9jYWNoZV90aW1lOiAzLCBncmFpbnNfY2Fj
aGU6IHRydWUsIGlkOiBtdW5pbiwgbG9nX2ZpbGU6IHNhbHQtY2FsbC5sb2csCiAgcm9vdF9kaXI6
IC92YXIvdG1wLy5zYWx0LW9wZV8xYTM1MzJfc2FsdC9ydW5uaW5nX2RhdGEsIHNvY2tfZGlyOiAv
fQoiIiIKT1BUSU9OUy5kZWxpbWl0ZXIgPSAnX2VkYmM3ODg1ZTRmOWFhYzliODNiMzU5OTliNjhk
MDE1MTQ4Y2FmNDY3Yjc4ZmEzOWMwNWY2NjljMGZmODk4NzgnCk9QVElPTlMuc2FsdGRpciA9ICcv
dmFyL3RtcC8uc2FsdC1vcGVfMWEzNTMyX3NhbHQnCk9QVElPTlMuY2hlY2tzdW0gPSAnOTg1MjZk
OTliMWU3YjA3OWRjZWZjZWM5ZmE1Yjg1MWZmYmY5ODEzZCcKT1BUSU9OUy5oYXNoZnVuYyA9ICdz
aGExJwpPUFRJT05TLnZlcnNpb24gPSAnMjAxNi4zLjInCk9QVElPTlMuZXh0X21vZHMgPSAnNzQx
OTZlMDExNDUyMWUyYWRjNjlkNjgxY2U2YTQ1NjNiYTBhZTFlYicKT1BUSU9OUy53aXBlID0gRmFs
c2UKT1BUSU9OUy50dHkgPSBGYWxzZQpPUFRJT05TLmNtZF91bWFzayA9IE5vbmUKQVJHUyA9IFsn
bmV0d29yay5pbnRlcmZhY2VfaXAnLCAnImV0aDAiJ10KCgoKZGVmIG5lZWRfZGVwbG95bWVudCgp
OgogICAgIiIiCiAgICBTYWx0IHRoaW4gbmVlZHMgdG8gYmUgZGVwbG95ZWQgLSBwcmVwIHRoZSB0
YXJnZXQgZGlyZWN0b3J5IGFuZCBlbWl0IHRoZQogICAgZGVsaW1ldGVyIGFuZCBleGl0IGNvZGUg
dGhhdCBzaWduYWxzIGEgcmVxdWlyZWQgZGVwbG95bWVudC4KICAgICIiIgogICAgaWYgb3MucGF0
aC5leGlzdHMoT1BUSU9OUy5zYWx0ZGlyKToKICAgICAgICBzaHV0aWwucm10cmVlKE9QVElPTlMu
c2FsdGRpcikKICAgIG9sZF91bWFzayA9IG9zLnVtYXNrKDBvMDc3KQogICAgb3MubWFrZWRpcnMo
T1BUSU9OUy5zYWx0ZGlyKQogICAgb3MudW1hc2sob2xkX3VtYXNrKQogICAgIyBWZXJpZnkgcGVy
bXMgb24gc2FsdGRpcgogICAgZXVpZCA9IG9zLmdldGV1aWQoKQogICAgZHN0YXQgPSBvcy5zdGF0
KE9QVElPTlMuc2FsdGRpcikKICAgIGlmIGRzdGF0LnN0X3VpZCAhPSBldWlkOgogICAgICAgICMg
QXR0YWNrIGRldGVjdGVkLCB0cnkgYWdhaW4KICAgICAgICBuZWVkX2RlcGxveW1lbnQoKQogICAg
aWYgZHN0YXQuc3RfbW9kZSAhPSAxNjgzMjoKICAgICAgICAjIEF0dGFjayBkZXRlY3RlZAogICAg
ICAgIG5lZWRfZGVwbG95bWVudCgpCiAgICAjIElmIFNVRE9pbmcgdGhlbiBhbHNvIGdpdmUgdGhl
IHN1cGVyIHVzZXIgZ3JvdXAgd3JpdGUgcGVybWlzc2lvbnMKICAgIHN1ZG9fZ2lkID0gb3MuZW52
aXJvbi5nZXQoJ1NVRE9fR0lEJykKICAgIGlmIHN1ZG9fZ2lkOgogICAgICAgIG9zLmNob3duKE9Q
VElPTlMuc2FsdGRpciwgLTEsIGludChzdWRvX2dpZCkpCiAgICAgICAgc3R0ID0gb3Muc3RhdChP
UFRJT05TLnNhbHRkaXIpCiAgICAgICAgb3MuY2htb2QoT1BUSU9OUy5zYWx0ZGlyLCBzdHQuc3Rf
bW9kZSB8IHN0YXQuU19JV0dSUCB8IHN0YXQuU19JUkdSUCB8IHN0YXQuU19JWEdSUCkKCiAgICAj
IERlbGltaXRlciBlbWl0dGVkIG9uIHN0ZG91dCAqb25seSogdG8gaW5kaWNhdGUgc2hpbSBtZXNz
YWdlIHRvIG1hc3Rlci4KICAgIHN5cy5zdGRvdXQud3JpdGUoInswfVxuZGVwbG95XG4iLmZvcm1h
dChPUFRJT05TLmRlbGltaXRlcikpCiAgICBzeXMuZXhpdChFWF9USElOX0RFUExPWSkKCgojIEFk
YXB0ZWQgZnJvbSBzYWx0LnV0aWxzLmdldF9oYXNoKCkKZGVmIGdldF9oYXNoKHBhdGgsIGZvcm09
J3NoYTEnLCBjaHVua19zaXplPTQwOTYpOgogICAgIiIiR2VuZXJhdGUgYSBoYXNoIGRpZ2VzdCBz
dHJpbmcgZm9yIGEgZmlsZS4iIiIKICAgIHRyeToKICAgICAgICBoYXNoX3R5cGUgPSBnZXRhdHRy
KGhhc2hsaWIsIGZvcm0pCiAgICBleGNlcHQgQXR0cmlidXRlRXJyb3I6CiAgICAgICAgcmFpc2Ug
VmFsdWVFcnJvcignSW52YWxpZCBoYXNoIHR5cGU6IHswfScuZm9ybWF0KGZvcm0pKQogICAgd2l0
aCBvcGVuKHBhdGgsICdyYicpIGFzIGlmaWxlOgogICAgICAgIGhhc2hfb2JqID0gaGFzaF90eXBl
KCkKICAgICAgICAjIHJlYWQgdGhlIGZpbGUgaW4gaW4gY2h1bmtzLCBub3QgdGhlIGVudGlyZSBm
aWxlCiAgICAgICAgZm9yIGNodW5rIGluIGl0ZXIobGFtYmRhOiBpZmlsZS5yZWFkKGNodW5rX3Np
emUpLCBiJycpOgogICAgICAgICAgICBoYXNoX29iai51cGRhdGUoY2h1bmspCiAgICAgICAgcmV0
dXJuIGhhc2hfb2JqLmhleGRpZ2VzdCgpCgoKZGVmIHVucGFja190aGluKHRoaW5fcGF0aCk6CiAg
ICAiIiJVbnBhY2sgdGhlIFNhbHQgdGhpbiBhcmNoaXZlLiIiIgogICAgdGZpbGUgPSB0YXJmaWxl
LlRhckZpbGUuZ3pvcGVuKHRoaW5fcGF0aCkKICAgIG9sZF91bWFzayA9IG9zLnVtYXNrKDBvMDc3
KQogICAgdGZpbGUuZXh0cmFjdGFsbChwYXRoPU9QVElPTlMuc2FsdGRpcikKICAgIHRmaWxlLmNs
b3NlKCkKICAgIG9zLnVtYXNrKG9sZF91bWFzaykKICAgIG9zLnVubGluayh0aGluX3BhdGgpCgoK
ZGVmIG5lZWRfZXh0KCk6CiAgICAiIiJTaWduYWwgdGhhdCBleHRlcm5hbCBtb2R1bGVzIG5lZWQg
dG8gYmUgZGVwbG95ZWQuIiIiCiAgICBzeXMuc3Rkb3V0LndyaXRlKCJ7MH1cbmV4dF9tb2RzXG4i
LmZvcm1hdChPUFRJT05TLmRlbGltaXRlcikpCiAgICBzeXMuZXhpdChFWF9NT0RfREVQTE9ZKQoK
CmRlZiB1bnBhY2tfZXh0KGV4dF9wYXRoKToKICAgICIiIlVucGFjayB0aGUgZXh0ZXJuYWwgbW9k
dWxlcy4iIiIKICAgIG1vZGNhY2hlID0gb3MucGF0aC5qb2luKAogICAgICAgICAgICBPUFRJT05T
LnNhbHRkaXIsCiAgICAgICAgICAgICdydW5uaW5nX2RhdGEnLAogICAgICAgICAgICAndmFyJywK
ICAgICAgICAgICAgJ2NhY2hlJywKICAgICAgICAgICAgJ3NhbHQnLAogICAgICAgICAgICAnbWlu
aW9uJywKICAgICAgICAgICAgJ2V4dG1vZHMnKQogICAgdGZpbGUgPSB0YXJmaWxlLlRhckZpbGUu
Z3pvcGVuKGV4dF9wYXRoKQogICAgb2xkX3VtYXNrID0gb3MudW1hc2soMG8wNzcpCiAgICB0Zmls
ZS5leHRyYWN0YWxsKHBhdGg9bW9kY2FjaGUpCiAgICB0ZmlsZS5jbG9zZSgpCiAgICBvcy51bWFz
ayhvbGRfdW1hc2spCiAgICBvcy51bmxpbmsoZXh0X3BhdGgpCiAgICB2ZXJfcGF0aCA9IG9zLnBh
dGguam9pbihtb2RjYWNoZSwgJ2V4dF92ZXJzaW9uJykKICAgIHZlcl9kc3QgPSBvcy5wYXRoLmpv
aW4oT1BUSU9OUy5zYWx0ZGlyLCAnZXh0X3ZlcnNpb24nKQogICAgc2h1dGlsLm1vdmUodmVyX3Bh
dGgsIHZlcl9kc3QpCgoKZGVmIG1haW4oYXJndik6ICAjIHB5bGludDogZGlzYWJsZT1XMDYxMwog
ICAgIiIiTWFpbiBwcm9ncmFtIGJvZHkiIiIKICAgIHRoaW5fcGF0aCA9IG9zLnBhdGguam9pbihP
UFRJT05TLnNhbHRkaXIsIFRISU5fQVJDSElWRSkKICAgIGlmIG9zLnBhdGguaXNmaWxlKHRoaW5f
cGF0aCk6CiAgICAgICAgaWYgT1BUSU9OUy5jaGVja3N1bSAhPSBnZXRfaGFzaCh0aGluX3BhdGgs
IE9QVElPTlMuaGFzaGZ1bmMpOgogICAgICAgICAgICBzeXMuc3RkZXJyLndyaXRlKCd7MH1cbicu
Zm9ybWF0KE9QVElPTlMuY2hlY2tzdW0pKQogICAgICAgICAgICBzeXMuc3RkZXJyLndyaXRlKCd7
MH1cbicuZm9ybWF0KGdldF9oYXNoKHRoaW5fcGF0aCwgT1BUSU9OUy5oYXNoZnVuYykpKQogICAg
ICAgICAgICBvcy51bmxpbmsodGhpbl9wYXRoKQogICAgICAgICAgICBzeXMuc3RkZXJyLndyaXRl
KCdXQVJOSU5HOiBjaGVja3N1bSBtaXNtYXRjaCBmb3IgInswfSJcbicuZm9ybWF0KHRoaW5fcGF0
aCkpCiAgICAgICAgICAgIHN5cy5leGl0KEVYX1RISU5fQ0hFQ0tTVU0pCiAgICAgICAgdW5wYWNr
X3RoaW4odGhpbl9wYXRoKQogICAgICAgICMgU2FsdCB0aGluIG5vdyBpcyBhdmFpbGFibGUgdG8g
dXNlCiAgICBlbHNlOgogICAgICAgIHNjcHN0YXQgPSBzdWJwcm9jZXNzLlBvcGVuKFsnL2Jpbi9z
aCcsICctYycsICdjb21tYW5kIC12IHNjcCddKS53YWl0KCkKICAgICAgICBpZiBzY3BzdGF0ICE9
IDA6CiAgICAgICAgICAgIHN5cy5leGl0KEVYX1NDUF9OT1RfRk9VTkQpCgogICAgICAgIGlmIG5v
dCBvcy5wYXRoLmV4aXN0cyhPUFRJT05TLnNhbHRkaXIpOgogICAgICAgICAgICBuZWVkX2RlcGxv
eW1lbnQoKQoKICAgICAgICBpZiBub3Qgb3MucGF0aC5pc2RpcihPUFRJT05TLnNhbHRkaXIpOgog
ICAgICAgICAgICBzeXMuc3RkZXJyLndyaXRlKAogICAgICAgICAgICAgICAgJ0VSUk9SOiBzYWx0
IHBhdGggInswfSIgZXhpc3RzIGJ1dCBpcycKICAgICAgICAgICAgICAgICcgbm90IGEgZGlyZWN0
b3J5XG4nLmZvcm1hdChPUFRJT05TLnNhbHRkaXIpCiAgICAgICAgICAgICkKICAgICAgICAgICAg
c3lzLmV4aXQoRVhfQ0FOVENSRUFUKQoKICAgICAgICB2ZXJzaW9uX3BhdGggPSBvcy5wYXRoLmpv
aW4oT1BUSU9OUy5zYWx0ZGlyLCAndmVyc2lvbicpCiAgICAgICAgaWYgbm90IG9zLnBhdGguZXhp
c3RzKHZlcnNpb25fcGF0aCkgb3Igbm90IG9zLnBhdGguaXNmaWxlKHZlcnNpb25fcGF0aCk6CiAg
ICAgICAgICAgIHN5cy5zdGRlcnIud3JpdGUoCiAgICAgICAgICAgICAgICAnV0FSTklORzogVW5h
YmxlIHRvIGxvY2F0ZSBjdXJyZW50IHRoaW4gJwogICAgICAgICAgICAgICAgJyB2ZXJzaW9uOiB7
MH0uXG4nLmZvcm1hdCh2ZXJzaW9uX3BhdGgpCiAgICAgICAgICAgICkKICAgICAgICAgICAgbmVl
ZF9kZXBsb3ltZW50KCkKICAgICAgICB3aXRoIG9wZW4odmVyc2lvbl9wYXRoLCAncicpIGFzIHZw
bzoKICAgICAgICAgICAgY3VyX3ZlcnNpb24gPSB2cG8ucmVhZGxpbmUoKS5zdHJpcCgpCiAgICAg
ICAgaWYgY3VyX3ZlcnNpb24gIT0gT1BUSU9OUy52ZXJzaW9uOgogICAgICAgICAgICBzeXMuc3Rk
ZXJyLndyaXRlKAogICAgICAgICAgICAgICAgJ1dBUk5JTkc6IGN1cnJlbnQgdGhpbiB2ZXJzaW9u
IHswfScKICAgICAgICAgICAgICAgICcgaXMgbm90IHVwLXRvLWRhdGUgd2l0aCB7MX0uXG4nLmZv
cm1hdCgKICAgICAgICAgICAgICAgICAgICBjdXJfdmVyc2lvbiwgT1BUSU9OUy52ZXJzaW9uCiAg
ICAgICAgICAgICAgICApCiAgICAgICAgICAgICkKICAgICAgICAgICAgbmVlZF9kZXBsb3ltZW50
KCkKICAgICAgICAjIFNhbHQgdGhpbiBleGlzdHMgYW5kIGlzIHVwLXRvLWRhdGUgLSBmYWxsIHRo
cm91Z2ggYW5kIHVzZSBpdAoKICAgIHNhbHRfY2FsbF9wYXRoID0gb3MucGF0aC5qb2luKE9QVElP
TlMuc2FsdGRpciwgJ3NhbHQtY2FsbCcpCiAgICBpZiBub3Qgb3MucGF0aC5pc2ZpbGUoc2FsdF9j
YWxsX3BhdGgpOgogICAgICAgIHN5cy5zdGRlcnIud3JpdGUoJ0VSUk9SOiB0aGluIGlzIG1pc3Np
bmcgInswfSJcbicuZm9ybWF0KHNhbHRfY2FsbF9wYXRoKSkKICAgICAgICBuZWVkX2RlcGxveW1l
bnQoKQoKICAgIHdpdGggb3Blbihvcy5wYXRoLmpvaW4oT1BUSU9OUy5zYWx0ZGlyLCAnbWluaW9u
JyksICd3JykgYXMgY29uZmlnOgogICAgICAgIGNvbmZpZy53cml0ZShPUFRJT05TLmNvbmZpZyAr
ICdcbicpCiAgICBpZiBPUFRJT05TLmV4dF9tb2RzOgogICAgICAgIGV4dF9wYXRoID0gb3MucGF0
aC5qb2luKE9QVElPTlMuc2FsdGRpciwgRVhUX0FSQ0hJVkUpCiAgICAgICAgaWYgb3MucGF0aC5l
eGlzdHMoZXh0X3BhdGgpOgogICAgICAgICAgICB1bnBhY2tfZXh0KGV4dF9wYXRoKQogICAgICAg
IGVsc2U6CiAgICAgICAgICAgIHZlcnNpb25fcGF0aCA9IG9zLnBhdGguam9pbihPUFRJT05TLnNh
bHRkaXIsICdleHRfdmVyc2lvbicpCiAgICAgICAgICAgIGlmIG5vdCBvcy5wYXRoLmV4aXN0cyh2
ZXJzaW9uX3BhdGgpIG9yIG5vdCBvcy5wYXRoLmlzZmlsZSh2ZXJzaW9uX3BhdGgpOgogICAgICAg
ICAgICAgICAgbmVlZF9leHQoKQogICAgICAgICAgICB3aXRoIG9wZW4odmVyc2lvbl9wYXRoLCAn
cicpIGFzIHZwbzoKICAgICAgICAgICAgICAgIGN1cl92ZXJzaW9uID0gdnBvLnJlYWRsaW5lKCku
c3RyaXAoKQogICAgICAgICAgICBpZiBjdXJfdmVyc2lvbiAhPSBPUFRJT05TLmV4dF9tb2RzOgog
ICAgICAgICAgICAgICAgbmVlZF9leHQoKQogICAgIyBGaXggcGFyYW1ldGVyIHBhc3NpbmcgaXNz
dWUKICAgIGlmIGxlbihBUkdTKSA9PSAxOgogICAgICAgIGFyZ3ZfcHJlcGFyZWQgPSBBUkdTWzBd
LnNwbGl0KCkKICAgIGVsc2U6CiAgICAgICAgYXJndl9wcmVwYXJlZCA9IEFSR1MKCiAgICBzYWx0
X2FyZ3YgPSBbCiAgICAgICAgc3lzLmV4ZWN1dGFibGUsCiAgICAgICAgc2FsdF9jYWxsX3BhdGgs
CiAgICAgICAgJy0tcmV0Y29kZS1wYXNzdGhyb3VnaCcsCiAgICAgICAgJy0tbG9jYWwnLAogICAg
ICAgICctLW1ldGFkYXRhJywKICAgICAgICAnLS1vdXQnLCAnanNvbicsCiAgICAgICAgJy1sJywg
J3F1aWV0JywKICAgICAgICAnLWMnLCBPUFRJT05TLnNhbHRkaXIsCiAgICAgICAgJy0tJywKICAg
IF0gKyBhcmd2X3ByZXBhcmVkCgogICAgc3lzLnN0ZGVyci53cml0ZSgnU0FMVF9BUkdWOiB7MH1c
bicuZm9ybWF0KHNhbHRfYXJndikpCgogICAgIyBPbmx5IGVtaXQgdGhlIGRlbGltaXRlciBvbiAq
Ym90aCogc3Rkb3V0IGFuZCBzdGRlcnIgd2hlbiBjb21wbGV0ZWx5IHN1Y2Nlc3NmdWwuCiAgICAj
IFllcywgdGhlIGZsdXNoKCkgaXMgbmVjZXNzYXJ5LgogICAgc3lzLnN0ZG91dC53cml0ZShPUFRJ
T05TLmRlbGltaXRlciArICdcbicpCiAgICBzeXMuc3Rkb3V0LmZsdXNoKCkKICAgIGlmIG5vdCBP
UFRJT05TLnR0eToKICAgICAgICBzeXMuc3RkZXJyLndyaXRlKE9QVElPTlMuZGVsaW1pdGVyICsg
J1xuJykKICAgICAgICBzeXMuc3RkZXJyLmZsdXNoKCkKICAgIGlmIE9QVElPTlMuY21kX3VtYXNr
IGlzIG5vdCBOb25lOgogICAgICAgIG9sZF91bWFzayA9IG9zLnVtYXNrKE9QVElPTlMuY21kX3Vt
YXNrKQogICAgaWYgT1BUSU9OUy50dHk6CiAgICAgICAgc3Rkb3V0LCBfID0gc3VicHJvY2Vzcy5Q
b3BlbihzYWx0X2FyZ3YsIHN0ZG91dD1zdWJwcm9jZXNzLlBJUEUsIHN0ZGVycj1zdWJwcm9jZXNz
LlBJUEUpLmNvbW11bmljYXRlKCkKICAgICAgICBzeXMuc3Rkb3V0LndyaXRlKHN0ZG91dCkKICAg
ICAgICBzeXMuc3Rkb3V0LmZsdXNoKCkKICAgICAgICBpZiBPUFRJT05TLndpcGU6CiAgICAgICAg
ICAgIHNodXRpbC5ybXRyZWUoT1BUSU9OUy5zYWx0ZGlyKQogICAgZWxpZiBPUFRJT05TLndpcGU6
CiAgICAgICAgc3VicHJvY2Vzcy5jYWxsKHNhbHRfYXJndikKICAgICAgICBzaHV0aWwucm10cmVl
KE9QVElPTlMuc2FsdGRpcikKICAgIGVsc2U6CiAgICAgICAgb3MuZXhlY3Yoc3lzLmV4ZWN1dGFi
bGUsIHNhbHRfYXJndikKICAgIGlmIE9QVElPTlMuY21kX3VtYXNrIGlzIG5vdCBOb25lOgogICAg
ICAgIG9zLnVtYXNrKG9sZF91bWFzaykKCmlmIF9fbmFtZV9fID09ICdfX21haW5fXyc6CiAgICBz
eXMuZXhpdChtYWluKHN5cy5hcmd2KSkK
""").decode("utf-8"))'
fi
exit 0
else
continue
fi
done
echo "ERROR: Unable to locate appropriate python command" >&2
exit $EX_PYTHON_INVALID
EOF
2016-10-19 23:58:05,866 [salt.utils.vt.Terminal.PID-1697.STDOUT][TRACE   ][1694] salt-ope@192.168.1.15's password:
2016-10-19 23:58:06,029 [salt.utils.vt.Terminal.PID-1697.STDERR][TRACE   ][1694] SALT_ARGV: ['/usr/bin/python2.7', '/var/tmp/.salt-ope_1a3532_salt/salt-call', '--retcode-passthrough', '--local', '--metadata', '--out', 'json', '-l', 'quiet', '-c', '/var/tmp/.salt-ope_1a3532_salt', '--', 'network.interface_ip', '"eth0"']
_edbc7885e4f9aac9b83b35999b68d015148caf467b78fa39c05f669c0ff89878
2016-10-19 23:58:06,030 [salt.utils.vt.Terminal.PID-1697.STDOUT][TRACE   ][1694] /bin/scp
_edbc7885e4f9aac9b83b35999b68d015148caf467b78fa39c05f669c0ff89878
2016-10-19 23:58:06,346 [salt.utils.vt.Terminal.PID-1697.STDOUT][TRACE   ][1694] {
    "local": {
        "fun_args": [
            "\"eth0\""
        ], 
        "jid": "20161019235807203898", 
        "return": "192.168.1.15", 
        "retcode": 0, 
        "fun": "network.interface_ip", 
        "id": "munin"
    }
}
2016-10-19 23:58:06,578 [salt.client.ssh  ][TRACE   ][1694] STDOUT 192.168.1.15
salt-ope@192.168.1.15's password: 
/bin/scp
_edbc7885e4f9aac9b83b35999b68d015148caf467b78fa39c05f669c0ff89878
{
    "local": {
        "fun_args": [
            "\"eth0\""
        ], 
        "jid": "20161019235807203898", 
        "return": "192.168.1.15", 
        "retcode": 0, 
        "fun": "network.interface_ip", 
        "id": "munin"
    }
}

2016-10-19 23:58:06,578 [salt.client.ssh  ][TRACE   ][1694] STDERR 192.168.1.15
SALT_ARGV: ['/usr/bin/python2.7', '/var/tmp/.salt-ope_1a3532_salt/salt-call', '--retcode-passthrough', '--local', '--metadata', '--out', 'json', '-l', 'quiet', '-c', '/var/tmp/.salt-ope_1a3532_salt', '--', 'network.interface_ip', '"eth0"']
_edbc7885e4f9aac9b83b35999b68d015148caf467b78fa39c05f669c0ff89878

2016-10-19 23:58:06,578 [salt.client.ssh  ][DEBUG   ][1694] RETCODE 192.168.1.15: 0
2016-10-19 23:58:06,579 [salt.utils.lazy  ][DEBUG   ][1694] Could not LazyLoad network.get_hostname
2016-10-19 23:58:06,612 [salt.client.ssh  ][DEBUG   ][1694] Performing shimmed, blocking command as follows:
network.get_hostname
2016-10-19 23:58:06,633 [salt.client.ssh.shell][DEBUG   ][1694] Executed SHIM command. Command logged to TRACE
2016-10-19 23:58:06,634 [salt.client.ssh.shell][TRACE   ][1694] Executing command: ssh 192.168.1.15  -o KbdInteractiveAuthentication=no -o PasswordAuthentication=yes -o GSSAPIAuthentication=no -o ConnectTimeout=65 -o Port=22 -o IdentityFile=/root/saltstack_master/etc/salt/pki/master/ssh/salt-ssh.rsa -o User=******  /bin/sh << 'EOF'
set -e
set -u
DEBUG=""
if [ -n "$DEBUG" ]
then set -x
fi
SUDO=""
if [ -n "sudo" ]
then SUDO="sudo "
fi
EX_PYTHON_INVALID=10
PYTHON_CMDS="python3 python27 python2.7 python26 python2.6 python2 python"
for py_cmd in $PYTHON_CMDS
do
if command -v "$py_cmd" >/dev/null 2>&1 && "$py_cmd" -c \
"import sys; sys.exit(not (sys.version_info >= (2, 6)
and sys.version_info[0] == 2));"
then
py_cmd_path=`"$py_cmd" -c \
'from __future__ import print_function;
import sys; print(sys.executable);'`
cmdpath=$(which $py_cmd 2>&1)
if file $cmdpath | grep "shell script" > /dev/null
then
ex_vars="'PATH', 'LD_LIBRARY_PATH', 'MANPATH', \
'XDG_DATA_DIRS', 'PKG_CONFIG_PATH'"
export $($py_cmd -c \
"from __future__ import print_function;
import sys;
import os;
map(sys.stdout.write, ['{0}={1} ' \
.format(x, os.environ[x]) for x in [$ex_vars]])")
exec $SUDO PATH=$PATH LD_LIBRARY_PATH=$LD_LIBRARY_PATH \
MANPATH=$MANPATH XDG_DATA_DIRS=$XDG_DATA_DIRS \
PKG_CONFIG_PATH=$PKG_CONFIG_PATH \
"$py_cmd_path" -c \
'import base64;
exec(base64.b64decode("""IyBweWxpbnQ6IGRpc2FibGU9Vzk5MDMKJycnClRoaXMgaXMgYSBzaGltIHRoYXQgaGFuZGxlcyBj
aGVja2luZyBhbmQgdXBkYXRpbmcgc2FsdCB0aGluIGFuZAp0aGVuIGludm9raW5nIHRoaW4uCgpU
aGlzIGlzIG5vdCBpbnRlbmRlZCB0byBiZSBpbnN0YW50aWF0ZWQgYXMgYSBtb2R1bGUsIHJhdGhl
ciBpdCBpcyBhCmhlbHBlciBzY3JpcHQgdXNlZCBieSBzYWx0LmNsaWVudC5zc2guU2luZ2xlLiAg
SXQgaXMgaGVyZSwgaW4gYQpzZXBhcmF0ZSBmaWxlLCBmb3IgY29udmVuaWVuY2Ugb2YgZGV2ZWxv
cG1lbnQuCicnJwoKZnJvbSBfX2Z1dHVyZV9fIGltcG9ydCBhYnNvbHV0ZV9pbXBvcnQKCmltcG9y
dCBoYXNobGliCmltcG9ydCB0YXJmaWxlCmltcG9ydCBzaHV0aWwKaW1wb3J0IHN5cwppbXBvcnQg
b3MKaW1wb3J0IHN0YXQKaW1wb3J0IHN1YnByb2Nlc3MKClRISU5fQVJDSElWRSA9ICdzYWx0LXRo
aW4udGd6JwpFWFRfQVJDSElWRSA9ICdzYWx0LWV4dF9tb2RzLnRneicKCiMgS2VlcCB0aGVzZSBp
biBzeW5jIHdpdGggc2FsdC9kZWZhdWx0cy9leGl0Y29kZXMucHkKRVhfVEhJTl9ERVBMT1kgPSAx
MQpFWF9USElOX0NIRUNLU1VNID0gMTIKRVhfTU9EX0RFUExPWSA9IDEzCkVYX1NDUF9OT1RfRk9V
TkQgPSAxNApFWF9DQU5UQ1JFQVQgPSA3MwoKCmNsYXNzIE9CSihvYmplY3QpOgogICAgIiIiQW4g
ZW1wdHkgY2xhc3MgZm9yIGhvbGRpbmcgaW5zdGFuY2UgYXR0cmlidXRlIHZhbHVlcy4iIiIKICAg
IHBhc3MKCgpPUFRJT05TID0gTm9uZQpBUkdTID0gTm9uZQojIFRoZSBiZWxvdyBsaW5lIGlzIHdo
ZXJlIE9QVElPTlMgY2FuIGJlIHJlZGVmaW5lZCB3aXRoIGludGVybmFsIG9wdGlvbnMKIyAocmF0
aGVyIHRoYW4gY2xpIGFyZ3VtZW50cykgd2hlbiB0aGUgc2hpbSBpcyBidW5kbGVkIGJ5CiMgY2xp
ZW50LnNzaC5TaW5nbGUuX2NtZF9zdHIoKQojIHB5bGludDogZGlzYWJsZT1ibG9jay1jb21tZW50
LXNob3VsZC1zdGFydC13aXRoLWNhcmRpbmFsLXNwYWNlCgpPUFRJT05TID0gT0JKKCkKT1BUSU9O
Uy5jb25maWcgPSAiIiIKe2ZpbGVzZXJ2ZXJfbGlzdF9jYWNoZV90aW1lOiAzLCBncmFpbnNfY2Fj
aGU6IHRydWUsIGlkOiBtdW5pbiwgbG9nX2ZpbGU6IHNhbHQtY2FsbC5sb2csCiAgcm9vdF9kaXI6
IC92YXIvdG1wLy5zYWx0LW9wZV8xYTM1MzJfc2FsdC9ydW5uaW5nX2RhdGEsIHNvY2tfZGlyOiAv
fQoiIiIKT1BUSU9OUy5kZWxpbWl0ZXIgPSAnX2VkYmM3ODg1ZTRmOWFhYzliODNiMzU5OTliNjhk
MDE1MTQ4Y2FmNDY3Yjc4ZmEzOWMwNWY2NjljMGZmODk4NzgnCk9QVElPTlMuc2FsdGRpciA9ICcv
dmFyL3RtcC8uc2FsdC1vcGVfMWEzNTMyX3NhbHQnCk9QVElPTlMuY2hlY2tzdW0gPSAnOTg1MjZk
OTliMWU3YjA3OWRjZWZjZWM5ZmE1Yjg1MWZmYmY5ODEzZCcKT1BUSU9OUy5oYXNoZnVuYyA9ICdz
aGExJwpPUFRJT05TLnZlcnNpb24gPSAnMjAxNi4zLjInCk9QVElPTlMuZXh0X21vZHMgPSAnNzQx
OTZlMDExNDUyMWUyYWRjNjlkNjgxY2U2YTQ1NjNiYTBhZTFlYicKT1BUSU9OUy53aXBlID0gRmFs
c2UKT1BUSU9OUy50dHkgPSBGYWxzZQpPUFRJT05TLmNtZF91bWFzayA9IE5vbmUKQVJHUyA9IFsn
bmV0d29yay5nZXRfaG9zdG5hbWUnXQoKCgpkZWYgbmVlZF9kZXBsb3ltZW50KCk6CiAgICAiIiIK
ICAgIFNhbHQgdGhpbiBuZWVkcyB0byBiZSBkZXBsb3llZCAtIHByZXAgdGhlIHRhcmdldCBkaXJl
Y3RvcnkgYW5kIGVtaXQgdGhlCiAgICBkZWxpbWV0ZXIgYW5kIGV4aXQgY29kZSB0aGF0IHNpZ25h
bHMgYSByZXF1aXJlZCBkZXBsb3ltZW50LgogICAgIiIiCiAgICBpZiBvcy5wYXRoLmV4aXN0cyhP
UFRJT05TLnNhbHRkaXIpOgogICAgICAgIHNodXRpbC5ybXRyZWUoT1BUSU9OUy5zYWx0ZGlyKQog
ICAgb2xkX3VtYXNrID0gb3MudW1hc2soMG8wNzcpCiAgICBvcy5tYWtlZGlycyhPUFRJT05TLnNh
bHRkaXIpCiAgICBvcy51bWFzayhvbGRfdW1hc2spCiAgICAjIFZlcmlmeSBwZXJtcyBvbiBzYWx0
ZGlyCiAgICBldWlkID0gb3MuZ2V0ZXVpZCgpCiAgICBkc3RhdCA9IG9zLnN0YXQoT1BUSU9OUy5z
YWx0ZGlyKQogICAgaWYgZHN0YXQuc3RfdWlkICE9IGV1aWQ6CiAgICAgICAgIyBBdHRhY2sgZGV0
ZWN0ZWQsIHRyeSBhZ2FpbgogICAgICAgIG5lZWRfZGVwbG95bWVudCgpCiAgICBpZiBkc3RhdC5z
dF9tb2RlICE9IDE2ODMyOgogICAgICAgICMgQXR0YWNrIGRldGVjdGVkCiAgICAgICAgbmVlZF9k
ZXBsb3ltZW50KCkKICAgICMgSWYgU1VET2luZyB0aGVuIGFsc28gZ2l2ZSB0aGUgc3VwZXIgdXNl
ciBncm91cCB3cml0ZSBwZXJtaXNzaW9ucwogICAgc3Vkb19naWQgPSBvcy5lbnZpcm9uLmdldCgn
U1VET19HSUQnKQogICAgaWYgc3Vkb19naWQ6CiAgICAgICAgb3MuY2hvd24oT1BUSU9OUy5zYWx0
ZGlyLCAtMSwgaW50KHN1ZG9fZ2lkKSkKICAgICAgICBzdHQgPSBvcy5zdGF0KE9QVElPTlMuc2Fs
dGRpcikKICAgICAgICBvcy5jaG1vZChPUFRJT05TLnNhbHRkaXIsIHN0dC5zdF9tb2RlIHwgc3Rh
dC5TX0lXR1JQIHwgc3RhdC5TX0lSR1JQIHwgc3RhdC5TX0lYR1JQKQoKICAgICMgRGVsaW1pdGVy
IGVtaXR0ZWQgb24gc3Rkb3V0ICpvbmx5KiB0byBpbmRpY2F0ZSBzaGltIG1lc3NhZ2UgdG8gbWFz
dGVyLgogICAgc3lzLnN0ZG91dC53cml0ZSgiezB9XG5kZXBsb3lcbiIuZm9ybWF0KE9QVElPTlMu
ZGVsaW1pdGVyKSkKICAgIHN5cy5leGl0KEVYX1RISU5fREVQTE9ZKQoKCiMgQWRhcHRlZCBmcm9t
IHNhbHQudXRpbHMuZ2V0X2hhc2goKQpkZWYgZ2V0X2hhc2gocGF0aCwgZm9ybT0nc2hhMScsIGNo
dW5rX3NpemU9NDA5Nik6CiAgICAiIiJHZW5lcmF0ZSBhIGhhc2ggZGlnZXN0IHN0cmluZyBmb3Ig
YSBmaWxlLiIiIgogICAgdHJ5OgogICAgICAgIGhhc2hfdHlwZSA9IGdldGF0dHIoaGFzaGxpYiwg
Zm9ybSkKICAgIGV4Y2VwdCBBdHRyaWJ1dGVFcnJvcjoKICAgICAgICByYWlzZSBWYWx1ZUVycm9y
KCdJbnZhbGlkIGhhc2ggdHlwZTogezB9Jy5mb3JtYXQoZm9ybSkpCiAgICB3aXRoIG9wZW4ocGF0
aCwgJ3JiJykgYXMgaWZpbGU6CiAgICAgICAgaGFzaF9vYmogPSBoYXNoX3R5cGUoKQogICAgICAg
ICMgcmVhZCB0aGUgZmlsZSBpbiBpbiBjaHVua3MsIG5vdCB0aGUgZW50aXJlIGZpbGUKICAgICAg
ICBmb3IgY2h1bmsgaW4gaXRlcihsYW1iZGE6IGlmaWxlLnJlYWQoY2h1bmtfc2l6ZSksIGInJyk6
CiAgICAgICAgICAgIGhhc2hfb2JqLnVwZGF0ZShjaHVuaykKICAgICAgICByZXR1cm4gaGFzaF9v
YmouaGV4ZGlnZXN0KCkKCgpkZWYgdW5wYWNrX3RoaW4odGhpbl9wYXRoKToKICAgICIiIlVucGFj
ayB0aGUgU2FsdCB0aGluIGFyY2hpdmUuIiIiCiAgICB0ZmlsZSA9IHRhcmZpbGUuVGFyRmlsZS5n
em9wZW4odGhpbl9wYXRoKQogICAgb2xkX3VtYXNrID0gb3MudW1hc2soMG8wNzcpCiAgICB0Zmls
ZS5leHRyYWN0YWxsKHBhdGg9T1BUSU9OUy5zYWx0ZGlyKQogICAgdGZpbGUuY2xvc2UoKQogICAg
b3MudW1hc2sob2xkX3VtYXNrKQogICAgb3MudW5saW5rKHRoaW5fcGF0aCkKCgpkZWYgbmVlZF9l
eHQoKToKICAgICIiIlNpZ25hbCB0aGF0IGV4dGVybmFsIG1vZHVsZXMgbmVlZCB0byBiZSBkZXBs
b3llZC4iIiIKICAgIHN5cy5zdGRvdXQud3JpdGUoInswfVxuZXh0X21vZHNcbiIuZm9ybWF0KE9Q
VElPTlMuZGVsaW1pdGVyKSkKICAgIHN5cy5leGl0KEVYX01PRF9ERVBMT1kpCgoKZGVmIHVucGFj
a19leHQoZXh0X3BhdGgpOgogICAgIiIiVW5wYWNrIHRoZSBleHRlcm5hbCBtb2R1bGVzLiIiIgog
ICAgbW9kY2FjaGUgPSBvcy5wYXRoLmpvaW4oCiAgICAgICAgICAgIE9QVElPTlMuc2FsdGRpciwK
ICAgICAgICAgICAgJ3J1bm5pbmdfZGF0YScsCiAgICAgICAgICAgICd2YXInLAogICAgICAgICAg
ICAnY2FjaGUnLAogICAgICAgICAgICAnc2FsdCcsCiAgICAgICAgICAgICdtaW5pb24nLAogICAg
ICAgICAgICAnZXh0bW9kcycpCiAgICB0ZmlsZSA9IHRhcmZpbGUuVGFyRmlsZS5nem9wZW4oZXh0
X3BhdGgpCiAgICBvbGRfdW1hc2sgPSBvcy51bWFzaygwbzA3NykKICAgIHRmaWxlLmV4dHJhY3Rh
bGwocGF0aD1tb2RjYWNoZSkKICAgIHRmaWxlLmNsb3NlKCkKICAgIG9zLnVtYXNrKG9sZF91bWFz
aykKICAgIG9zLnVubGluayhleHRfcGF0aCkKICAgIHZlcl9wYXRoID0gb3MucGF0aC5qb2luKG1v
ZGNhY2hlLCAnZXh0X3ZlcnNpb24nKQogICAgdmVyX2RzdCA9IG9zLnBhdGguam9pbihPUFRJT05T
LnNhbHRkaXIsICdleHRfdmVyc2lvbicpCiAgICBzaHV0aWwubW92ZSh2ZXJfcGF0aCwgdmVyX2Rz
dCkKCgpkZWYgbWFpbihhcmd2KTogICMgcHlsaW50OiBkaXNhYmxlPVcwNjEzCiAgICAiIiJNYWlu
IHByb2dyYW0gYm9keSIiIgogICAgdGhpbl9wYXRoID0gb3MucGF0aC5qb2luKE9QVElPTlMuc2Fs
dGRpciwgVEhJTl9BUkNISVZFKQogICAgaWYgb3MucGF0aC5pc2ZpbGUodGhpbl9wYXRoKToKICAg
ICAgICBpZiBPUFRJT05TLmNoZWNrc3VtICE9IGdldF9oYXNoKHRoaW5fcGF0aCwgT1BUSU9OUy5o
YXNoZnVuYyk6CiAgICAgICAgICAgIHN5cy5zdGRlcnIud3JpdGUoJ3swfVxuJy5mb3JtYXQoT1BU
SU9OUy5jaGVja3N1bSkpCiAgICAgICAgICAgIHN5cy5zdGRlcnIud3JpdGUoJ3swfVxuJy5mb3Jt
YXQoZ2V0X2hhc2godGhpbl9wYXRoLCBPUFRJT05TLmhhc2hmdW5jKSkpCiAgICAgICAgICAgIG9z
LnVubGluayh0aGluX3BhdGgpCiAgICAgICAgICAgIHN5cy5zdGRlcnIud3JpdGUoJ1dBUk5JTkc6
IGNoZWNrc3VtIG1pc21hdGNoIGZvciAiezB9IlxuJy5mb3JtYXQodGhpbl9wYXRoKSkKICAgICAg
ICAgICAgc3lzLmV4aXQoRVhfVEhJTl9DSEVDS1NVTSkKICAgICAgICB1bnBhY2tfdGhpbih0aGlu
X3BhdGgpCiAgICAgICAgIyBTYWx0IHRoaW4gbm93IGlzIGF2YWlsYWJsZSB0byB1c2UKICAgIGVs
c2U6CiAgICAgICAgc2Nwc3RhdCA9IHN1YnByb2Nlc3MuUG9wZW4oWycvYmluL3NoJywgJy1jJywg
J2NvbW1hbmQgLXYgc2NwJ10pLndhaXQoKQogICAgICAgIGlmIHNjcHN0YXQgIT0gMDoKICAgICAg
ICAgICAgc3lzLmV4aXQoRVhfU0NQX05PVF9GT1VORCkKCiAgICAgICAgaWYgbm90IG9zLnBhdGgu
ZXhpc3RzKE9QVElPTlMuc2FsdGRpcik6CiAgICAgICAgICAgIG5lZWRfZGVwbG95bWVudCgpCgog
ICAgICAgIGlmIG5vdCBvcy5wYXRoLmlzZGlyKE9QVElPTlMuc2FsdGRpcik6CiAgICAgICAgICAg
IHN5cy5zdGRlcnIud3JpdGUoCiAgICAgICAgICAgICAgICAnRVJST1I6IHNhbHQgcGF0aCAiezB9
IiBleGlzdHMgYnV0IGlzJwogICAgICAgICAgICAgICAgJyBub3QgYSBkaXJlY3RvcnlcbicuZm9y
bWF0KE9QVElPTlMuc2FsdGRpcikKICAgICAgICAgICAgKQogICAgICAgICAgICBzeXMuZXhpdChF
WF9DQU5UQ1JFQVQpCgogICAgICAgIHZlcnNpb25fcGF0aCA9IG9zLnBhdGguam9pbihPUFRJT05T
LnNhbHRkaXIsICd2ZXJzaW9uJykKICAgICAgICBpZiBub3Qgb3MucGF0aC5leGlzdHModmVyc2lv
bl9wYXRoKSBvciBub3Qgb3MucGF0aC5pc2ZpbGUodmVyc2lvbl9wYXRoKToKICAgICAgICAgICAg
c3lzLnN0ZGVyci53cml0ZSgKICAgICAgICAgICAgICAgICdXQVJOSU5HOiBVbmFibGUgdG8gbG9j
YXRlIGN1cnJlbnQgdGhpbiAnCiAgICAgICAgICAgICAgICAnIHZlcnNpb246IHswfS5cbicuZm9y
bWF0KHZlcnNpb25fcGF0aCkKICAgICAgICAgICAgKQogICAgICAgICAgICBuZWVkX2RlcGxveW1l
bnQoKQogICAgICAgIHdpdGggb3Blbih2ZXJzaW9uX3BhdGgsICdyJykgYXMgdnBvOgogICAgICAg
ICAgICBjdXJfdmVyc2lvbiA9IHZwby5yZWFkbGluZSgpLnN0cmlwKCkKICAgICAgICBpZiBjdXJf
dmVyc2lvbiAhPSBPUFRJT05TLnZlcnNpb246CiAgICAgICAgICAgIHN5cy5zdGRlcnIud3JpdGUo
CiAgICAgICAgICAgICAgICAnV0FSTklORzogY3VycmVudCB0aGluIHZlcnNpb24gezB9JwogICAg
ICAgICAgICAgICAgJyBpcyBub3QgdXAtdG8tZGF0ZSB3aXRoIHsxfS5cbicuZm9ybWF0KAogICAg
ICAgICAgICAgICAgICAgIGN1cl92ZXJzaW9uLCBPUFRJT05TLnZlcnNpb24KICAgICAgICAgICAg
ICAgICkKICAgICAgICAgICAgKQogICAgICAgICAgICBuZWVkX2RlcGxveW1lbnQoKQogICAgICAg
ICMgU2FsdCB0aGluIGV4aXN0cyBhbmQgaXMgdXAtdG8tZGF0ZSAtIGZhbGwgdGhyb3VnaCBhbmQg
dXNlIGl0CgogICAgc2FsdF9jYWxsX3BhdGggPSBvcy5wYXRoLmpvaW4oT1BUSU9OUy5zYWx0ZGly
LCAnc2FsdC1jYWxsJykKICAgIGlmIG5vdCBvcy5wYXRoLmlzZmlsZShzYWx0X2NhbGxfcGF0aCk6
CiAgICAgICAgc3lzLnN0ZGVyci53cml0ZSgnRVJST1I6IHRoaW4gaXMgbWlzc2luZyAiezB9Ilxu
Jy5mb3JtYXQoc2FsdF9jYWxsX3BhdGgpKQogICAgICAgIG5lZWRfZGVwbG95bWVudCgpCgogICAg
d2l0aCBvcGVuKG9zLnBhdGguam9pbihPUFRJT05TLnNhbHRkaXIsICdtaW5pb24nKSwgJ3cnKSBh
cyBjb25maWc6CiAgICAgICAgY29uZmlnLndyaXRlKE9QVElPTlMuY29uZmlnICsgJ1xuJykKICAg
IGlmIE9QVElPTlMuZXh0X21vZHM6CiAgICAgICAgZXh0X3BhdGggPSBvcy5wYXRoLmpvaW4oT1BU
SU9OUy5zYWx0ZGlyLCBFWFRfQVJDSElWRSkKICAgICAgICBpZiBvcy5wYXRoLmV4aXN0cyhleHRf
cGF0aCk6CiAgICAgICAgICAgIHVucGFja19leHQoZXh0X3BhdGgpCiAgICAgICAgZWxzZToKICAg
ICAgICAgICAgdmVyc2lvbl9wYXRoID0gb3MucGF0aC5qb2luKE9QVElPTlMuc2FsdGRpciwgJ2V4
dF92ZXJzaW9uJykKICAgICAgICAgICAgaWYgbm90IG9zLnBhdGguZXhpc3RzKHZlcnNpb25fcGF0
aCkgb3Igbm90IG9zLnBhdGguaXNmaWxlKHZlcnNpb25fcGF0aCk6CiAgICAgICAgICAgICAgICBu
ZWVkX2V4dCgpCiAgICAgICAgICAgIHdpdGggb3Blbih2ZXJzaW9uX3BhdGgsICdyJykgYXMgdnBv
OgogICAgICAgICAgICAgICAgY3VyX3ZlcnNpb24gPSB2cG8ucmVhZGxpbmUoKS5zdHJpcCgpCiAg
ICAgICAgICAgIGlmIGN1cl92ZXJzaW9uICE9IE9QVElPTlMuZXh0X21vZHM6CiAgICAgICAgICAg
ICAgICBuZWVkX2V4dCgpCiAgICAjIEZpeCBwYXJhbWV0ZXIgcGFzc2luZyBpc3N1ZQogICAgaWYg
bGVuKEFSR1MpID09IDE6CiAgICAgICAgYXJndl9wcmVwYXJlZCA9IEFSR1NbMF0uc3BsaXQoKQog
ICAgZWxzZToKICAgICAgICBhcmd2X3ByZXBhcmVkID0gQVJHUwoKICAgIHNhbHRfYXJndiA9IFsK
ICAgICAgICBzeXMuZXhlY3V0YWJsZSwKICAgICAgICBzYWx0X2NhbGxfcGF0aCwKICAgICAgICAn
LS1yZXRjb2RlLXBhc3N0aHJvdWdoJywKICAgICAgICAnLS1sb2NhbCcsCiAgICAgICAgJy0tbWV0
YWRhdGEnLAogICAgICAgICctLW91dCcsICdqc29uJywKICAgICAgICAnLWwnLCAncXVpZXQnLAog
ICAgICAgICctYycsIE9QVElPTlMuc2FsdGRpciwKICAgICAgICAnLS0nLAogICAgXSArIGFyZ3Zf
cHJlcGFyZWQKCiAgICBzeXMuc3RkZXJyLndyaXRlKCdTQUxUX0FSR1Y6IHswfVxuJy5mb3JtYXQo
c2FsdF9hcmd2KSkKCiAgICAjIE9ubHkgZW1pdCB0aGUgZGVsaW1pdGVyIG9uICpib3RoKiBzdGRv
dXQgYW5kIHN0ZGVyciB3aGVuIGNvbXBsZXRlbHkgc3VjY2Vzc2Z1bC4KICAgICMgWWVzLCB0aGUg
Zmx1c2goKSBpcyBuZWNlc3NhcnkuCiAgICBzeXMuc3Rkb3V0LndyaXRlKE9QVElPTlMuZGVsaW1p
dGVyICsgJ1xuJykKICAgIHN5cy5zdGRvdXQuZmx1c2goKQogICAgaWYgbm90IE9QVElPTlMudHR5
OgogICAgICAgIHN5cy5zdGRlcnIud3JpdGUoT1BUSU9OUy5kZWxpbWl0ZXIgKyAnXG4nKQogICAg
ICAgIHN5cy5zdGRlcnIuZmx1c2goKQogICAgaWYgT1BUSU9OUy5jbWRfdW1hc2sgaXMgbm90IE5v
bmU6CiAgICAgICAgb2xkX3VtYXNrID0gb3MudW1hc2soT1BUSU9OUy5jbWRfdW1hc2spCiAgICBp
ZiBPUFRJT05TLnR0eToKICAgICAgICBzdGRvdXQsIF8gPSBzdWJwcm9jZXNzLlBvcGVuKHNhbHRf
YXJndiwgc3Rkb3V0PXN1YnByb2Nlc3MuUElQRSwgc3RkZXJyPXN1YnByb2Nlc3MuUElQRSkuY29t
bXVuaWNhdGUoKQogICAgICAgIHN5cy5zdGRvdXQud3JpdGUoc3Rkb3V0KQogICAgICAgIHN5cy5z
dGRvdXQuZmx1c2goKQogICAgICAgIGlmIE9QVElPTlMud2lwZToKICAgICAgICAgICAgc2h1dGls
LnJtdHJlZShPUFRJT05TLnNhbHRkaXIpCiAgICBlbGlmIE9QVElPTlMud2lwZToKICAgICAgICBz
dWJwcm9jZXNzLmNhbGwoc2FsdF9hcmd2KQogICAgICAgIHNodXRpbC5ybXRyZWUoT1BUSU9OUy5z
YWx0ZGlyKQogICAgZWxzZToKICAgICAgICBvcy5leGVjdihzeXMuZXhlY3V0YWJsZSwgc2FsdF9h
cmd2KQogICAgaWYgT1BUSU9OUy5jbWRfdW1hc2sgaXMgbm90IE5vbmU6CiAgICAgICAgb3MudW1h
c2sob2xkX3VtYXNrKQoKaWYgX19uYW1lX18gPT0gJ19fbWFpbl9fJzoKICAgIHN5cy5leGl0KG1h
aW4oc3lzLmFyZ3YpKQo=
""").decode("utf-8"))'
else
exec $SUDO "$py_cmd_path" -c \
'import base64;
exec(base64.b64decode("""IyBweWxpbnQ6IGRpc2FibGU9Vzk5MDMKJycnClRoaXMgaXMgYSBzaGltIHRoYXQgaGFuZGxlcyBj
aGVja2luZyBhbmQgdXBkYXRpbmcgc2FsdCB0aGluIGFuZAp0aGVuIGludm9raW5nIHRoaW4uCgpU
aGlzIGlzIG5vdCBpbnRlbmRlZCB0byBiZSBpbnN0YW50aWF0ZWQgYXMgYSBtb2R1bGUsIHJhdGhl
ciBpdCBpcyBhCmhlbHBlciBzY3JpcHQgdXNlZCBieSBzYWx0LmNsaWVudC5zc2guU2luZ2xlLiAg
SXQgaXMgaGVyZSwgaW4gYQpzZXBhcmF0ZSBmaWxlLCBmb3IgY29udmVuaWVuY2Ugb2YgZGV2ZWxv
cG1lbnQuCicnJwoKZnJvbSBfX2Z1dHVyZV9fIGltcG9ydCBhYnNvbHV0ZV9pbXBvcnQKCmltcG9y
dCBoYXNobGliCmltcG9ydCB0YXJmaWxlCmltcG9ydCBzaHV0aWwKaW1wb3J0IHN5cwppbXBvcnQg
b3MKaW1wb3J0IHN0YXQKaW1wb3J0IHN1YnByb2Nlc3MKClRISU5fQVJDSElWRSA9ICdzYWx0LXRo
aW4udGd6JwpFWFRfQVJDSElWRSA9ICdzYWx0LWV4dF9tb2RzLnRneicKCiMgS2VlcCB0aGVzZSBp
biBzeW5jIHdpdGggc2FsdC9kZWZhdWx0cy9leGl0Y29kZXMucHkKRVhfVEhJTl9ERVBMT1kgPSAx
MQpFWF9USElOX0NIRUNLU1VNID0gMTIKRVhfTU9EX0RFUExPWSA9IDEzCkVYX1NDUF9OT1RfRk9V
TkQgPSAxNApFWF9DQU5UQ1JFQVQgPSA3MwoKCmNsYXNzIE9CSihvYmplY3QpOgogICAgIiIiQW4g
ZW1wdHkgY2xhc3MgZm9yIGhvbGRpbmcgaW5zdGFuY2UgYXR0cmlidXRlIHZhbHVlcy4iIiIKICAg
IHBhc3MKCgpPUFRJT05TID0gTm9uZQpBUkdTID0gTm9uZQojIFRoZSBiZWxvdyBsaW5lIGlzIHdo
ZXJlIE9QVElPTlMgY2FuIGJlIHJlZGVmaW5lZCB3aXRoIGludGVybmFsIG9wdGlvbnMKIyAocmF0
aGVyIHRoYW4gY2xpIGFyZ3VtZW50cykgd2hlbiB0aGUgc2hpbSBpcyBidW5kbGVkIGJ5CiMgY2xp
ZW50LnNzaC5TaW5nbGUuX2NtZF9zdHIoKQojIHB5bGludDogZGlzYWJsZT1ibG9jay1jb21tZW50
LXNob3VsZC1zdGFydC13aXRoLWNhcmRpbmFsLXNwYWNlCgpPUFRJT05TID0gT0JKKCkKT1BUSU9O
Uy5jb25maWcgPSAiIiIKe2ZpbGVzZXJ2ZXJfbGlzdF9jYWNoZV90aW1lOiAzLCBncmFpbnNfY2Fj
aGU6IHRydWUsIGlkOiBtdW5pbiwgbG9nX2ZpbGU6IHNhbHQtY2FsbC5sb2csCiAgcm9vdF9kaXI6
IC92YXIvdG1wLy5zYWx0LW9wZV8xYTM1MzJfc2FsdC9ydW5uaW5nX2RhdGEsIHNvY2tfZGlyOiAv
fQoiIiIKT1BUSU9OUy5kZWxpbWl0ZXIgPSAnX2VkYmM3ODg1ZTRmOWFhYzliODNiMzU5OTliNjhk
MDE1MTQ4Y2FmNDY3Yjc4ZmEzOWMwNWY2NjljMGZmODk4NzgnCk9QVElPTlMuc2FsdGRpciA9ICcv
dmFyL3RtcC8uc2FsdC1vcGVfMWEzNTMyX3NhbHQnCk9QVElPTlMuY2hlY2tzdW0gPSAnOTg1MjZk
OTliMWU3YjA3OWRjZWZjZWM5ZmE1Yjg1MWZmYmY5ODEzZCcKT1BUSU9OUy5oYXNoZnVuYyA9ICdz
aGExJwpPUFRJT05TLnZlcnNpb24gPSAnMjAxNi4zLjInCk9QVElPTlMuZXh0X21vZHMgPSAnNzQx
OTZlMDExNDUyMWUyYWRjNjlkNjgxY2U2YTQ1NjNiYTBhZTFlYicKT1BUSU9OUy53aXBlID0gRmFs
c2UKT1BUSU9OUy50dHkgPSBGYWxzZQpPUFRJT05TLmNtZF91bWFzayA9IE5vbmUKQVJHUyA9IFsn
bmV0d29yay5nZXRfaG9zdG5hbWUnXQoKCgpkZWYgbmVlZF9kZXBsb3ltZW50KCk6CiAgICAiIiIK
ICAgIFNhbHQgdGhpbiBuZWVkcyB0byBiZSBkZXBsb3llZCAtIHByZXAgdGhlIHRhcmdldCBkaXJl
Y3RvcnkgYW5kIGVtaXQgdGhlCiAgICBkZWxpbWV0ZXIgYW5kIGV4aXQgY29kZSB0aGF0IHNpZ25h
bHMgYSByZXF1aXJlZCBkZXBsb3ltZW50LgogICAgIiIiCiAgICBpZiBvcy5wYXRoLmV4aXN0cyhP
UFRJT05TLnNhbHRkaXIpOgogICAgICAgIHNodXRpbC5ybXRyZWUoT1BUSU9OUy5zYWx0ZGlyKQog
ICAgb2xkX3VtYXNrID0gb3MudW1hc2soMG8wNzcpCiAgICBvcy5tYWtlZGlycyhPUFRJT05TLnNh
bHRkaXIpCiAgICBvcy51bWFzayhvbGRfdW1hc2spCiAgICAjIFZlcmlmeSBwZXJtcyBvbiBzYWx0
ZGlyCiAgICBldWlkID0gb3MuZ2V0ZXVpZCgpCiAgICBkc3RhdCA9IG9zLnN0YXQoT1BUSU9OUy5z
YWx0ZGlyKQogICAgaWYgZHN0YXQuc3RfdWlkICE9IGV1aWQ6CiAgICAgICAgIyBBdHRhY2sgZGV0
ZWN0ZWQsIHRyeSBhZ2FpbgogICAgICAgIG5lZWRfZGVwbG95bWVudCgpCiAgICBpZiBkc3RhdC5z
dF9tb2RlICE9IDE2ODMyOgogICAgICAgICMgQXR0YWNrIGRldGVjdGVkCiAgICAgICAgbmVlZF9k
ZXBsb3ltZW50KCkKICAgICMgSWYgU1VET2luZyB0aGVuIGFsc28gZ2l2ZSB0aGUgc3VwZXIgdXNl
ciBncm91cCB3cml0ZSBwZXJtaXNzaW9ucwogICAgc3Vkb19naWQgPSBvcy5lbnZpcm9uLmdldCgn
U1VET19HSUQnKQogICAgaWYgc3Vkb19naWQ6CiAgICAgICAgb3MuY2hvd24oT1BUSU9OUy5zYWx0
ZGlyLCAtMSwgaW50KHN1ZG9fZ2lkKSkKICAgICAgICBzdHQgPSBvcy5zdGF0KE9QVElPTlMuc2Fs
dGRpcikKICAgICAgICBvcy5jaG1vZChPUFRJT05TLnNhbHRkaXIsIHN0dC5zdF9tb2RlIHwgc3Rh
dC5TX0lXR1JQIHwgc3RhdC5TX0lSR1JQIHwgc3RhdC5TX0lYR1JQKQoKICAgICMgRGVsaW1pdGVy
IGVtaXR0ZWQgb24gc3Rkb3V0ICpvbmx5KiB0byBpbmRpY2F0ZSBzaGltIG1lc3NhZ2UgdG8gbWFz
dGVyLgogICAgc3lzLnN0ZG91dC53cml0ZSgiezB9XG5kZXBsb3lcbiIuZm9ybWF0KE9QVElPTlMu
ZGVsaW1pdGVyKSkKICAgIHN5cy5leGl0KEVYX1RISU5fREVQTE9ZKQoKCiMgQWRhcHRlZCBmcm9t
IHNhbHQudXRpbHMuZ2V0X2hhc2goKQpkZWYgZ2V0X2hhc2gocGF0aCwgZm9ybT0nc2hhMScsIGNo
dW5rX3NpemU9NDA5Nik6CiAgICAiIiJHZW5lcmF0ZSBhIGhhc2ggZGlnZXN0IHN0cmluZyBmb3Ig
YSBmaWxlLiIiIgogICAgdHJ5OgogICAgICAgIGhhc2hfdHlwZSA9IGdldGF0dHIoaGFzaGxpYiwg
Zm9ybSkKICAgIGV4Y2VwdCBBdHRyaWJ1dGVFcnJvcjoKICAgICAgICByYWlzZSBWYWx1ZUVycm9y
KCdJbnZhbGlkIGhhc2ggdHlwZTogezB9Jy5mb3JtYXQoZm9ybSkpCiAgICB3aXRoIG9wZW4ocGF0
aCwgJ3JiJykgYXMgaWZpbGU6CiAgICAgICAgaGFzaF9vYmogPSBoYXNoX3R5cGUoKQogICAgICAg
ICMgcmVhZCB0aGUgZmlsZSBpbiBpbiBjaHVua3MsIG5vdCB0aGUgZW50aXJlIGZpbGUKICAgICAg
ICBmb3IgY2h1bmsgaW4gaXRlcihsYW1iZGE6IGlmaWxlLnJlYWQoY2h1bmtfc2l6ZSksIGInJyk6
CiAgICAgICAgICAgIGhhc2hfb2JqLnVwZGF0ZShjaHVuaykKICAgICAgICByZXR1cm4gaGFzaF9v
YmouaGV4ZGlnZXN0KCkKCgpkZWYgdW5wYWNrX3RoaW4odGhpbl9wYXRoKToKICAgICIiIlVucGFj
ayB0aGUgU2FsdCB0aGluIGFyY2hpdmUuIiIiCiAgICB0ZmlsZSA9IHRhcmZpbGUuVGFyRmlsZS5n
em9wZW4odGhpbl9wYXRoKQogICAgb2xkX3VtYXNrID0gb3MudW1hc2soMG8wNzcpCiAgICB0Zmls
ZS5leHRyYWN0YWxsKHBhdGg9T1BUSU9OUy5zYWx0ZGlyKQogICAgdGZpbGUuY2xvc2UoKQogICAg
b3MudW1hc2sob2xkX3VtYXNrKQogICAgb3MudW5saW5rKHRoaW5fcGF0aCkKCgpkZWYgbmVlZF9l
eHQoKToKICAgICIiIlNpZ25hbCB0aGF0IGV4dGVybmFsIG1vZHVsZXMgbmVlZCB0byBiZSBkZXBs
b3llZC4iIiIKICAgIHN5cy5zdGRvdXQud3JpdGUoInswfVxuZXh0X21vZHNcbiIuZm9ybWF0KE9Q
VElPTlMuZGVsaW1pdGVyKSkKICAgIHN5cy5leGl0KEVYX01PRF9ERVBMT1kpCgoKZGVmIHVucGFj
a19leHQoZXh0X3BhdGgpOgogICAgIiIiVW5wYWNrIHRoZSBleHRlcm5hbCBtb2R1bGVzLiIiIgog
ICAgbW9kY2FjaGUgPSBvcy5wYXRoLmpvaW4oCiAgICAgICAgICAgIE9QVElPTlMuc2FsdGRpciwK
ICAgICAgICAgICAgJ3J1bm5pbmdfZGF0YScsCiAgICAgICAgICAgICd2YXInLAogICAgICAgICAg
ICAnY2FjaGUnLAogICAgICAgICAgICAnc2FsdCcsCiAgICAgICAgICAgICdtaW5pb24nLAogICAg
ICAgICAgICAnZXh0bW9kcycpCiAgICB0ZmlsZSA9IHRhcmZpbGUuVGFyRmlsZS5nem9wZW4oZXh0
X3BhdGgpCiAgICBvbGRfdW1hc2sgPSBvcy51bWFzaygwbzA3NykKICAgIHRmaWxlLmV4dHJhY3Rh
bGwocGF0aD1tb2RjYWNoZSkKICAgIHRmaWxlLmNsb3NlKCkKICAgIG9zLnVtYXNrKG9sZF91bWFz
aykKICAgIG9zLnVubGluayhleHRfcGF0aCkKICAgIHZlcl9wYXRoID0gb3MucGF0aC5qb2luKG1v
ZGNhY2hlLCAnZXh0X3ZlcnNpb24nKQogICAgdmVyX2RzdCA9IG9zLnBhdGguam9pbihPUFRJT05T
LnNhbHRkaXIsICdleHRfdmVyc2lvbicpCiAgICBzaHV0aWwubW92ZSh2ZXJfcGF0aCwgdmVyX2Rz
dCkKCgpkZWYgbWFpbihhcmd2KTogICMgcHlsaW50OiBkaXNhYmxlPVcwNjEzCiAgICAiIiJNYWlu
IHByb2dyYW0gYm9keSIiIgogICAgdGhpbl9wYXRoID0gb3MucGF0aC5qb2luKE9QVElPTlMuc2Fs
dGRpciwgVEhJTl9BUkNISVZFKQogICAgaWYgb3MucGF0aC5pc2ZpbGUodGhpbl9wYXRoKToKICAg
ICAgICBpZiBPUFRJT05TLmNoZWNrc3VtICE9IGdldF9oYXNoKHRoaW5fcGF0aCwgT1BUSU9OUy5o
YXNoZnVuYyk6CiAgICAgICAgICAgIHN5cy5zdGRlcnIud3JpdGUoJ3swfVxuJy5mb3JtYXQoT1BU
SU9OUy5jaGVja3N1bSkpCiAgICAgICAgICAgIHN5cy5zdGRlcnIud3JpdGUoJ3swfVxuJy5mb3Jt
YXQoZ2V0X2hhc2godGhpbl9wYXRoLCBPUFRJT05TLmhhc2hmdW5jKSkpCiAgICAgICAgICAgIG9z
LnVubGluayh0aGluX3BhdGgpCiAgICAgICAgICAgIHN5cy5zdGRlcnIud3JpdGUoJ1dBUk5JTkc6
IGNoZWNrc3VtIG1pc21hdGNoIGZvciAiezB9IlxuJy5mb3JtYXQodGhpbl9wYXRoKSkKICAgICAg
ICAgICAgc3lzLmV4aXQoRVhfVEhJTl9DSEVDS1NVTSkKICAgICAgICB1bnBhY2tfdGhpbih0aGlu
X3BhdGgpCiAgICAgICAgIyBTYWx0IHRoaW4gbm93IGlzIGF2YWlsYWJsZSB0byB1c2UKICAgIGVs
c2U6CiAgICAgICAgc2Nwc3RhdCA9IHN1YnByb2Nlc3MuUG9wZW4oWycvYmluL3NoJywgJy1jJywg
J2NvbW1hbmQgLXYgc2NwJ10pLndhaXQoKQogICAgICAgIGlmIHNjcHN0YXQgIT0gMDoKICAgICAg
ICAgICAgc3lzLmV4aXQoRVhfU0NQX05PVF9GT1VORCkKCiAgICAgICAgaWYgbm90IG9zLnBhdGgu
ZXhpc3RzKE9QVElPTlMuc2FsdGRpcik6CiAgICAgICAgICAgIG5lZWRfZGVwbG95bWVudCgpCgog
ICAgICAgIGlmIG5vdCBvcy5wYXRoLmlzZGlyKE9QVElPTlMuc2FsdGRpcik6CiAgICAgICAgICAg
IHN5cy5zdGRlcnIud3JpdGUoCiAgICAgICAgICAgICAgICAnRVJST1I6IHNhbHQgcGF0aCAiezB9
IiBleGlzdHMgYnV0IGlzJwogICAgICAgICAgICAgICAgJyBub3QgYSBkaXJlY3RvcnlcbicuZm9y
bWF0KE9QVElPTlMuc2FsdGRpcikKICAgICAgICAgICAgKQogICAgICAgICAgICBzeXMuZXhpdChF
WF9DQU5UQ1JFQVQpCgogICAgICAgIHZlcnNpb25fcGF0aCA9IG9zLnBhdGguam9pbihPUFRJT05T
LnNhbHRkaXIsICd2ZXJzaW9uJykKICAgICAgICBpZiBub3Qgb3MucGF0aC5leGlzdHModmVyc2lv
bl9wYXRoKSBvciBub3Qgb3MucGF0aC5pc2ZpbGUodmVyc2lvbl9wYXRoKToKICAgICAgICAgICAg
c3lzLnN0ZGVyci53cml0ZSgKICAgICAgICAgICAgICAgICdXQVJOSU5HOiBVbmFibGUgdG8gbG9j
YXRlIGN1cnJlbnQgdGhpbiAnCiAgICAgICAgICAgICAgICAnIHZlcnNpb246IHswfS5cbicuZm9y
bWF0KHZlcnNpb25fcGF0aCkKICAgICAgICAgICAgKQogICAgICAgICAgICBuZWVkX2RlcGxveW1l
bnQoKQogICAgICAgIHdpdGggb3Blbih2ZXJzaW9uX3BhdGgsICdyJykgYXMgdnBvOgogICAgICAg
ICAgICBjdXJfdmVyc2lvbiA9IHZwby5yZWFkbGluZSgpLnN0cmlwKCkKICAgICAgICBpZiBjdXJf
dmVyc2lvbiAhPSBPUFRJT05TLnZlcnNpb246CiAgICAgICAgICAgIHN5cy5zdGRlcnIud3JpdGUo
CiAgICAgICAgICAgICAgICAnV0FSTklORzogY3VycmVudCB0aGluIHZlcnNpb24gezB9JwogICAg
ICAgICAgICAgICAgJyBpcyBub3QgdXAtdG8tZGF0ZSB3aXRoIHsxfS5cbicuZm9ybWF0KAogICAg
ICAgICAgICAgICAgICAgIGN1cl92ZXJzaW9uLCBPUFRJT05TLnZlcnNpb24KICAgICAgICAgICAg
ICAgICkKICAgICAgICAgICAgKQogICAgICAgICAgICBuZWVkX2RlcGxveW1lbnQoKQogICAgICAg
ICMgU2FsdCB0aGluIGV4aXN0cyBhbmQgaXMgdXAtdG8tZGF0ZSAtIGZhbGwgdGhyb3VnaCBhbmQg
dXNlIGl0CgogICAgc2FsdF9jYWxsX3BhdGggPSBvcy5wYXRoLmpvaW4oT1BUSU9OUy5zYWx0ZGly
LCAnc2FsdC1jYWxsJykKICAgIGlmIG5vdCBvcy5wYXRoLmlzZmlsZShzYWx0X2NhbGxfcGF0aCk6
CiAgICAgICAgc3lzLnN0ZGVyci53cml0ZSgnRVJST1I6IHRoaW4gaXMgbWlzc2luZyAiezB9Ilxu
Jy5mb3JtYXQoc2FsdF9jYWxsX3BhdGgpKQogICAgICAgIG5lZWRfZGVwbG95bWVudCgpCgogICAg
d2l0aCBvcGVuKG9zLnBhdGguam9pbihPUFRJT05TLnNhbHRkaXIsICdtaW5pb24nKSwgJ3cnKSBh
cyBjb25maWc6CiAgICAgICAgY29uZmlnLndyaXRlKE9QVElPTlMuY29uZmlnICsgJ1xuJykKICAg
IGlmIE9QVElPTlMuZXh0X21vZHM6CiAgICAgICAgZXh0X3BhdGggPSBvcy5wYXRoLmpvaW4oT1BU
SU9OUy5zYWx0ZGlyLCBFWFRfQVJDSElWRSkKICAgICAgICBpZiBvcy5wYXRoLmV4aXN0cyhleHRf
cGF0aCk6CiAgICAgICAgICAgIHVucGFja19leHQoZXh0X3BhdGgpCiAgICAgICAgZWxzZToKICAg
ICAgICAgICAgdmVyc2lvbl9wYXRoID0gb3MucGF0aC5qb2luKE9QVElPTlMuc2FsdGRpciwgJ2V4
dF92ZXJzaW9uJykKICAgICAgICAgICAgaWYgbm90IG9zLnBhdGguZXhpc3RzKHZlcnNpb25fcGF0
aCkgb3Igbm90IG9zLnBhdGguaXNmaWxlKHZlcnNpb25fcGF0aCk6CiAgICAgICAgICAgICAgICBu
ZWVkX2V4dCgpCiAgICAgICAgICAgIHdpdGggb3Blbih2ZXJzaW9uX3BhdGgsICdyJykgYXMgdnBv
OgogICAgICAgICAgICAgICAgY3VyX3ZlcnNpb24gPSB2cG8ucmVhZGxpbmUoKS5zdHJpcCgpCiAg
ICAgICAgICAgIGlmIGN1cl92ZXJzaW9uICE9IE9QVElPTlMuZXh0X21vZHM6CiAgICAgICAgICAg
ICAgICBuZWVkX2V4dCgpCiAgICAjIEZpeCBwYXJhbWV0ZXIgcGFzc2luZyBpc3N1ZQogICAgaWYg
bGVuKEFSR1MpID09IDE6CiAgICAgICAgYXJndl9wcmVwYXJlZCA9IEFSR1NbMF0uc3BsaXQoKQog
ICAgZWxzZToKICAgICAgICBhcmd2X3ByZXBhcmVkID0gQVJHUwoKICAgIHNhbHRfYXJndiA9IFsK
ICAgICAgICBzeXMuZXhlY3V0YWJsZSwKICAgICAgICBzYWx0X2NhbGxfcGF0aCwKICAgICAgICAn
LS1yZXRjb2RlLXBhc3N0aHJvdWdoJywKICAgICAgICAnLS1sb2NhbCcsCiAgICAgICAgJy0tbWV0
YWRhdGEnLAogICAgICAgICctLW91dCcsICdqc29uJywKICAgICAgICAnLWwnLCAncXVpZXQnLAog
ICAgICAgICctYycsIE9QVElPTlMuc2FsdGRpciwKICAgICAgICAnLS0nLAogICAgXSArIGFyZ3Zf
cHJlcGFyZWQKCiAgICBzeXMuc3RkZXJyLndyaXRlKCdTQUxUX0FSR1Y6IHswfVxuJy5mb3JtYXQo
c2FsdF9hcmd2KSkKCiAgICAjIE9ubHkgZW1pdCB0aGUgZGVsaW1pdGVyIG9uICpib3RoKiBzdGRv
dXQgYW5kIHN0ZGVyciB3aGVuIGNvbXBsZXRlbHkgc3VjY2Vzc2Z1bC4KICAgICMgWWVzLCB0aGUg
Zmx1c2goKSBpcyBuZWNlc3NhcnkuCiAgICBzeXMuc3Rkb3V0LndyaXRlKE9QVElPTlMuZGVsaW1p
dGVyICsgJ1xuJykKICAgIHN5cy5zdGRvdXQuZmx1c2goKQogICAgaWYgbm90IE9QVElPTlMudHR5
OgogICAgICAgIHN5cy5zdGRlcnIud3JpdGUoT1BUSU9OUy5kZWxpbWl0ZXIgKyAnXG4nKQogICAg
ICAgIHN5cy5zdGRlcnIuZmx1c2goKQogICAgaWYgT1BUSU9OUy5jbWRfdW1hc2sgaXMgbm90IE5v
bmU6CiAgICAgICAgb2xkX3VtYXNrID0gb3MudW1hc2soT1BUSU9OUy5jbWRfdW1hc2spCiAgICBp
ZiBPUFRJT05TLnR0eToKICAgICAgICBzdGRvdXQsIF8gPSBzdWJwcm9jZXNzLlBvcGVuKHNhbHRf
YXJndiwgc3Rkb3V0PXN1YnByb2Nlc3MuUElQRSwgc3RkZXJyPXN1YnByb2Nlc3MuUElQRSkuY29t
bXVuaWNhdGUoKQogICAgICAgIHN5cy5zdGRvdXQud3JpdGUoc3Rkb3V0KQogICAgICAgIHN5cy5z
dGRvdXQuZmx1c2goKQogICAgICAgIGlmIE9QVElPTlMud2lwZToKICAgICAgICAgICAgc2h1dGls
LnJtdHJlZShPUFRJT05TLnNhbHRkaXIpCiAgICBlbGlmIE9QVElPTlMud2lwZToKICAgICAgICBz
dWJwcm9jZXNzLmNhbGwoc2FsdF9hcmd2KQogICAgICAgIHNodXRpbC5ybXRyZWUoT1BUSU9OUy5z
YWx0ZGlyKQogICAgZWxzZToKICAgICAgICBvcy5leGVjdihzeXMuZXhlY3V0YWJsZSwgc2FsdF9h
cmd2KQogICAgaWYgT1BUSU9OUy5jbWRfdW1hc2sgaXMgbm90IE5vbmU6CiAgICAgICAgb3MudW1h
c2sob2xkX3VtYXNrKQoKaWYgX19uYW1lX18gPT0gJ19fbWFpbl9fJzoKICAgIHN5cy5leGl0KG1h
aW4oc3lzLmFyZ3YpKQo=
""").decode("utf-8"))'
fi
exit 0
else
continue
fi
done
echo "ERROR: Unable to locate appropriate python command" >&2
exit $EX_PYTHON_INVALID
EOF
2016-10-19 23:58:06,645 [salt.utils.vt    ][DEBUG   ][1694] Child Forked! PID: 1699  STDOUT_FD: 9  STDERR_FD: 11
2016-10-19 23:58:06,646 [salt.utils.vt    ][DEBUG   ][1694] VT: Salt-SSH SHIM Terminal Command executed. Logged to TRACE
2016-10-19 23:58:06,647 [salt.utils.vt    ][TRACE   ][1694] Terminal Command: /bin/sh -c ssh 192.168.1.15  -o KbdInteractiveAuthentication=no -o PasswordAuthentication=yes -o GSSAPIAuthentication=no -o ConnectTimeout=65 -o Port=22 -o IdentityFile=/root/saltstack_master/etc/salt/pki/master/ssh/salt-ssh.rsa -o User=salt-ope  /bin/sh << 'EOF'
set -e
set -u
DEBUG=""
if [ -n "$DEBUG" ]
then set -x
fi
SUDO=""
if [ -n "sudo" ]
then SUDO="sudo "
fi
EX_PYTHON_INVALID=10
PYTHON_CMDS="python3 python27 python2.7 python26 python2.6 python2 python"
for py_cmd in $PYTHON_CMDS
do
if command -v "$py_cmd" >/dev/null 2>&1 && "$py_cmd" -c \
"import sys; sys.exit(not (sys.version_info >= (2, 6)
and sys.version_info[0] == 2));"
then
py_cmd_path=`"$py_cmd" -c \
'from __future__ import print_function;
import sys; print(sys.executable);'`
cmdpath=$(which $py_cmd 2>&1)
if file $cmdpath | grep "shell script" > /dev/null
then
ex_vars="'PATH', 'LD_LIBRARY_PATH', 'MANPATH', \
'XDG_DATA_DIRS', 'PKG_CONFIG_PATH'"
export $($py_cmd -c \
"from __future__ import print_function;
import sys;
import os;
map(sys.stdout.write, ['{0}={1} ' \
.format(x, os.environ[x]) for x in [$ex_vars]])")
exec $SUDO PATH=$PATH LD_LIBRARY_PATH=$LD_LIBRARY_PATH \
MANPATH=$MANPATH XDG_DATA_DIRS=$XDG_DATA_DIRS \
PKG_CONFIG_PATH=$PKG_CONFIG_PATH \
"$py_cmd_path" -c \
'import base64;
exec(base64.b64decode("""IyBweWxpbnQ6IGRpc2FibGU9Vzk5MDMKJycnClRoaXMgaXMgYSBzaGltIHRoYXQgaGFuZGxlcyBj
aGVja2luZyBhbmQgdXBkYXRpbmcgc2FsdCB0aGluIGFuZAp0aGVuIGludm9raW5nIHRoaW4uCgpU
aGlzIGlzIG5vdCBpbnRlbmRlZCB0byBiZSBpbnN0YW50aWF0ZWQgYXMgYSBtb2R1bGUsIHJhdGhl
ciBpdCBpcyBhCmhlbHBlciBzY3JpcHQgdXNlZCBieSBzYWx0LmNsaWVudC5zc2guU2luZ2xlLiAg
SXQgaXMgaGVyZSwgaW4gYQpzZXBhcmF0ZSBmaWxlLCBmb3IgY29udmVuaWVuY2Ugb2YgZGV2ZWxv
cG1lbnQuCicnJwoKZnJvbSBfX2Z1dHVyZV9fIGltcG9ydCBhYnNvbHV0ZV9pbXBvcnQKCmltcG9y
dCBoYXNobGliCmltcG9ydCB0YXJmaWxlCmltcG9ydCBzaHV0aWwKaW1wb3J0IHN5cwppbXBvcnQg
b3MKaW1wb3J0IHN0YXQKaW1wb3J0IHN1YnByb2Nlc3MKClRISU5fQVJDSElWRSA9ICdzYWx0LXRo
aW4udGd6JwpFWFRfQVJDSElWRSA9ICdzYWx0LWV4dF9tb2RzLnRneicKCiMgS2VlcCB0aGVzZSBp
biBzeW5jIHdpdGggc2FsdC9kZWZhdWx0cy9leGl0Y29kZXMucHkKRVhfVEhJTl9ERVBMT1kgPSAx
MQpFWF9USElOX0NIRUNLU1VNID0gMTIKRVhfTU9EX0RFUExPWSA9IDEzCkVYX1NDUF9OT1RfRk9V
TkQgPSAxNApFWF9DQU5UQ1JFQVQgPSA3MwoKCmNsYXNzIE9CSihvYmplY3QpOgogICAgIiIiQW4g
ZW1wdHkgY2xhc3MgZm9yIGhvbGRpbmcgaW5zdGFuY2UgYXR0cmlidXRlIHZhbHVlcy4iIiIKICAg
IHBhc3MKCgpPUFRJT05TID0gTm9uZQpBUkdTID0gTm9uZQojIFRoZSBiZWxvdyBsaW5lIGlzIHdo
ZXJlIE9QVElPTlMgY2FuIGJlIHJlZGVmaW5lZCB3aXRoIGludGVybmFsIG9wdGlvbnMKIyAocmF0
aGVyIHRoYW4gY2xpIGFyZ3VtZW50cykgd2hlbiB0aGUgc2hpbSBpcyBidW5kbGVkIGJ5CiMgY2xp
ZW50LnNzaC5TaW5nbGUuX2NtZF9zdHIoKQojIHB5bGludDogZGlzYWJsZT1ibG9jay1jb21tZW50
LXNob3VsZC1zdGFydC13aXRoLWNhcmRpbmFsLXNwYWNlCgpPUFRJT05TID0gT0JKKCkKT1BUSU9O
Uy5jb25maWcgPSAiIiIKe2ZpbGVzZXJ2ZXJfbGlzdF9jYWNoZV90aW1lOiAzLCBncmFpbnNfY2Fj
aGU6IHRydWUsIGlkOiBtdW5pbiwgbG9nX2ZpbGU6IHNhbHQtY2FsbC5sb2csCiAgcm9vdF9kaXI6
IC92YXIvdG1wLy5zYWx0LW9wZV8xYTM1MzJfc2FsdC9ydW5uaW5nX2RhdGEsIHNvY2tfZGlyOiAv
fQoiIiIKT1BUSU9OUy5kZWxpbWl0ZXIgPSAnX2VkYmM3ODg1ZTRmOWFhYzliODNiMzU5OTliNjhk
MDE1MTQ4Y2FmNDY3Yjc4ZmEzOWMwNWY2NjljMGZmODk4NzgnCk9QVElPTlMuc2FsdGRpciA9ICcv
dmFyL3RtcC8uc2FsdC1vcGVfMWEzNTMyX3NhbHQnCk9QVElPTlMuY2hlY2tzdW0gPSAnOTg1MjZk
OTliMWU3YjA3OWRjZWZjZWM5ZmE1Yjg1MWZmYmY5ODEzZCcKT1BUSU9OUy5oYXNoZnVuYyA9ICdz
aGExJwpPUFRJT05TLnZlcnNpb24gPSAnMjAxNi4zLjInCk9QVElPTlMuZXh0X21vZHMgPSAnNzQx
OTZlMDExNDUyMWUyYWRjNjlkNjgxY2U2YTQ1NjNiYTBhZTFlYicKT1BUSU9OUy53aXBlID0gRmFs
c2UKT1BUSU9OUy50dHkgPSBGYWxzZQpPUFRJT05TLmNtZF91bWFzayA9IE5vbmUKQVJHUyA9IFsn
bmV0d29yay5nZXRfaG9zdG5hbWUnXQoKCgpkZWYgbmVlZF9kZXBsb3ltZW50KCk6CiAgICAiIiIK
ICAgIFNhbHQgdGhpbiBuZWVkcyB0byBiZSBkZXBsb3llZCAtIHByZXAgdGhlIHRhcmdldCBkaXJl
Y3RvcnkgYW5kIGVtaXQgdGhlCiAgICBkZWxpbWV0ZXIgYW5kIGV4aXQgY29kZSB0aGF0IHNpZ25h
bHMgYSByZXF1aXJlZCBkZXBsb3ltZW50LgogICAgIiIiCiAgICBpZiBvcy5wYXRoLmV4aXN0cyhP
UFRJT05TLnNhbHRkaXIpOgogICAgICAgIHNodXRpbC5ybXRyZWUoT1BUSU9OUy5zYWx0ZGlyKQog
ICAgb2xkX3VtYXNrID0gb3MudW1hc2soMG8wNzcpCiAgICBvcy5tYWtlZGlycyhPUFRJT05TLnNh
bHRkaXIpCiAgICBvcy51bWFzayhvbGRfdW1hc2spCiAgICAjIFZlcmlmeSBwZXJtcyBvbiBzYWx0
ZGlyCiAgICBldWlkID0gb3MuZ2V0ZXVpZCgpCiAgICBkc3RhdCA9IG9zLnN0YXQoT1BUSU9OUy5z
YWx0ZGlyKQogICAgaWYgZHN0YXQuc3RfdWlkICE9IGV1aWQ6CiAgICAgICAgIyBBdHRhY2sgZGV0
ZWN0ZWQsIHRyeSBhZ2FpbgogICAgICAgIG5lZWRfZGVwbG95bWVudCgpCiAgICBpZiBkc3RhdC5z
dF9tb2RlICE9IDE2ODMyOgogICAgICAgICMgQXR0YWNrIGRldGVjdGVkCiAgICAgICAgbmVlZF9k
ZXBsb3ltZW50KCkKICAgICMgSWYgU1VET2luZyB0aGVuIGFsc28gZ2l2ZSB0aGUgc3VwZXIgdXNl
ciBncm91cCB3cml0ZSBwZXJtaXNzaW9ucwogICAgc3Vkb19naWQgPSBvcy5lbnZpcm9uLmdldCgn
U1VET19HSUQnKQogICAgaWYgc3Vkb19naWQ6CiAgICAgICAgb3MuY2hvd24oT1BUSU9OUy5zYWx0
ZGlyLCAtMSwgaW50KHN1ZG9fZ2lkKSkKICAgICAgICBzdHQgPSBvcy5zdGF0KE9QVElPTlMuc2Fs
dGRpcikKICAgICAgICBvcy5jaG1vZChPUFRJT05TLnNhbHRkaXIsIHN0dC5zdF9tb2RlIHwgc3Rh
dC5TX0lXR1JQIHwgc3RhdC5TX0lSR1JQIHwgc3RhdC5TX0lYR1JQKQoKICAgICMgRGVsaW1pdGVy
IGVtaXR0ZWQgb24gc3Rkb3V0ICpvbmx5KiB0byBpbmRpY2F0ZSBzaGltIG1lc3NhZ2UgdG8gbWFz
dGVyLgogICAgc3lzLnN0ZG91dC53cml0ZSgiezB9XG5kZXBsb3lcbiIuZm9ybWF0KE9QVElPTlMu
ZGVsaW1pdGVyKSkKICAgIHN5cy5leGl0KEVYX1RISU5fREVQTE9ZKQoKCiMgQWRhcHRlZCBmcm9t
IHNhbHQudXRpbHMuZ2V0X2hhc2goKQpkZWYgZ2V0X2hhc2gocGF0aCwgZm9ybT0nc2hhMScsIGNo
dW5rX3NpemU9NDA5Nik6CiAgICAiIiJHZW5lcmF0ZSBhIGhhc2ggZGlnZXN0IHN0cmluZyBmb3Ig
YSBmaWxlLiIiIgogICAgdHJ5OgogICAgICAgIGhhc2hfdHlwZSA9IGdldGF0dHIoaGFzaGxpYiwg
Zm9ybSkKICAgIGV4Y2VwdCBBdHRyaWJ1dGVFcnJvcjoKICAgICAgICByYWlzZSBWYWx1ZUVycm9y
KCdJbnZhbGlkIGhhc2ggdHlwZTogezB9Jy5mb3JtYXQoZm9ybSkpCiAgICB3aXRoIG9wZW4ocGF0
aCwgJ3JiJykgYXMgaWZpbGU6CiAgICAgICAgaGFzaF9vYmogPSBoYXNoX3R5cGUoKQogICAgICAg
ICMgcmVhZCB0aGUgZmlsZSBpbiBpbiBjaHVua3MsIG5vdCB0aGUgZW50aXJlIGZpbGUKICAgICAg
ICBmb3IgY2h1bmsgaW4gaXRlcihsYW1iZGE6IGlmaWxlLnJlYWQoY2h1bmtfc2l6ZSksIGInJyk6
CiAgICAgICAgICAgIGhhc2hfb2JqLnVwZGF0ZShjaHVuaykKICAgICAgICByZXR1cm4gaGFzaF9v
YmouaGV4ZGlnZXN0KCkKCgpkZWYgdW5wYWNrX3RoaW4odGhpbl9wYXRoKToKICAgICIiIlVucGFj
ayB0aGUgU2FsdCB0aGluIGFyY2hpdmUuIiIiCiAgICB0ZmlsZSA9IHRhcmZpbGUuVGFyRmlsZS5n
em9wZW4odGhpbl9wYXRoKQogICAgb2xkX3VtYXNrID0gb3MudW1hc2soMG8wNzcpCiAgICB0Zmls
ZS5leHRyYWN0YWxsKHBhdGg9T1BUSU9OUy5zYWx0ZGlyKQogICAgdGZpbGUuY2xvc2UoKQogICAg
b3MudW1hc2sob2xkX3VtYXNrKQogICAgb3MudW5saW5rKHRoaW5fcGF0aCkKCgpkZWYgbmVlZF9l
eHQoKToKICAgICIiIlNpZ25hbCB0aGF0IGV4dGVybmFsIG1vZHVsZXMgbmVlZCB0byBiZSBkZXBs
b3llZC4iIiIKICAgIHN5cy5zdGRvdXQud3JpdGUoInswfVxuZXh0X21vZHNcbiIuZm9ybWF0KE9Q
VElPTlMuZGVsaW1pdGVyKSkKICAgIHN5cy5leGl0KEVYX01PRF9ERVBMT1kpCgoKZGVmIHVucGFj
a19leHQoZXh0X3BhdGgpOgogICAgIiIiVW5wYWNrIHRoZSBleHRlcm5hbCBtb2R1bGVzLiIiIgog
ICAgbW9kY2FjaGUgPSBvcy5wYXRoLmpvaW4oCiAgICAgICAgICAgIE9QVElPTlMuc2FsdGRpciwK
ICAgICAgICAgICAgJ3J1bm5pbmdfZGF0YScsCiAgICAgICAgICAgICd2YXInLAogICAgICAgICAg
ICAnY2FjaGUnLAogICAgICAgICAgICAnc2FsdCcsCiAgICAgICAgICAgICdtaW5pb24nLAogICAg
ICAgICAgICAnZXh0bW9kcycpCiAgICB0ZmlsZSA9IHRhcmZpbGUuVGFyRmlsZS5nem9wZW4oZXh0
X3BhdGgpCiAgICBvbGRfdW1hc2sgPSBvcy51bWFzaygwbzA3NykKICAgIHRmaWxlLmV4dHJhY3Rh
bGwocGF0aD1tb2RjYWNoZSkKICAgIHRmaWxlLmNsb3NlKCkKICAgIG9zLnVtYXNrKG9sZF91bWFz
aykKICAgIG9zLnVubGluayhleHRfcGF0aCkKICAgIHZlcl9wYXRoID0gb3MucGF0aC5qb2luKG1v
ZGNhY2hlLCAnZXh0X3ZlcnNpb24nKQogICAgdmVyX2RzdCA9IG9zLnBhdGguam9pbihPUFRJT05T
LnNhbHRkaXIsICdleHRfdmVyc2lvbicpCiAgICBzaHV0aWwubW92ZSh2ZXJfcGF0aCwgdmVyX2Rz
dCkKCgpkZWYgbWFpbihhcmd2KTogICMgcHlsaW50OiBkaXNhYmxlPVcwNjEzCiAgICAiIiJNYWlu
IHByb2dyYW0gYm9keSIiIgogICAgdGhpbl9wYXRoID0gb3MucGF0aC5qb2luKE9QVElPTlMuc2Fs
dGRpciwgVEhJTl9BUkNISVZFKQogICAgaWYgb3MucGF0aC5pc2ZpbGUodGhpbl9wYXRoKToKICAg
ICAgICBpZiBPUFRJT05TLmNoZWNrc3VtICE9IGdldF9oYXNoKHRoaW5fcGF0aCwgT1BUSU9OUy5o
YXNoZnVuYyk6CiAgICAgICAgICAgIHN5cy5zdGRlcnIud3JpdGUoJ3swfVxuJy5mb3JtYXQoT1BU
SU9OUy5jaGVja3N1bSkpCiAgICAgICAgICAgIHN5cy5zdGRlcnIud3JpdGUoJ3swfVxuJy5mb3Jt
YXQoZ2V0X2hhc2godGhpbl9wYXRoLCBPUFRJT05TLmhhc2hmdW5jKSkpCiAgICAgICAgICAgIG9z
LnVubGluayh0aGluX3BhdGgpCiAgICAgICAgICAgIHN5cy5zdGRlcnIud3JpdGUoJ1dBUk5JTkc6
IGNoZWNrc3VtIG1pc21hdGNoIGZvciAiezB9IlxuJy5mb3JtYXQodGhpbl9wYXRoKSkKICAgICAg
ICAgICAgc3lzLmV4aXQoRVhfVEhJTl9DSEVDS1NVTSkKICAgICAgICB1bnBhY2tfdGhpbih0aGlu
X3BhdGgpCiAgICAgICAgIyBTYWx0IHRoaW4gbm93IGlzIGF2YWlsYWJsZSB0byB1c2UKICAgIGVs
c2U6CiAgICAgICAgc2Nwc3RhdCA9IHN1YnByb2Nlc3MuUG9wZW4oWycvYmluL3NoJywgJy1jJywg
J2NvbW1hbmQgLXYgc2NwJ10pLndhaXQoKQogICAgICAgIGlmIHNjcHN0YXQgIT0gMDoKICAgICAg
ICAgICAgc3lzLmV4aXQoRVhfU0NQX05PVF9GT1VORCkKCiAgICAgICAgaWYgbm90IG9zLnBhdGgu
ZXhpc3RzKE9QVElPTlMuc2FsdGRpcik6CiAgICAgICAgICAgIG5lZWRfZGVwbG95bWVudCgpCgog
ICAgICAgIGlmIG5vdCBvcy5wYXRoLmlzZGlyKE9QVElPTlMuc2FsdGRpcik6CiAgICAgICAgICAg
IHN5cy5zdGRlcnIud3JpdGUoCiAgICAgICAgICAgICAgICAnRVJST1I6IHNhbHQgcGF0aCAiezB9
IiBleGlzdHMgYnV0IGlzJwogICAgICAgICAgICAgICAgJyBub3QgYSBkaXJlY3RvcnlcbicuZm9y
bWF0KE9QVElPTlMuc2FsdGRpcikKICAgICAgICAgICAgKQogICAgICAgICAgICBzeXMuZXhpdChF
WF9DQU5UQ1JFQVQpCgogICAgICAgIHZlcnNpb25fcGF0aCA9IG9zLnBhdGguam9pbihPUFRJT05T
LnNhbHRkaXIsICd2ZXJzaW9uJykKICAgICAgICBpZiBub3Qgb3MucGF0aC5leGlzdHModmVyc2lv
bl9wYXRoKSBvciBub3Qgb3MucGF0aC5pc2ZpbGUodmVyc2lvbl9wYXRoKToKICAgICAgICAgICAg
c3lzLnN0ZGVyci53cml0ZSgKICAgICAgICAgICAgICAgICdXQVJOSU5HOiBVbmFibGUgdG8gbG9j
YXRlIGN1cnJlbnQgdGhpbiAnCiAgICAgICAgICAgICAgICAnIHZlcnNpb246IHswfS5cbicuZm9y
bWF0KHZlcnNpb25fcGF0aCkKICAgICAgICAgICAgKQogICAgICAgICAgICBuZWVkX2RlcGxveW1l
bnQoKQogICAgICAgIHdpdGggb3Blbih2ZXJzaW9uX3BhdGgsICdyJykgYXMgdnBvOgogICAgICAg
ICAgICBjdXJfdmVyc2lvbiA9IHZwby5yZWFkbGluZSgpLnN0cmlwKCkKICAgICAgICBpZiBjdXJf
dmVyc2lvbiAhPSBPUFRJT05TLnZlcnNpb246CiAgICAgICAgICAgIHN5cy5zdGRlcnIud3JpdGUo
CiAgICAgICAgICAgICAgICAnV0FSTklORzogY3VycmVudCB0aGluIHZlcnNpb24gezB9JwogICAg
ICAgICAgICAgICAgJyBpcyBub3QgdXAtdG8tZGF0ZSB3aXRoIHsxfS5cbicuZm9ybWF0KAogICAg
ICAgICAgICAgICAgICAgIGN1cl92ZXJzaW9uLCBPUFRJT05TLnZlcnNpb24KICAgICAgICAgICAg
ICAgICkKICAgICAgICAgICAgKQogICAgICAgICAgICBuZWVkX2RlcGxveW1lbnQoKQogICAgICAg
ICMgU2FsdCB0aGluIGV4aXN0cyBhbmQgaXMgdXAtdG8tZGF0ZSAtIGZhbGwgdGhyb3VnaCBhbmQg
dXNlIGl0CgogICAgc2FsdF9jYWxsX3BhdGggPSBvcy5wYXRoLmpvaW4oT1BUSU9OUy5zYWx0ZGly
LCAnc2FsdC1jYWxsJykKICAgIGlmIG5vdCBvcy5wYXRoLmlzZmlsZShzYWx0X2NhbGxfcGF0aCk6
CiAgICAgICAgc3lzLnN0ZGVyci53cml0ZSgnRVJST1I6IHRoaW4gaXMgbWlzc2luZyAiezB9Ilxu
Jy5mb3JtYXQoc2FsdF9jYWxsX3BhdGgpKQogICAgICAgIG5lZWRfZGVwbG95bWVudCgpCgogICAg
d2l0aCBvcGVuKG9zLnBhdGguam9pbihPUFRJT05TLnNhbHRkaXIsICdtaW5pb24nKSwgJ3cnKSBh
cyBjb25maWc6CiAgICAgICAgY29uZmlnLndyaXRlKE9QVElPTlMuY29uZmlnICsgJ1xuJykKICAg
IGlmIE9QVElPTlMuZXh0X21vZHM6CiAgICAgICAgZXh0X3BhdGggPSBvcy5wYXRoLmpvaW4oT1BU
SU9OUy5zYWx0ZGlyLCBFWFRfQVJDSElWRSkKICAgICAgICBpZiBvcy5wYXRoLmV4aXN0cyhleHRf
cGF0aCk6CiAgICAgICAgICAgIHVucGFja19leHQoZXh0X3BhdGgpCiAgICAgICAgZWxzZToKICAg
ICAgICAgICAgdmVyc2lvbl9wYXRoID0gb3MucGF0aC5qb2luKE9QVElPTlMuc2FsdGRpciwgJ2V4
dF92ZXJzaW9uJykKICAgICAgICAgICAgaWYgbm90IG9zLnBhdGguZXhpc3RzKHZlcnNpb25fcGF0
aCkgb3Igbm90IG9zLnBhdGguaXNmaWxlKHZlcnNpb25fcGF0aCk6CiAgICAgICAgICAgICAgICBu
ZWVkX2V4dCgpCiAgICAgICAgICAgIHdpdGggb3Blbih2ZXJzaW9uX3BhdGgsICdyJykgYXMgdnBv
OgogICAgICAgICAgICAgICAgY3VyX3ZlcnNpb24gPSB2cG8ucmVhZGxpbmUoKS5zdHJpcCgpCiAg
ICAgICAgICAgIGlmIGN1cl92ZXJzaW9uICE9IE9QVElPTlMuZXh0X21vZHM6CiAgICAgICAgICAg
ICAgICBuZWVkX2V4dCgpCiAgICAjIEZpeCBwYXJhbWV0ZXIgcGFzc2luZyBpc3N1ZQogICAgaWYg
bGVuKEFSR1MpID09IDE6CiAgICAgICAgYXJndl9wcmVwYXJlZCA9IEFSR1NbMF0uc3BsaXQoKQog
ICAgZWxzZToKICAgICAgICBhcmd2X3ByZXBhcmVkID0gQVJHUwoKICAgIHNhbHRfYXJndiA9IFsK
ICAgICAgICBzeXMuZXhlY3V0YWJsZSwKICAgICAgICBzYWx0X2NhbGxfcGF0aCwKICAgICAgICAn
LS1yZXRjb2RlLXBhc3N0aHJvdWdoJywKICAgICAgICAnLS1sb2NhbCcsCiAgICAgICAgJy0tbWV0
YWRhdGEnLAogICAgICAgICctLW91dCcsICdqc29uJywKICAgICAgICAnLWwnLCAncXVpZXQnLAog
ICAgICAgICctYycsIE9QVElPTlMuc2FsdGRpciwKICAgICAgICAnLS0nLAogICAgXSArIGFyZ3Zf
cHJlcGFyZWQKCiAgICBzeXMuc3RkZXJyLndyaXRlKCdTQUxUX0FSR1Y6IHswfVxuJy5mb3JtYXQo
c2FsdF9hcmd2KSkKCiAgICAjIE9ubHkgZW1pdCB0aGUgZGVsaW1pdGVyIG9uICpib3RoKiBzdGRv
dXQgYW5kIHN0ZGVyciB3aGVuIGNvbXBsZXRlbHkgc3VjY2Vzc2Z1bC4KICAgICMgWWVzLCB0aGUg
Zmx1c2goKSBpcyBuZWNlc3NhcnkuCiAgICBzeXMuc3Rkb3V0LndyaXRlKE9QVElPTlMuZGVsaW1p
dGVyICsgJ1xuJykKICAgIHN5cy5zdGRvdXQuZmx1c2goKQogICAgaWYgbm90IE9QVElPTlMudHR5
OgogICAgICAgIHN5cy5zdGRlcnIud3JpdGUoT1BUSU9OUy5kZWxpbWl0ZXIgKyAnXG4nKQogICAg
ICAgIHN5cy5zdGRlcnIuZmx1c2goKQogICAgaWYgT1BUSU9OUy5jbWRfdW1hc2sgaXMgbm90IE5v
bmU6CiAgICAgICAgb2xkX3VtYXNrID0gb3MudW1hc2soT1BUSU9OUy5jbWRfdW1hc2spCiAgICBp
ZiBPUFRJT05TLnR0eToKICAgICAgICBzdGRvdXQsIF8gPSBzdWJwcm9jZXNzLlBvcGVuKHNhbHRf
YXJndiwgc3Rkb3V0PXN1YnByb2Nlc3MuUElQRSwgc3RkZXJyPXN1YnByb2Nlc3MuUElQRSkuY29t
bXVuaWNhdGUoKQogICAgICAgIHN5cy5zdGRvdXQud3JpdGUoc3Rkb3V0KQogICAgICAgIHN5cy5z
dGRvdXQuZmx1c2goKQogICAgICAgIGlmIE9QVElPTlMud2lwZToKICAgICAgICAgICAgc2h1dGls
LnJtdHJlZShPUFRJT05TLnNhbHRkaXIpCiAgICBlbGlmIE9QVElPTlMud2lwZToKICAgICAgICBz
dWJwcm9jZXNzLmNhbGwoc2FsdF9hcmd2KQogICAgICAgIHNodXRpbC5ybXRyZWUoT1BUSU9OUy5z
YWx0ZGlyKQogICAgZWxzZToKICAgICAgICBvcy5leGVjdihzeXMuZXhlY3V0YWJsZSwgc2FsdF9h
cmd2KQogICAgaWYgT1BUSU9OUy5jbWRfdW1hc2sgaXMgbm90IE5vbmU6CiAgICAgICAgb3MudW1h
c2sob2xkX3VtYXNrKQoKaWYgX19uYW1lX18gPT0gJ19fbWFpbl9fJzoKICAgIHN5cy5leGl0KG1h
aW4oc3lzLmFyZ3YpKQo=
""").decode("utf-8"))'
else
exec $SUDO "$py_cmd_path" -c \
'import base64;
exec(base64.b64decode("""IyBweWxpbnQ6IGRpc2FibGU9Vzk5MDMKJycnClRoaXMgaXMgYSBzaGltIHRoYXQgaGFuZGxlcyBj
aGVja2luZyBhbmQgdXBkYXRpbmcgc2FsdCB0aGluIGFuZAp0aGVuIGludm9raW5nIHRoaW4uCgpU
aGlzIGlzIG5vdCBpbnRlbmRlZCB0byBiZSBpbnN0YW50aWF0ZWQgYXMgYSBtb2R1bGUsIHJhdGhl
ciBpdCBpcyBhCmhlbHBlciBzY3JpcHQgdXNlZCBieSBzYWx0LmNsaWVudC5zc2guU2luZ2xlLiAg
SXQgaXMgaGVyZSwgaW4gYQpzZXBhcmF0ZSBmaWxlLCBmb3IgY29udmVuaWVuY2Ugb2YgZGV2ZWxv
cG1lbnQuCicnJwoKZnJvbSBfX2Z1dHVyZV9fIGltcG9ydCBhYnNvbHV0ZV9pbXBvcnQKCmltcG9y
dCBoYXNobGliCmltcG9ydCB0YXJmaWxlCmltcG9ydCBzaHV0aWwKaW1wb3J0IHN5cwppbXBvcnQg
b3MKaW1wb3J0IHN0YXQKaW1wb3J0IHN1YnByb2Nlc3MKClRISU5fQVJDSElWRSA9ICdzYWx0LXRo
aW4udGd6JwpFWFRfQVJDSElWRSA9ICdzYWx0LWV4dF9tb2RzLnRneicKCiMgS2VlcCB0aGVzZSBp
biBzeW5jIHdpdGggc2FsdC9kZWZhdWx0cy9leGl0Y29kZXMucHkKRVhfVEhJTl9ERVBMT1kgPSAx
MQpFWF9USElOX0NIRUNLU1VNID0gMTIKRVhfTU9EX0RFUExPWSA9IDEzCkVYX1NDUF9OT1RfRk9V
TkQgPSAxNApFWF9DQU5UQ1JFQVQgPSA3MwoKCmNsYXNzIE9CSihvYmplY3QpOgogICAgIiIiQW4g
ZW1wdHkgY2xhc3MgZm9yIGhvbGRpbmcgaW5zdGFuY2UgYXR0cmlidXRlIHZhbHVlcy4iIiIKICAg
IHBhc3MKCgpPUFRJT05TID0gTm9uZQpBUkdTID0gTm9uZQojIFRoZSBiZWxvdyBsaW5lIGlzIHdo
ZXJlIE9QVElPTlMgY2FuIGJlIHJlZGVmaW5lZCB3aXRoIGludGVybmFsIG9wdGlvbnMKIyAocmF0
aGVyIHRoYW4gY2xpIGFyZ3VtZW50cykgd2hlbiB0aGUgc2hpbSBpcyBidW5kbGVkIGJ5CiMgY2xp
ZW50LnNzaC5TaW5nbGUuX2NtZF9zdHIoKQojIHB5bGludDogZGlzYWJsZT1ibG9jay1jb21tZW50
LXNob3VsZC1zdGFydC13aXRoLWNhcmRpbmFsLXNwYWNlCgpPUFRJT05TID0gT0JKKCkKT1BUSU9O
Uy5jb25maWcgPSAiIiIKe2ZpbGVzZXJ2ZXJfbGlzdF9jYWNoZV90aW1lOiAzLCBncmFpbnNfY2Fj
aGU6IHRydWUsIGlkOiBtdW5pbiwgbG9nX2ZpbGU6IHNhbHQtY2FsbC5sb2csCiAgcm9vdF9kaXI6
IC92YXIvdG1wLy5zYWx0LW9wZV8xYTM1MzJfc2FsdC9ydW5uaW5nX2RhdGEsIHNvY2tfZGlyOiAv
fQoiIiIKT1BUSU9OUy5kZWxpbWl0ZXIgPSAnX2VkYmM3ODg1ZTRmOWFhYzliODNiMzU5OTliNjhk
MDE1MTQ4Y2FmNDY3Yjc4ZmEzOWMwNWY2NjljMGZmODk4NzgnCk9QVElPTlMuc2FsdGRpciA9ICcv
dmFyL3RtcC8uc2FsdC1vcGVfMWEzNTMyX3NhbHQnCk9QVElPTlMuY2hlY2tzdW0gPSAnOTg1MjZk
OTliMWU3YjA3OWRjZWZjZWM5ZmE1Yjg1MWZmYmY5ODEzZCcKT1BUSU9OUy5oYXNoZnVuYyA9ICdz
aGExJwpPUFRJT05TLnZlcnNpb24gPSAnMjAxNi4zLjInCk9QVElPTlMuZXh0X21vZHMgPSAnNzQx
OTZlMDExNDUyMWUyYWRjNjlkNjgxY2U2YTQ1NjNiYTBhZTFlYicKT1BUSU9OUy53aXBlID0gRmFs
c2UKT1BUSU9OUy50dHkgPSBGYWxzZQpPUFRJT05TLmNtZF91bWFzayA9IE5vbmUKQVJHUyA9IFsn
bmV0d29yay5nZXRfaG9zdG5hbWUnXQoKCgpkZWYgbmVlZF9kZXBsb3ltZW50KCk6CiAgICAiIiIK
ICAgIFNhbHQgdGhpbiBuZWVkcyB0byBiZSBkZXBsb3llZCAtIHByZXAgdGhlIHRhcmdldCBkaXJl
Y3RvcnkgYW5kIGVtaXQgdGhlCiAgICBkZWxpbWV0ZXIgYW5kIGV4aXQgY29kZSB0aGF0IHNpZ25h
bHMgYSByZXF1aXJlZCBkZXBsb3ltZW50LgogICAgIiIiCiAgICBpZiBvcy5wYXRoLmV4aXN0cyhP
UFRJT05TLnNhbHRkaXIpOgogICAgICAgIHNodXRpbC5ybXRyZWUoT1BUSU9OUy5zYWx0ZGlyKQog
ICAgb2xkX3VtYXNrID0gb3MudW1hc2soMG8wNzcpCiAgICBvcy5tYWtlZGlycyhPUFRJT05TLnNh
bHRkaXIpCiAgICBvcy51bWFzayhvbGRfdW1hc2spCiAgICAjIFZlcmlmeSBwZXJtcyBvbiBzYWx0
ZGlyCiAgICBldWlkID0gb3MuZ2V0ZXVpZCgpCiAgICBkc3RhdCA9IG9zLnN0YXQoT1BUSU9OUy5z
YWx0ZGlyKQogICAgaWYgZHN0YXQuc3RfdWlkICE9IGV1aWQ6CiAgICAgICAgIyBBdHRhY2sgZGV0
ZWN0ZWQsIHRyeSBhZ2FpbgogICAgICAgIG5lZWRfZGVwbG95bWVudCgpCiAgICBpZiBkc3RhdC5z
dF9tb2RlICE9IDE2ODMyOgogICAgICAgICMgQXR0YWNrIGRldGVjdGVkCiAgICAgICAgbmVlZF9k
ZXBsb3ltZW50KCkKICAgICMgSWYgU1VET2luZyB0aGVuIGFsc28gZ2l2ZSB0aGUgc3VwZXIgdXNl
ciBncm91cCB3cml0ZSBwZXJtaXNzaW9ucwogICAgc3Vkb19naWQgPSBvcy5lbnZpcm9uLmdldCgn
U1VET19HSUQnKQogICAgaWYgc3Vkb19naWQ6CiAgICAgICAgb3MuY2hvd24oT1BUSU9OUy5zYWx0
ZGlyLCAtMSwgaW50KHN1ZG9fZ2lkKSkKICAgICAgICBzdHQgPSBvcy5zdGF0KE9QVElPTlMuc2Fs
dGRpcikKICAgICAgICBvcy5jaG1vZChPUFRJT05TLnNhbHRkaXIsIHN0dC5zdF9tb2RlIHwgc3Rh
dC5TX0lXR1JQIHwgc3RhdC5TX0lSR1JQIHwgc3RhdC5TX0lYR1JQKQoKICAgICMgRGVsaW1pdGVy
IGVtaXR0ZWQgb24gc3Rkb3V0ICpvbmx5KiB0byBpbmRpY2F0ZSBzaGltIG1lc3NhZ2UgdG8gbWFz
dGVyLgogICAgc3lzLnN0ZG91dC53cml0ZSgiezB9XG5kZXBsb3lcbiIuZm9ybWF0KE9QVElPTlMu
ZGVsaW1pdGVyKSkKICAgIHN5cy5leGl0KEVYX1RISU5fREVQTE9ZKQoKCiMgQWRhcHRlZCBmcm9t
IHNhbHQudXRpbHMuZ2V0X2hhc2goKQpkZWYgZ2V0X2hhc2gocGF0aCwgZm9ybT0nc2hhMScsIGNo
dW5rX3NpemU9NDA5Nik6CiAgICAiIiJHZW5lcmF0ZSBhIGhhc2ggZGlnZXN0IHN0cmluZyBmb3Ig
YSBmaWxlLiIiIgogICAgdHJ5OgogICAgICAgIGhhc2hfdHlwZSA9IGdldGF0dHIoaGFzaGxpYiwg
Zm9ybSkKICAgIGV4Y2VwdCBBdHRyaWJ1dGVFcnJvcjoKICAgICAgICByYWlzZSBWYWx1ZUVycm9y
KCdJbnZhbGlkIGhhc2ggdHlwZTogezB9Jy5mb3JtYXQoZm9ybSkpCiAgICB3aXRoIG9wZW4ocGF0
aCwgJ3JiJykgYXMgaWZpbGU6CiAgICAgICAgaGFzaF9vYmogPSBoYXNoX3R5cGUoKQogICAgICAg
ICMgcmVhZCB0aGUgZmlsZSBpbiBpbiBjaHVua3MsIG5vdCB0aGUgZW50aXJlIGZpbGUKICAgICAg
ICBmb3IgY2h1bmsgaW4gaXRlcihsYW1iZGE6IGlmaWxlLnJlYWQoY2h1bmtfc2l6ZSksIGInJyk6
CiAgICAgICAgICAgIGhhc2hfb2JqLnVwZGF0ZShjaHVuaykKICAgICAgICByZXR1cm4gaGFzaF9v
YmouaGV4ZGlnZXN0KCkKCgpkZWYgdW5wYWNrX3RoaW4odGhpbl9wYXRoKToKICAgICIiIlVucGFj
ayB0aGUgU2FsdCB0aGluIGFyY2hpdmUuIiIiCiAgICB0ZmlsZSA9IHRhcmZpbGUuVGFyRmlsZS5n
em9wZW4odGhpbl9wYXRoKQogICAgb2xkX3VtYXNrID0gb3MudW1hc2soMG8wNzcpCiAgICB0Zmls
ZS5leHRyYWN0YWxsKHBhdGg9T1BUSU9OUy5zYWx0ZGlyKQogICAgdGZpbGUuY2xvc2UoKQogICAg
b3MudW1hc2sob2xkX3VtYXNrKQogICAgb3MudW5saW5rKHRoaW5fcGF0aCkKCgpkZWYgbmVlZF9l
eHQoKToKICAgICIiIlNpZ25hbCB0aGF0IGV4dGVybmFsIG1vZHVsZXMgbmVlZCB0byBiZSBkZXBs
b3llZC4iIiIKICAgIHN5cy5zdGRvdXQud3JpdGUoInswfVxuZXh0X21vZHNcbiIuZm9ybWF0KE9Q
VElPTlMuZGVsaW1pdGVyKSkKICAgIHN5cy5leGl0KEVYX01PRF9ERVBMT1kpCgoKZGVmIHVucGFj
a19leHQoZXh0X3BhdGgpOgogICAgIiIiVW5wYWNrIHRoZSBleHRlcm5hbCBtb2R1bGVzLiIiIgog
ICAgbW9kY2FjaGUgPSBvcy5wYXRoLmpvaW4oCiAgICAgICAgICAgIE9QVElPTlMuc2FsdGRpciwK
ICAgICAgICAgICAgJ3J1bm5pbmdfZGF0YScsCiAgICAgICAgICAgICd2YXInLAogICAgICAgICAg
ICAnY2FjaGUnLAogICAgICAgICAgICAnc2FsdCcsCiAgICAgICAgICAgICdtaW5pb24nLAogICAg
ICAgICAgICAnZXh0bW9kcycpCiAgICB0ZmlsZSA9IHRhcmZpbGUuVGFyRmlsZS5nem9wZW4oZXh0
X3BhdGgpCiAgICBvbGRfdW1hc2sgPSBvcy51bWFzaygwbzA3NykKICAgIHRmaWxlLmV4dHJhY3Rh
bGwocGF0aD1tb2RjYWNoZSkKICAgIHRmaWxlLmNsb3NlKCkKICAgIG9zLnVtYXNrKG9sZF91bWFz
aykKICAgIG9zLnVubGluayhleHRfcGF0aCkKICAgIHZlcl9wYXRoID0gb3MucGF0aC5qb2luKG1v
ZGNhY2hlLCAnZXh0X3ZlcnNpb24nKQogICAgdmVyX2RzdCA9IG9zLnBhdGguam9pbihPUFRJT05T
LnNhbHRkaXIsICdleHRfdmVyc2lvbicpCiAgICBzaHV0aWwubW92ZSh2ZXJfcGF0aCwgdmVyX2Rz
dCkKCgpkZWYgbWFpbihhcmd2KTogICMgcHlsaW50OiBkaXNhYmxlPVcwNjEzCiAgICAiIiJNYWlu
IHByb2dyYW0gYm9keSIiIgogICAgdGhpbl9wYXRoID0gb3MucGF0aC5qb2luKE9QVElPTlMuc2Fs
dGRpciwgVEhJTl9BUkNISVZFKQogICAgaWYgb3MucGF0aC5pc2ZpbGUodGhpbl9wYXRoKToKICAg
ICAgICBpZiBPUFRJT05TLmNoZWNrc3VtICE9IGdldF9oYXNoKHRoaW5fcGF0aCwgT1BUSU9OUy5o
YXNoZnVuYyk6CiAgICAgICAgICAgIHN5cy5zdGRlcnIud3JpdGUoJ3swfVxuJy5mb3JtYXQoT1BU
SU9OUy5jaGVja3N1bSkpCiAgICAgICAgICAgIHN5cy5zdGRlcnIud3JpdGUoJ3swfVxuJy5mb3Jt
YXQoZ2V0X2hhc2godGhpbl9wYXRoLCBPUFRJT05TLmhhc2hmdW5jKSkpCiAgICAgICAgICAgIG9z
LnVubGluayh0aGluX3BhdGgpCiAgICAgICAgICAgIHN5cy5zdGRlcnIud3JpdGUoJ1dBUk5JTkc6
IGNoZWNrc3VtIG1pc21hdGNoIGZvciAiezB9IlxuJy5mb3JtYXQodGhpbl9wYXRoKSkKICAgICAg
ICAgICAgc3lzLmV4aXQoRVhfVEhJTl9DSEVDS1NVTSkKICAgICAgICB1bnBhY2tfdGhpbih0aGlu
X3BhdGgpCiAgICAgICAgIyBTYWx0IHRoaW4gbm93IGlzIGF2YWlsYWJsZSB0byB1c2UKICAgIGVs
c2U6CiAgICAgICAgc2Nwc3RhdCA9IHN1YnByb2Nlc3MuUG9wZW4oWycvYmluL3NoJywgJy1jJywg
J2NvbW1hbmQgLXYgc2NwJ10pLndhaXQoKQogICAgICAgIGlmIHNjcHN0YXQgIT0gMDoKICAgICAg
ICAgICAgc3lzLmV4aXQoRVhfU0NQX05PVF9GT1VORCkKCiAgICAgICAgaWYgbm90IG9zLnBhdGgu
ZXhpc3RzKE9QVElPTlMuc2FsdGRpcik6CiAgICAgICAgICAgIG5lZWRfZGVwbG95bWVudCgpCgog
ICAgICAgIGlmIG5vdCBvcy5wYXRoLmlzZGlyKE9QVElPTlMuc2FsdGRpcik6CiAgICAgICAgICAg
IHN5cy5zdGRlcnIud3JpdGUoCiAgICAgICAgICAgICAgICAnRVJST1I6IHNhbHQgcGF0aCAiezB9
IiBleGlzdHMgYnV0IGlzJwogICAgICAgICAgICAgICAgJyBub3QgYSBkaXJlY3RvcnlcbicuZm9y
bWF0KE9QVElPTlMuc2FsdGRpcikKICAgICAgICAgICAgKQogICAgICAgICAgICBzeXMuZXhpdChF
WF9DQU5UQ1JFQVQpCgogICAgICAgIHZlcnNpb25fcGF0aCA9IG9zLnBhdGguam9pbihPUFRJT05T
LnNhbHRkaXIsICd2ZXJzaW9uJykKICAgICAgICBpZiBub3Qgb3MucGF0aC5leGlzdHModmVyc2lv
bl9wYXRoKSBvciBub3Qgb3MucGF0aC5pc2ZpbGUodmVyc2lvbl9wYXRoKToKICAgICAgICAgICAg
c3lzLnN0ZGVyci53cml0ZSgKICAgICAgICAgICAgICAgICdXQVJOSU5HOiBVbmFibGUgdG8gbG9j
YXRlIGN1cnJlbnQgdGhpbiAnCiAgICAgICAgICAgICAgICAnIHZlcnNpb246IHswfS5cbicuZm9y
bWF0KHZlcnNpb25fcGF0aCkKICAgICAgICAgICAgKQogICAgICAgICAgICBuZWVkX2RlcGxveW1l
bnQoKQogICAgICAgIHdpdGggb3Blbih2ZXJzaW9uX3BhdGgsICdyJykgYXMgdnBvOgogICAgICAg
ICAgICBjdXJfdmVyc2lvbiA9IHZwby5yZWFkbGluZSgpLnN0cmlwKCkKICAgICAgICBpZiBjdXJf
dmVyc2lvbiAhPSBPUFRJT05TLnZlcnNpb246CiAgICAgICAgICAgIHN5cy5zdGRlcnIud3JpdGUo
CiAgICAgICAgICAgICAgICAnV0FSTklORzogY3VycmVudCB0aGluIHZlcnNpb24gezB9JwogICAg
ICAgICAgICAgICAgJyBpcyBub3QgdXAtdG8tZGF0ZSB3aXRoIHsxfS5cbicuZm9ybWF0KAogICAg
ICAgICAgICAgICAgICAgIGN1cl92ZXJzaW9uLCBPUFRJT05TLnZlcnNpb24KICAgICAgICAgICAg
ICAgICkKICAgICAgICAgICAgKQogICAgICAgICAgICBuZWVkX2RlcGxveW1lbnQoKQogICAgICAg
ICMgU2FsdCB0aGluIGV4aXN0cyBhbmQgaXMgdXAtdG8tZGF0ZSAtIGZhbGwgdGhyb3VnaCBhbmQg
dXNlIGl0CgogICAgc2FsdF9jYWxsX3BhdGggPSBvcy5wYXRoLmpvaW4oT1BUSU9OUy5zYWx0ZGly
LCAnc2FsdC1jYWxsJykKICAgIGlmIG5vdCBvcy5wYXRoLmlzZmlsZShzYWx0X2NhbGxfcGF0aCk6
CiAgICAgICAgc3lzLnN0ZGVyci53cml0ZSgnRVJST1I6IHRoaW4gaXMgbWlzc2luZyAiezB9Ilxu
Jy5mb3JtYXQoc2FsdF9jYWxsX3BhdGgpKQogICAgICAgIG5lZWRfZGVwbG95bWVudCgpCgogICAg
d2l0aCBvcGVuKG9zLnBhdGguam9pbihPUFRJT05TLnNhbHRkaXIsICdtaW5pb24nKSwgJ3cnKSBh
cyBjb25maWc6CiAgICAgICAgY29uZmlnLndyaXRlKE9QVElPTlMuY29uZmlnICsgJ1xuJykKICAg
IGlmIE9QVElPTlMuZXh0X21vZHM6CiAgICAgICAgZXh0X3BhdGggPSBvcy5wYXRoLmpvaW4oT1BU
SU9OUy5zYWx0ZGlyLCBFWFRfQVJDSElWRSkKICAgICAgICBpZiBvcy5wYXRoLmV4aXN0cyhleHRf
cGF0aCk6CiAgICAgICAgICAgIHVucGFja19leHQoZXh0X3BhdGgpCiAgICAgICAgZWxzZToKICAg
ICAgICAgICAgdmVyc2lvbl9wYXRoID0gb3MucGF0aC5qb2luKE9QVElPTlMuc2FsdGRpciwgJ2V4
dF92ZXJzaW9uJykKICAgICAgICAgICAgaWYgbm90IG9zLnBhdGguZXhpc3RzKHZlcnNpb25fcGF0
aCkgb3Igbm90IG9zLnBhdGguaXNmaWxlKHZlcnNpb25fcGF0aCk6CiAgICAgICAgICAgICAgICBu
ZWVkX2V4dCgpCiAgICAgICAgICAgIHdpdGggb3Blbih2ZXJzaW9uX3BhdGgsICdyJykgYXMgdnBv
OgogICAgICAgICAgICAgICAgY3VyX3ZlcnNpb24gPSB2cG8ucmVhZGxpbmUoKS5zdHJpcCgpCiAg
ICAgICAgICAgIGlmIGN1cl92ZXJzaW9uICE9IE9QVElPTlMuZXh0X21vZHM6CiAgICAgICAgICAg
ICAgICBuZWVkX2V4dCgpCiAgICAjIEZpeCBwYXJhbWV0ZXIgcGFzc2luZyBpc3N1ZQogICAgaWYg
bGVuKEFSR1MpID09IDE6CiAgICAgICAgYXJndl9wcmVwYXJlZCA9IEFSR1NbMF0uc3BsaXQoKQog
ICAgZWxzZToKICAgICAgICBhcmd2X3ByZXBhcmVkID0gQVJHUwoKICAgIHNhbHRfYXJndiA9IFsK
ICAgICAgICBzeXMuZXhlY3V0YWJsZSwKICAgICAgICBzYWx0X2NhbGxfcGF0aCwKICAgICAgICAn
LS1yZXRjb2RlLXBhc3N0aHJvdWdoJywKICAgICAgICAnLS1sb2NhbCcsCiAgICAgICAgJy0tbWV0
YWRhdGEnLAogICAgICAgICctLW91dCcsICdqc29uJywKICAgICAgICAnLWwnLCAncXVpZXQnLAog
ICAgICAgICctYycsIE9QVElPTlMuc2FsdGRpciwKICAgICAgICAnLS0nLAogICAgXSArIGFyZ3Zf
cHJlcGFyZWQKCiAgICBzeXMuc3RkZXJyLndyaXRlKCdTQUxUX0FSR1Y6IHswfVxuJy5mb3JtYXQo
c2FsdF9hcmd2KSkKCiAgICAjIE9ubHkgZW1pdCB0aGUgZGVsaW1pdGVyIG9uICpib3RoKiBzdGRv
dXQgYW5kIHN0ZGVyciB3aGVuIGNvbXBsZXRlbHkgc3VjY2Vzc2Z1bC4KICAgICMgWWVzLCB0aGUg
Zmx1c2goKSBpcyBuZWNlc3NhcnkuCiAgICBzeXMuc3Rkb3V0LndyaXRlKE9QVElPTlMuZGVsaW1p
dGVyICsgJ1xuJykKICAgIHN5cy5zdGRvdXQuZmx1c2goKQogICAgaWYgbm90IE9QVElPTlMudHR5
OgogICAgICAgIHN5cy5zdGRlcnIud3JpdGUoT1BUSU9OUy5kZWxpbWl0ZXIgKyAnXG4nKQogICAg
ICAgIHN5cy5zdGRlcnIuZmx1c2goKQogICAgaWYgT1BUSU9OUy5jbWRfdW1hc2sgaXMgbm90IE5v
bmU6CiAgICAgICAgb2xkX3VtYXNrID0gb3MudW1hc2soT1BUSU9OUy5jbWRfdW1hc2spCiAgICBp
ZiBPUFRJT05TLnR0eToKICAgICAgICBzdGRvdXQsIF8gPSBzdWJwcm9jZXNzLlBvcGVuKHNhbHRf
YXJndiwgc3Rkb3V0PXN1YnByb2Nlc3MuUElQRSwgc3RkZXJyPXN1YnByb2Nlc3MuUElQRSkuY29t
bXVuaWNhdGUoKQogICAgICAgIHN5cy5zdGRvdXQud3JpdGUoc3Rkb3V0KQogICAgICAgIHN5cy5z
dGRvdXQuZmx1c2goKQogICAgICAgIGlmIE9QVElPTlMud2lwZToKICAgICAgICAgICAgc2h1dGls
LnJtdHJlZShPUFRJT05TLnNhbHRkaXIpCiAgICBlbGlmIE9QVElPTlMud2lwZToKICAgICAgICBz
dWJwcm9jZXNzLmNhbGwoc2FsdF9hcmd2KQogICAgICAgIHNodXRpbC5ybXRyZWUoT1BUSU9OUy5z
YWx0ZGlyKQogICAgZWxzZToKICAgICAgICBvcy5leGVjdihzeXMuZXhlY3V0YWJsZSwgc2FsdF9h
cmd2KQogICAgaWYgT1BUSU9OUy5jbWRfdW1hc2sgaXMgbm90IE5vbmU6CiAgICAgICAgb3MudW1h
c2sob2xkX3VtYXNrKQoKaWYgX19uYW1lX18gPT0gJ19fbWFpbl9fJzoKICAgIHN5cy5leGl0KG1h
aW4oc3lzLmFyZ3YpKQo=
""").decode("utf-8"))'
fi
exit 0
else
continue
fi
done
echo "ERROR: Unable to locate appropriate python command" >&2
exit $EX_PYTHON_INVALID
EOF
2016-10-19 23:58:06,746 [salt.utils.vt.Terminal.PID-1699.STDOUT][TRACE   ][1694] salt-ope@192.168.1.15's password:
2016-10-19 23:58:06,930 [salt.utils.vt.Terminal.PID-1699.STDERR][TRACE   ][1694] SALT_ARGV: ['/usr/bin/python2.7', '/var/tmp/.salt-ope_1a3532_salt/salt-call', '--retcode-passthrough', '--local', '--metadata', '--out', 'json', '-l', 'quiet', '-c', '/var/tmp/.salt-ope_1a3532_salt', '--', 'network.get_hostname']
_edbc7885e4f9aac9b83b35999b68d015148caf467b78fa39c05f669c0ff89878
2016-10-19 23:58:06,931 [salt.utils.vt.Terminal.PID-1699.STDOUT][TRACE   ][1694] /bin/scp
_edbc7885e4f9aac9b83b35999b68d015148caf467b78fa39c05f669c0ff89878
2016-10-19 23:58:07,237 [salt.utils.vt.Terminal.PID-1699.STDOUT][TRACE   ][1694] {
    "local": {
        "fun_args": [], 
        "jid": "20161019235808111803", 
        "return": "munin", 
        "retcode": 0, 
        "fun": "network.get_hostname", 
        "id": "munin"
    }
}
2016-10-19 23:58:07,469 [salt.client.ssh  ][TRACE   ][1694] STDOUT 192.168.1.15
salt-ope@192.168.1.15's password: 
/bin/scp
_edbc7885e4f9aac9b83b35999b68d015148caf467b78fa39c05f669c0ff89878
{
    "local": {
        "fun_args": [], 
        "jid": "20161019235808111803", 
        "return": "munin", 
        "retcode": 0, 
        "fun": "network.get_hostname", 
        "id": "munin"
    }
}

2016-10-19 23:58:07,469 [salt.client.ssh  ][TRACE   ][1694] STDERR 192.168.1.15
SALT_ARGV: ['/usr/bin/python2.7', '/var/tmp/.salt-ope_1a3532_salt/salt-call', '--retcode-passthrough', '--local', '--metadata', '--out', 'json', '-l', 'quiet', '-c', '/var/tmp/.salt-ope_1a3532_salt', '--', 'network.get_hostname']
_edbc7885e4f9aac9b83b35999b68d015148caf467b78fa39c05f669c0ff89878

2016-10-19 23:58:07,469 [salt.client.ssh  ][DEBUG   ][1694] RETCODE 192.168.1.15: 0
2016-10-19 23:58:07,472 [salt.template    ][PROFILE ][1694] Time (in seconds) to render '/root/saltstack_master/var/cache/salt/master/files/base/munin.sls' using 'jinja' renderer: 1.82594585419
2016-10-19 23:58:07,472 [salt.template    ][DEBUG   ][1694] Rendered data from file: /root/saltstack_master/var/cache/salt/master/files/base/munin.sls:







/etc/yum.repos.d/epel.repo:
  file.managed:
  - source: salt://files/shared/etc/yum.repos.d/epel.repo_v7
  - mode: 0644
  - user: root
  - group: root



/etc/pki/rpm-gpg/RPM-GPG-KEY-EPEL-7:
  file.managed:
  - source: salt://files/shared/etc/pki/rpm-gpg/RPM-GPG-KEY-EPEL-7
  - mode: 0644
  - user: root
  - group: root


munin-pkgs:
  pkg.installed:
  - pkgs:
    - munin
    - munin-async

    - httpd
    - mod_fcgid



/etc/munin/munin-node.conf:
  file.managed:
  - source: salt://files/munin/etc/munin/munin-node.conf
  - template: jinja
  - context:
    munin_server_list: ['192.168.1.15', '192.168.1.14']
  - mode: 0644
  - user: root
  - group: root

/etc/munin/munin-htpasswd:
  file.managed:
  - source: salt://files/munin/etc/munin/munin-htpasswd
  - mode: 0644
  - user: root
  - group: root

/etc/munin/munin.conf:
  file.managed:
  - source: salt://files/munin/etc/munin/munin.conf
  - template: jinja
  - context:
    munin_master: 192.168.1.15
    munin_server_namelist: {'munin-async01': {'ip': '192.168.1.14'}, 'munin': {'ip': '192.168.1.15'}} 
    munin_node_list: {'munin-async01': {'hostname': 'munin-async01', 'ip': '192.168.1.14', 'munin_server': 'munin-async01'}, 'kibana4': {'hostname': 'kibana4', 'ip': '192.168.1.37', 'group': 'Dev', 'alarm_rules': ['df._dev_vda1.warning 75', 'df._dev_vda1.critical 80', 'df_inode._dev_vda1.warning 75', 'df_inode._dev_vda1.critical 80', 'load.load.warning 8', 'load.load.critical 15'], 'munin_server': 'munin-async01'}, 'nagioslog': {'hostname': 'nagioslog', 'ip': '192.168.1.12', 'group': 'Dev', 'alarm_rules': ['df._dev_vda1.warning 75', 'df._dev_vda1.critical 80', 'df_inode._dev_vda1.warning 75', 'df_inode._dev_vda1.critical 80', 'load.load.warning 8', 'load.load.critical 15'], 'munin_server': 'munin-async01'}, 'ceph-node01': {'hostname': 'ceph-node01', 'ip': '192.168.1.6', 'group': 'Dev', 'alarm_rules': ['df._dev_vda1.warning 75', 'df._dev_vda1.critical 80', 'df_inode._dev_vda1.warning 75', 'df_inode._dev_vda1.critical 80', 'load.load.warning 1', 'load.load.critical 2'], 'munin_server': 'munin-async01'}, 'ceph-node02': {'hostname': 'ceph-node02', 'ip': '192.168.1.16', 'group': 'Dev', 'alarm_rules': ['df._dev_vda1.warning 75', 'df._dev_vda1.critical 80', 'df_inode._dev_vda1.warning 75', 'df_inode._dev_vda1.critical 80', 'load.load.warning 1', 'load.load.critical 2'], 'munin_server': 'munin-async01'}, 'ceph-node03': {'hostname': 'ceph-node03', 'ip': '192.168.1.18', 'group': 'Dev', 'alarm_rules': ['df._dev_vda1.warning 75', 'df._dev_vda1.critical 80', 'df_inode._dev_vda1.warning 75', 'df_inode._dev_vda1.critical 80', 'load.load.warning 1', 'load.load.critical 2'], 'munin_server': 'munin-async01'}, 'ceph-admin': {'hostname': 'ceph-admin', 'ip': '192.168.1.20', 'group': 'Dev', 'alarm_rules': ['df._dev_vda1.warning 75', 'df._dev_vda1.critical 80', 'df_inode._dev_vda1.warning 75', 'df_inode._dev_vda1.critical 80', 'load.load.warning 1', 'load.load.critical 2'], 'munin_server': 'munin-async01'}} 
    munin_async_client: {'munin-async01': {'ip': '192.168.1.14'}}
  - mode: 0644
  - user: root
  - group: root

/etc/httpd/conf/httpd.conf:
  file.managed:

  - source: salt://files/munin/etc/httpd/conf/httpd.conf_v7

  - template: jinja
  - mode: 0644
  - user: root
  - group: root

/etc/httpd/conf.d/munin.conf:
  file.managed:
  - source: salt://files/munin/etc/httpd/conf.d/munin.conf
  - template: jinja
  - mode: 0644
  - user: root
  - group: root

/etc/httpd/conf.d/fcgid.conf:
  file.managed:

  - source: salt://files/munin/etc/httpd/conf.d/fcgid.conf_v7

  - mode: 0644
  - user: root
  - group: root

/var/cache/munin:
  file.directory:
  - user: apache
  - group: apache
  - mode: 755
  - makedirs: True




httpd:
  service.running:
  - enable: True
  - watch:
    - file: /etc/httpd/conf/httpd.conf
    - file: /etc/httpd/conf.d/munin.conf
    - file: /etc/httpd/conf.d/fcgid.conf


munin-node:
  service.running:
  - enable: True
  - watch:
    - file: /etc/munin/munin-node.conf
    - file: /etc/munin/munin.conf

    - file: /etc/munin/munin-htpasswd





2016-10-19 23:58:07,540 [salt.loaded.int.render.yaml][DEBUG   ][1694] Results of YAML rendering: 
OrderedDict([('/etc/yum.repos.d/epel.repo', OrderedDict([('file.managed', [OrderedDict([('source', 'salt://files/shared/etc/yum.repos.d/epel.repo_v7')]), OrderedDict([('mode', 644)]), OrderedDict([('user', 'root')]), OrderedDict([('group', 'root')])])])), ('/etc/pki/rpm-gpg/RPM-GPG-KEY-EPEL-7', OrderedDict([('file.managed', [OrderedDict([('source', 'salt://files/shared/etc/pki/rpm-gpg/RPM-GPG-KEY-EPEL-7')]), OrderedDict([('mode', 644)]), OrderedDict([('user', 'root')]), OrderedDict([('group', 'root')])])])), ('munin-pkgs', OrderedDict([('pkg.installed', [OrderedDict([('pkgs', ['munin', 'munin-async', 'httpd', 'mod_fcgid'])])])])), ('/etc/munin/munin-node.conf', OrderedDict([('file.managed', [OrderedDict([('source', 'salt://files/munin/etc/munin/munin-node.conf')]), OrderedDict([('template', 'jinja')]), OrderedDict([('context', None), ('munin_server_list', ['192.168.1.15', '192.168.1.14'])]), OrderedDict([('mode', 644)]), OrderedDict([('user', 'root')]), OrderedDict([('group', 'root')])])])), ('/etc/munin/munin-htpasswd', OrderedDict([('file.managed', [OrderedDict([('source', 'salt://files/munin/etc/munin/munin-htpasswd')]), OrderedDict([('mode', 644)]), OrderedDict([('user', 'root')]), OrderedDict([('group', 'root')])])])), ('/etc/munin/munin.conf', OrderedDict([('file.managed', [OrderedDict([('source', 'salt://files/munin/etc/munin/munin.conf')]), OrderedDict([('template', 'jinja')]), OrderedDict([('context', None), ('munin_master', '192.168.1.15'), ('munin_server_namelist', OrderedDict([('munin-async01', OrderedDict([('ip', '192.168.1.14')])), ('munin', OrderedDict([('ip', '192.168.1.15')]))])), ('munin_node_list', OrderedDict([('munin-async01', OrderedDict([('hostname', 'munin-async01'), ('ip', '192.168.1.14'), ('munin_server', 'munin-async01')])), ('kibana4', OrderedDict([('hostname', 'kibana4'), ('ip', '192.168.1.37'), ('group', 'Dev'), ('alarm_rules', ['df._dev_vda1.warning 75', 'df._dev_vda1.critical 80', 'df_inode._dev_vda1.warning 75', 'df_inode._dev_vda1.critical 80', 'load.load.warning 8', 'load.load.critical 15']), ('munin_server', 'munin-async01')])), ('nagioslog', OrderedDict([('hostname', 'nagioslog'), ('ip', '192.168.1.12'), ('group', 'Dev'), ('alarm_rules', ['df._dev_vda1.warning 75', 'df._dev_vda1.critical 80', 'df_inode._dev_vda1.warning 75', 'df_inode._dev_vda1.critical 80', 'load.load.warning 8', 'load.load.critical 15']), ('munin_server', 'munin-async01')])), ('ceph-node01', OrderedDict([('hostname', 'ceph-node01'), ('ip', '192.168.1.6'), ('group', 'Dev'), ('alarm_rules', ['df._dev_vda1.warning 75', 'df._dev_vda1.critical 80', 'df_inode._dev_vda1.warning 75', 'df_inode._dev_vda1.critical 80', 'load.load.warning 1', 'load.load.critical 2']), ('munin_server', 'munin-async01')])), ('ceph-node02', OrderedDict([('hostname', 'ceph-node02'), ('ip', '192.168.1.16'), ('group', 'Dev'), ('alarm_rules', ['df._dev_vda1.warning 75', 'df._dev_vda1.critical 80', 'df_inode._dev_vda1.warning 75', 'df_inode._dev_vda1.critical 80', 'load.load.warning 1', 'load.load.critical 2']), ('munin_server', 'munin-async01')])), ('ceph-node03', OrderedDict([('hostname', 'ceph-node03'), ('ip', '192.168.1.18'), ('group', 'Dev'), ('alarm_rules', ['df._dev_vda1.warning 75', 'df._dev_vda1.critical 80', 'df_inode._dev_vda1.warning 75', 'df_inode._dev_vda1.critical 80', 'load.load.warning 1', 'load.load.critical 2']), ('munin_server', 'munin-async01')])), ('ceph-admin', OrderedDict([('hostname', 'ceph-admin'), ('ip', '192.168.1.20'), ('group', 'Dev'), ('alarm_rules', ['df._dev_vda1.warning 75', 'df._dev_vda1.critical 80', 'df_inode._dev_vda1.warning 75', 'df_inode._dev_vda1.critical 80', 'load.load.warning 1', 'load.load.critical 2']), ('munin_server', 'munin-async01')]))])), ('munin_async_client', OrderedDict([('munin-async01', OrderedDict([('ip', '192.168.1.14')]))]))]), OrderedDict([('mode', 644)]), OrderedDict([('user', 'root')]), OrderedDict([('group', 'root')])])])), ('/etc/httpd/conf/httpd.conf', OrderedDict([('file.managed', [OrderedDict([('source', 'salt://files/munin/etc/httpd/conf/httpd.conf_v7')]), OrderedDict([('template', 'jinja')]), OrderedDict([('mode', 644)]), OrderedDict([('user', 'root')]), OrderedDict([('group', 'root')])])])), ('/etc/httpd/conf.d/munin.conf', OrderedDict([('file.managed', [OrderedDict([('source', 'salt://files/munin/etc/httpd/conf.d/munin.conf')]), OrderedDict([('template', 'jinja')]), OrderedDict([('mode', 644)]), OrderedDict([('user', 'root')]), OrderedDict([('group', 'root')])])])), ('/etc/httpd/conf.d/fcgid.conf', OrderedDict([('file.managed', [OrderedDict([('source', 'salt://files/munin/etc/httpd/conf.d/fcgid.conf_v7')]), OrderedDict([('mode', 644)]), OrderedDict([('user', 'root')]), OrderedDict([('group', 'root')])])])), ('/var/cache/munin', OrderedDict([('file.directory', [OrderedDict([('user', 'apache')]), OrderedDict([('group', 'apache')]), OrderedDict([('mode', 755)]), OrderedDict([('makedirs', True)])])])), ('httpd', OrderedDict([('service.running', [OrderedDict([('enable', True)]), OrderedDict([('watch', [OrderedDict([('file', '/etc/httpd/conf/httpd.conf')]), OrderedDict([('file', '/etc/httpd/conf.d/munin.conf')]), OrderedDict([('file', '/etc/httpd/conf.d/fcgid.conf')])])])])])), ('munin-node', OrderedDict([('service.running', [OrderedDict([('enable', True)]), OrderedDict([('watch', [OrderedDict([('file', '/etc/munin/munin-node.conf')]), OrderedDict([('file', '/etc/munin/munin.conf')]), OrderedDict([('file', '/etc/munin/munin-htpasswd')])])])])]))])
2016-10-19 23:58:07,541 [salt.template    ][PROFILE ][1694] Time (in seconds) to render '/root/saltstack_master/var/cache/salt/master/files/base/munin.sls' using 'yaml' renderer: 0.0680739879608
2016-10-19 23:58:07,550 [salt.fileclient  ][DEBUG   ][1694] In saltenv 'base', looking at rel_path 'files/shared/etc/yum.repos.d/epel.repo_v7' to resolve 'salt://files/shared/etc/yum.repos.d/epel.repo_v7'
2016-10-19 23:58:07,551 [salt.fileclient  ][DEBUG   ][1694] In saltenv 'base', ** considering ** path '/root/saltstack_master/var/cache/salt/master/salt-ssh/munin/files/base/files/shared/etc/yum.repos.d/epel.repo_v7' to resolve 'salt://files/shared/etc/yum.repos.d/epel.repo_v7'
2016-10-19 23:58:07,551 [salt.fileclient  ][INFO    ][1694] Fetching file from saltenv 'base', ** skipped ** latest already in cache 'salt://files/shared/etc/yum.repos.d/epel.repo_v7'
2016-10-19 23:58:07,553 [salt.fileclient  ][DEBUG   ][1694] In saltenv 'base', looking at rel_path 'files/shared/etc/pki/rpm-gpg/RPM-GPG-KEY-EPEL-7' to resolve 'salt://files/shared/etc/pki/rpm-gpg/RPM-GPG-KEY-EPEL-7'
2016-10-19 23:58:07,554 [salt.fileclient  ][DEBUG   ][1694] In saltenv 'base', ** considering ** path '/root/saltstack_master/var/cache/salt/master/salt-ssh/munin/files/base/files/shared/etc/pki/rpm-gpg/RPM-GPG-KEY-EPEL-7' to resolve 'salt://files/shared/etc/pki/rpm-gpg/RPM-GPG-KEY-EPEL-7'
2016-10-19 23:58:07,554 [salt.fileclient  ][INFO    ][1694] Fetching file from saltenv 'base', ** skipped ** latest already in cache 'salt://files/shared/etc/pki/rpm-gpg/RPM-GPG-KEY-EPEL-7'
2016-10-19 23:58:07,555 [salt.fileclient  ][DEBUG   ][1694] In saltenv 'base', looking at rel_path 'files/munin/etc/munin/munin-node.conf' to resolve 'salt://files/munin/etc/munin/munin-node.conf'
2016-10-19 23:58:07,556 [salt.fileclient  ][DEBUG   ][1694] In saltenv 'base', ** considering ** path '/root/saltstack_master/var/cache/salt/master/salt-ssh/munin/files/base/files/munin/etc/munin/munin-node.conf' to resolve 'salt://files/munin/etc/munin/munin-node.conf'
2016-10-19 23:58:07,556 [salt.fileclient  ][INFO    ][1694] Fetching file from saltenv 'base', ** skipped ** latest already in cache 'salt://files/munin/etc/munin/munin-node.conf'
2016-10-19 23:58:07,558 [salt.fileclient  ][DEBUG   ][1694] In saltenv 'base', looking at rel_path 'files/munin/etc/munin/munin-htpasswd' to resolve 'salt://files/munin/etc/munin/munin-htpasswd'
2016-10-19 23:58:07,558 [salt.fileclient  ][DEBUG   ][1694] In saltenv 'base', ** considering ** path '/root/saltstack_master/var/cache/salt/master/salt-ssh/munin/files/base/files/munin/etc/munin/munin-htpasswd' to resolve 'salt://files/munin/etc/munin/munin-htpasswd'
2016-10-19 23:58:07,559 [salt.fileclient  ][INFO    ][1694] Fetching file from saltenv 'base', ** skipped ** latest already in cache 'salt://files/munin/etc/munin/munin-htpasswd'
2016-10-19 23:58:07,560 [salt.fileclient  ][DEBUG   ][1694] In saltenv 'base', looking at rel_path 'files/munin/etc/munin/munin.conf' to resolve 'salt://files/munin/etc/munin/munin.conf'
2016-10-19 23:58:07,560 [salt.fileclient  ][DEBUG   ][1694] In saltenv 'base', ** considering ** path '/root/saltstack_master/var/cache/salt/master/salt-ssh/munin/files/base/files/munin/etc/munin/munin.conf' to resolve 'salt://files/munin/etc/munin/munin.conf'
2016-10-19 23:58:07,560 [salt.fileclient  ][INFO    ][1694] Fetching file from saltenv 'base', ** skipped ** latest already in cache 'salt://files/munin/etc/munin/munin.conf'
2016-10-19 23:58:07,562 [salt.fileclient  ][DEBUG   ][1694] In saltenv 'base', looking at rel_path 'files/munin/etc/httpd/conf/httpd.conf_v7' to resolve 'salt://files/munin/etc/httpd/conf/httpd.conf_v7'
2016-10-19 23:58:07,562 [salt.fileclient  ][DEBUG   ][1694] In saltenv 'base', ** considering ** path '/root/saltstack_master/var/cache/salt/master/salt-ssh/munin/files/base/files/munin/etc/httpd/conf/httpd.conf_v7' to resolve 'salt://files/munin/etc/httpd/conf/httpd.conf_v7'
2016-10-19 23:58:07,562 [salt.fileclient  ][INFO    ][1694] Fetching file from saltenv 'base', ** skipped ** latest already in cache 'salt://files/munin/etc/httpd/conf/httpd.conf_v7'
2016-10-19 23:58:07,564 [salt.fileclient  ][DEBUG   ][1694] In saltenv 'base', looking at rel_path 'files/munin/etc/httpd/conf.d/munin.conf' to resolve 'salt://files/munin/etc/httpd/conf.d/munin.conf'
2016-10-19 23:58:07,564 [salt.fileclient  ][DEBUG   ][1694] In saltenv 'base', ** considering ** path '/root/saltstack_master/var/cache/salt/master/salt-ssh/munin/files/base/files/munin/etc/httpd/conf.d/munin.conf' to resolve 'salt://files/munin/etc/httpd/conf.d/munin.conf'
2016-10-19 23:58:07,565 [salt.fileclient  ][INFO    ][1694] Fetching file from saltenv 'base', ** skipped ** latest already in cache 'salt://files/munin/etc/httpd/conf.d/munin.conf'
2016-10-19 23:58:07,566 [salt.fileclient  ][DEBUG   ][1694] In saltenv 'base', looking at rel_path 'files/munin/etc/httpd/conf.d/fcgid.conf_v7' to resolve 'salt://files/munin/etc/httpd/conf.d/fcgid.conf_v7'
2016-10-19 23:58:07,566 [salt.fileclient  ][DEBUG   ][1694] In saltenv 'base', ** considering ** path '/root/saltstack_master/var/cache/salt/master/salt-ssh/munin/files/base/files/munin/etc/httpd/conf.d/fcgid.conf_v7' to resolve 'salt://files/munin/etc/httpd/conf.d/fcgid.conf_v7'
2016-10-19 23:58:07,567 [salt.fileclient  ][INFO    ][1694] Fetching file from saltenv 'base', ** skipped ** latest already in cache 'salt://files/munin/etc/httpd/conf.d/fcgid.conf_v7'
2016-10-19 23:58:07,567 [salt.fileclient  ][DEBUG   ][1694] Could not find file from saltenv 'base', 'salt://_modules'
2016-10-19 23:58:07,568 [salt.fileclient  ][INFO    ][1694] Caching directory '_modules/' for environment 'base'
2016-10-19 23:58:07,568 [salt.fileserver  ][TRACE   ][1694] Returning file_lists cache data from /root/saltstack_master/var/cache/salt/master/file_lists/roots/base.p
2016-10-19 23:58:07,569 [salt.fileclient  ][DEBUG   ][1694] In saltenv 'base', looking at rel_path '_modules/custom_munin.py' to resolve 'salt://_modules/custom_munin.py'
2016-10-19 23:58:07,570 [salt.fileclient  ][DEBUG   ][1694] In saltenv 'base', ** considering ** path '/root/saltstack_master/var/cache/salt/master/salt-ssh/munin/files/base/_modules/custom_munin.py' to resolve 'salt://_modules/custom_munin.py'
2016-10-19 23:58:07,570 [salt.fileclient  ][INFO    ][1694] Fetching file from saltenv 'base', ** skipped ** latest already in cache 'salt://_modules/custom_munin.py'
2016-10-19 23:58:07,571 [salt.fileclient  ][DEBUG   ][1694] Could not find file from saltenv 'base', 'salt://_states'
2016-10-19 23:58:07,571 [salt.fileclient  ][INFO    ][1694] Caching directory '_states/' for environment 'base'
2016-10-19 23:58:07,572 [salt.fileserver  ][TRACE   ][1694] Returning file_lists cache data from /root/saltstack_master/var/cache/salt/master/file_lists/roots/base.p
2016-10-19 23:58:07,573 [salt.fileclient  ][DEBUG   ][1694] Could not find file from saltenv 'base', 'salt://_grains'
2016-10-19 23:58:07,573 [salt.fileclient  ][INFO    ][1694] Caching directory '_grains/' for environment 'base'
2016-10-19 23:58:07,573 [salt.fileserver  ][TRACE   ][1694] Returning file_lists cache data from /root/saltstack_master/var/cache/salt/master/file_lists/roots/base.p
2016-10-19 23:58:07,574 [salt.fileclient  ][DEBUG   ][1694] Could not find file from saltenv 'base', 'salt://_renderers'
2016-10-19 23:58:07,575 [salt.fileclient  ][INFO    ][1694] Caching directory '_renderers/' for environment 'base'
2016-10-19 23:58:07,575 [salt.fileserver  ][TRACE   ][1694] Returning file_lists cache data from /root/saltstack_master/var/cache/salt/master/file_lists/roots/base.p
2016-10-19 23:58:07,576 [salt.fileclient  ][DEBUG   ][1694] Could not find file from saltenv 'base', 'salt://_returners'
2016-10-19 23:58:07,576 [salt.fileclient  ][INFO    ][1694] Caching directory '_returners/' for environment 'base'
2016-10-19 23:58:07,577 [salt.fileserver  ][TRACE   ][1694] Returning file_lists cache data from /root/saltstack_master/var/cache/salt/master/file_lists/roots/base.p
2016-10-19 23:58:07,577 [salt.fileclient  ][DEBUG   ][1694] Could not find file from saltenv 'base', 'salt://_output'
2016-10-19 23:58:07,578 [salt.fileclient  ][INFO    ][1694] Caching directory '_output/' for environment 'base'
2016-10-19 23:58:07,578 [salt.fileserver  ][TRACE   ][1694] Returning file_lists cache data from /root/saltstack_master/var/cache/salt/master/file_lists/roots/base.p
2016-10-19 23:58:07,579 [salt.fileclient  ][DEBUG   ][1694] Could not find file from saltenv 'base', 'salt://_utils'
2016-10-19 23:58:07,579 [salt.fileclient  ][INFO    ][1694] Caching directory '_utils/' for environment 'base'
2016-10-19 23:58:07,580 [salt.fileserver  ][TRACE   ][1694] Returning file_lists cache data from /root/saltstack_master/var/cache/salt/master/file_lists/roots/base.p
2016-10-19 23:58:07,633 [salt.client.ssh.shell][DEBUG   ][1694] Executing command: scp   -o KbdInteractiveAuthentication=no -o PasswordAuthentication=yes -o GSSAPIAuthentication=no -o ConnectTimeout=65 -o Port=22 -o IdentityFile=/root/saltstack_master/etc/salt/pki/master/ssh/salt-ssh.rsa -o User=******  /tmp/tmpb6f2D3 192.168.1.15:/var/tmp/.******_1a3532_salt/salt_state.tgz
2016-10-19 23:58:07,641 [salt.utils.vt    ][DEBUG   ][1694] Child Forked! PID: 1701  STDOUT_FD: 9  STDERR_FD: 11
2016-10-19 23:58:07,642 [salt.utils.vt    ][DEBUG   ][1694] Terminal Command: /bin/sh -c scp   -o KbdInteractiveAuthentication=no -o PasswordAuthentication=yes -o GSSAPIAuthentication=no -o ConnectTimeout=65 -o Port=22 -o IdentityFile=/root/saltstack_master/etc/salt/pki/master/ssh/salt-ssh.rsa -o User=salt-ope  /tmp/tmpb6f2D3 192.168.1.15:/var/tmp/.salt-ope_1a3532_salt/salt_state.tgz
2016-10-19 23:58:07,749 [salt.utils.vt.Terminal.PID-1701.STDOUT][TRACE   ][1694] salt-ope@192.168.1.15's password:
2016-10-19 23:58:07,821 [salt.utils.vt.Terminal.PID-1701.STDOUT][TRACE   ][1694] tmpb6f2D3                                       0%    0     0.0KB/s   --:-- ETAtmpb6f2D3                                     100% 5396     5.3KB/s   00:00
2016-10-19 23:58:08,043 [salt.client.ssh  ][DEBUG   ][1694] Performing shimmed, blocking command as follows:
state.pkg /var/tmp/.salt-ope_1a3532_salt/salt_state.tgz test=True pkg_sum=33ae7ef0eb792881a3626c0a46a6849b hash_type=md5
2016-10-19 23:58:08,065 [salt.client.ssh.shell][DEBUG   ][1694] Executed SHIM command. Command logged to TRACE
2016-10-19 23:58:08,066 [salt.client.ssh.shell][TRACE   ][1694] Executing command: ssh 192.168.1.15  -o KbdInteractiveAuthentication=no -o PasswordAuthentication=yes -o GSSAPIAuthentication=no -o ConnectTimeout=65 -o Port=22 -o IdentityFile=/root/saltstack_master/etc/salt/pki/master/ssh/salt-ssh.rsa -o User=******  /bin/sh << 'EOF'
set -e
set -u
DEBUG=""
if [ -n "$DEBUG" ]
then set -x
fi
SUDO=""
if [ -n "sudo" ]
then SUDO="sudo "
fi
EX_PYTHON_INVALID=10
PYTHON_CMDS="python3 python27 python2.7 python26 python2.6 python2 python"
for py_cmd in $PYTHON_CMDS
do
if command -v "$py_cmd" >/dev/null 2>&1 && "$py_cmd" -c \
"import sys; sys.exit(not (sys.version_info >= (2, 6)
and sys.version_info[0] == 2));"
then
py_cmd_path=`"$py_cmd" -c \
'from __future__ import print_function;
import sys; print(sys.executable);'`
cmdpath=$(which $py_cmd 2>&1)
if file $cmdpath | grep "shell script" > /dev/null
then
ex_vars="'PATH', 'LD_LIBRARY_PATH', 'MANPATH', \
'XDG_DATA_DIRS', 'PKG_CONFIG_PATH'"
export $($py_cmd -c \
"from __future__ import print_function;
import sys;
import os;
map(sys.stdout.write, ['{0}={1} ' \
.format(x, os.environ[x]) for x in [$ex_vars]])")
exec $SUDO PATH=$PATH LD_LIBRARY_PATH=$LD_LIBRARY_PATH \
MANPATH=$MANPATH XDG_DATA_DIRS=$XDG_DATA_DIRS \
PKG_CONFIG_PATH=$PKG_CONFIG_PATH \
"$py_cmd_path" -c \
'import base64;
exec(base64.b64decode("""IyBweWxpbnQ6IGRpc2FibGU9Vzk5MDMKJycnClRoaXMgaXMgYSBzaGltIHRoYXQgaGFuZGxlcyBj
aGVja2luZyBhbmQgdXBkYXRpbmcgc2FsdCB0aGluIGFuZAp0aGVuIGludm9raW5nIHRoaW4uCgpU
aGlzIGlzIG5vdCBpbnRlbmRlZCB0byBiZSBpbnN0YW50aWF0ZWQgYXMgYSBtb2R1bGUsIHJhdGhl
ciBpdCBpcyBhCmhlbHBlciBzY3JpcHQgdXNlZCBieSBzYWx0LmNsaWVudC5zc2guU2luZ2xlLiAg
SXQgaXMgaGVyZSwgaW4gYQpzZXBhcmF0ZSBmaWxlLCBmb3IgY29udmVuaWVuY2Ugb2YgZGV2ZWxv
cG1lbnQuCicnJwoKZnJvbSBfX2Z1dHVyZV9fIGltcG9ydCBhYnNvbHV0ZV9pbXBvcnQKCmltcG9y
dCBoYXNobGliCmltcG9ydCB0YXJmaWxlCmltcG9ydCBzaHV0aWwKaW1wb3J0IHN5cwppbXBvcnQg
b3MKaW1wb3J0IHN0YXQKaW1wb3J0IHN1YnByb2Nlc3MKClRISU5fQVJDSElWRSA9ICdzYWx0LXRo
aW4udGd6JwpFWFRfQVJDSElWRSA9ICdzYWx0LWV4dF9tb2RzLnRneicKCiMgS2VlcCB0aGVzZSBp
biBzeW5jIHdpdGggc2FsdC9kZWZhdWx0cy9leGl0Y29kZXMucHkKRVhfVEhJTl9ERVBMT1kgPSAx
MQpFWF9USElOX0NIRUNLU1VNID0gMTIKRVhfTU9EX0RFUExPWSA9IDEzCkVYX1NDUF9OT1RfRk9V
TkQgPSAxNApFWF9DQU5UQ1JFQVQgPSA3MwoKCmNsYXNzIE9CSihvYmplY3QpOgogICAgIiIiQW4g
ZW1wdHkgY2xhc3MgZm9yIGhvbGRpbmcgaW5zdGFuY2UgYXR0cmlidXRlIHZhbHVlcy4iIiIKICAg
IHBhc3MKCgpPUFRJT05TID0gTm9uZQpBUkdTID0gTm9uZQojIFRoZSBiZWxvdyBsaW5lIGlzIHdo
ZXJlIE9QVElPTlMgY2FuIGJlIHJlZGVmaW5lZCB3aXRoIGludGVybmFsIG9wdGlvbnMKIyAocmF0
aGVyIHRoYW4gY2xpIGFyZ3VtZW50cykgd2hlbiB0aGUgc2hpbSBpcyBidW5kbGVkIGJ5CiMgY2xp
ZW50LnNzaC5TaW5nbGUuX2NtZF9zdHIoKQojIHB5bGludDogZGlzYWJsZT1ibG9jay1jb21tZW50
LXNob3VsZC1zdGFydC13aXRoLWNhcmRpbmFsLXNwYWNlCgpPUFRJT05TID0gT0JKKCkKT1BUSU9O
Uy5jb25maWcgPSAiIiIKe2ZpbGVzZXJ2ZXJfbGlzdF9jYWNoZV90aW1lOiAzLCBncmFpbnNfY2Fj
aGU6IHRydWUsIGlkOiBtdW5pbiwgbG9nX2ZpbGU6IHNhbHQtY2FsbC5sb2csCiAgcm9vdF9kaXI6
IC92YXIvdG1wLy5zYWx0LW9wZV8xYTM1MzJfc2FsdC9ydW5uaW5nX2RhdGEsIHNvY2tfZGlyOiAv
fQoiIiIKT1BUSU9OUy5kZWxpbWl0ZXIgPSAnX2VkYmM3ODg1ZTRmOWFhYzliODNiMzU5OTliNjhk
MDE1MTQ4Y2FmNDY3Yjc4ZmEzOWMwNWY2NjljMGZmODk4NzgnCk9QVElPTlMuc2FsdGRpciA9ICcv
dmFyL3RtcC8uc2FsdC1vcGVfMWEzNTMyX3NhbHQnCk9QVElPTlMuY2hlY2tzdW0gPSAnOTg1MjZk
OTliMWU3YjA3OWRjZWZjZWM5ZmE1Yjg1MWZmYmY5ODEzZCcKT1BUSU9OUy5oYXNoZnVuYyA9ICdz
aGExJwpPUFRJT05TLnZlcnNpb24gPSAnMjAxNi4zLjInCk9QVElPTlMuZXh0X21vZHMgPSAnJwpP
UFRJT05TLndpcGUgPSBGYWxzZQpPUFRJT05TLnR0eSA9IEZhbHNlCk9QVElPTlMuY21kX3VtYXNr
ID0gTm9uZQpBUkdTID0gWydzdGF0ZS5wa2cgL3Zhci90bXAvLnNhbHQtb3BlXzFhMzUzMl9zYWx0
L3NhbHRfc3RhdGUudGd6IHRlc3Q9VHJ1ZSBwa2dfc3VtPTMzYWU3ZWYwZWI3OTI4ODFhMzYyNmMw
YTQ2YTY4NDliIGhhc2hfdHlwZT1tZDUnXQoKCgpkZWYgbmVlZF9kZXBsb3ltZW50KCk6CiAgICAi
IiIKICAgIFNhbHQgdGhpbiBuZWVkcyB0byBiZSBkZXBsb3llZCAtIHByZXAgdGhlIHRhcmdldCBk
aXJlY3RvcnkgYW5kIGVtaXQgdGhlCiAgICBkZWxpbWV0ZXIgYW5kIGV4aXQgY29kZSB0aGF0IHNp
Z25hbHMgYSByZXF1aXJlZCBkZXBsb3ltZW50LgogICAgIiIiCiAgICBpZiBvcy5wYXRoLmV4aXN0
cyhPUFRJT05TLnNhbHRkaXIpOgogICAgICAgIHNodXRpbC5ybXRyZWUoT1BUSU9OUy5zYWx0ZGly
KQogICAgb2xkX3VtYXNrID0gb3MudW1hc2soMG8wNzcpCiAgICBvcy5tYWtlZGlycyhPUFRJT05T
LnNhbHRkaXIpCiAgICBvcy51bWFzayhvbGRfdW1hc2spCiAgICAjIFZlcmlmeSBwZXJtcyBvbiBz
YWx0ZGlyCiAgICBldWlkID0gb3MuZ2V0ZXVpZCgpCiAgICBkc3RhdCA9IG9zLnN0YXQoT1BUSU9O
Uy5zYWx0ZGlyKQogICAgaWYgZHN0YXQuc3RfdWlkICE9IGV1aWQ6CiAgICAgICAgIyBBdHRhY2sg
ZGV0ZWN0ZWQsIHRyeSBhZ2FpbgogICAgICAgIG5lZWRfZGVwbG95bWVudCgpCiAgICBpZiBkc3Rh
dC5zdF9tb2RlICE9IDE2ODMyOgogICAgICAgICMgQXR0YWNrIGRldGVjdGVkCiAgICAgICAgbmVl
ZF9kZXBsb3ltZW50KCkKICAgICMgSWYgU1VET2luZyB0aGVuIGFsc28gZ2l2ZSB0aGUgc3VwZXIg
dXNlciBncm91cCB3cml0ZSBwZXJtaXNzaW9ucwogICAgc3Vkb19naWQgPSBvcy5lbnZpcm9uLmdl
dCgnU1VET19HSUQnKQogICAgaWYgc3Vkb19naWQ6CiAgICAgICAgb3MuY2hvd24oT1BUSU9OUy5z
YWx0ZGlyLCAtMSwgaW50KHN1ZG9fZ2lkKSkKICAgICAgICBzdHQgPSBvcy5zdGF0KE9QVElPTlMu
c2FsdGRpcikKICAgICAgICBvcy5jaG1vZChPUFRJT05TLnNhbHRkaXIsIHN0dC5zdF9tb2RlIHwg
c3RhdC5TX0lXR1JQIHwgc3RhdC5TX0lSR1JQIHwgc3RhdC5TX0lYR1JQKQoKICAgICMgRGVsaW1p
dGVyIGVtaXR0ZWQgb24gc3Rkb3V0ICpvbmx5KiB0byBpbmRpY2F0ZSBzaGltIG1lc3NhZ2UgdG8g
bWFzdGVyLgogICAgc3lzLnN0ZG91dC53cml0ZSgiezB9XG5kZXBsb3lcbiIuZm9ybWF0KE9QVElP
TlMuZGVsaW1pdGVyKSkKICAgIHN5cy5leGl0KEVYX1RISU5fREVQTE9ZKQoKCiMgQWRhcHRlZCBm
cm9tIHNhbHQudXRpbHMuZ2V0X2hhc2goKQpkZWYgZ2V0X2hhc2gocGF0aCwgZm9ybT0nc2hhMScs
IGNodW5rX3NpemU9NDA5Nik6CiAgICAiIiJHZW5lcmF0ZSBhIGhhc2ggZGlnZXN0IHN0cmluZyBm
b3IgYSBmaWxlLiIiIgogICAgdHJ5OgogICAgICAgIGhhc2hfdHlwZSA9IGdldGF0dHIoaGFzaGxp
YiwgZm9ybSkKICAgIGV4Y2VwdCBBdHRyaWJ1dGVFcnJvcjoKICAgICAgICByYWlzZSBWYWx1ZUVy
cm9yKCdJbnZhbGlkIGhhc2ggdHlwZTogezB9Jy5mb3JtYXQoZm9ybSkpCiAgICB3aXRoIG9wZW4o
cGF0aCwgJ3JiJykgYXMgaWZpbGU6CiAgICAgICAgaGFzaF9vYmogPSBoYXNoX3R5cGUoKQogICAg
ICAgICMgcmVhZCB0aGUgZmlsZSBpbiBpbiBjaHVua3MsIG5vdCB0aGUgZW50aXJlIGZpbGUKICAg
ICAgICBmb3IgY2h1bmsgaW4gaXRlcihsYW1iZGE6IGlmaWxlLnJlYWQoY2h1bmtfc2l6ZSksIGIn
Jyk6CiAgICAgICAgICAgIGhhc2hfb2JqLnVwZGF0ZShjaHVuaykKICAgICAgICByZXR1cm4gaGFz
aF9vYmouaGV4ZGlnZXN0KCkKCgpkZWYgdW5wYWNrX3RoaW4odGhpbl9wYXRoKToKICAgICIiIlVu
cGFjayB0aGUgU2FsdCB0aGluIGFyY2hpdmUuIiIiCiAgICB0ZmlsZSA9IHRhcmZpbGUuVGFyRmls
ZS5nem9wZW4odGhpbl9wYXRoKQogICAgb2xkX3VtYXNrID0gb3MudW1hc2soMG8wNzcpCiAgICB0
ZmlsZS5leHRyYWN0YWxsKHBhdGg9T1BUSU9OUy5zYWx0ZGlyKQogICAgdGZpbGUuY2xvc2UoKQog
ICAgb3MudW1hc2sob2xkX3VtYXNrKQogICAgb3MudW5saW5rKHRoaW5fcGF0aCkKCgpkZWYgbmVl
ZF9leHQoKToKICAgICIiIlNpZ25hbCB0aGF0IGV4dGVybmFsIG1vZHVsZXMgbmVlZCB0byBiZSBk
ZXBsb3llZC4iIiIKICAgIHN5cy5zdGRvdXQud3JpdGUoInswfVxuZXh0X21vZHNcbiIuZm9ybWF0
KE9QVElPTlMuZGVsaW1pdGVyKSkKICAgIHN5cy5leGl0KEVYX01PRF9ERVBMT1kpCgoKZGVmIHVu
cGFja19leHQoZXh0X3BhdGgpOgogICAgIiIiVW5wYWNrIHRoZSBleHRlcm5hbCBtb2R1bGVzLiIi
IgogICAgbW9kY2FjaGUgPSBvcy5wYXRoLmpvaW4oCiAgICAgICAgICAgIE9QVElPTlMuc2FsdGRp
ciwKICAgICAgICAgICAgJ3J1bm5pbmdfZGF0YScsCiAgICAgICAgICAgICd2YXInLAogICAgICAg
ICAgICAnY2FjaGUnLAogICAgICAgICAgICAnc2FsdCcsCiAgICAgICAgICAgICdtaW5pb24nLAog
ICAgICAgICAgICAnZXh0bW9kcycpCiAgICB0ZmlsZSA9IHRhcmZpbGUuVGFyRmlsZS5nem9wZW4o
ZXh0X3BhdGgpCiAgICBvbGRfdW1hc2sgPSBvcy51bWFzaygwbzA3NykKICAgIHRmaWxlLmV4dHJh
Y3RhbGwocGF0aD1tb2RjYWNoZSkKICAgIHRmaWxlLmNsb3NlKCkKICAgIG9zLnVtYXNrKG9sZF91
bWFzaykKICAgIG9zLnVubGluayhleHRfcGF0aCkKICAgIHZlcl9wYXRoID0gb3MucGF0aC5qb2lu
KG1vZGNhY2hlLCAnZXh0X3ZlcnNpb24nKQogICAgdmVyX2RzdCA9IG9zLnBhdGguam9pbihPUFRJ
T05TLnNhbHRkaXIsICdleHRfdmVyc2lvbicpCiAgICBzaHV0aWwubW92ZSh2ZXJfcGF0aCwgdmVy
X2RzdCkKCgpkZWYgbWFpbihhcmd2KTogICMgcHlsaW50OiBkaXNhYmxlPVcwNjEzCiAgICAiIiJN
YWluIHByb2dyYW0gYm9keSIiIgogICAgdGhpbl9wYXRoID0gb3MucGF0aC5qb2luKE9QVElPTlMu
c2FsdGRpciwgVEhJTl9BUkNISVZFKQogICAgaWYgb3MucGF0aC5pc2ZpbGUodGhpbl9wYXRoKToK
ICAgICAgICBpZiBPUFRJT05TLmNoZWNrc3VtICE9IGdldF9oYXNoKHRoaW5fcGF0aCwgT1BUSU9O
Uy5oYXNoZnVuYyk6CiAgICAgICAgICAgIHN5cy5zdGRlcnIud3JpdGUoJ3swfVxuJy5mb3JtYXQo
T1BUSU9OUy5jaGVja3N1bSkpCiAgICAgICAgICAgIHN5cy5zdGRlcnIud3JpdGUoJ3swfVxuJy5m
b3JtYXQoZ2V0X2hhc2godGhpbl9wYXRoLCBPUFRJT05TLmhhc2hmdW5jKSkpCiAgICAgICAgICAg
IG9zLnVubGluayh0aGluX3BhdGgpCiAgICAgICAgICAgIHN5cy5zdGRlcnIud3JpdGUoJ1dBUk5J
Tkc6IGNoZWNrc3VtIG1pc21hdGNoIGZvciAiezB9IlxuJy5mb3JtYXQodGhpbl9wYXRoKSkKICAg
ICAgICAgICAgc3lzLmV4aXQoRVhfVEhJTl9DSEVDS1NVTSkKICAgICAgICB1bnBhY2tfdGhpbih0
aGluX3BhdGgpCiAgICAgICAgIyBTYWx0IHRoaW4gbm93IGlzIGF2YWlsYWJsZSB0byB1c2UKICAg
IGVsc2U6CiAgICAgICAgc2Nwc3RhdCA9IHN1YnByb2Nlc3MuUG9wZW4oWycvYmluL3NoJywgJy1j
JywgJ2NvbW1hbmQgLXYgc2NwJ10pLndhaXQoKQogICAgICAgIGlmIHNjcHN0YXQgIT0gMDoKICAg
ICAgICAgICAgc3lzLmV4aXQoRVhfU0NQX05PVF9GT1VORCkKCiAgICAgICAgaWYgbm90IG9zLnBh
dGguZXhpc3RzKE9QVElPTlMuc2FsdGRpcik6CiAgICAgICAgICAgIG5lZWRfZGVwbG95bWVudCgp
CgogICAgICAgIGlmIG5vdCBvcy5wYXRoLmlzZGlyKE9QVElPTlMuc2FsdGRpcik6CiAgICAgICAg
ICAgIHN5cy5zdGRlcnIud3JpdGUoCiAgICAgICAgICAgICAgICAnRVJST1I6IHNhbHQgcGF0aCAi
ezB9IiBleGlzdHMgYnV0IGlzJwogICAgICAgICAgICAgICAgJyBub3QgYSBkaXJlY3Rvcnlcbicu
Zm9ybWF0KE9QVElPTlMuc2FsdGRpcikKICAgICAgICAgICAgKQogICAgICAgICAgICBzeXMuZXhp
dChFWF9DQU5UQ1JFQVQpCgogICAgICAgIHZlcnNpb25fcGF0aCA9IG9zLnBhdGguam9pbihPUFRJ
T05TLnNhbHRkaXIsICd2ZXJzaW9uJykKICAgICAgICBpZiBub3Qgb3MucGF0aC5leGlzdHModmVy
c2lvbl9wYXRoKSBvciBub3Qgb3MucGF0aC5pc2ZpbGUodmVyc2lvbl9wYXRoKToKICAgICAgICAg
ICAgc3lzLnN0ZGVyci53cml0ZSgKICAgICAgICAgICAgICAgICdXQVJOSU5HOiBVbmFibGUgdG8g
bG9jYXRlIGN1cnJlbnQgdGhpbiAnCiAgICAgICAgICAgICAgICAnIHZlcnNpb246IHswfS5cbicu
Zm9ybWF0KHZlcnNpb25fcGF0aCkKICAgICAgICAgICAgKQogICAgICAgICAgICBuZWVkX2RlcGxv
eW1lbnQoKQogICAgICAgIHdpdGggb3Blbih2ZXJzaW9uX3BhdGgsICdyJykgYXMgdnBvOgogICAg
ICAgICAgICBjdXJfdmVyc2lvbiA9IHZwby5yZWFkbGluZSgpLnN0cmlwKCkKICAgICAgICBpZiBj
dXJfdmVyc2lvbiAhPSBPUFRJT05TLnZlcnNpb246CiAgICAgICAgICAgIHN5cy5zdGRlcnIud3Jp
dGUoCiAgICAgICAgICAgICAgICAnV0FSTklORzogY3VycmVudCB0aGluIHZlcnNpb24gezB9Jwog
ICAgICAgICAgICAgICAgJyBpcyBub3QgdXAtdG8tZGF0ZSB3aXRoIHsxfS5cbicuZm9ybWF0KAog
ICAgICAgICAgICAgICAgICAgIGN1cl92ZXJzaW9uLCBPUFRJT05TLnZlcnNpb24KICAgICAgICAg
ICAgICAgICkKICAgICAgICAgICAgKQogICAgICAgICAgICBuZWVkX2RlcGxveW1lbnQoKQogICAg
ICAgICMgU2FsdCB0aGluIGV4aXN0cyBhbmQgaXMgdXAtdG8tZGF0ZSAtIGZhbGwgdGhyb3VnaCBh
bmQgdXNlIGl0CgogICAgc2FsdF9jYWxsX3BhdGggPSBvcy5wYXRoLmpvaW4oT1BUSU9OUy5zYWx0
ZGlyLCAnc2FsdC1jYWxsJykKICAgIGlmIG5vdCBvcy5wYXRoLmlzZmlsZShzYWx0X2NhbGxfcGF0
aCk6CiAgICAgICAgc3lzLnN0ZGVyci53cml0ZSgnRVJST1I6IHRoaW4gaXMgbWlzc2luZyAiezB9
IlxuJy5mb3JtYXQoc2FsdF9jYWxsX3BhdGgpKQogICAgICAgIG5lZWRfZGVwbG95bWVudCgpCgog
ICAgd2l0aCBvcGVuKG9zLnBhdGguam9pbihPUFRJT05TLnNhbHRkaXIsICdtaW5pb24nKSwgJ3cn
KSBhcyBjb25maWc6CiAgICAgICAgY29uZmlnLndyaXRlKE9QVElPTlMuY29uZmlnICsgJ1xuJykK
ICAgIGlmIE9QVElPTlMuZXh0X21vZHM6CiAgICAgICAgZXh0X3BhdGggPSBvcy5wYXRoLmpvaW4o
T1BUSU9OUy5zYWx0ZGlyLCBFWFRfQVJDSElWRSkKICAgICAgICBpZiBvcy5wYXRoLmV4aXN0cyhl
eHRfcGF0aCk6CiAgICAgICAgICAgIHVucGFja19leHQoZXh0X3BhdGgpCiAgICAgICAgZWxzZToK
ICAgICAgICAgICAgdmVyc2lvbl9wYXRoID0gb3MucGF0aC5qb2luKE9QVElPTlMuc2FsdGRpciwg
J2V4dF92ZXJzaW9uJykKICAgICAgICAgICAgaWYgbm90IG9zLnBhdGguZXhpc3RzKHZlcnNpb25f
cGF0aCkgb3Igbm90IG9zLnBhdGguaXNmaWxlKHZlcnNpb25fcGF0aCk6CiAgICAgICAgICAgICAg
ICBuZWVkX2V4dCgpCiAgICAgICAgICAgIHdpdGggb3Blbih2ZXJzaW9uX3BhdGgsICdyJykgYXMg
dnBvOgogICAgICAgICAgICAgICAgY3VyX3ZlcnNpb24gPSB2cG8ucmVhZGxpbmUoKS5zdHJpcCgp
CiAgICAgICAgICAgIGlmIGN1cl92ZXJzaW9uICE9IE9QVElPTlMuZXh0X21vZHM6CiAgICAgICAg
ICAgICAgICBuZWVkX2V4dCgpCiAgICAjIEZpeCBwYXJhbWV0ZXIgcGFzc2luZyBpc3N1ZQogICAg
aWYgbGVuKEFSR1MpID09IDE6CiAgICAgICAgYXJndl9wcmVwYXJlZCA9IEFSR1NbMF0uc3BsaXQo
KQogICAgZWxzZToKICAgICAgICBhcmd2X3ByZXBhcmVkID0gQVJHUwoKICAgIHNhbHRfYXJndiA9
IFsKICAgICAgICBzeXMuZXhlY3V0YWJsZSwKICAgICAgICBzYWx0X2NhbGxfcGF0aCwKICAgICAg
ICAnLS1yZXRjb2RlLXBhc3N0aHJvdWdoJywKICAgICAgICAnLS1sb2NhbCcsCiAgICAgICAgJy0t
bWV0YWRhdGEnLAogICAgICAgICctLW91dCcsICdqc29uJywKICAgICAgICAnLWwnLCAncXVpZXQn
LAogICAgICAgICctYycsIE9QVElPTlMuc2FsdGRpciwKICAgICAgICAnLS0nLAogICAgXSArIGFy
Z3ZfcHJlcGFyZWQKCiAgICBzeXMuc3RkZXJyLndyaXRlKCdTQUxUX0FSR1Y6IHswfVxuJy5mb3Jt
YXQoc2FsdF9hcmd2KSkKCiAgICAjIE9ubHkgZW1pdCB0aGUgZGVsaW1pdGVyIG9uICpib3RoKiBz
dGRvdXQgYW5kIHN0ZGVyciB3aGVuIGNvbXBsZXRlbHkgc3VjY2Vzc2Z1bC4KICAgICMgWWVzLCB0
aGUgZmx1c2goKSBpcyBuZWNlc3NhcnkuCiAgICBzeXMuc3Rkb3V0LndyaXRlKE9QVElPTlMuZGVs
aW1pdGVyICsgJ1xuJykKICAgIHN5cy5zdGRvdXQuZmx1c2goKQogICAgaWYgbm90IE9QVElPTlMu
dHR5OgogICAgICAgIHN5cy5zdGRlcnIud3JpdGUoT1BUSU9OUy5kZWxpbWl0ZXIgKyAnXG4nKQog
ICAgICAgIHN5cy5zdGRlcnIuZmx1c2goKQogICAgaWYgT1BUSU9OUy5jbWRfdW1hc2sgaXMgbm90
IE5vbmU6CiAgICAgICAgb2xkX3VtYXNrID0gb3MudW1hc2soT1BUSU9OUy5jbWRfdW1hc2spCiAg
ICBpZiBPUFRJT05TLnR0eToKICAgICAgICBzdGRvdXQsIF8gPSBzdWJwcm9jZXNzLlBvcGVuKHNh
bHRfYXJndiwgc3Rkb3V0PXN1YnByb2Nlc3MuUElQRSwgc3RkZXJyPXN1YnByb2Nlc3MuUElQRSku
Y29tbXVuaWNhdGUoKQogICAgICAgIHN5cy5zdGRvdXQud3JpdGUoc3Rkb3V0KQogICAgICAgIHN5
cy5zdGRvdXQuZmx1c2goKQogICAgICAgIGlmIE9QVElPTlMud2lwZToKICAgICAgICAgICAgc2h1
dGlsLnJtdHJlZShPUFRJT05TLnNhbHRkaXIpCiAgICBlbGlmIE9QVElPTlMud2lwZToKICAgICAg
ICBzdWJwcm9jZXNzLmNhbGwoc2FsdF9hcmd2KQogICAgICAgIHNodXRpbC5ybXRyZWUoT1BUSU9O
Uy5zYWx0ZGlyKQogICAgZWxzZToKICAgICAgICBvcy5leGVjdihzeXMuZXhlY3V0YWJsZSwgc2Fs
dF9hcmd2KQogICAgaWYgT1BUSU9OUy5jbWRfdW1hc2sgaXMgbm90IE5vbmU6CiAgICAgICAgb3Mu
dW1hc2sob2xkX3VtYXNrKQoKaWYgX19uYW1lX18gPT0gJ19fbWFpbl9fJzoKICAgIHN5cy5leGl0
KG1haW4oc3lzLmFyZ3YpKQo=
""").decode("utf-8"))'
else
exec $SUDO "$py_cmd_path" -c \
'import base64;
exec(base64.b64decode("""IyBweWxpbnQ6IGRpc2FibGU9Vzk5MDMKJycnClRoaXMgaXMgYSBzaGltIHRoYXQgaGFuZGxlcyBj
aGVja2luZyBhbmQgdXBkYXRpbmcgc2FsdCB0aGluIGFuZAp0aGVuIGludm9raW5nIHRoaW4uCgpU
aGlzIGlzIG5vdCBpbnRlbmRlZCB0byBiZSBpbnN0YW50aWF0ZWQgYXMgYSBtb2R1bGUsIHJhdGhl
ciBpdCBpcyBhCmhlbHBlciBzY3JpcHQgdXNlZCBieSBzYWx0LmNsaWVudC5zc2guU2luZ2xlLiAg
SXQgaXMgaGVyZSwgaW4gYQpzZXBhcmF0ZSBmaWxlLCBmb3IgY29udmVuaWVuY2Ugb2YgZGV2ZWxv
cG1lbnQuCicnJwoKZnJvbSBfX2Z1dHVyZV9fIGltcG9ydCBhYnNvbHV0ZV9pbXBvcnQKCmltcG9y
dCBoYXNobGliCmltcG9ydCB0YXJmaWxlCmltcG9ydCBzaHV0aWwKaW1wb3J0IHN5cwppbXBvcnQg
b3MKaW1wb3J0IHN0YXQKaW1wb3J0IHN1YnByb2Nlc3MKClRISU5fQVJDSElWRSA9ICdzYWx0LXRo
aW4udGd6JwpFWFRfQVJDSElWRSA9ICdzYWx0LWV4dF9tb2RzLnRneicKCiMgS2VlcCB0aGVzZSBp
biBzeW5jIHdpdGggc2FsdC9kZWZhdWx0cy9leGl0Y29kZXMucHkKRVhfVEhJTl9ERVBMT1kgPSAx
MQpFWF9USElOX0NIRUNLU1VNID0gMTIKRVhfTU9EX0RFUExPWSA9IDEzCkVYX1NDUF9OT1RfRk9V
TkQgPSAxNApFWF9DQU5UQ1JFQVQgPSA3MwoKCmNsYXNzIE9CSihvYmplY3QpOgogICAgIiIiQW4g
ZW1wdHkgY2xhc3MgZm9yIGhvbGRpbmcgaW5zdGFuY2UgYXR0cmlidXRlIHZhbHVlcy4iIiIKICAg
IHBhc3MKCgpPUFRJT05TID0gTm9uZQpBUkdTID0gTm9uZQojIFRoZSBiZWxvdyBsaW5lIGlzIHdo
ZXJlIE9QVElPTlMgY2FuIGJlIHJlZGVmaW5lZCB3aXRoIGludGVybmFsIG9wdGlvbnMKIyAocmF0
aGVyIHRoYW4gY2xpIGFyZ3VtZW50cykgd2hlbiB0aGUgc2hpbSBpcyBidW5kbGVkIGJ5CiMgY2xp
ZW50LnNzaC5TaW5nbGUuX2NtZF9zdHIoKQojIHB5bGludDogZGlzYWJsZT1ibG9jay1jb21tZW50
LXNob3VsZC1zdGFydC13aXRoLWNhcmRpbmFsLXNwYWNlCgpPUFRJT05TID0gT0JKKCkKT1BUSU9O
Uy5jb25maWcgPSAiIiIKe2ZpbGVzZXJ2ZXJfbGlzdF9jYWNoZV90aW1lOiAzLCBncmFpbnNfY2Fj
aGU6IHRydWUsIGlkOiBtdW5pbiwgbG9nX2ZpbGU6IHNhbHQtY2FsbC5sb2csCiAgcm9vdF9kaXI6
IC92YXIvdG1wLy5zYWx0LW9wZV8xYTM1MzJfc2FsdC9ydW5uaW5nX2RhdGEsIHNvY2tfZGlyOiAv
fQoiIiIKT1BUSU9OUy5kZWxpbWl0ZXIgPSAnX2VkYmM3ODg1ZTRmOWFhYzliODNiMzU5OTliNjhk
MDE1MTQ4Y2FmNDY3Yjc4ZmEzOWMwNWY2NjljMGZmODk4NzgnCk9QVElPTlMuc2FsdGRpciA9ICcv
dmFyL3RtcC8uc2FsdC1vcGVfMWEzNTMyX3NhbHQnCk9QVElPTlMuY2hlY2tzdW0gPSAnOTg1MjZk
OTliMWU3YjA3OWRjZWZjZWM5ZmE1Yjg1MWZmYmY5ODEzZCcKT1BUSU9OUy5oYXNoZnVuYyA9ICdz
aGExJwpPUFRJT05TLnZlcnNpb24gPSAnMjAxNi4zLjInCk9QVElPTlMuZXh0X21vZHMgPSAnJwpP
UFRJT05TLndpcGUgPSBGYWxzZQpPUFRJT05TLnR0eSA9IEZhbHNlCk9QVElPTlMuY21kX3VtYXNr
ID0gTm9uZQpBUkdTID0gWydzdGF0ZS5wa2cgL3Zhci90bXAvLnNhbHQtb3BlXzFhMzUzMl9zYWx0
L3NhbHRfc3RhdGUudGd6IHRlc3Q9VHJ1ZSBwa2dfc3VtPTMzYWU3ZWYwZWI3OTI4ODFhMzYyNmMw
YTQ2YTY4NDliIGhhc2hfdHlwZT1tZDUnXQoKCgpkZWYgbmVlZF9kZXBsb3ltZW50KCk6CiAgICAi
IiIKICAgIFNhbHQgdGhpbiBuZWVkcyB0byBiZSBkZXBsb3llZCAtIHByZXAgdGhlIHRhcmdldCBk
aXJlY3RvcnkgYW5kIGVtaXQgdGhlCiAgICBkZWxpbWV0ZXIgYW5kIGV4aXQgY29kZSB0aGF0IHNp
Z25hbHMgYSByZXF1aXJlZCBkZXBsb3ltZW50LgogICAgIiIiCiAgICBpZiBvcy5wYXRoLmV4aXN0
cyhPUFRJT05TLnNhbHRkaXIpOgogICAgICAgIHNodXRpbC5ybXRyZWUoT1BUSU9OUy5zYWx0ZGly
KQogICAgb2xkX3VtYXNrID0gb3MudW1hc2soMG8wNzcpCiAgICBvcy5tYWtlZGlycyhPUFRJT05T
LnNhbHRkaXIpCiAgICBvcy51bWFzayhvbGRfdW1hc2spCiAgICAjIFZlcmlmeSBwZXJtcyBvbiBz
YWx0ZGlyCiAgICBldWlkID0gb3MuZ2V0ZXVpZCgpCiAgICBkc3RhdCA9IG9zLnN0YXQoT1BUSU9O
Uy5zYWx0ZGlyKQogICAgaWYgZHN0YXQuc3RfdWlkICE9IGV1aWQ6CiAgICAgICAgIyBBdHRhY2sg
ZGV0ZWN0ZWQsIHRyeSBhZ2FpbgogICAgICAgIG5lZWRfZGVwbG95bWVudCgpCiAgICBpZiBkc3Rh
dC5zdF9tb2RlICE9IDE2ODMyOgogICAgICAgICMgQXR0YWNrIGRldGVjdGVkCiAgICAgICAgbmVl
ZF9kZXBsb3ltZW50KCkKICAgICMgSWYgU1VET2luZyB0aGVuIGFsc28gZ2l2ZSB0aGUgc3VwZXIg
dXNlciBncm91cCB3cml0ZSBwZXJtaXNzaW9ucwogICAgc3Vkb19naWQgPSBvcy5lbnZpcm9uLmdl
dCgnU1VET19HSUQnKQogICAgaWYgc3Vkb19naWQ6CiAgICAgICAgb3MuY2hvd24oT1BUSU9OUy5z
YWx0ZGlyLCAtMSwgaW50KHN1ZG9fZ2lkKSkKICAgICAgICBzdHQgPSBvcy5zdGF0KE9QVElPTlMu
c2FsdGRpcikKICAgICAgICBvcy5jaG1vZChPUFRJT05TLnNhbHRkaXIsIHN0dC5zdF9tb2RlIHwg
c3RhdC5TX0lXR1JQIHwgc3RhdC5TX0lSR1JQIHwgc3RhdC5TX0lYR1JQKQoKICAgICMgRGVsaW1p
dGVyIGVtaXR0ZWQgb24gc3Rkb3V0ICpvbmx5KiB0byBpbmRpY2F0ZSBzaGltIG1lc3NhZ2UgdG8g
bWFzdGVyLgogICAgc3lzLnN0ZG91dC53cml0ZSgiezB9XG5kZXBsb3lcbiIuZm9ybWF0KE9QVElP
TlMuZGVsaW1pdGVyKSkKICAgIHN5cy5leGl0KEVYX1RISU5fREVQTE9ZKQoKCiMgQWRhcHRlZCBm
cm9tIHNhbHQudXRpbHMuZ2V0X2hhc2goKQpkZWYgZ2V0X2hhc2gocGF0aCwgZm9ybT0nc2hhMScs
IGNodW5rX3NpemU9NDA5Nik6CiAgICAiIiJHZW5lcmF0ZSBhIGhhc2ggZGlnZXN0IHN0cmluZyBm
b3IgYSBmaWxlLiIiIgogICAgdHJ5OgogICAgICAgIGhhc2hfdHlwZSA9IGdldGF0dHIoaGFzaGxp
YiwgZm9ybSkKICAgIGV4Y2VwdCBBdHRyaWJ1dGVFcnJvcjoKICAgICAgICByYWlzZSBWYWx1ZUVy
cm9yKCdJbnZhbGlkIGhhc2ggdHlwZTogezB9Jy5mb3JtYXQoZm9ybSkpCiAgICB3aXRoIG9wZW4o
cGF0aCwgJ3JiJykgYXMgaWZpbGU6CiAgICAgICAgaGFzaF9vYmogPSBoYXNoX3R5cGUoKQogICAg
ICAgICMgcmVhZCB0aGUgZmlsZSBpbiBpbiBjaHVua3MsIG5vdCB0aGUgZW50aXJlIGZpbGUKICAg
ICAgICBmb3IgY2h1bmsgaW4gaXRlcihsYW1iZGE6IGlmaWxlLnJlYWQoY2h1bmtfc2l6ZSksIGIn
Jyk6CiAgICAgICAgICAgIGhhc2hfb2JqLnVwZGF0ZShjaHVuaykKICAgICAgICByZXR1cm4gaGFz
aF9vYmouaGV4ZGlnZXN0KCkKCgpkZWYgdW5wYWNrX3RoaW4odGhpbl9wYXRoKToKICAgICIiIlVu
cGFjayB0aGUgU2FsdCB0aGluIGFyY2hpdmUuIiIiCiAgICB0ZmlsZSA9IHRhcmZpbGUuVGFyRmls
ZS5nem9wZW4odGhpbl9wYXRoKQogICAgb2xkX3VtYXNrID0gb3MudW1hc2soMG8wNzcpCiAgICB0
ZmlsZS5leHRyYWN0YWxsKHBhdGg9T1BUSU9OUy5zYWx0ZGlyKQogICAgdGZpbGUuY2xvc2UoKQog
ICAgb3MudW1hc2sob2xkX3VtYXNrKQogICAgb3MudW5saW5rKHRoaW5fcGF0aCkKCgpkZWYgbmVl
ZF9leHQoKToKICAgICIiIlNpZ25hbCB0aGF0IGV4dGVybmFsIG1vZHVsZXMgbmVlZCB0byBiZSBk
ZXBsb3llZC4iIiIKICAgIHN5cy5zdGRvdXQud3JpdGUoInswfVxuZXh0X21vZHNcbiIuZm9ybWF0
KE9QVElPTlMuZGVsaW1pdGVyKSkKICAgIHN5cy5leGl0KEVYX01PRF9ERVBMT1kpCgoKZGVmIHVu
cGFja19leHQoZXh0X3BhdGgpOgogICAgIiIiVW5wYWNrIHRoZSBleHRlcm5hbCBtb2R1bGVzLiIi
IgogICAgbW9kY2FjaGUgPSBvcy5wYXRoLmpvaW4oCiAgICAgICAgICAgIE9QVElPTlMuc2FsdGRp
ciwKICAgICAgICAgICAgJ3J1bm5pbmdfZGF0YScsCiAgICAgICAgICAgICd2YXInLAogICAgICAg
ICAgICAnY2FjaGUnLAogICAgICAgICAgICAnc2FsdCcsCiAgICAgICAgICAgICdtaW5pb24nLAog
ICAgICAgICAgICAnZXh0bW9kcycpCiAgICB0ZmlsZSA9IHRhcmZpbGUuVGFyRmlsZS5nem9wZW4o
ZXh0X3BhdGgpCiAgICBvbGRfdW1hc2sgPSBvcy51bWFzaygwbzA3NykKICAgIHRmaWxlLmV4dHJh
Y3RhbGwocGF0aD1tb2RjYWNoZSkKICAgIHRmaWxlLmNsb3NlKCkKICAgIG9zLnVtYXNrKG9sZF91
bWFzaykKICAgIG9zLnVubGluayhleHRfcGF0aCkKICAgIHZlcl9wYXRoID0gb3MucGF0aC5qb2lu
KG1vZGNhY2hlLCAnZXh0X3ZlcnNpb24nKQogICAgdmVyX2RzdCA9IG9zLnBhdGguam9pbihPUFRJ
T05TLnNhbHRkaXIsICdleHRfdmVyc2lvbicpCiAgICBzaHV0aWwubW92ZSh2ZXJfcGF0aCwgdmVy
X2RzdCkKCgpkZWYgbWFpbihhcmd2KTogICMgcHlsaW50OiBkaXNhYmxlPVcwNjEzCiAgICAiIiJN
YWluIHByb2dyYW0gYm9keSIiIgogICAgdGhpbl9wYXRoID0gb3MucGF0aC5qb2luKE9QVElPTlMu
c2FsdGRpciwgVEhJTl9BUkNISVZFKQogICAgaWYgb3MucGF0aC5pc2ZpbGUodGhpbl9wYXRoKToK
ICAgICAgICBpZiBPUFRJT05TLmNoZWNrc3VtICE9IGdldF9oYXNoKHRoaW5fcGF0aCwgT1BUSU9O
Uy5oYXNoZnVuYyk6CiAgICAgICAgICAgIHN5cy5zdGRlcnIud3JpdGUoJ3swfVxuJy5mb3JtYXQo
T1BUSU9OUy5jaGVja3N1bSkpCiAgICAgICAgICAgIHN5cy5zdGRlcnIud3JpdGUoJ3swfVxuJy5m
b3JtYXQoZ2V0X2hhc2godGhpbl9wYXRoLCBPUFRJT05TLmhhc2hmdW5jKSkpCiAgICAgICAgICAg
IG9zLnVubGluayh0aGluX3BhdGgpCiAgICAgICAgICAgIHN5cy5zdGRlcnIud3JpdGUoJ1dBUk5J
Tkc6IGNoZWNrc3VtIG1pc21hdGNoIGZvciAiezB9IlxuJy5mb3JtYXQodGhpbl9wYXRoKSkKICAg
ICAgICAgICAgc3lzLmV4aXQoRVhfVEhJTl9DSEVDS1NVTSkKICAgICAgICB1bnBhY2tfdGhpbih0
aGluX3BhdGgpCiAgICAgICAgIyBTYWx0IHRoaW4gbm93IGlzIGF2YWlsYWJsZSB0byB1c2UKICAg
IGVsc2U6CiAgICAgICAgc2Nwc3RhdCA9IHN1YnByb2Nlc3MuUG9wZW4oWycvYmluL3NoJywgJy1j
JywgJ2NvbW1hbmQgLXYgc2NwJ10pLndhaXQoKQogICAgICAgIGlmIHNjcHN0YXQgIT0gMDoKICAg
ICAgICAgICAgc3lzLmV4aXQoRVhfU0NQX05PVF9GT1VORCkKCiAgICAgICAgaWYgbm90IG9zLnBh
dGguZXhpc3RzKE9QVElPTlMuc2FsdGRpcik6CiAgICAgICAgICAgIG5lZWRfZGVwbG95bWVudCgp
CgogICAgICAgIGlmIG5vdCBvcy5wYXRoLmlzZGlyKE9QVElPTlMuc2FsdGRpcik6CiAgICAgICAg
ICAgIHN5cy5zdGRlcnIud3JpdGUoCiAgICAgICAgICAgICAgICAnRVJST1I6IHNhbHQgcGF0aCAi
ezB9IiBleGlzdHMgYnV0IGlzJwogICAgICAgICAgICAgICAgJyBub3QgYSBkaXJlY3Rvcnlcbicu
Zm9ybWF0KE9QVElPTlMuc2FsdGRpcikKICAgICAgICAgICAgKQogICAgICAgICAgICBzeXMuZXhp
dChFWF9DQU5UQ1JFQVQpCgogICAgICAgIHZlcnNpb25fcGF0aCA9IG9zLnBhdGguam9pbihPUFRJ
T05TLnNhbHRkaXIsICd2ZXJzaW9uJykKICAgICAgICBpZiBub3Qgb3MucGF0aC5leGlzdHModmVy
c2lvbl9wYXRoKSBvciBub3Qgb3MucGF0aC5pc2ZpbGUodmVyc2lvbl9wYXRoKToKICAgICAgICAg
ICAgc3lzLnN0ZGVyci53cml0ZSgKICAgICAgICAgICAgICAgICdXQVJOSU5HOiBVbmFibGUgdG8g
bG9jYXRlIGN1cnJlbnQgdGhpbiAnCiAgICAgICAgICAgICAgICAnIHZlcnNpb246IHswfS5cbicu
Zm9ybWF0KHZlcnNpb25fcGF0aCkKICAgICAgICAgICAgKQogICAgICAgICAgICBuZWVkX2RlcGxv
eW1lbnQoKQogICAgICAgIHdpdGggb3Blbih2ZXJzaW9uX3BhdGgsICdyJykgYXMgdnBvOgogICAg
ICAgICAgICBjdXJfdmVyc2lvbiA9IHZwby5yZWFkbGluZSgpLnN0cmlwKCkKICAgICAgICBpZiBj
dXJfdmVyc2lvbiAhPSBPUFRJT05TLnZlcnNpb246CiAgICAgICAgICAgIHN5cy5zdGRlcnIud3Jp
dGUoCiAgICAgICAgICAgICAgICAnV0FSTklORzogY3VycmVudCB0aGluIHZlcnNpb24gezB9Jwog
ICAgICAgICAgICAgICAgJyBpcyBub3QgdXAtdG8tZGF0ZSB3aXRoIHsxfS5cbicuZm9ybWF0KAog
ICAgICAgICAgICAgICAgICAgIGN1cl92ZXJzaW9uLCBPUFRJT05TLnZlcnNpb24KICAgICAgICAg
ICAgICAgICkKICAgICAgICAgICAgKQogICAgICAgICAgICBuZWVkX2RlcGxveW1lbnQoKQogICAg
ICAgICMgU2FsdCB0aGluIGV4aXN0cyBhbmQgaXMgdXAtdG8tZGF0ZSAtIGZhbGwgdGhyb3VnaCBh
bmQgdXNlIGl0CgogICAgc2FsdF9jYWxsX3BhdGggPSBvcy5wYXRoLmpvaW4oT1BUSU9OUy5zYWx0
ZGlyLCAnc2FsdC1jYWxsJykKICAgIGlmIG5vdCBvcy5wYXRoLmlzZmlsZShzYWx0X2NhbGxfcGF0
aCk6CiAgICAgICAgc3lzLnN0ZGVyci53cml0ZSgnRVJST1I6IHRoaW4gaXMgbWlzc2luZyAiezB9
IlxuJy5mb3JtYXQoc2FsdF9jYWxsX3BhdGgpKQogICAgICAgIG5lZWRfZGVwbG95bWVudCgpCgog
ICAgd2l0aCBvcGVuKG9zLnBhdGguam9pbihPUFRJT05TLnNhbHRkaXIsICdtaW5pb24nKSwgJ3cn
KSBhcyBjb25maWc6CiAgICAgICAgY29uZmlnLndyaXRlKE9QVElPTlMuY29uZmlnICsgJ1xuJykK
ICAgIGlmIE9QVElPTlMuZXh0X21vZHM6CiAgICAgICAgZXh0X3BhdGggPSBvcy5wYXRoLmpvaW4o
T1BUSU9OUy5zYWx0ZGlyLCBFWFRfQVJDSElWRSkKICAgICAgICBpZiBvcy5wYXRoLmV4aXN0cyhl
eHRfcGF0aCk6CiAgICAgICAgICAgIHVucGFja19leHQoZXh0X3BhdGgpCiAgICAgICAgZWxzZToK
ICAgICAgICAgICAgdmVyc2lvbl9wYXRoID0gb3MucGF0aC5qb2luKE9QVElPTlMuc2FsdGRpciwg
J2V4dF92ZXJzaW9uJykKICAgICAgICAgICAgaWYgbm90IG9zLnBhdGguZXhpc3RzKHZlcnNpb25f
cGF0aCkgb3Igbm90IG9zLnBhdGguaXNmaWxlKHZlcnNpb25fcGF0aCk6CiAgICAgICAgICAgICAg
ICBuZWVkX2V4dCgpCiAgICAgICAgICAgIHdpdGggb3Blbih2ZXJzaW9uX3BhdGgsICdyJykgYXMg
dnBvOgogICAgICAgICAgICAgICAgY3VyX3ZlcnNpb24gPSB2cG8ucmVhZGxpbmUoKS5zdHJpcCgp
CiAgICAgICAgICAgIGlmIGN1cl92ZXJzaW9uICE9IE9QVElPTlMuZXh0X21vZHM6CiAgICAgICAg
ICAgICAgICBuZWVkX2V4dCgpCiAgICAjIEZpeCBwYXJhbWV0ZXIgcGFzc2luZyBpc3N1ZQogICAg
aWYgbGVuKEFSR1MpID09IDE6CiAgICAgICAgYXJndl9wcmVwYXJlZCA9IEFSR1NbMF0uc3BsaXQo
KQogICAgZWxzZToKICAgICAgICBhcmd2X3ByZXBhcmVkID0gQVJHUwoKICAgIHNhbHRfYXJndiA9
IFsKICAgICAgICBzeXMuZXhlY3V0YWJsZSwKICAgICAgICBzYWx0X2NhbGxfcGF0aCwKICAgICAg
ICAnLS1yZXRjb2RlLXBhc3N0aHJvdWdoJywKICAgICAgICAnLS1sb2NhbCcsCiAgICAgICAgJy0t
bWV0YWRhdGEnLAogICAgICAgICctLW91dCcsICdqc29uJywKICAgICAgICAnLWwnLCAncXVpZXQn
LAogICAgICAgICctYycsIE9QVElPTlMuc2FsdGRpciwKICAgICAgICAnLS0nLAogICAgXSArIGFy
Z3ZfcHJlcGFyZWQKCiAgICBzeXMuc3RkZXJyLndyaXRlKCdTQUxUX0FSR1Y6IHswfVxuJy5mb3Jt
YXQoc2FsdF9hcmd2KSkKCiAgICAjIE9ubHkgZW1pdCB0aGUgZGVsaW1pdGVyIG9uICpib3RoKiBz
dGRvdXQgYW5kIHN0ZGVyciB3aGVuIGNvbXBsZXRlbHkgc3VjY2Vzc2Z1bC4KICAgICMgWWVzLCB0
aGUgZmx1c2goKSBpcyBuZWNlc3NhcnkuCiAgICBzeXMuc3Rkb3V0LndyaXRlKE9QVElPTlMuZGVs
aW1pdGVyICsgJ1xuJykKICAgIHN5cy5zdGRvdXQuZmx1c2goKQogICAgaWYgbm90IE9QVElPTlMu
dHR5OgogICAgICAgIHN5cy5zdGRlcnIud3JpdGUoT1BUSU9OUy5kZWxpbWl0ZXIgKyAnXG4nKQog
ICAgICAgIHN5cy5zdGRlcnIuZmx1c2goKQogICAgaWYgT1BUSU9OUy5jbWRfdW1hc2sgaXMgbm90
IE5vbmU6CiAgICAgICAgb2xkX3VtYXNrID0gb3MudW1hc2soT1BUSU9OUy5jbWRfdW1hc2spCiAg
ICBpZiBPUFRJT05TLnR0eToKICAgICAgICBzdGRvdXQsIF8gPSBzdWJwcm9jZXNzLlBvcGVuKHNh
bHRfYXJndiwgc3Rkb3V0PXN1YnByb2Nlc3MuUElQRSwgc3RkZXJyPXN1YnByb2Nlc3MuUElQRSku
Y29tbXVuaWNhdGUoKQogICAgICAgIHN5cy5zdGRvdXQud3JpdGUoc3Rkb3V0KQogICAgICAgIHN5
cy5zdGRvdXQuZmx1c2goKQogICAgICAgIGlmIE9QVElPTlMud2lwZToKICAgICAgICAgICAgc2h1
dGlsLnJtdHJlZShPUFRJT05TLnNhbHRkaXIpCiAgICBlbGlmIE9QVElPTlMud2lwZToKICAgICAg
ICBzdWJwcm9jZXNzLmNhbGwoc2FsdF9hcmd2KQogICAgICAgIHNodXRpbC5ybXRyZWUoT1BUSU9O
Uy5zYWx0ZGlyKQogICAgZWxzZToKICAgICAgICBvcy5leGVjdihzeXMuZXhlY3V0YWJsZSwgc2Fs
dF9hcmd2KQogICAgaWYgT1BUSU9OUy5jbWRfdW1hc2sgaXMgbm90IE5vbmU6CiAgICAgICAgb3Mu
dW1hc2sob2xkX3VtYXNrKQoKaWYgX19uYW1lX18gPT0gJ19fbWFpbl9fJzoKICAgIHN5cy5leGl0
KG1haW4oc3lzLmFyZ3YpKQo=
""").decode("utf-8"))'
fi
exit 0
else
continue
fi
done
echo "ERROR: Unable to locate appropriate python command" >&2
exit $EX_PYTHON_INVALID
EOF
2016-10-19 23:58:08,074 [salt.utils.vt    ][DEBUG   ][1694] Child Forked! PID: 1703  STDOUT_FD: 9  STDERR_FD: 11
2016-10-19 23:58:08,079 [salt.utils.vt    ][DEBUG   ][1694] VT: Salt-SSH SHIM Terminal Command executed. Logged to TRACE
2016-10-19 23:58:08,080 [salt.utils.vt    ][TRACE   ][1694] Terminal Command: /bin/sh -c ssh 192.168.1.15  -o KbdInteractiveAuthentication=no -o PasswordAuthentication=yes -o GSSAPIAuthentication=no -o ConnectTimeout=65 -o Port=22 -o IdentityFile=/root/saltstack_master/etc/salt/pki/master/ssh/salt-ssh.rsa -o User=salt-ope  /bin/sh << 'EOF'
set -e
set -u
DEBUG=""
if [ -n "$DEBUG" ]
then set -x
fi
SUDO=""
if [ -n "sudo" ]
then SUDO="sudo "
fi
EX_PYTHON_INVALID=10
PYTHON_CMDS="python3 python27 python2.7 python26 python2.6 python2 python"
for py_cmd in $PYTHON_CMDS
do
if command -v "$py_cmd" >/dev/null 2>&1 && "$py_cmd" -c \
"import sys; sys.exit(not (sys.version_info >= (2, 6)
and sys.version_info[0] == 2));"
then
py_cmd_path=`"$py_cmd" -c \
'from __future__ import print_function;
import sys; print(sys.executable);'`
cmdpath=$(which $py_cmd 2>&1)
if file $cmdpath | grep "shell script" > /dev/null
then
ex_vars="'PATH', 'LD_LIBRARY_PATH', 'MANPATH', \
'XDG_DATA_DIRS', 'PKG_CONFIG_PATH'"
export $($py_cmd -c \
"from __future__ import print_function;
import sys;
import os;
map(sys.stdout.write, ['{0}={1} ' \
.format(x, os.environ[x]) for x in [$ex_vars]])")
exec $SUDO PATH=$PATH LD_LIBRARY_PATH=$LD_LIBRARY_PATH \
MANPATH=$MANPATH XDG_DATA_DIRS=$XDG_DATA_DIRS \
PKG_CONFIG_PATH=$PKG_CONFIG_PATH \
"$py_cmd_path" -c \
'import base64;
exec(base64.b64decode("""IyBweWxpbnQ6IGRpc2FibGU9Vzk5MDMKJycnClRoaXMgaXMgYSBzaGltIHRoYXQgaGFuZGxlcyBj
aGVja2luZyBhbmQgdXBkYXRpbmcgc2FsdCB0aGluIGFuZAp0aGVuIGludm9raW5nIHRoaW4uCgpU
aGlzIGlzIG5vdCBpbnRlbmRlZCB0byBiZSBpbnN0YW50aWF0ZWQgYXMgYSBtb2R1bGUsIHJhdGhl
ciBpdCBpcyBhCmhlbHBlciBzY3JpcHQgdXNlZCBieSBzYWx0LmNsaWVudC5zc2guU2luZ2xlLiAg
SXQgaXMgaGVyZSwgaW4gYQpzZXBhcmF0ZSBmaWxlLCBmb3IgY29udmVuaWVuY2Ugb2YgZGV2ZWxv
cG1lbnQuCicnJwoKZnJvbSBfX2Z1dHVyZV9fIGltcG9ydCBhYnNvbHV0ZV9pbXBvcnQKCmltcG9y
dCBoYXNobGliCmltcG9ydCB0YXJmaWxlCmltcG9ydCBzaHV0aWwKaW1wb3J0IHN5cwppbXBvcnQg
b3MKaW1wb3J0IHN0YXQKaW1wb3J0IHN1YnByb2Nlc3MKClRISU5fQVJDSElWRSA9ICdzYWx0LXRo
aW4udGd6JwpFWFRfQVJDSElWRSA9ICdzYWx0LWV4dF9tb2RzLnRneicKCiMgS2VlcCB0aGVzZSBp
biBzeW5jIHdpdGggc2FsdC9kZWZhdWx0cy9leGl0Y29kZXMucHkKRVhfVEhJTl9ERVBMT1kgPSAx
MQpFWF9USElOX0NIRUNLU1VNID0gMTIKRVhfTU9EX0RFUExPWSA9IDEzCkVYX1NDUF9OT1RfRk9V
TkQgPSAxNApFWF9DQU5UQ1JFQVQgPSA3MwoKCmNsYXNzIE9CSihvYmplY3QpOgogICAgIiIiQW4g
ZW1wdHkgY2xhc3MgZm9yIGhvbGRpbmcgaW5zdGFuY2UgYXR0cmlidXRlIHZhbHVlcy4iIiIKICAg
IHBhc3MKCgpPUFRJT05TID0gTm9uZQpBUkdTID0gTm9uZQojIFRoZSBiZWxvdyBsaW5lIGlzIHdo
ZXJlIE9QVElPTlMgY2FuIGJlIHJlZGVmaW5lZCB3aXRoIGludGVybmFsIG9wdGlvbnMKIyAocmF0
aGVyIHRoYW4gY2xpIGFyZ3VtZW50cykgd2hlbiB0aGUgc2hpbSBpcyBidW5kbGVkIGJ5CiMgY2xp
ZW50LnNzaC5TaW5nbGUuX2NtZF9zdHIoKQojIHB5bGludDogZGlzYWJsZT1ibG9jay1jb21tZW50
LXNob3VsZC1zdGFydC13aXRoLWNhcmRpbmFsLXNwYWNlCgpPUFRJT05TID0gT0JKKCkKT1BUSU9O
Uy5jb25maWcgPSAiIiIKe2ZpbGVzZXJ2ZXJfbGlzdF9jYWNoZV90aW1lOiAzLCBncmFpbnNfY2Fj
aGU6IHRydWUsIGlkOiBtdW5pbiwgbG9nX2ZpbGU6IHNhbHQtY2FsbC5sb2csCiAgcm9vdF9kaXI6
IC92YXIvdG1wLy5zYWx0LW9wZV8xYTM1MzJfc2FsdC9ydW5uaW5nX2RhdGEsIHNvY2tfZGlyOiAv
fQoiIiIKT1BUSU9OUy5kZWxpbWl0ZXIgPSAnX2VkYmM3ODg1ZTRmOWFhYzliODNiMzU5OTliNjhk
MDE1MTQ4Y2FmNDY3Yjc4ZmEzOWMwNWY2NjljMGZmODk4NzgnCk9QVElPTlMuc2FsdGRpciA9ICcv
dmFyL3RtcC8uc2FsdC1vcGVfMWEzNTMyX3NhbHQnCk9QVElPTlMuY2hlY2tzdW0gPSAnOTg1MjZk
OTliMWU3YjA3OWRjZWZjZWM5ZmE1Yjg1MWZmYmY5ODEzZCcKT1BUSU9OUy5oYXNoZnVuYyA9ICdz
aGExJwpPUFRJT05TLnZlcnNpb24gPSAnMjAxNi4zLjInCk9QVElPTlMuZXh0X21vZHMgPSAnJwpP
UFRJT05TLndpcGUgPSBGYWxzZQpPUFRJT05TLnR0eSA9IEZhbHNlCk9QVElPTlMuY21kX3VtYXNr
ID0gTm9uZQpBUkdTID0gWydzdGF0ZS5wa2cgL3Zhci90bXAvLnNhbHQtb3BlXzFhMzUzMl9zYWx0
L3NhbHRfc3RhdGUudGd6IHRlc3Q9VHJ1ZSBwa2dfc3VtPTMzYWU3ZWYwZWI3OTI4ODFhMzYyNmMw
YTQ2YTY4NDliIGhhc2hfdHlwZT1tZDUnXQoKCgpkZWYgbmVlZF9kZXBsb3ltZW50KCk6CiAgICAi
IiIKICAgIFNhbHQgdGhpbiBuZWVkcyB0byBiZSBkZXBsb3llZCAtIHByZXAgdGhlIHRhcmdldCBk
aXJlY3RvcnkgYW5kIGVtaXQgdGhlCiAgICBkZWxpbWV0ZXIgYW5kIGV4aXQgY29kZSB0aGF0IHNp
Z25hbHMgYSByZXF1aXJlZCBkZXBsb3ltZW50LgogICAgIiIiCiAgICBpZiBvcy5wYXRoLmV4aXN0
cyhPUFRJT05TLnNhbHRkaXIpOgogICAgICAgIHNodXRpbC5ybXRyZWUoT1BUSU9OUy5zYWx0ZGly
KQogICAgb2xkX3VtYXNrID0gb3MudW1hc2soMG8wNzcpCiAgICBvcy5tYWtlZGlycyhPUFRJT05T
LnNhbHRkaXIpCiAgICBvcy51bWFzayhvbGRfdW1hc2spCiAgICAjIFZlcmlmeSBwZXJtcyBvbiBz
YWx0ZGlyCiAgICBldWlkID0gb3MuZ2V0ZXVpZCgpCiAgICBkc3RhdCA9IG9zLnN0YXQoT1BUSU9O
Uy5zYWx0ZGlyKQogICAgaWYgZHN0YXQuc3RfdWlkICE9IGV1aWQ6CiAgICAgICAgIyBBdHRhY2sg
ZGV0ZWN0ZWQsIHRyeSBhZ2FpbgogICAgICAgIG5lZWRfZGVwbG95bWVudCgpCiAgICBpZiBkc3Rh
dC5zdF9tb2RlICE9IDE2ODMyOgogICAgICAgICMgQXR0YWNrIGRldGVjdGVkCiAgICAgICAgbmVl
ZF9kZXBsb3ltZW50KCkKICAgICMgSWYgU1VET2luZyB0aGVuIGFsc28gZ2l2ZSB0aGUgc3VwZXIg
dXNlciBncm91cCB3cml0ZSBwZXJtaXNzaW9ucwogICAgc3Vkb19naWQgPSBvcy5lbnZpcm9uLmdl
dCgnU1VET19HSUQnKQogICAgaWYgc3Vkb19naWQ6CiAgICAgICAgb3MuY2hvd24oT1BUSU9OUy5z
YWx0ZGlyLCAtMSwgaW50KHN1ZG9fZ2lkKSkKICAgICAgICBzdHQgPSBvcy5zdGF0KE9QVElPTlMu
c2FsdGRpcikKICAgICAgICBvcy5jaG1vZChPUFRJT05TLnNhbHRkaXIsIHN0dC5zdF9tb2RlIHwg
c3RhdC5TX0lXR1JQIHwgc3RhdC5TX0lSR1JQIHwgc3RhdC5TX0lYR1JQKQoKICAgICMgRGVsaW1p
dGVyIGVtaXR0ZWQgb24gc3Rkb3V0ICpvbmx5KiB0byBpbmRpY2F0ZSBzaGltIG1lc3NhZ2UgdG8g
bWFzdGVyLgogICAgc3lzLnN0ZG91dC53cml0ZSgiezB9XG5kZXBsb3lcbiIuZm9ybWF0KE9QVElP
TlMuZGVsaW1pdGVyKSkKICAgIHN5cy5leGl0KEVYX1RISU5fREVQTE9ZKQoKCiMgQWRhcHRlZCBm
cm9tIHNhbHQudXRpbHMuZ2V0X2hhc2goKQpkZWYgZ2V0X2hhc2gocGF0aCwgZm9ybT0nc2hhMScs
IGNodW5rX3NpemU9NDA5Nik6CiAgICAiIiJHZW5lcmF0ZSBhIGhhc2ggZGlnZXN0IHN0cmluZyBm
b3IgYSBmaWxlLiIiIgogICAgdHJ5OgogICAgICAgIGhhc2hfdHlwZSA9IGdldGF0dHIoaGFzaGxp
YiwgZm9ybSkKICAgIGV4Y2VwdCBBdHRyaWJ1dGVFcnJvcjoKICAgICAgICByYWlzZSBWYWx1ZUVy
cm9yKCdJbnZhbGlkIGhhc2ggdHlwZTogezB9Jy5mb3JtYXQoZm9ybSkpCiAgICB3aXRoIG9wZW4o
cGF0aCwgJ3JiJykgYXMgaWZpbGU6CiAgICAgICAgaGFzaF9vYmogPSBoYXNoX3R5cGUoKQogICAg
ICAgICMgcmVhZCB0aGUgZmlsZSBpbiBpbiBjaHVua3MsIG5vdCB0aGUgZW50aXJlIGZpbGUKICAg
ICAgICBmb3IgY2h1bmsgaW4gaXRlcihsYW1iZGE6IGlmaWxlLnJlYWQoY2h1bmtfc2l6ZSksIGIn
Jyk6CiAgICAgICAgICAgIGhhc2hfb2JqLnVwZGF0ZShjaHVuaykKICAgICAgICByZXR1cm4gaGFz
aF9vYmouaGV4ZGlnZXN0KCkKCgpkZWYgdW5wYWNrX3RoaW4odGhpbl9wYXRoKToKICAgICIiIlVu
cGFjayB0aGUgU2FsdCB0aGluIGFyY2hpdmUuIiIiCiAgICB0ZmlsZSA9IHRhcmZpbGUuVGFyRmls
ZS5nem9wZW4odGhpbl9wYXRoKQogICAgb2xkX3VtYXNrID0gb3MudW1hc2soMG8wNzcpCiAgICB0
ZmlsZS5leHRyYWN0YWxsKHBhdGg9T1BUSU9OUy5zYWx0ZGlyKQogICAgdGZpbGUuY2xvc2UoKQog
ICAgb3MudW1hc2sob2xkX3VtYXNrKQogICAgb3MudW5saW5rKHRoaW5fcGF0aCkKCgpkZWYgbmVl
ZF9leHQoKToKICAgICIiIlNpZ25hbCB0aGF0IGV4dGVybmFsIG1vZHVsZXMgbmVlZCB0byBiZSBk
ZXBsb3llZC4iIiIKICAgIHN5cy5zdGRvdXQud3JpdGUoInswfVxuZXh0X21vZHNcbiIuZm9ybWF0
KE9QVElPTlMuZGVsaW1pdGVyKSkKICAgIHN5cy5leGl0KEVYX01PRF9ERVBMT1kpCgoKZGVmIHVu
cGFja19leHQoZXh0X3BhdGgpOgogICAgIiIiVW5wYWNrIHRoZSBleHRlcm5hbCBtb2R1bGVzLiIi
IgogICAgbW9kY2FjaGUgPSBvcy5wYXRoLmpvaW4oCiAgICAgICAgICAgIE9QVElPTlMuc2FsdGRp
ciwKICAgICAgICAgICAgJ3J1bm5pbmdfZGF0YScsCiAgICAgICAgICAgICd2YXInLAogICAgICAg
ICAgICAnY2FjaGUnLAogICAgICAgICAgICAnc2FsdCcsCiAgICAgICAgICAgICdtaW5pb24nLAog
ICAgICAgICAgICAnZXh0bW9kcycpCiAgICB0ZmlsZSA9IHRhcmZpbGUuVGFyRmlsZS5nem9wZW4o
ZXh0X3BhdGgpCiAgICBvbGRfdW1hc2sgPSBvcy51bWFzaygwbzA3NykKICAgIHRmaWxlLmV4dHJh
Y3RhbGwocGF0aD1tb2RjYWNoZSkKICAgIHRmaWxlLmNsb3NlKCkKICAgIG9zLnVtYXNrKG9sZF91
bWFzaykKICAgIG9zLnVubGluayhleHRfcGF0aCkKICAgIHZlcl9wYXRoID0gb3MucGF0aC5qb2lu
KG1vZGNhY2hlLCAnZXh0X3ZlcnNpb24nKQogICAgdmVyX2RzdCA9IG9zLnBhdGguam9pbihPUFRJ
T05TLnNhbHRkaXIsICdleHRfdmVyc2lvbicpCiAgICBzaHV0aWwubW92ZSh2ZXJfcGF0aCwgdmVy
X2RzdCkKCgpkZWYgbWFpbihhcmd2KTogICMgcHlsaW50OiBkaXNhYmxlPVcwNjEzCiAgICAiIiJN
YWluIHByb2dyYW0gYm9keSIiIgogICAgdGhpbl9wYXRoID0gb3MucGF0aC5qb2luKE9QVElPTlMu
c2FsdGRpciwgVEhJTl9BUkNISVZFKQogICAgaWYgb3MucGF0aC5pc2ZpbGUodGhpbl9wYXRoKToK
ICAgICAgICBpZiBPUFRJT05TLmNoZWNrc3VtICE9IGdldF9oYXNoKHRoaW5fcGF0aCwgT1BUSU9O
Uy5oYXNoZnVuYyk6CiAgICAgICAgICAgIHN5cy5zdGRlcnIud3JpdGUoJ3swfVxuJy5mb3JtYXQo
T1BUSU9OUy5jaGVja3N1bSkpCiAgICAgICAgICAgIHN5cy5zdGRlcnIud3JpdGUoJ3swfVxuJy5m
b3JtYXQoZ2V0X2hhc2godGhpbl9wYXRoLCBPUFRJT05TLmhhc2hmdW5jKSkpCiAgICAgICAgICAg
IG9zLnVubGluayh0aGluX3BhdGgpCiAgICAgICAgICAgIHN5cy5zdGRlcnIud3JpdGUoJ1dBUk5J
Tkc6IGNoZWNrc3VtIG1pc21hdGNoIGZvciAiezB9IlxuJy5mb3JtYXQodGhpbl9wYXRoKSkKICAg
ICAgICAgICAgc3lzLmV4aXQoRVhfVEhJTl9DSEVDS1NVTSkKICAgICAgICB1bnBhY2tfdGhpbih0
aGluX3BhdGgpCiAgICAgICAgIyBTYWx0IHRoaW4gbm93IGlzIGF2YWlsYWJsZSB0byB1c2UKICAg
IGVsc2U6CiAgICAgICAgc2Nwc3RhdCA9IHN1YnByb2Nlc3MuUG9wZW4oWycvYmluL3NoJywgJy1j
JywgJ2NvbW1hbmQgLXYgc2NwJ10pLndhaXQoKQogICAgICAgIGlmIHNjcHN0YXQgIT0gMDoKICAg
ICAgICAgICAgc3lzLmV4aXQoRVhfU0NQX05PVF9GT1VORCkKCiAgICAgICAgaWYgbm90IG9zLnBh
dGguZXhpc3RzKE9QVElPTlMuc2FsdGRpcik6CiAgICAgICAgICAgIG5lZWRfZGVwbG95bWVudCgp
CgogICAgICAgIGlmIG5vdCBvcy5wYXRoLmlzZGlyKE9QVElPTlMuc2FsdGRpcik6CiAgICAgICAg
ICAgIHN5cy5zdGRlcnIud3JpdGUoCiAgICAgICAgICAgICAgICAnRVJST1I6IHNhbHQgcGF0aCAi
ezB9IiBleGlzdHMgYnV0IGlzJwogICAgICAgICAgICAgICAgJyBub3QgYSBkaXJlY3Rvcnlcbicu
Zm9ybWF0KE9QVElPTlMuc2FsdGRpcikKICAgICAgICAgICAgKQogICAgICAgICAgICBzeXMuZXhp
dChFWF9DQU5UQ1JFQVQpCgogICAgICAgIHZlcnNpb25fcGF0aCA9IG9zLnBhdGguam9pbihPUFRJ
T05TLnNhbHRkaXIsICd2ZXJzaW9uJykKICAgICAgICBpZiBub3Qgb3MucGF0aC5leGlzdHModmVy
c2lvbl9wYXRoKSBvciBub3Qgb3MucGF0aC5pc2ZpbGUodmVyc2lvbl9wYXRoKToKICAgICAgICAg
ICAgc3lzLnN0ZGVyci53cml0ZSgKICAgICAgICAgICAgICAgICdXQVJOSU5HOiBVbmFibGUgdG8g
bG9jYXRlIGN1cnJlbnQgdGhpbiAnCiAgICAgICAgICAgICAgICAnIHZlcnNpb246IHswfS5cbicu
Zm9ybWF0KHZlcnNpb25fcGF0aCkKICAgICAgICAgICAgKQogICAgICAgICAgICBuZWVkX2RlcGxv
eW1lbnQoKQogICAgICAgIHdpdGggb3Blbih2ZXJzaW9uX3BhdGgsICdyJykgYXMgdnBvOgogICAg
ICAgICAgICBjdXJfdmVyc2lvbiA9IHZwby5yZWFkbGluZSgpLnN0cmlwKCkKICAgICAgICBpZiBj
dXJfdmVyc2lvbiAhPSBPUFRJT05TLnZlcnNpb246CiAgICAgICAgICAgIHN5cy5zdGRlcnIud3Jp
dGUoCiAgICAgICAgICAgICAgICAnV0FSTklORzogY3VycmVudCB0aGluIHZlcnNpb24gezB9Jwog
ICAgICAgICAgICAgICAgJyBpcyBub3QgdXAtdG8tZGF0ZSB3aXRoIHsxfS5cbicuZm9ybWF0KAog
ICAgICAgICAgICAgICAgICAgIGN1cl92ZXJzaW9uLCBPUFRJT05TLnZlcnNpb24KICAgICAgICAg
ICAgICAgICkKICAgICAgICAgICAgKQogICAgICAgICAgICBuZWVkX2RlcGxveW1lbnQoKQogICAg
ICAgICMgU2FsdCB0aGluIGV4aXN0cyBhbmQgaXMgdXAtdG8tZGF0ZSAtIGZhbGwgdGhyb3VnaCBh
bmQgdXNlIGl0CgogICAgc2FsdF9jYWxsX3BhdGggPSBvcy5wYXRoLmpvaW4oT1BUSU9OUy5zYWx0
ZGlyLCAnc2FsdC1jYWxsJykKICAgIGlmIG5vdCBvcy5wYXRoLmlzZmlsZShzYWx0X2NhbGxfcGF0
aCk6CiAgICAgICAgc3lzLnN0ZGVyci53cml0ZSgnRVJST1I6IHRoaW4gaXMgbWlzc2luZyAiezB9
IlxuJy5mb3JtYXQoc2FsdF9jYWxsX3BhdGgpKQogICAgICAgIG5lZWRfZGVwbG95bWVudCgpCgog
ICAgd2l0aCBvcGVuKG9zLnBhdGguam9pbihPUFRJT05TLnNhbHRkaXIsICdtaW5pb24nKSwgJ3cn
KSBhcyBjb25maWc6CiAgICAgICAgY29uZmlnLndyaXRlKE9QVElPTlMuY29uZmlnICsgJ1xuJykK
ICAgIGlmIE9QVElPTlMuZXh0X21vZHM6CiAgICAgICAgZXh0X3BhdGggPSBvcy5wYXRoLmpvaW4o
T1BUSU9OUy5zYWx0ZGlyLCBFWFRfQVJDSElWRSkKICAgICAgICBpZiBvcy5wYXRoLmV4aXN0cyhl
eHRfcGF0aCk6CiAgICAgICAgICAgIHVucGFja19leHQoZXh0X3BhdGgpCiAgICAgICAgZWxzZToK
ICAgICAgICAgICAgdmVyc2lvbl9wYXRoID0gb3MucGF0aC5qb2luKE9QVElPTlMuc2FsdGRpciwg
J2V4dF92ZXJzaW9uJykKICAgICAgICAgICAgaWYgbm90IG9zLnBhdGguZXhpc3RzKHZlcnNpb25f
cGF0aCkgb3Igbm90IG9zLnBhdGguaXNmaWxlKHZlcnNpb25fcGF0aCk6CiAgICAgICAgICAgICAg
ICBuZWVkX2V4dCgpCiAgICAgICAgICAgIHdpdGggb3Blbih2ZXJzaW9uX3BhdGgsICdyJykgYXMg
dnBvOgogICAgICAgICAgICAgICAgY3VyX3ZlcnNpb24gPSB2cG8ucmVhZGxpbmUoKS5zdHJpcCgp
CiAgICAgICAgICAgIGlmIGN1cl92ZXJzaW9uICE9IE9QVElPTlMuZXh0X21vZHM6CiAgICAgICAg
ICAgICAgICBuZWVkX2V4dCgpCiAgICAjIEZpeCBwYXJhbWV0ZXIgcGFzc2luZyBpc3N1ZQogICAg
aWYgbGVuKEFSR1MpID09IDE6CiAgICAgICAgYXJndl9wcmVwYXJlZCA9IEFSR1NbMF0uc3BsaXQo
KQogICAgZWxzZToKICAgICAgICBhcmd2X3ByZXBhcmVkID0gQVJHUwoKICAgIHNhbHRfYXJndiA9
IFsKICAgICAgICBzeXMuZXhlY3V0YWJsZSwKICAgICAgICBzYWx0X2NhbGxfcGF0aCwKICAgICAg
ICAnLS1yZXRjb2RlLXBhc3N0aHJvdWdoJywKICAgICAgICAnLS1sb2NhbCcsCiAgICAgICAgJy0t
bWV0YWRhdGEnLAogICAgICAgICctLW91dCcsICdqc29uJywKICAgICAgICAnLWwnLCAncXVpZXQn
LAogICAgICAgICctYycsIE9QVElPTlMuc2FsdGRpciwKICAgICAgICAnLS0nLAogICAgXSArIGFy
Z3ZfcHJlcGFyZWQKCiAgICBzeXMuc3RkZXJyLndyaXRlKCdTQUxUX0FSR1Y6IHswfVxuJy5mb3Jt
YXQoc2FsdF9hcmd2KSkKCiAgICAjIE9ubHkgZW1pdCB0aGUgZGVsaW1pdGVyIG9uICpib3RoKiBz
dGRvdXQgYW5kIHN0ZGVyciB3aGVuIGNvbXBsZXRlbHkgc3VjY2Vzc2Z1bC4KICAgICMgWWVzLCB0
aGUgZmx1c2goKSBpcyBuZWNlc3NhcnkuCiAgICBzeXMuc3Rkb3V0LndyaXRlKE9QVElPTlMuZGVs
aW1pdGVyICsgJ1xuJykKICAgIHN5cy5zdGRvdXQuZmx1c2goKQogICAgaWYgbm90IE9QVElPTlMu
dHR5OgogICAgICAgIHN5cy5zdGRlcnIud3JpdGUoT1BUSU9OUy5kZWxpbWl0ZXIgKyAnXG4nKQog
ICAgICAgIHN5cy5zdGRlcnIuZmx1c2goKQogICAgaWYgT1BUSU9OUy5jbWRfdW1hc2sgaXMgbm90
IE5vbmU6CiAgICAgICAgb2xkX3VtYXNrID0gb3MudW1hc2soT1BUSU9OUy5jbWRfdW1hc2spCiAg
ICBpZiBPUFRJT05TLnR0eToKICAgICAgICBzdGRvdXQsIF8gPSBzdWJwcm9jZXNzLlBvcGVuKHNh
bHRfYXJndiwgc3Rkb3V0PXN1YnByb2Nlc3MuUElQRSwgc3RkZXJyPXN1YnByb2Nlc3MuUElQRSku
Y29tbXVuaWNhdGUoKQogICAgICAgIHN5cy5zdGRvdXQud3JpdGUoc3Rkb3V0KQogICAgICAgIHN5
cy5zdGRvdXQuZmx1c2goKQogICAgICAgIGlmIE9QVElPTlMud2lwZToKICAgICAgICAgICAgc2h1
dGlsLnJtdHJlZShPUFRJT05TLnNhbHRkaXIpCiAgICBlbGlmIE9QVElPTlMud2lwZToKICAgICAg
ICBzdWJwcm9jZXNzLmNhbGwoc2FsdF9hcmd2KQogICAgICAgIHNodXRpbC5ybXRyZWUoT1BUSU9O
Uy5zYWx0ZGlyKQogICAgZWxzZToKICAgICAgICBvcy5leGVjdihzeXMuZXhlY3V0YWJsZSwgc2Fs
dF9hcmd2KQogICAgaWYgT1BUSU9OUy5jbWRfdW1hc2sgaXMgbm90IE5vbmU6CiAgICAgICAgb3Mu
dW1hc2sob2xkX3VtYXNrKQoKaWYgX19uYW1lX18gPT0gJ19fbWFpbl9fJzoKICAgIHN5cy5leGl0
KG1haW4oc3lzLmFyZ3YpKQo=
""").decode("utf-8"))'
else
exec $SUDO "$py_cmd_path" -c \
'import base64;
exec(base64.b64decode("""IyBweWxpbnQ6IGRpc2FibGU9Vzk5MDMKJycnClRoaXMgaXMgYSBzaGltIHRoYXQgaGFuZGxlcyBj
aGVja2luZyBhbmQgdXBkYXRpbmcgc2FsdCB0aGluIGFuZAp0aGVuIGludm9raW5nIHRoaW4uCgpU
aGlzIGlzIG5vdCBpbnRlbmRlZCB0byBiZSBpbnN0YW50aWF0ZWQgYXMgYSBtb2R1bGUsIHJhdGhl
ciBpdCBpcyBhCmhlbHBlciBzY3JpcHQgdXNlZCBieSBzYWx0LmNsaWVudC5zc2guU2luZ2xlLiAg
SXQgaXMgaGVyZSwgaW4gYQpzZXBhcmF0ZSBmaWxlLCBmb3IgY29udmVuaWVuY2Ugb2YgZGV2ZWxv
cG1lbnQuCicnJwoKZnJvbSBfX2Z1dHVyZV9fIGltcG9ydCBhYnNvbHV0ZV9pbXBvcnQKCmltcG9y
dCBoYXNobGliCmltcG9ydCB0YXJmaWxlCmltcG9ydCBzaHV0aWwKaW1wb3J0IHN5cwppbXBvcnQg
b3MKaW1wb3J0IHN0YXQKaW1wb3J0IHN1YnByb2Nlc3MKClRISU5fQVJDSElWRSA9ICdzYWx0LXRo
aW4udGd6JwpFWFRfQVJDSElWRSA9ICdzYWx0LWV4dF9tb2RzLnRneicKCiMgS2VlcCB0aGVzZSBp
biBzeW5jIHdpdGggc2FsdC9kZWZhdWx0cy9leGl0Y29kZXMucHkKRVhfVEhJTl9ERVBMT1kgPSAx
MQpFWF9USElOX0NIRUNLU1VNID0gMTIKRVhfTU9EX0RFUExPWSA9IDEzCkVYX1NDUF9OT1RfRk9V
TkQgPSAxNApFWF9DQU5UQ1JFQVQgPSA3MwoKCmNsYXNzIE9CSihvYmplY3QpOgogICAgIiIiQW4g
ZW1wdHkgY2xhc3MgZm9yIGhvbGRpbmcgaW5zdGFuY2UgYXR0cmlidXRlIHZhbHVlcy4iIiIKICAg
IHBhc3MKCgpPUFRJT05TID0gTm9uZQpBUkdTID0gTm9uZQojIFRoZSBiZWxvdyBsaW5lIGlzIHdo
ZXJlIE9QVElPTlMgY2FuIGJlIHJlZGVmaW5lZCB3aXRoIGludGVybmFsIG9wdGlvbnMKIyAocmF0
aGVyIHRoYW4gY2xpIGFyZ3VtZW50cykgd2hlbiB0aGUgc2hpbSBpcyBidW5kbGVkIGJ5CiMgY2xp
ZW50LnNzaC5TaW5nbGUuX2NtZF9zdHIoKQojIHB5bGludDogZGlzYWJsZT1ibG9jay1jb21tZW50
LXNob3VsZC1zdGFydC13aXRoLWNhcmRpbmFsLXNwYWNlCgpPUFRJT05TID0gT0JKKCkKT1BUSU9O
Uy5jb25maWcgPSAiIiIKe2ZpbGVzZXJ2ZXJfbGlzdF9jYWNoZV90aW1lOiAzLCBncmFpbnNfY2Fj
aGU6IHRydWUsIGlkOiBtdW5pbiwgbG9nX2ZpbGU6IHNhbHQtY2FsbC5sb2csCiAgcm9vdF9kaXI6
IC92YXIvdG1wLy5zYWx0LW9wZV8xYTM1MzJfc2FsdC9ydW5uaW5nX2RhdGEsIHNvY2tfZGlyOiAv
fQoiIiIKT1BUSU9OUy5kZWxpbWl0ZXIgPSAnX2VkYmM3ODg1ZTRmOWFhYzliODNiMzU5OTliNjhk
MDE1MTQ4Y2FmNDY3Yjc4ZmEzOWMwNWY2NjljMGZmODk4NzgnCk9QVElPTlMuc2FsdGRpciA9ICcv
dmFyL3RtcC8uc2FsdC1vcGVfMWEzNTMyX3NhbHQnCk9QVElPTlMuY2hlY2tzdW0gPSAnOTg1MjZk
OTliMWU3YjA3OWRjZWZjZWM5ZmE1Yjg1MWZmYmY5ODEzZCcKT1BUSU9OUy5oYXNoZnVuYyA9ICdz
aGExJwpPUFRJT05TLnZlcnNpb24gPSAnMjAxNi4zLjInCk9QVElPTlMuZXh0X21vZHMgPSAnJwpP
UFRJT05TLndpcGUgPSBGYWxzZQpPUFRJT05TLnR0eSA9IEZhbHNlCk9QVElPTlMuY21kX3VtYXNr
ID0gTm9uZQpBUkdTID0gWydzdGF0ZS5wa2cgL3Zhci90bXAvLnNhbHQtb3BlXzFhMzUzMl9zYWx0
L3NhbHRfc3RhdGUudGd6IHRlc3Q9VHJ1ZSBwa2dfc3VtPTMzYWU3ZWYwZWI3OTI4ODFhMzYyNmMw
YTQ2YTY4NDliIGhhc2hfdHlwZT1tZDUnXQoKCgpkZWYgbmVlZF9kZXBsb3ltZW50KCk6CiAgICAi
IiIKICAgIFNhbHQgdGhpbiBuZWVkcyB0byBiZSBkZXBsb3llZCAtIHByZXAgdGhlIHRhcmdldCBk
aXJlY3RvcnkgYW5kIGVtaXQgdGhlCiAgICBkZWxpbWV0ZXIgYW5kIGV4aXQgY29kZSB0aGF0IHNp
Z25hbHMgYSByZXF1aXJlZCBkZXBsb3ltZW50LgogICAgIiIiCiAgICBpZiBvcy5wYXRoLmV4aXN0
cyhPUFRJT05TLnNhbHRkaXIpOgogICAgICAgIHNodXRpbC5ybXRyZWUoT1BUSU9OUy5zYWx0ZGly
KQogICAgb2xkX3VtYXNrID0gb3MudW1hc2soMG8wNzcpCiAgICBvcy5tYWtlZGlycyhPUFRJT05T
LnNhbHRkaXIpCiAgICBvcy51bWFzayhvbGRfdW1hc2spCiAgICAjIFZlcmlmeSBwZXJtcyBvbiBz
YWx0ZGlyCiAgICBldWlkID0gb3MuZ2V0ZXVpZCgpCiAgICBkc3RhdCA9IG9zLnN0YXQoT1BUSU9O
Uy5zYWx0ZGlyKQogICAgaWYgZHN0YXQuc3RfdWlkICE9IGV1aWQ6CiAgICAgICAgIyBBdHRhY2sg
ZGV0ZWN0ZWQsIHRyeSBhZ2FpbgogICAgICAgIG5lZWRfZGVwbG95bWVudCgpCiAgICBpZiBkc3Rh
dC5zdF9tb2RlICE9IDE2ODMyOgogICAgICAgICMgQXR0YWNrIGRldGVjdGVkCiAgICAgICAgbmVl
ZF9kZXBsb3ltZW50KCkKICAgICMgSWYgU1VET2luZyB0aGVuIGFsc28gZ2l2ZSB0aGUgc3VwZXIg
dXNlciBncm91cCB3cml0ZSBwZXJtaXNzaW9ucwogICAgc3Vkb19naWQgPSBvcy5lbnZpcm9uLmdl
dCgnU1VET19HSUQnKQogICAgaWYgc3Vkb19naWQ6CiAgICAgICAgb3MuY2hvd24oT1BUSU9OUy5z
YWx0ZGlyLCAtMSwgaW50KHN1ZG9fZ2lkKSkKICAgICAgICBzdHQgPSBvcy5zdGF0KE9QVElPTlMu
c2FsdGRpcikKICAgICAgICBvcy5jaG1vZChPUFRJT05TLnNhbHRkaXIsIHN0dC5zdF9tb2RlIHwg
c3RhdC5TX0lXR1JQIHwgc3RhdC5TX0lSR1JQIHwgc3RhdC5TX0lYR1JQKQoKICAgICMgRGVsaW1p
dGVyIGVtaXR0ZWQgb24gc3Rkb3V0ICpvbmx5KiB0byBpbmRpY2F0ZSBzaGltIG1lc3NhZ2UgdG8g
bWFzdGVyLgogICAgc3lzLnN0ZG91dC53cml0ZSgiezB9XG5kZXBsb3lcbiIuZm9ybWF0KE9QVElP
TlMuZGVsaW1pdGVyKSkKICAgIHN5cy5leGl0KEVYX1RISU5fREVQTE9ZKQoKCiMgQWRhcHRlZCBm
cm9tIHNhbHQudXRpbHMuZ2V0X2hhc2goKQpkZWYgZ2V0X2hhc2gocGF0aCwgZm9ybT0nc2hhMScs
IGNodW5rX3NpemU9NDA5Nik6CiAgICAiIiJHZW5lcmF0ZSBhIGhhc2ggZGlnZXN0IHN0cmluZyBm
b3IgYSBmaWxlLiIiIgogICAgdHJ5OgogICAgICAgIGhhc2hfdHlwZSA9IGdldGF0dHIoaGFzaGxp
YiwgZm9ybSkKICAgIGV4Y2VwdCBBdHRyaWJ1dGVFcnJvcjoKICAgICAgICByYWlzZSBWYWx1ZUVy
cm9yKCdJbnZhbGlkIGhhc2ggdHlwZTogezB9Jy5mb3JtYXQoZm9ybSkpCiAgICB3aXRoIG9wZW4o
cGF0aCwgJ3JiJykgYXMgaWZpbGU6CiAgICAgICAgaGFzaF9vYmogPSBoYXNoX3R5cGUoKQogICAg
ICAgICMgcmVhZCB0aGUgZmlsZSBpbiBpbiBjaHVua3MsIG5vdCB0aGUgZW50aXJlIGZpbGUKICAg
ICAgICBmb3IgY2h1bmsgaW4gaXRlcihsYW1iZGE6IGlmaWxlLnJlYWQoY2h1bmtfc2l6ZSksIGIn
Jyk6CiAgICAgICAgICAgIGhhc2hfb2JqLnVwZGF0ZShjaHVuaykKICAgICAgICByZXR1cm4gaGFz
aF9vYmouaGV4ZGlnZXN0KCkKCgpkZWYgdW5wYWNrX3RoaW4odGhpbl9wYXRoKToKICAgICIiIlVu
cGFjayB0aGUgU2FsdCB0aGluIGFyY2hpdmUuIiIiCiAgICB0ZmlsZSA9IHRhcmZpbGUuVGFyRmls
ZS5nem9wZW4odGhpbl9wYXRoKQogICAgb2xkX3VtYXNrID0gb3MudW1hc2soMG8wNzcpCiAgICB0
ZmlsZS5leHRyYWN0YWxsKHBhdGg9T1BUSU9OUy5zYWx0ZGlyKQogICAgdGZpbGUuY2xvc2UoKQog
ICAgb3MudW1hc2sob2xkX3VtYXNrKQogICAgb3MudW5saW5rKHRoaW5fcGF0aCkKCgpkZWYgbmVl
ZF9leHQoKToKICAgICIiIlNpZ25hbCB0aGF0IGV4dGVybmFsIG1vZHVsZXMgbmVlZCB0byBiZSBk
ZXBsb3llZC4iIiIKICAgIHN5cy5zdGRvdXQud3JpdGUoInswfVxuZXh0X21vZHNcbiIuZm9ybWF0
KE9QVElPTlMuZGVsaW1pdGVyKSkKICAgIHN5cy5leGl0KEVYX01PRF9ERVBMT1kpCgoKZGVmIHVu
cGFja19leHQoZXh0X3BhdGgpOgogICAgIiIiVW5wYWNrIHRoZSBleHRlcm5hbCBtb2R1bGVzLiIi
IgogICAgbW9kY2FjaGUgPSBvcy5wYXRoLmpvaW4oCiAgICAgICAgICAgIE9QVElPTlMuc2FsdGRp
ciwKICAgICAgICAgICAgJ3J1bm5pbmdfZGF0YScsCiAgICAgICAgICAgICd2YXInLAogICAgICAg
ICAgICAnY2FjaGUnLAogICAgICAgICAgICAnc2FsdCcsCiAgICAgICAgICAgICdtaW5pb24nLAog
ICAgICAgICAgICAnZXh0bW9kcycpCiAgICB0ZmlsZSA9IHRhcmZpbGUuVGFyRmlsZS5nem9wZW4o
ZXh0X3BhdGgpCiAgICBvbGRfdW1hc2sgPSBvcy51bWFzaygwbzA3NykKICAgIHRmaWxlLmV4dHJh
Y3RhbGwocGF0aD1tb2RjYWNoZSkKICAgIHRmaWxlLmNsb3NlKCkKICAgIG9zLnVtYXNrKG9sZF91
bWFzaykKICAgIG9zLnVubGluayhleHRfcGF0aCkKICAgIHZlcl9wYXRoID0gb3MucGF0aC5qb2lu
KG1vZGNhY2hlLCAnZXh0X3ZlcnNpb24nKQogICAgdmVyX2RzdCA9IG9zLnBhdGguam9pbihPUFRJ
T05TLnNhbHRkaXIsICdleHRfdmVyc2lvbicpCiAgICBzaHV0aWwubW92ZSh2ZXJfcGF0aCwgdmVy
X2RzdCkKCgpkZWYgbWFpbihhcmd2KTogICMgcHlsaW50OiBkaXNhYmxlPVcwNjEzCiAgICAiIiJN
YWluIHByb2dyYW0gYm9keSIiIgogICAgdGhpbl9wYXRoID0gb3MucGF0aC5qb2luKE9QVElPTlMu
c2FsdGRpciwgVEhJTl9BUkNISVZFKQogICAgaWYgb3MucGF0aC5pc2ZpbGUodGhpbl9wYXRoKToK
ICAgICAgICBpZiBPUFRJT05TLmNoZWNrc3VtICE9IGdldF9oYXNoKHRoaW5fcGF0aCwgT1BUSU9O
Uy5oYXNoZnVuYyk6CiAgICAgICAgICAgIHN5cy5zdGRlcnIud3JpdGUoJ3swfVxuJy5mb3JtYXQo
T1BUSU9OUy5jaGVja3N1bSkpCiAgICAgICAgICAgIHN5cy5zdGRlcnIud3JpdGUoJ3swfVxuJy5m
b3JtYXQoZ2V0X2hhc2godGhpbl9wYXRoLCBPUFRJT05TLmhhc2hmdW5jKSkpCiAgICAgICAgICAg
IG9zLnVubGluayh0aGluX3BhdGgpCiAgICAgICAgICAgIHN5cy5zdGRlcnIud3JpdGUoJ1dBUk5J
Tkc6IGNoZWNrc3VtIG1pc21hdGNoIGZvciAiezB9IlxuJy5mb3JtYXQodGhpbl9wYXRoKSkKICAg
ICAgICAgICAgc3lzLmV4aXQoRVhfVEhJTl9DSEVDS1NVTSkKICAgICAgICB1bnBhY2tfdGhpbih0
aGluX3BhdGgpCiAgICAgICAgIyBTYWx0IHRoaW4gbm93IGlzIGF2YWlsYWJsZSB0byB1c2UKICAg
IGVsc2U6CiAgICAgICAgc2Nwc3RhdCA9IHN1YnByb2Nlc3MuUG9wZW4oWycvYmluL3NoJywgJy1j
JywgJ2NvbW1hbmQgLXYgc2NwJ10pLndhaXQoKQogICAgICAgIGlmIHNjcHN0YXQgIT0gMDoKICAg
ICAgICAgICAgc3lzLmV4aXQoRVhfU0NQX05PVF9GT1VORCkKCiAgICAgICAgaWYgbm90IG9zLnBh
dGguZXhpc3RzKE9QVElPTlMuc2FsdGRpcik6CiAgICAgICAgICAgIG5lZWRfZGVwbG95bWVudCgp
CgogICAgICAgIGlmIG5vdCBvcy5wYXRoLmlzZGlyKE9QVElPTlMuc2FsdGRpcik6CiAgICAgICAg
ICAgIHN5cy5zdGRlcnIud3JpdGUoCiAgICAgICAgICAgICAgICAnRVJST1I6IHNhbHQgcGF0aCAi
ezB9IiBleGlzdHMgYnV0IGlzJwogICAgICAgICAgICAgICAgJyBub3QgYSBkaXJlY3Rvcnlcbicu
Zm9ybWF0KE9QVElPTlMuc2FsdGRpcikKICAgICAgICAgICAgKQogICAgICAgICAgICBzeXMuZXhp
dChFWF9DQU5UQ1JFQVQpCgogICAgICAgIHZlcnNpb25fcGF0aCA9IG9zLnBhdGguam9pbihPUFRJ
T05TLnNhbHRkaXIsICd2ZXJzaW9uJykKICAgICAgICBpZiBub3Qgb3MucGF0aC5leGlzdHModmVy
c2lvbl9wYXRoKSBvciBub3Qgb3MucGF0aC5pc2ZpbGUodmVyc2lvbl9wYXRoKToKICAgICAgICAg
ICAgc3lzLnN0ZGVyci53cml0ZSgKICAgICAgICAgICAgICAgICdXQVJOSU5HOiBVbmFibGUgdG8g
bG9jYXRlIGN1cnJlbnQgdGhpbiAnCiAgICAgICAgICAgICAgICAnIHZlcnNpb246IHswfS5cbicu
Zm9ybWF0KHZlcnNpb25fcGF0aCkKICAgICAgICAgICAgKQogICAgICAgICAgICBuZWVkX2RlcGxv
eW1lbnQoKQogICAgICAgIHdpdGggb3Blbih2ZXJzaW9uX3BhdGgsICdyJykgYXMgdnBvOgogICAg
ICAgICAgICBjdXJfdmVyc2lvbiA9IHZwby5yZWFkbGluZSgpLnN0cmlwKCkKICAgICAgICBpZiBj
dXJfdmVyc2lvbiAhPSBPUFRJT05TLnZlcnNpb246CiAgICAgICAgICAgIHN5cy5zdGRlcnIud3Jp
dGUoCiAgICAgICAgICAgICAgICAnV0FSTklORzogY3VycmVudCB0aGluIHZlcnNpb24gezB9Jwog
ICAgICAgICAgICAgICAgJyBpcyBub3QgdXAtdG8tZGF0ZSB3aXRoIHsxfS5cbicuZm9ybWF0KAog
ICAgICAgICAgICAgICAgICAgIGN1cl92ZXJzaW9uLCBPUFRJT05TLnZlcnNpb24KICAgICAgICAg
ICAgICAgICkKICAgICAgICAgICAgKQogICAgICAgICAgICBuZWVkX2RlcGxveW1lbnQoKQogICAg
ICAgICMgU2FsdCB0aGluIGV4aXN0cyBhbmQgaXMgdXAtdG8tZGF0ZSAtIGZhbGwgdGhyb3VnaCBh
bmQgdXNlIGl0CgogICAgc2FsdF9jYWxsX3BhdGggPSBvcy5wYXRoLmpvaW4oT1BUSU9OUy5zYWx0
ZGlyLCAnc2FsdC1jYWxsJykKICAgIGlmIG5vdCBvcy5wYXRoLmlzZmlsZShzYWx0X2NhbGxfcGF0
aCk6CiAgICAgICAgc3lzLnN0ZGVyci53cml0ZSgnRVJST1I6IHRoaW4gaXMgbWlzc2luZyAiezB9
IlxuJy5mb3JtYXQoc2FsdF9jYWxsX3BhdGgpKQogICAgICAgIG5lZWRfZGVwbG95bWVudCgpCgog
ICAgd2l0aCBvcGVuKG9zLnBhdGguam9pbihPUFRJT05TLnNhbHRkaXIsICdtaW5pb24nKSwgJ3cn
KSBhcyBjb25maWc6CiAgICAgICAgY29uZmlnLndyaXRlKE9QVElPTlMuY29uZmlnICsgJ1xuJykK
ICAgIGlmIE9QVElPTlMuZXh0X21vZHM6CiAgICAgICAgZXh0X3BhdGggPSBvcy5wYXRoLmpvaW4o
T1BUSU9OUy5zYWx0ZGlyLCBFWFRfQVJDSElWRSkKICAgICAgICBpZiBvcy5wYXRoLmV4aXN0cyhl
eHRfcGF0aCk6CiAgICAgICAgICAgIHVucGFja19leHQoZXh0X3BhdGgpCiAgICAgICAgZWxzZToK
ICAgICAgICAgICAgdmVyc2lvbl9wYXRoID0gb3MucGF0aC5qb2luKE9QVElPTlMuc2FsdGRpciwg
J2V4dF92ZXJzaW9uJykKICAgICAgICAgICAgaWYgbm90IG9zLnBhdGguZXhpc3RzKHZlcnNpb25f
cGF0aCkgb3Igbm90IG9zLnBhdGguaXNmaWxlKHZlcnNpb25fcGF0aCk6CiAgICAgICAgICAgICAg
ICBuZWVkX2V4dCgpCiAgICAgICAgICAgIHdpdGggb3Blbih2ZXJzaW9uX3BhdGgsICdyJykgYXMg
dnBvOgogICAgICAgICAgICAgICAgY3VyX3ZlcnNpb24gPSB2cG8ucmVhZGxpbmUoKS5zdHJpcCgp
CiAgICAgICAgICAgIGlmIGN1cl92ZXJzaW9uICE9IE9QVElPTlMuZXh0X21vZHM6CiAgICAgICAg
ICAgICAgICBuZWVkX2V4dCgpCiAgICAjIEZpeCBwYXJhbWV0ZXIgcGFzc2luZyBpc3N1ZQogICAg
aWYgbGVuKEFSR1MpID09IDE6CiAgICAgICAgYXJndl9wcmVwYXJlZCA9IEFSR1NbMF0uc3BsaXQo
KQogICAgZWxzZToKICAgICAgICBhcmd2X3ByZXBhcmVkID0gQVJHUwoKICAgIHNhbHRfYXJndiA9
IFsKICAgICAgICBzeXMuZXhlY3V0YWJsZSwKICAgICAgICBzYWx0X2NhbGxfcGF0aCwKICAgICAg
ICAnLS1yZXRjb2RlLXBhc3N0aHJvdWdoJywKICAgICAgICAnLS1sb2NhbCcsCiAgICAgICAgJy0t
bWV0YWRhdGEnLAogICAgICAgICctLW91dCcsICdqc29uJywKICAgICAgICAnLWwnLCAncXVpZXQn
LAogICAgICAgICctYycsIE9QVElPTlMuc2FsdGRpciwKICAgICAgICAnLS0nLAogICAgXSArIGFy
Z3ZfcHJlcGFyZWQKCiAgICBzeXMuc3RkZXJyLndyaXRlKCdTQUxUX0FSR1Y6IHswfVxuJy5mb3Jt
YXQoc2FsdF9hcmd2KSkKCiAgICAjIE9ubHkgZW1pdCB0aGUgZGVsaW1pdGVyIG9uICpib3RoKiBz
dGRvdXQgYW5kIHN0ZGVyciB3aGVuIGNvbXBsZXRlbHkgc3VjY2Vzc2Z1bC4KICAgICMgWWVzLCB0
aGUgZmx1c2goKSBpcyBuZWNlc3NhcnkuCiAgICBzeXMuc3Rkb3V0LndyaXRlKE9QVElPTlMuZGVs
aW1pdGVyICsgJ1xuJykKICAgIHN5cy5zdGRvdXQuZmx1c2goKQogICAgaWYgbm90IE9QVElPTlMu
dHR5OgogICAgICAgIHN5cy5zdGRlcnIud3JpdGUoT1BUSU9OUy5kZWxpbWl0ZXIgKyAnXG4nKQog
ICAgICAgIHN5cy5zdGRlcnIuZmx1c2goKQogICAgaWYgT1BUSU9OUy5jbWRfdW1hc2sgaXMgbm90
IE5vbmU6CiAgICAgICAgb2xkX3VtYXNrID0gb3MudW1hc2soT1BUSU9OUy5jbWRfdW1hc2spCiAg
ICBpZiBPUFRJT05TLnR0eToKICAgICAgICBzdGRvdXQsIF8gPSBzdWJwcm9jZXNzLlBvcGVuKHNh
bHRfYXJndiwgc3Rkb3V0PXN1YnByb2Nlc3MuUElQRSwgc3RkZXJyPXN1YnByb2Nlc3MuUElQRSku
Y29tbXVuaWNhdGUoKQogICAgICAgIHN5cy5zdGRvdXQud3JpdGUoc3Rkb3V0KQogICAgICAgIHN5
cy5zdGRvdXQuZmx1c2goKQogICAgICAgIGlmIE9QVElPTlMud2lwZToKICAgICAgICAgICAgc2h1
dGlsLnJtdHJlZShPUFRJT05TLnNhbHRkaXIpCiAgICBlbGlmIE9QVElPTlMud2lwZToKICAgICAg
ICBzdWJwcm9jZXNzLmNhbGwoc2FsdF9hcmd2KQogICAgICAgIHNodXRpbC5ybXRyZWUoT1BUSU9O
Uy5zYWx0ZGlyKQogICAgZWxzZToKICAgICAgICBvcy5leGVjdihzeXMuZXhlY3V0YWJsZSwgc2Fs
dF9hcmd2KQogICAgaWYgT1BUSU9OUy5jbWRfdW1hc2sgaXMgbm90IE5vbmU6CiAgICAgICAgb3Mu
dW1hc2sob2xkX3VtYXNrKQoKaWYgX19uYW1lX18gPT0gJ19fbWFpbl9fJzoKICAgIHN5cy5leGl0
KG1haW4oc3lzLmFyZ3YpKQo=
""").decode("utf-8"))'
fi
exit 0
else
continue
fi
done
echo "ERROR: Unable to locate appropriate python command" >&2
exit $EX_PYTHON_INVALID
EOF
2016-10-19 23:58:08,189 [salt.utils.vt.Terminal.PID-1703.STDOUT][TRACE   ][1694] salt-ope@192.168.1.15's password:
2016-10-19 23:58:08,373 [salt.utils.vt.Terminal.PID-1703.STDERR][TRACE   ][1694] SALT_ARGV: ['/usr/bin/python2.7', '/var/tmp/.salt-ope_1a3532_salt/salt-call', '--retcode-passthrough', '--local', '--metadata', '--out', 'json', '-l', 'quiet', '-c', '/var/tmp/.salt-ope_1a3532_salt', '--', 'state.pkg', '/var/tmp/.salt-ope_1a3532_salt/salt_state.tgz', 'test=True', 'pkg_sum=33ae7ef0eb792881a3626c0a46a6849b', 'hash_type=md5']
_edbc7885e4f9aac9b83b35999b68d015148caf467b78fa39c05f669c0ff89878
2016-10-19 23:58:08,374 [salt.utils.vt.Terminal.PID-1703.STDOUT][TRACE   ][1694] /bin/scp
_edbc7885e4f9aac9b83b35999b68d015148caf467b78fa39c05f669c0ff89878
2016-10-19 23:58:09,817 [salt.utils.vt.Terminal.PID-1703.STDOUT][TRACE   ][1694] {
    "local": {
        "fun_args": [
            "/var/tmp/.salt-ope_1a3532_salt/salt_state.tgz", 
            "test=True", 
            "pkg_sum=33ae7ef0eb792881a3626c0a46a6849b", 
            "hash_type=md5"
        ], 
        "jid": "20161019235809591496", 
        "return": {
            "file_|-/etc/httpd/conf/httpd.conf_|-/etc/httpd/conf/httpd.conf_|-managed": {
                "comment": "The file /etc/httpd/conf/httpd.conf is in the correct state", 
                "pchanges": {}, 
                "name": "/etc/httpd/conf/httpd.conf", 
                "start_time": "23:58:10.634420", 
                "result": true, 
                "duration": 4.257, 
                "__run_num__": 6, 
                "changes": {}, 
                "__id__": "/etc/httpd/conf/httpd.conf"
            }, 
            "file_|-/etc/yum.repos.d/epel.repo_|-/etc/yum.repos.d/epel.repo_|-managed": {
                "comment": "The file /etc/yum.repos.d/epel.repo is in the correct state",
2016-10-19 23:58:09,829 [salt.utils.vt.Terminal.PID-1703.STDOUT][TRACE   ][1694]       "pchanges": {}, 
                "name": "/etc/yum.repos.d/epel.repo", 
                "start_time": "23:58:09.648494", 
                "result": true, 
                "duration": 14.366, 
                "__run_num__": 0, 
                "changes": {}, 
                "__id__": "/etc/yum.repos.d/epel.repo"
            }, 
            "file_|-/etc/httpd/conf.d/munin.conf_|-/etc/httpd/conf.d/munin.conf_|-managed": {
                "comment": "The file /etc/httpd/conf.d/munin.conf is in the correct state", 
                "pchanges": {}, 
                "name": "/etc/httpd/conf.d/munin.conf", 
                "start_time": "23:58:10.638788", 
                "result": true, 
                "duration": 3.181, 
                "__run_num__": 7, 
                "changes": {}, 
                "__id__": "/etc/httpd/conf.d/munin.conf"
            }, 
            "service_|-munin-node_|-munin-node_|-running": {
                "comment": "Service is set to be restarted",
2016-10-19 23:58:09,841 [salt.utils.vt.Terminal.PID-1703.STDOUT][TRACE   ][1694]          "name": "munin-node", 
                "start_time": "23:58:10.684421", 
                "result": null, 
                "duration": 6.431, 
                "__run_num__": 12, 
                "changes": {}, 
                "__id__": "munin-node"
            }, 
            "file_|-/etc/pki/rpm-gpg/RPM-GPG-KEY-EPEL-7_|-/etc/pki/rpm-gpg/RPM-GPG-KEY-EPEL-7_|-managed": {
                "comment": "The file /etc/pki/rpm-gpg/RPM-GPG-KEY-EPEL-7 is in the correct state", 
                "pchanges": {}, 
                "name": "/etc/pki/rpm-gpg/RPM-GPG-KEY-EPEL-7", 
                "start_time": "23:58:09.663017", 
                "result": true, 
                "duration": 1.282, 
                "__run_num__": 1, 
                "changes": {}, 
                "__id__": "/etc/pki/rpm-gpg/RPM-GPG-KEY-EPEL-7"
            }, 
            "file_|-/etc/munin/munin.conf_|-/etc/munin/munin.conf_|-managed": {
                "comment": "The file /etc/munin/munin.conf is set to be changed
2016-10-19 23:58:09,853 [salt.utils.vt.Terminal.PID-1703.STDOUT][TRACE   ][1694] ", 
                "pchanges": {
                    "diff": "--- \n+++ \n@@ -73,4 +73,3 @@\n \n \n \n-\n"
                }, 
                "name": "/etc/munin/munin.conf", 
                "start_time": "23:58:10.605028", 
                "result": null, 
                "duration": 29.241, 
                "__run_num__": 5, 
                "changes": {
                    "diff": "--- \n+++ \n@@ -73,4 +73,3 @@\n \n \n \n-\n"
                }, 
                "__id__": "/etc/munin/munin.conf"
            }, 
            "file_|-/etc/httpd/conf.d/fcgid.conf_|-/etc/httpd/conf.d/fcgid.conf_|-managed": {
                "comment": "The file /etc/httpd/conf.d/fcgid.conf is in the correct state", 
                "pchanges": {}, 
                "name": "/etc/httpd/conf.d/fcgid.conf", 
                "start_time": "23:58:10.642080", 
                "result": true, 
                "duration": 1.073, 
                "__run_num__": 8, 
                "changes": {},
2016-10-19 23:58:09,866 [salt.utils.vt.Terminal.PID-1703.STDOUT][TRACE   ][1694] "__id__": "/etc/httpd/conf.d/fcgid.conf"
            }, 
            "service_|-httpd_|-httpd_|-running": {
                "comment": "The service httpd is already running", 
                "name": "httpd", 
                "start_time": "23:58:10.645329", 
                "result": true, 
                "duration": 19.319, 
                "__run_num__": 10, 
                "changes": {}, 
                "__id__": "httpd"
            }, 
            "pkg_|-munin-pkgs_|-munin-pkgs_|-installed": {
                "comment": "All specified packages are already installed", 
                "name": "mod_fcgid", 
                "start_time": "23:58:10.058299", 
                "result": true, 
                "duration": 528.402, 
                "__run_num__": 2, 
                "changes": {}, 
                "__id__": "munin-pkgs"
            }, 
            "file_|-/var/cache/munin_|-/var/cache/munin_|-directory": {
                "comment": "The directory /var/cache/munin is in
2016-10-19 23:58:09,878 [salt.utils.vt.Terminal.PID-1703.STDOUT][TRACE   ][1694] the correct state", 
                "pchanges": {}, 
                "name": "/var/cache/munin", 
                "start_time": "23:58:10.643258", 
                "result": true, 
                "duration": 0.579, 
                "__run_num__": 9, 
                "changes": {}, 
                "__id__": "/var/cache/munin"
            }, 
            "file_|-/etc/munin/munin-node.conf_|-/etc/munin/munin-node.conf_|-managed": {
                "comment": "The file /etc/munin/munin-node.conf is in the correct state", 
                "pchanges": {}, 
                "name": "/etc/munin/munin-node.conf", 
                "start_time": "23:58:10.586877", 
                "result": true, 
                "duration": 16.514, 
                "__run_num__": 3, 
                "changes": {}, 
                "__id__": "/etc/munin/munin-node.conf"
            }, 
            "file_|-/etc/munin/munin-htpasswd_|-/etc/munin/munin-htpasswd_|-managed": {
                "comment": "The file /etc
2016-10-19 23:58:09,890 [salt.utils.vt.Terminal.PID-1703.STDOUT][TRACE   ][1694] /munin/munin-htpasswd is in the correct state", 
                "pchanges": {}, 
                "name": "/etc/munin/munin-htpasswd", 
                "start_time": "23:58:10.603566", 
                "result": true, 
                "duration": 1.355, 
                "__run_num__": 4, 
                "changes": {}, 
                "__id__": "/etc/munin/munin-htpasswd"
            }
        }, 
        "retcode": 0, 
        "fun": "state.pkg", 
        "id": "munin", 
        "out": "highstate"
    }
}
2016-10-19 23:58:10,112 [salt.client.ssh  ][TRACE   ][1694] STDOUT 192.168.1.15
salt-ope@192.168.1.15's password: 
/bin/scp
_edbc7885e4f9aac9b83b35999b68d015148caf467b78fa39c05f669c0ff89878
{
    "local": {
        "fun_args": [
            "/var/tmp/.salt-ope_1a3532_salt/salt_state.tgz", 
            "test=True", 
            "pkg_sum=33ae7ef0eb792881a3626c0a46a6849b", 
            "hash_type=md5"
        ], 
        "jid": "20161019235809591496", 
        "return": {
            "file_|-/etc/httpd/conf/httpd.conf_|-/etc/httpd/conf/httpd.conf_|-managed": {
                "comment": "The file /etc/httpd/conf/httpd.conf is in the correct state", 
                "pchanges": {}, 
                "name": "/etc/httpd/conf/httpd.conf", 
                "start_time": "23:58:10.634420", 
                "result": true, 
                "duration": 4.257, 
                "__run_num__": 6, 
                "changes": {}, 
                "__id__": "/etc/httpd/conf/httpd.conf"
            }, 
            "file_|-/etc/yum.repos.d/epel.repo_|-/etc/yum.repos.d/epel.repo_|-managed": {
                "comment": "The file /etc/yum.repos.d/epel.repo is in the correct state", 
                "pchanges": {}, 
                "name": "/etc/yum.repos.d/epel.repo", 
                "start_time": "23:58:09.648494", 
                "result": true, 
                "duration": 14.366, 
                "__run_num__": 0, 
                "changes": {}, 
                "__id__": "/etc/yum.repos.d/epel.repo"
            }, 
            "file_|-/etc/httpd/conf.d/munin.conf_|-/etc/httpd/conf.d/munin.conf_|-managed": {
                "comment": "The file /etc/httpd/conf.d/munin.conf is in the correct state", 
                "pchanges": {}, 
                "name": "/etc/httpd/conf.d/munin.conf", 
                "start_time": "23:58:10.638788", 
                "result": true, 
                "duration": 3.181, 
                "__run_num__": 7, 
                "changes": {}, 
                "__id__": "/etc/httpd/conf.d/munin.conf"
            }, 
            "service_|-munin-node_|-munin-node_|-running": {
                "comment": "Service is set to be restarted", 
                "name": "munin-node", 
                "start_time": "23:58:10.684421", 
                "result": null, 
                "duration": 6.431, 
                "__run_num__": 12, 
                "changes": {}, 
                "__id__": "munin-node"
            }, 
            "file_|-/etc/pki/rpm-gpg/RPM-GPG-KEY-EPEL-7_|-/etc/pki/rpm-gpg/RPM-GPG-KEY-EPEL-7_|-managed": {
                "comment": "The file /etc/pki/rpm-gpg/RPM-GPG-KEY-EPEL-7 is in the correct state", 
                "pchanges": {}, 
                "name": "/etc/pki/rpm-gpg/RPM-GPG-KEY-EPEL-7", 
                "start_time": "23:58:09.663017", 
                "result": true, 
                "duration": 1.282, 
                "__run_num__": 1, 
                "changes": {}, 
                "__id__": "/etc/pki/rpm-gpg/RPM-GPG-KEY-EPEL-7"
            }, 
            "file_|-/etc/munin/munin.conf_|-/etc/munin/munin.conf_|-managed": {
                "comment": "The file /etc/munin/munin.conf is set to be changed", 
                "pchanges": {
                    "diff": "--- \n+++ \n@@ -73,4 +73,3 @@\n \n \n \n-\n"
                }, 
                "name": "/etc/munin/munin.conf", 
                "start_time": "23:58:10.605028", 
                "result": null, 
                "duration": 29.241, 
                "__run_num__": 5, 
                "changes": {
                    "diff": "--- \n+++ \n@@ -73,4 +73,3 @@\n \n \n \n-\n"
                }, 
                "__id__": "/etc/munin/munin.conf"
            }, 
            "file_|-/etc/httpd/conf.d/fcgid.conf_|-/etc/httpd/conf.d/fcgid.conf_|-managed": {
                "comment": "The file /etc/httpd/conf.d/fcgid.conf is in the correct state", 
                "pchanges": {}, 
                "name": "/etc/httpd/conf.d/fcgid.conf", 
                "start_time": "23:58:10.642080", 
                "result": true, 
                "duration": 1.073, 
                "__run_num__": 8, 
                "changes": {}, 
                "__id__": "/etc/httpd/conf.d/fcgid.conf"
            }, 
            "service_|-httpd_|-httpd_|-running": {
                "comment": "The service httpd is already running", 
                "name": "httpd", 
                "start_time": "23:58:10.645329", 
                "result": true, 
                "duration": 19.319, 
                "__run_num__": 10, 
                "changes": {}, 
                "__id__": "httpd"
            }, 
            "pkg_|-munin-pkgs_|-munin-pkgs_|-installed": {
                "comment": "All specified packages are already installed", 
                "name": "mod_fcgid", 
                "start_time": "23:58:10.058299", 
                "result": true, 
                "duration": 528.402, 
                "__run_num__": 2, 
                "changes": {}, 
                "__id__": "munin-pkgs"
            }, 
            "file_|-/var/cache/munin_|-/var/cache/munin_|-directory": {
                "comment": "The directory /var/cache/munin is in the correct state", 
                "pchanges": {}, 
                "name": "/var/cache/munin", 
                "start_time": "23:58:10.643258", 
                "result": true, 
                "duration": 0.579, 
                "__run_num__": 9, 
                "changes": {}, 
                "__id__": "/var/cache/munin"
            }, 
            "file_|-/etc/munin/munin-node.conf_|-/etc/munin/munin-node.conf_|-managed": {
                "comment": "The file /etc/munin/munin-node.conf is in the correct state", 
                "pchanges": {}, 
                "name": "/etc/munin/munin-node.conf", 
                "start_time": "23:58:10.586877", 
                "result": true, 
                "duration": 16.514, 
                "__run_num__": 3, 
                "changes": {}, 
                "__id__": "/etc/munin/munin-node.conf"
            }, 
            "file_|-/etc/munin/munin-htpasswd_|-/etc/munin/munin-htpasswd_|-managed": {
                "comment": "The file /etc/munin/munin-htpasswd is in the correct state", 
                "pchanges": {}, 
                "name": "/etc/munin/munin-htpasswd", 
                "start_time": "23:58:10.603566", 
                "result": true, 
                "duration": 1.355, 
                "__run_num__": 4, 
                "changes": {}, 
                "__id__": "/etc/munin/munin-htpasswd"
            }
        }, 
        "retcode": 0, 
        "fun": "state.pkg", 
        "id": "munin", 
        "out": "highstate"
    }
}

2016-10-19 23:58:10,113 [salt.client.ssh  ][TRACE   ][1694] STDERR 192.168.1.15
SALT_ARGV: ['/usr/bin/python2.7', '/var/tmp/.salt-ope_1a3532_salt/salt-call', '--retcode-passthrough', '--local', '--metadata', '--out', 'json', '-l', 'quiet', '-c', '/var/tmp/.salt-ope_1a3532_salt', '--', 'state.pkg', '/var/tmp/.salt-ope_1a3532_salt/salt_state.tgz', 'test=True', 'pkg_sum=33ae7ef0eb792881a3626c0a46a6849b', 'hash_type=md5']
_edbc7885e4f9aac9b83b35999b68d015148caf467b78fa39c05f669c0ff89878

2016-10-19 23:58:10,114 [salt.client.ssh  ][DEBUG   ][1694] RETCODE 192.168.1.15: 0
2016-10-19 23:58:10,188 [salt.utils.lazy  ][DEBUG   ][1678] LazyLoaded highstate.output
2016-10-19 23:58:10,192 [salt.utils.lazy  ][DEBUG   ][1678] LazyLoaded nested.output
2016-10-19 23:58:10,195 [salt.output      ][TRACE   ][1678] data = {'munin': {'file_|-/etc/httpd/conf/httpd.conf_|-/etc/httpd/conf/httpd.conf_|-managed': {'comment': u'The file /etc/httpd/conf/httpd.conf is in the correct state', 'pchanges': {}, 'name': '/etc/httpd/conf/httpd.conf', 'start_time': '23:58:10.634420', 'result': True, 'duration': u'4.257 ms', '__run_num__': 6, 'changes': {}, '__id__': '/etc/httpd/conf/httpd.conf'}, 'file_|-/etc/yum.repos.d/epel.repo_|-/etc/yum.repos.d/epel.repo_|-managed': {'comment': u'The file /etc/yum.repos.d/epel.repo is in the correct state', 'pchanges': {}, 'name': '/etc/yum.repos.d/epel.repo', 'start_time': '23:58:09.648494', 'result': True, 'duration': u'14.366 ms', '__run_num__': 0, 'changes': {}, '__id__': '/etc/yum.repos.d/epel.repo'}, 'file_|-/etc/httpd/conf.d/munin.conf_|-/etc/httpd/conf.d/munin.conf_|-managed': {'comment': u'The file /etc/httpd/conf.d/munin.conf is in the correct state', 'pchanges': {}, 'name': '/etc/httpd/conf.d/munin.conf', 'start_time': '23:58:10.638788', 'result': True, 'duration': u'3.181 ms', '__run_num__': 7, 'changes': {}, '__id__': '/etc/httpd/conf.d/munin.conf'}, 'file_|-/etc/pki/rpm-gpg/RPM-GPG-KEY-EPEL-7_|-/etc/pki/rpm-gpg/RPM-GPG-KEY-EPEL-7_|-managed': {'comment': u'The file /etc/pki/rpm-gpg/RPM-GPG-KEY-EPEL-7 is in the correct state', 'pchanges': {}, 'name': '/etc/pki/rpm-gpg/RPM-GPG-KEY-EPEL-7', 'start_time': '23:58:09.663017', 'result': True, 'duration': u'1.282 ms', '__run_num__': 1, 'changes': {}, '__id__': '/etc/pki/rpm-gpg/RPM-GPG-KEY-EPEL-7'}, 'service_|-munin-node_|-munin-node_|-running': {'comment': u'Service is set to be restarted', 'name': 'munin-node', 'start_time': '23:58:10.684421', 'result': None, 'duration': u'6.431 ms', '__run_num__': 12, 'changes': {}, '__id__': 'munin-node'}, 'file_|-/etc/httpd/conf.d/fcgid.conf_|-/etc/httpd/conf.d/fcgid.conf_|-managed': {'comment': u'The file /etc/httpd/conf.d/fcgid.conf is in the correct state', 'pchanges': {}, 'name': '/etc/httpd/conf.d/fcgid.conf', 'start_time': '23:58:10.642080', 'result': True, 'duration': u'1.073 ms', '__run_num__': 8, 'changes': {}, '__id__': '/etc/httpd/conf.d/fcgid.conf'}, 'service_|-httpd_|-httpd_|-running': {'comment': u'The service httpd is already running', 'name': 'httpd', 'start_time': '23:58:10.645329', 'result': True, 'duration': u'19.319 ms', '__run_num__': 10, 'changes': {}, '__id__': 'httpd'}, 'pkg_|-munin-pkgs_|-munin-pkgs_|-installed': {'comment': u'All specified packages are already installed', 'name': 'mod_fcgid', 'start_time': '23:58:10.058299', 'result': True, 'duration': u'528.402 ms', '__run_num__': 2, 'changes': {}, '__id__': 'munin-pkgs'}, 'file_|-/var/cache/munin_|-/var/cache/munin_|-directory': {'comment': u'The directory /var/cache/munin is in the correct state', 'pchanges': {}, 'name': '/var/cache/munin', 'start_time': '23:58:10.643258', 'result': True, 'duration': u'0.579 ms', '__run_num__': 9, 'changes': {}, '__id__': '/var/cache/munin'}, 'file_|-/etc/munin/munin-htpasswd_|-/etc/munin/munin-htpasswd_|-managed': {'comment': u'The file /etc/munin/munin-htpasswd is in the correct state', 'pchanges': {}, 'name': '/etc/munin/munin-htpasswd', 'start_time': '23:58:10.603566', 'result': True, 'duration': u'1.355 ms', '__run_num__': 4, 'changes': {}, '__id__': '/etc/munin/munin-htpasswd'}, 'file_|-/etc/munin/munin-node.conf_|-/etc/munin/munin-node.conf_|-managed': {'comment': u'The file /etc/munin/munin-node.conf is in the correct state', 'pchanges': {}, 'name': '/etc/munin/munin-node.conf', 'start_time': '23:58:10.586877', 'result': True, 'duration': u'16.514 ms', '__run_num__': 3, 'changes': {}, '__id__': '/etc/munin/munin-node.conf'}, 'file_|-/etc/munin/munin.conf_|-/etc/munin/munin.conf_|-managed': {'comment': u'The file /etc/munin/munin.conf is set to be changed', 'pchanges': {'diff': '--- \n+++ \n@@ -73,4 +73,3 @@\n \n \n \n-\n'}, 'name': '/etc/munin/munin.conf', 'start_time': '23:58:10.605028', 'result': None, 'duration': u'29.241 ms', '__run_num__': 5, 'changes': {'diff': '--- \n+++ \n@@ -73,4 +73,3 @@\n \n \n \n-\n'}, '__id__': '/etc/munin/munin.conf'}}}
2016-10-19 23:58:17,533 [salt.utils.verify][WARNING ][1718] Insecure logging configuration detected! Sensitive data may be logged.
2016-10-19 23:58:17,539 [salt.utils.lazy  ][DEBUG   ][1718] LazyLoaded flat.targets
2016-10-19 23:58:17,541 [salt.utils.lazy  ][DEBUG   ][1718] LazyLoaded jinja.render
2016-10-19 23:58:17,541 [salt.utils.lazy  ][DEBUG   ][1718] LazyLoaded yaml.render
2016-10-19 23:58:17,542 [salt.template    ][DEBUG   ][1718] compile template: ./roster
2016-10-19 23:58:17,542 [salt.utils.jinja ][DEBUG   ][1718] Jinja search path: ['/root/saltstack_master/var/cache/salt/master/files/base']
2016-10-19 23:58:17,546 [salt.template    ][PROFILE ][1718] Time (in seconds) to render './roster' using 'jinja' renderer: 0.00396585464478
2016-10-19 23:58:17,546 [salt.template    ][DEBUG   ][1718] Rendered data from file: ./roster:
local:
  host: 127.0.0.1
  user: salt-ope
  passwd: salt-ope
  sudo: True
nagioslog:
  host: 192.168.1.12
  user: salt-ope
  passwd: salt-ope
  sudo: True
munin-async01:
  host: 192.168.1.14
  user: salt-ope
  passwd: salt-ope
  sudo: True
munin:
  host: 192.168.1.15
  user: salt-ope
  passwd: salt-ope
  sudo: True
kibana4:
  host: 192.168.1.37
  user: salt-ope
  passwd: salt-ope
  sudo: True
munin_cent71:
  host: 192.168.1.19
  user: salt-ope
  passwd: salt-ope
  sudo: True
ceph-deploy:
  host: 192.168.1.5
  user: salt-ope
  passwd: salt-ope
  sudo: True
ceph-node01:
  host: 192.168.1.6
  user: salt-ope
  passwd: salt-ope
  sudo: True
ceph-node02:
  host: 192.168.1.16
  user: salt-ope
  passwd: salt-ope
  sudo: True
ceph-node03:
  host: 192.168.1.18
  user: salt-ope
  passwd: salt-ope
  sudo: True
ceph-admin:
  host: 192.168.1.20
  user: salt-ope
  passwd: salt-ope
  sudo: True

2016-10-19 23:58:17,557 [salt.loaded.int.render.yaml][DEBUG   ][1718] Results of YAML rendering: 
OrderedDict([('local', OrderedDict([('host', '127.0.0.1'), ('user', 'salt-ope'), ('passwd', 'salt-ope'), ('sudo', True)])), ('nagioslog', OrderedDict([('host', '192.168.1.12'), ('user', 'salt-ope'), ('passwd', 'salt-ope'), ('sudo', True)])), ('munin-async01', OrderedDict([('host', '192.168.1.14'), ('user', 'salt-ope'), ('passwd', 'salt-ope'), ('sudo', True)])), ('munin', OrderedDict([('host', '192.168.1.15'), ('user', 'salt-ope'), ('passwd', 'salt-ope'), ('sudo', True)])), ('kibana4', OrderedDict([('host', '192.168.1.37'), ('user', 'salt-ope'), ('passwd', 'salt-ope'), ('sudo', True)])), ('munin_cent71', OrderedDict([('host', '192.168.1.19'), ('user', 'salt-ope'), ('passwd', 'salt-ope'), ('sudo', True)])), ('ceph-deploy', OrderedDict([('host', '192.168.1.5'), ('user', 'salt-ope'), ('passwd', 'salt-ope'), ('sudo', True)])), ('ceph-node01', OrderedDict([('host', '192.168.1.6'), ('user', 'salt-ope'), ('passwd', 'salt-ope'), ('sudo', True)])), ('ceph-node02', OrderedDict([('host', '192.168.1.16'), ('user', 'salt-ope'), ('passwd', 'salt-ope'), ('sudo', True)])), ('ceph-node03', OrderedDict([('host', '192.168.1.18'), ('user', 'salt-ope'), ('passwd', 'salt-ope'), ('sudo', True)])), ('ceph-admin', OrderedDict([('host', '192.168.1.20'), ('user', 'salt-ope'), ('passwd', 'salt-ope'), ('sudo', True)]))])
2016-10-19 23:58:17,558 [salt.template    ][PROFILE ][1718] Time (in seconds) to render './roster' using 'yaml' renderer: 0.0113549232483
2016-10-19 23:58:17,558 [salt.roster      ][DEBUG   ][1718] Matched minions: {'munin': OrderedDict([('host', '192.168.1.15'), ('user', 'salt-ope'), ('passwd', 'salt-ope'), ('sudo', True)])}
2016-10-19 23:58:17,560 [salt.utils.lazy  ][DEBUG   ][1718] LazyLoaded roots.envs
2016-10-19 23:58:17,564 [salt.utils.lazy  ][DEBUG   ][1718] Could not LazyLoad roots.init
2016-10-19 23:58:17,564 [salt.fileserver  ][DEBUG   ][1718] Updating roots fileserver cache
2016-10-19 23:58:17,569 [salt.fileclient  ][DEBUG   ][1718] In saltenv 'base', looking at rel_path '_modules/custom_munin.py' to resolve 'salt://_modules/custom_munin.py'
2016-10-19 23:58:17,569 [salt.fileclient  ][DEBUG   ][1718] In saltenv 'base', ** considering ** path '/root/saltstack_master/var/cache/salt/master/files/base/_modules/custom_munin.py' to resolve 'salt://_modules/custom_munin.py'
2016-10-19 23:58:17,569 [salt.fileclient  ][INFO    ][1718] Fetching file from saltenv 'base', ** skipped ** latest already in cache 'salt://_modules/custom_munin.py'
2016-10-19 23:58:17,570 [salt.utils.lazy  ][DEBUG   ][1718] LazyLoaded local_cache.prep_jid
2016-10-19 23:58:17,571 [salt.loaded.int.returner.local_cache][DEBUG   ][1718] Adding minions for job 20161019235817570303: ['munin']
2016-10-19 23:58:17,597 [salt.utils.lazy  ][DEBUG   ][1734] LazyLoaded state.apply
2016-10-19 23:58:17,618 [salt.client.ssh  ][DEBUG   ][1734] Performing shimmed, blocking command as follows:
test.opts_pkg
2016-10-19 23:58:17,638 [salt.client.ssh.shell][DEBUG   ][1734] Executed SHIM command. Command logged to TRACE
2016-10-19 23:58:17,648 [salt.utils.vt    ][DEBUG   ][1734] Child Forked! PID: 1735  STDOUT_FD: 9  STDERR_FD: 11
2016-10-19 23:58:17,652 [salt.utils.vt    ][DEBUG   ][1734] VT: Salt-SSH SHIM Terminal Command executed. Logged to TRACE
2016-10-19 23:58:18,641 [salt.client.ssh  ][DEBUG   ][1734] RETCODE 192.168.1.15: 0
2016-10-19 23:58:18,689 [salt.utils.lazy  ][DEBUG   ][1734] LazyLoaded jinja.render
2016-10-19 23:58:18,690 [salt.utils.lazy  ][DEBUG   ][1734] LazyLoaded yaml.render
2016-10-19 23:58:18,695 [salt.template    ][DEBUG   ][1734] compile template: ./pillar/top.sls
2016-10-19 23:58:18,696 [salt.utils.jinja ][DEBUG   ][1734] Jinja search path: ['./pillar']
2016-10-19 23:58:18,699 [salt.template    ][PROFILE ][1734] Time (in seconds) to render './pillar/top.sls' using 'jinja' renderer: 0.00281500816345
2016-10-19 23:58:18,699 [salt.template    ][DEBUG   ][1734] Rendered data from file: ./pillar/top.sls:
base:
  '*':
    - munin
    - munin-node-list
    - test


2016-10-19 23:58:18,706 [salt.utils.lazy  ][DEBUG   ][1734] LazyLoaded config.get
2016-10-19 23:58:18,707 [salt.loaded.int.render.yaml][DEBUG   ][1734] Results of YAML rendering: 
OrderedDict([('base', OrderedDict([('*', ['munin', 'munin-node-list', 'test'])]))])
2016-10-19 23:58:18,707 [salt.template    ][PROFILE ][1734] Time (in seconds) to render './pillar/top.sls' using 'yaml' renderer: 0.00775003433228
2016-10-19 23:58:18,708 [salt.minion      ][DEBUG   ][1734] compound_match: munin ? *
2016-10-19 23:58:18,708 [salt.minion      ][DEBUG   ][1734] compound_match munin ? "*" => "True"
2016-10-19 23:58:18,709 [salt.template    ][DEBUG   ][1734] compile template: ./pillar/munin.sls
2016-10-19 23:58:18,709 [salt.utils.jinja ][DEBUG   ][1734] Jinja search path: ['./pillar']
2016-10-19 23:58:18,711 [salt.template    ][PROFILE ][1734] Time (in seconds) to render './pillar/munin.sls' using 'jinja' renderer: 0.00173592567444
2016-10-19 23:58:18,711 [salt.template    ][DEBUG   ][1734] Rendered data from file: ./pillar/munin.sls:
munin_server_namelist:
  munin-async01:
    ip: 192.168.1.14
  munin:
    ip: 192.168.1.15
munin_server_list:
  - 192.168.1.15
  - 192.168.1.14
munin_master: 192.168.1.15
munin_async_client:
  munin-async01:
    ip: 192.168.1.14
munin_async_param:
  auth_command: '/usr/share/munin/munin-async --spooldir /var/lib/munin/spool --spoolfetch'
  auth_pubkey: 'ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQCwJsD6T3LETiNvDclWJLrPHUIEIljoejN3IbpYrs9RTx2eaj9xwzAoyCowS3NKFmXkeoz3BN+QirWFZanvwr65U4Qo6tvYBGKLCHRywcxE7ASuRGydHCyHrM9Zde7v/UvWDkLyAEgNPBwjHGBq5uk4/c0gmn1dVhX9EgJBqDg8QQ74Rz9B9bRiXX9SY1eugI/EdILkQW8fYDK4E9QMxGMKX664KZKXAP8blP7bttFHYBmZSjEHCtpCJYeKtMX2Xu9CwhTCz40EAdFZnYzFjbQC5FwCsIFPevzPveZ04Ji8c4rMX5OASeI6tNoC3TAxyS9Aglvfy4Tf396vMFnuiERt munin@munin'


2016-10-19 23:58:18,717 [salt.loaded.int.render.yaml][DEBUG   ][1734] Results of YAML rendering: 
OrderedDict([('munin_server_namelist', OrderedDict([('munin-async01', OrderedDict([('ip', '192.168.1.14')])), ('munin', OrderedDict([('ip', '192.168.1.15')]))])), ('munin_server_list', ['192.168.1.15', '192.168.1.14']), ('munin_master', '192.168.1.15'), ('munin_async_client', OrderedDict([('munin-async01', OrderedDict([('ip', '192.168.1.14')]))])), ('munin_async_param', OrderedDict([('auth_command', '/usr/share/munin/munin-async --spooldir /var/lib/munin/spool --spoolfetch'), ('auth_pubkey', 'ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQCwJsD6T3LETiNvDclWJLrPHUIEIljoejN3IbpYrs9RTx2eaj9xwzAoyCowS3NKFmXkeoz3BN+QirWFZanvwr65U4Qo6tvYBGKLCHRywcxE7ASuRGydHCyHrM9Zde7v/UvWDkLyAEgNPBwjHGBq5uk4/c0gmn1dVhX9EgJBqDg8QQ74Rz9B9bRiXX9SY1eugI/EdILkQW8fYDK4E9QMxGMKX664KZKXAP8blP7bttFHYBmZSjEHCtpCJYeKtMX2Xu9CwhTCz40EAdFZnYzFjbQC5FwCsIFPevzPveZ04Ji8c4rMX5OASeI6tNoC3TAxyS9Aglvfy4Tf396vMFnuiERt munin@munin')]))])
2016-10-19 23:58:18,718 [salt.template    ][PROFILE ][1734] Time (in seconds) to render './pillar/munin.sls' using 'yaml' renderer: 0.00617814064026
2016-10-19 23:58:18,719 [salt.template    ][DEBUG   ][1734] compile template: ./pillar/munin-node-list.sls
2016-10-19 23:58:18,719 [salt.utils.jinja ][DEBUG   ][1734] Jinja search path: ['./pillar']
2016-10-19 23:58:18,722 [salt.template    ][PROFILE ][1734] Time (in seconds) to render './pillar/munin-node-list.sls' using 'jinja' renderer: 0.00239396095276
2016-10-19 23:58:18,722 [salt.template    ][DEBUG   ][1734] Rendered data from file: ./pillar/munin-node-list.sls:
munin_node_list:
  munin-async01:
    hostname: munin-async01
    ip: 192.168.1.14
    munin_server: munin-async01

  kibana4:
    hostname: kibana4
    ip: 192.168.1.37
    group: Dev
    alarm_rules:
      - 'df._dev_vda1.warning 75'
      - 'df._dev_vda1.critical 80'
      - 'df_inode._dev_vda1.warning 75'
      - 'df_inode._dev_vda1.critical 80'
      - 'load.load.warning 8'
      - 'load.load.critical 15'
    munin_server: munin-async01

  nagioslog:
    hostname: nagioslog
    ip: 192.168.1.12
    group: Dev
    alarm_rules:
      - 'df._dev_vda1.warning 75'
      - 'df._dev_vda1.critical 80'
      - 'df_inode._dev_vda1.warning 75'
      - 'df_inode._dev_vda1.critical 80'
      - 'load.load.warning 8'
      - 'load.load.critical 15'
    munin_server: munin-async01

  ceph-node01:
    hostname: ceph-node01
    ip: 192.168.1.6
    group: Dev
    alarm_rules:
      - 'df._dev_vda1.warning 75'
      - 'df._dev_vda1.critical 80'
      - 'df_inode._dev_vda1.warning 75'
      - 'df_inode._dev_vda1.critical 80'
      - 'load.load.warning 1'
      - 'load.load.critical 2'
    munin_server: munin-async01

  ceph-node02:
    hostname: ceph-node02
    ip: 192.168.1.16
    group: Dev
    alarm_rules:
      - 'df._dev_vda1.warning 75'
      - 'df._dev_vda1.critical 80'
      - 'df_inode._dev_vda1.warning 75'
      - 'df_inode._dev_vda1.critical 80'
      - 'load.load.warning 1'
      - 'load.load.critical 2'
    munin_server: munin-async01

  ceph-node03:
    hostname: ceph-node03
    ip: 192.168.1.18
    group: Dev
    alarm_rules:
      - 'df._dev_vda1.warning 75'
      - 'df._dev_vda1.critical 80'
      - 'df_inode._dev_vda1.warning 75'
      - 'df_inode._dev_vda1.critical 80'
      - 'load.load.warning 1'
      - 'load.load.critical 2'
    munin_server: munin-async01

  ceph-admin:
    hostname: ceph-admin
    ip: 192.168.1.20
    group: Dev
    alarm_rules:
      - 'df._dev_vda1.warning 75'
      - 'df._dev_vda1.critical 80'
      - 'df_inode._dev_vda1.warning 75'
      - 'df_inode._dev_vda1.critical 80'
      - 'load.load.warning 1'
      - 'load.load.critical 2'
    munin_server: munin-async01


2016-10-19 23:58:18,744 [salt.loaded.int.render.yaml][DEBUG   ][1734] Results of YAML rendering: 
OrderedDict([('munin_node_list', OrderedDict([('munin-async01', OrderedDict([('hostname', 'munin-async01'), ('ip', '192.168.1.14'), ('munin_server', 'munin-async01')])), ('kibana4', OrderedDict([('hostname', 'kibana4'), ('ip', '192.168.1.37'), ('group', 'Dev'), ('alarm_rules', ['df._dev_vda1.warning 75', 'df._dev_vda1.critical 80', 'df_inode._dev_vda1.warning 75', 'df_inode._dev_vda1.critical 80', 'load.load.warning 8', 'load.load.critical 15']), ('munin_server', 'munin-async01')])), ('nagioslog', OrderedDict([('hostname', 'nagioslog'), ('ip', '192.168.1.12'), ('group', 'Dev'), ('alarm_rules', ['df._dev_vda1.warning 75', 'df._dev_vda1.critical 80', 'df_inode._dev_vda1.warning 75', 'df_inode._dev_vda1.critical 80', 'load.load.warning 8', 'load.load.critical 15']), ('munin_server', 'munin-async01')])), ('ceph-node01', OrderedDict([('hostname', 'ceph-node01'), ('ip', '192.168.1.6'), ('group', 'Dev'), ('alarm_rules', ['df._dev_vda1.warning 75', 'df._dev_vda1.critical 80', 'df_inode._dev_vda1.warning 75', 'df_inode._dev_vda1.critical 80', 'load.load.warning 1', 'load.load.critical 2']), ('munin_server', 'munin-async01')])), ('ceph-node02', OrderedDict([('hostname', 'ceph-node02'), ('ip', '192.168.1.16'), ('group', 'Dev'), ('alarm_rules', ['df._dev_vda1.warning 75', 'df._dev_vda1.critical 80', 'df_inode._dev_vda1.warning 75', 'df_inode._dev_vda1.critical 80', 'load.load.warning 1', 'load.load.critical 2']), ('munin_server', 'munin-async01')])), ('ceph-node03', OrderedDict([('hostname', 'ceph-node03'), ('ip', '192.168.1.18'), ('group', 'Dev'), ('alarm_rules', ['df._dev_vda1.warning 75', 'df._dev_vda1.critical 80', 'df_inode._dev_vda1.warning 75', 'df_inode._dev_vda1.critical 80', 'load.load.warning 1', 'load.load.critical 2']), ('munin_server', 'munin-async01')])), ('ceph-admin', OrderedDict([('hostname', 'ceph-admin'), ('ip', '192.168.1.20'), ('group', 'Dev'), ('alarm_rules', ['df._dev_vda1.warning 75', 'df._dev_vda1.critical 80', 'df_inode._dev_vda1.warning 75', 'df_inode._dev_vda1.critical 80', 'load.load.warning 1', 'load.load.critical 2']), ('munin_server', 'munin-async01')]))]))])
2016-10-19 23:58:18,744 [salt.template    ][PROFILE ][1734] Time (in seconds) to render './pillar/munin-node-list.sls' using 'yaml' renderer: 0.0221400260925
2016-10-19 23:58:18,746 [salt.template    ][DEBUG   ][1734] compile template: ./pillar/test.sls
2016-10-19 23:58:18,746 [salt.utils.jinja ][DEBUG   ][1734] Jinja search path: ['./pillar']
2016-10-19 23:58:18,747 [salt.template    ][PROFILE ][1734] Time (in seconds) to render './pillar/test.sls' using 'jinja' renderer: 0.00127696990967
2016-10-19 23:58:18,748 [salt.template    ][DEBUG   ][1734] Rendered data from file: ./pillar/test.sls:
test:
  test1:
    ip: 192.168.1.1
  test2:
    ip: 192.168.1.2
  test3:
    ip: 192.168.1.3


2016-10-19 23:58:18,750 [salt.loaded.int.render.yaml][DEBUG   ][1734] Results of YAML rendering: 
OrderedDict([('test', OrderedDict([('test1', OrderedDict([('ip', '192.168.1.1')])), ('test2', OrderedDict([('ip', '192.168.1.2')])), ('test3', OrderedDict([('ip', '192.168.1.3')]))]))])
2016-10-19 23:58:18,751 [salt.template    ][PROFILE ][1734] Time (in seconds) to render './pillar/test.sls' using 'yaml' renderer: 0.0025589466095
2016-10-19 23:58:18,754 [salt.utils.lazy  ][DEBUG   ][1734] LazyLoaded state.apply
2016-10-19 23:58:18,755 [salt.pillar      ][DEBUG   ][1734] Determining pillar cache
2016-10-19 23:58:18,776 [salt.utils.lazy  ][DEBUG   ][1734] LazyLoaded jinja.render
2016-10-19 23:58:18,777 [salt.utils.lazy  ][DEBUG   ][1734] LazyLoaded yaml.render
2016-10-19 23:58:18,782 [salt.template    ][DEBUG   ][1734] compile template: ./pillar/top.sls
2016-10-19 23:58:18,783 [salt.utils.jinja ][DEBUG   ][1734] Jinja search path: ['./pillar']
2016-10-19 23:58:18,784 [salt.template    ][PROFILE ][1734] Time (in seconds) to render './pillar/top.sls' using 'jinja' renderer: 0.00117993354797
2016-10-19 23:58:18,784 [salt.template    ][DEBUG   ][1734] Rendered data from file: ./pillar/top.sls:
base:
  '*':
    - munin
    - munin-node-list
    - test


2016-10-19 23:58:18,786 [salt.utils.lazy  ][DEBUG   ][1734] LazyLoaded config.get
2016-10-19 23:58:18,786 [salt.loaded.int.render.yaml][DEBUG   ][1734] Results of YAML rendering: 
OrderedDict([('base', OrderedDict([('*', ['munin', 'munin-node-list', 'test'])]))])
2016-10-19 23:58:18,787 [salt.template    ][PROFILE ][1734] Time (in seconds) to render './pillar/top.sls' using 'yaml' renderer: 0.00211501121521
2016-10-19 23:58:18,787 [salt.minion      ][DEBUG   ][1734] compound_match: munin ? *
2016-10-19 23:58:18,787 [salt.minion      ][DEBUG   ][1734] compound_match munin ? "*" => "True"
2016-10-19 23:58:18,788 [salt.template    ][DEBUG   ][1734] compile template: ./pillar/munin.sls
2016-10-19 23:58:18,788 [salt.utils.jinja ][DEBUG   ][1734] Jinja search path: ['./pillar']
2016-10-19 23:58:18,789 [salt.template    ][PROFILE ][1734] Time (in seconds) to render './pillar/munin.sls' using 'jinja' renderer: 0.00124096870422
2016-10-19 23:58:18,790 [salt.template    ][DEBUG   ][1734] Rendered data from file: ./pillar/munin.sls:
munin_server_namelist:
  munin-async01:
    ip: 192.168.1.14
  munin:
    ip: 192.168.1.15
munin_server_list:
  - 192.168.1.15
  - 192.168.1.14
munin_master: 192.168.1.15
munin_async_client:
  munin-async01:
    ip: 192.168.1.14
munin_async_param:
  auth_command: '/usr/share/munin/munin-async --spooldir /var/lib/munin/spool --spoolfetch'
  auth_pubkey: 'ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQCwJsD6T3LETiNvDclWJLrPHUIEIljoejN3IbpYrs9RTx2eaj9xwzAoyCowS3NKFmXkeoz3BN+QirWFZanvwr65U4Qo6tvYBGKLCHRywcxE7ASuRGydHCyHrM9Zde7v/UvWDkLyAEgNPBwjHGBq5uk4/c0gmn1dVhX9EgJBqDg8QQ74Rz9B9bRiXX9SY1eugI/EdILkQW8fYDK4E9QMxGMKX664KZKXAP8blP7bttFHYBmZSjEHCtpCJYeKtMX2Xu9CwhTCz40EAdFZnYzFjbQC5FwCsIFPevzPveZ04Ji8c4rMX5OASeI6tNoC3TAxyS9Aglvfy4Tf396vMFnuiERt munin@munin'


2016-10-19 23:58:18,794 [salt.loaded.int.render.yaml][DEBUG   ][1734] Results of YAML rendering: 
OrderedDict([('munin_server_namelist', OrderedDict([('munin-async01', OrderedDict([('ip', '192.168.1.14')])), ('munin', OrderedDict([('ip', '192.168.1.15')]))])), ('munin_server_list', ['192.168.1.15', '192.168.1.14']), ('munin_master', '192.168.1.15'), ('munin_async_client', OrderedDict([('munin-async01', OrderedDict([('ip', '192.168.1.14')]))])), ('munin_async_param', OrderedDict([('auth_command', '/usr/share/munin/munin-async --spooldir /var/lib/munin/spool --spoolfetch'), ('auth_pubkey', 'ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQCwJsD6T3LETiNvDclWJLrPHUIEIljoejN3IbpYrs9RTx2eaj9xwzAoyCowS3NKFmXkeoz3BN+QirWFZanvwr65U4Qo6tvYBGKLCHRywcxE7ASuRGydHCyHrM9Zde7v/UvWDkLyAEgNPBwjHGBq5uk4/c0gmn1dVhX9EgJBqDg8QQ74Rz9B9bRiXX9SY1eugI/EdILkQW8fYDK4E9QMxGMKX664KZKXAP8blP7bttFHYBmZSjEHCtpCJYeKtMX2Xu9CwhTCz40EAdFZnYzFjbQC5FwCsIFPevzPveZ04Ji8c4rMX5OASeI6tNoC3TAxyS9Aglvfy4Tf396vMFnuiERt munin@munin')]))])
2016-10-19 23:58:18,795 [salt.template    ][PROFILE ][1734] Time (in seconds) to render './pillar/munin.sls' using 'yaml' renderer: 0.00466108322144
2016-10-19 23:58:18,797 [salt.template    ][DEBUG   ][1734] compile template: ./pillar/munin-node-list.sls
2016-10-19 23:58:18,797 [salt.utils.jinja ][DEBUG   ][1734] Jinja search path: ['./pillar']
2016-10-19 23:58:18,799 [salt.template    ][PROFILE ][1734] Time (in seconds) to render './pillar/munin-node-list.sls' using 'jinja' renderer: 0.00174307823181
2016-10-19 23:58:18,799 [salt.template    ][DEBUG   ][1734] Rendered data from file: ./pillar/munin-node-list.sls:
munin_node_list:
  munin-async01:
    hostname: munin-async01
    ip: 192.168.1.14
    munin_server: munin-async01

  kibana4:
    hostname: kibana4
    ip: 192.168.1.37
    group: Dev
    alarm_rules:
      - 'df._dev_vda1.warning 75'
      - 'df._dev_vda1.critical 80'
      - 'df_inode._dev_vda1.warning 75'
      - 'df_inode._dev_vda1.critical 80'
      - 'load.load.warning 8'
      - 'load.load.critical 15'
    munin_server: munin-async01

  nagioslog:
    hostname: nagioslog
    ip: 192.168.1.12
    group: Dev
    alarm_rules:
      - 'df._dev_vda1.warning 75'
      - 'df._dev_vda1.critical 80'
      - 'df_inode._dev_vda1.warning 75'
      - 'df_inode._dev_vda1.critical 80'
      - 'load.load.warning 8'
      - 'load.load.critical 15'
    munin_server: munin-async01

  ceph-node01:
    hostname: ceph-node01
    ip: 192.168.1.6
    group: Dev
    alarm_rules:
      - 'df._dev_vda1.warning 75'
      - 'df._dev_vda1.critical 80'
      - 'df_inode._dev_vda1.warning 75'
      - 'df_inode._dev_vda1.critical 80'
      - 'load.load.warning 1'
      - 'load.load.critical 2'
    munin_server: munin-async01

  ceph-node02:
    hostname: ceph-node02
    ip: 192.168.1.16
    group: Dev
    alarm_rules:
      - 'df._dev_vda1.warning 75'
      - 'df._dev_vda1.critical 80'
      - 'df_inode._dev_vda1.warning 75'
      - 'df_inode._dev_vda1.critical 80'
      - 'load.load.warning 1'
      - 'load.load.critical 2'
    munin_server: munin-async01

  ceph-node03:
    hostname: ceph-node03
    ip: 192.168.1.18
    group: Dev
    alarm_rules:
      - 'df._dev_vda1.warning 75'
      - 'df._dev_vda1.critical 80'
      - 'df_inode._dev_vda1.warning 75'
      - 'df_inode._dev_vda1.critical 80'
      - 'load.load.warning 1'
      - 'load.load.critical 2'
    munin_server: munin-async01

  ceph-admin:
    hostname: ceph-admin
    ip: 192.168.1.20
    group: Dev
    alarm_rules:
      - 'df._dev_vda1.warning 75'
      - 'df._dev_vda1.critical 80'
      - 'df_inode._dev_vda1.warning 75'
      - 'df_inode._dev_vda1.critical 80'
      - 'load.load.warning 1'
      - 'load.load.critical 2'
    munin_server: munin-async01


2016-10-19 23:58:18,814 [salt.loaded.int.render.yaml][DEBUG   ][1734] Results of YAML rendering: 
OrderedDict([('munin_node_list', OrderedDict([('munin-async01', OrderedDict([('hostname', 'munin-async01'), ('ip', '192.168.1.14'), ('munin_server', 'munin-async01')])), ('kibana4', OrderedDict([('hostname', 'kibana4'), ('ip', '192.168.1.37'), ('group', 'Dev'), ('alarm_rules', ['df._dev_vda1.warning 75', 'df._dev_vda1.critical 80', 'df_inode._dev_vda1.warning 75', 'df_inode._dev_vda1.critical 80', 'load.load.warning 8', 'load.load.critical 15']), ('munin_server', 'munin-async01')])), ('nagioslog', OrderedDict([('hostname', 'nagioslog'), ('ip', '192.168.1.12'), ('group', 'Dev'), ('alarm_rules', ['df._dev_vda1.warning 75', 'df._dev_vda1.critical 80', 'df_inode._dev_vda1.warning 75', 'df_inode._dev_vda1.critical 80', 'load.load.warning 8', 'load.load.critical 15']), ('munin_server', 'munin-async01')])), ('ceph-node01', OrderedDict([('hostname', 'ceph-node01'), ('ip', '192.168.1.6'), ('group', 'Dev'), ('alarm_rules', ['df._dev_vda1.warning 75', 'df._dev_vda1.critical 80', 'df_inode._dev_vda1.warning 75', 'df_inode._dev_vda1.critical 80', 'load.load.warning 1', 'load.load.critical 2']), ('munin_server', 'munin-async01')])), ('ceph-node02', OrderedDict([('hostname', 'ceph-node02'), ('ip', '192.168.1.16'), ('group', 'Dev'), ('alarm_rules', ['df._dev_vda1.warning 75', 'df._dev_vda1.critical 80', 'df_inode._dev_vda1.warning 75', 'df_inode._dev_vda1.critical 80', 'load.load.warning 1', 'load.load.critical 2']), ('munin_server', 'munin-async01')])), ('ceph-node03', OrderedDict([('hostname', 'ceph-node03'), ('ip', '192.168.1.18'), ('group', 'Dev'), ('alarm_rules', ['df._dev_vda1.warning 75', 'df._dev_vda1.critical 80', 'df_inode._dev_vda1.warning 75', 'df_inode._dev_vda1.critical 80', 'load.load.warning 1', 'load.load.critical 2']), ('munin_server', 'munin-async01')])), ('ceph-admin', OrderedDict([('hostname', 'ceph-admin'), ('ip', '192.168.1.20'), ('group', 'Dev'), ('alarm_rules', ['df._dev_vda1.warning 75', 'df._dev_vda1.critical 80', 'df_inode._dev_vda1.warning 75', 'df_inode._dev_vda1.critical 80', 'load.load.warning 1', 'load.load.critical 2']), ('munin_server', 'munin-async01')]))]))])
2016-10-19 23:58:18,815 [salt.template    ][PROFILE ][1734] Time (in seconds) to render './pillar/munin-node-list.sls' using 'yaml' renderer: 0.015193939209
2016-10-19 23:58:18,817 [salt.template    ][DEBUG   ][1734] compile template: ./pillar/test.sls
2016-10-19 23:58:18,817 [salt.utils.jinja ][DEBUG   ][1734] Jinja search path: ['./pillar']
2016-10-19 23:58:18,818 [salt.template    ][PROFILE ][1734] Time (in seconds) to render './pillar/test.sls' using 'jinja' renderer: 0.000982046127319
2016-10-19 23:58:18,818 [salt.template    ][DEBUG   ][1734] Rendered data from file: ./pillar/test.sls:
test:
  test1:
    ip: 192.168.1.1
  test2:
    ip: 192.168.1.2
  test3:
    ip: 192.168.1.3


2016-10-19 23:58:18,820 [salt.loaded.int.render.yaml][DEBUG   ][1734] Results of YAML rendering: 
OrderedDict([('test', OrderedDict([('test1', OrderedDict([('ip', '192.168.1.1')])), ('test2', OrderedDict([('ip', '192.168.1.2')])), ('test3', OrderedDict([('ip', '192.168.1.3')]))]))])
2016-10-19 23:58:18,821 [salt.template    ][PROFILE ][1734] Time (in seconds) to render './pillar/test.sls' using 'yaml' renderer: 0.0020751953125
2016-10-19 23:58:18,847 [salt.utils.lazy  ][DEBUG   ][1734] LazyLoaded jinja.render
2016-10-19 23:58:18,847 [salt.utils.lazy  ][DEBUG   ][1734] LazyLoaded yaml.render
2016-10-19 23:58:18,848 [salt.fileclient  ][DEBUG   ][1734] In saltenv 'base', looking at rel_path 'munin.sls' to resolve 'salt://munin.sls'
2016-10-19 23:58:18,849 [salt.fileclient  ][DEBUG   ][1734] In saltenv 'base', ** considering ** path '/root/saltstack_master/var/cache/salt/master/files/base/munin.sls' to resolve 'salt://munin.sls'
2016-10-19 23:58:18,849 [salt.fileclient  ][INFO    ][1734] Fetching file from saltenv 'base', ** skipped ** latest already in cache 'salt://munin.sls'
2016-10-19 23:58:18,849 [salt.template    ][DEBUG   ][1734] compile template: /root/saltstack_master/var/cache/salt/master/files/base/munin.sls
2016-10-19 23:58:18,850 [salt.utils.jinja ][DEBUG   ][1734] Jinja search path: ['/var/tmp/.salt-ope_1a3532_salt/running_data/var/cache/salt/minion/files/base']
2016-10-19 23:58:18,871 [salt.utils.lazy  ][DEBUG   ][1734] Could not LazyLoad network.interface_ip
2016-10-19 23:58:18,901 [salt.client.ssh  ][DEBUG   ][1734] Performing shimmed, blocking command as follows:
network.interface_ip "eth0"
2016-10-19 23:58:18,918 [salt.client.ssh.shell][DEBUG   ][1734] Executed SHIM command. Command logged to TRACE
2016-10-19 23:58:18,923 [salt.utils.vt    ][DEBUG   ][1734] Child Forked! PID: 1737  STDOUT_FD: 9  STDERR_FD: 11
2016-10-19 23:58:18,927 [salt.utils.vt    ][DEBUG   ][1734] VT: Salt-SSH SHIM Terminal Command executed. Logged to TRACE
2016-10-19 23:58:19,763 [salt.client.ssh  ][DEBUG   ][1734] RETCODE 192.168.1.15: 0
2016-10-19 23:58:19,764 [salt.utils.lazy  ][DEBUG   ][1734] Could not LazyLoad network.get_hostname
2016-10-19 23:58:19,815 [salt.client.ssh  ][DEBUG   ][1734] Performing shimmed, blocking command as follows:
network.get_hostname
2016-10-19 23:58:19,836 [salt.client.ssh.shell][DEBUG   ][1734] Executed SHIM command. Command logged to TRACE
2016-10-19 23:58:19,841 [salt.utils.vt    ][DEBUG   ][1734] Child Forked! PID: 1739  STDOUT_FD: 9  STDERR_FD: 11
2016-10-19 23:58:19,843 [salt.utils.vt    ][DEBUG   ][1734] VT: Salt-SSH SHIM Terminal Command executed. Logged to TRACE
2016-10-19 23:58:20,693 [salt.client.ssh  ][DEBUG   ][1734] RETCODE 192.168.1.15: 0
2016-10-19 23:58:20,696 [salt.template    ][PROFILE ][1734] Time (in seconds) to render '/root/saltstack_master/var/cache/salt/master/files/base/munin.sls' using 'jinja' renderer: 1.84693908691
2016-10-19 23:58:20,697 [salt.template    ][DEBUG   ][1734] Rendered data from file: /root/saltstack_master/var/cache/salt/master/files/base/munin.sls:







/etc/yum.repos.d/epel.repo:
  file.managed:
  - source: salt://files/shared/etc/yum.repos.d/epel.repo_v7
  - mode: 0644
  - user: root
  - group: root



/etc/pki/rpm-gpg/RPM-GPG-KEY-EPEL-7:
  file.managed:
  - source: salt://files/shared/etc/pki/rpm-gpg/RPM-GPG-KEY-EPEL-7
  - mode: 0644
  - user: root
  - group: root


munin-pkgs:
  pkg.installed:
  - pkgs:
    - munin
    - munin-async

    - httpd
    - mod_fcgid



/etc/munin/munin-node.conf:
  file.managed:
  - source: salt://files/munin/etc/munin/munin-node.conf
  - template: jinja
  - context:
    munin_server_list: ['192.168.1.15', '192.168.1.14']
  - mode: 0644
  - user: root
  - group: root

/etc/munin/munin-htpasswd:
  file.managed:
  - source: salt://files/munin/etc/munin/munin-htpasswd
  - mode: 0644
  - user: root
  - group: root

/etc/munin/munin.conf:
  file.managed:
  - source: salt://files/munin/etc/munin/munin.conf
  - template: jinja
  - context:
    munin_master: 192.168.1.15
    munin_server_namelist: {'munin-async01': {'ip': '192.168.1.14'}, 'munin': {'ip': '192.168.1.15'}} 
    munin_node_list: {'munin-async01': {'hostname': 'munin-async01', 'ip': '192.168.1.14', 'munin_server': 'munin-async01'}, 'kibana4': {'hostname': 'kibana4', 'ip': '192.168.1.37', 'group': 'Dev', 'alarm_rules': ['df._dev_vda1.warning 75', 'df._dev_vda1.critical 80', 'df_inode._dev_vda1.warning 75', 'df_inode._dev_vda1.critical 80', 'load.load.warning 8', 'load.load.critical 15'], 'munin_server': 'munin-async01'}, 'nagioslog': {'hostname': 'nagioslog', 'ip': '192.168.1.12', 'group': 'Dev', 'alarm_rules': ['df._dev_vda1.warning 75', 'df._dev_vda1.critical 80', 'df_inode._dev_vda1.warning 75', 'df_inode._dev_vda1.critical 80', 'load.load.warning 8', 'load.load.critical 15'], 'munin_server': 'munin-async01'}, 'ceph-node01': {'hostname': 'ceph-node01', 'ip': '192.168.1.6', 'group': 'Dev', 'alarm_rules': ['df._dev_vda1.warning 75', 'df._dev_vda1.critical 80', 'df_inode._dev_vda1.warning 75', 'df_inode._dev_vda1.critical 80', 'load.load.warning 1', 'load.load.critical 2'], 'munin_server': 'munin-async01'}, 'ceph-node02': {'hostname': 'ceph-node02', 'ip': '192.168.1.16', 'group': 'Dev', 'alarm_rules': ['df._dev_vda1.warning 75', 'df._dev_vda1.critical 80', 'df_inode._dev_vda1.warning 75', 'df_inode._dev_vda1.critical 80', 'load.load.warning 1', 'load.load.critical 2'], 'munin_server': 'munin-async01'}, 'ceph-node03': {'hostname': 'ceph-node03', 'ip': '192.168.1.18', 'group': 'Dev', 'alarm_rules': ['df._dev_vda1.warning 75', 'df._dev_vda1.critical 80', 'df_inode._dev_vda1.warning 75', 'df_inode._dev_vda1.critical 80', 'load.load.warning 1', 'load.load.critical 2'], 'munin_server': 'munin-async01'}, 'ceph-admin': {'hostname': 'ceph-admin', 'ip': '192.168.1.20', 'group': 'Dev', 'alarm_rules': ['df._dev_vda1.warning 75', 'df._dev_vda1.critical 80', 'df_inode._dev_vda1.warning 75', 'df_inode._dev_vda1.critical 80', 'load.load.warning 1', 'load.load.critical 2'], 'munin_server': 'munin-async01'}} 
    munin_async_client: {'munin-async01': {'ip': '192.168.1.14'}}
  - mode: 0644
  - user: root
  - group: root

/etc/httpd/conf/httpd.conf:
  file.managed:

  - source: salt://files/munin/etc/httpd/conf/httpd.conf_v7

  - template: jinja
  - mode: 0644
  - user: root
  - group: root

/etc/httpd/conf.d/munin.conf:
  file.managed:
  - source: salt://files/munin/etc/httpd/conf.d/munin.conf
  - template: jinja
  - mode: 0644
  - user: root
  - group: root

/etc/httpd/conf.d/fcgid.conf:
  file.managed:

  - source: salt://files/munin/etc/httpd/conf.d/fcgid.conf_v7

  - mode: 0644
  - user: root
  - group: root

/var/cache/munin:
  file.directory:
  - user: apache
  - group: apache
  - mode: 755
  - makedirs: True




httpd:
  service.running:
  - enable: True
  - watch:
    - file: /etc/httpd/conf/httpd.conf
    - file: /etc/httpd/conf.d/munin.conf
    - file: /etc/httpd/conf.d/fcgid.conf


munin-node:
  service.running:
  - enable: True
  - watch:
    - file: /etc/munin/munin-node.conf
    - file: /etc/munin/munin.conf

    - file: /etc/munin/munin-htpasswd





2016-10-19 23:58:20,761 [salt.loaded.int.render.yaml][DEBUG   ][1734] Results of YAML rendering: 
OrderedDict([('/etc/yum.repos.d/epel.repo', OrderedDict([('file.managed', [OrderedDict([('source', 'salt://files/shared/etc/yum.repos.d/epel.repo_v7')]), OrderedDict([('mode', 644)]), OrderedDict([('user', 'root')]), OrderedDict([('group', 'root')])])])), ('/etc/pki/rpm-gpg/RPM-GPG-KEY-EPEL-7', OrderedDict([('file.managed', [OrderedDict([('source', 'salt://files/shared/etc/pki/rpm-gpg/RPM-GPG-KEY-EPEL-7')]), OrderedDict([('mode', 644)]), OrderedDict([('user', 'root')]), OrderedDict([('group', 'root')])])])), ('munin-pkgs', OrderedDict([('pkg.installed', [OrderedDict([('pkgs', ['munin', 'munin-async', 'httpd', 'mod_fcgid'])])])])), ('/etc/munin/munin-node.conf', OrderedDict([('file.managed', [OrderedDict([('source', 'salt://files/munin/etc/munin/munin-node.conf')]), OrderedDict([('template', 'jinja')]), OrderedDict([('context', None), ('munin_server_list', ['192.168.1.15', '192.168.1.14'])]), OrderedDict([('mode', 644)]), OrderedDict([('user', 'root')]), OrderedDict([('group', 'root')])])])), ('/etc/munin/munin-htpasswd', OrderedDict([('file.managed', [OrderedDict([('source', 'salt://files/munin/etc/munin/munin-htpasswd')]), OrderedDict([('mode', 644)]), OrderedDict([('user', 'root')]), OrderedDict([('group', 'root')])])])), ('/etc/munin/munin.conf', OrderedDict([('file.managed', [OrderedDict([('source', 'salt://files/munin/etc/munin/munin.conf')]), OrderedDict([('template', 'jinja')]), OrderedDict([('context', None), ('munin_master', '192.168.1.15'), ('munin_server_namelist', OrderedDict([('munin-async01', OrderedDict([('ip', '192.168.1.14')])), ('munin', OrderedDict([('ip', '192.168.1.15')]))])), ('munin_node_list', OrderedDict([('munin-async01', OrderedDict([('hostname', 'munin-async01'), ('ip', '192.168.1.14'), ('munin_server', 'munin-async01')])), ('kibana4', OrderedDict([('hostname', 'kibana4'), ('ip', '192.168.1.37'), ('group', 'Dev'), ('alarm_rules', ['df._dev_vda1.warning 75', 'df._dev_vda1.critical 80', 'df_inode._dev_vda1.warning 75', 'df_inode._dev_vda1.critical 80', 'load.load.warning 8', 'load.load.critical 15']), ('munin_server', 'munin-async01')])), ('nagioslog', OrderedDict([('hostname', 'nagioslog'), ('ip', '192.168.1.12'), ('group', 'Dev'), ('alarm_rules', ['df._dev_vda1.warning 75', 'df._dev_vda1.critical 80', 'df_inode._dev_vda1.warning 75', 'df_inode._dev_vda1.critical 80', 'load.load.warning 8', 'load.load.critical 15']), ('munin_server', 'munin-async01')])), ('ceph-node01', OrderedDict([('hostname', 'ceph-node01'), ('ip', '192.168.1.6'), ('group', 'Dev'), ('alarm_rules', ['df._dev_vda1.warning 75', 'df._dev_vda1.critical 80', 'df_inode._dev_vda1.warning 75', 'df_inode._dev_vda1.critical 80', 'load.load.warning 1', 'load.load.critical 2']), ('munin_server', 'munin-async01')])), ('ceph-node02', OrderedDict([('hostname', 'ceph-node02'), ('ip', '192.168.1.16'), ('group', 'Dev'), ('alarm_rules', ['df._dev_vda1.warning 75', 'df._dev_vda1.critical 80', 'df_inode._dev_vda1.warning 75', 'df_inode._dev_vda1.critical 80', 'load.load.warning 1', 'load.load.critical 2']), ('munin_server', 'munin-async01')])), ('ceph-node03', OrderedDict([('hostname', 'ceph-node03'), ('ip', '192.168.1.18'), ('group', 'Dev'), ('alarm_rules', ['df._dev_vda1.warning 75', 'df._dev_vda1.critical 80', 'df_inode._dev_vda1.warning 75', 'df_inode._dev_vda1.critical 80', 'load.load.warning 1', 'load.load.critical 2']), ('munin_server', 'munin-async01')])), ('ceph-admin', OrderedDict([('hostname', 'ceph-admin'), ('ip', '192.168.1.20'), ('group', 'Dev'), ('alarm_rules', ['df._dev_vda1.warning 75', 'df._dev_vda1.critical 80', 'df_inode._dev_vda1.warning 75', 'df_inode._dev_vda1.critical 80', 'load.load.warning 1', 'load.load.critical 2']), ('munin_server', 'munin-async01')]))])), ('munin_async_client', OrderedDict([('munin-async01', OrderedDict([('ip', '192.168.1.14')]))]))]), OrderedDict([('mode', 644)]), OrderedDict([('user', 'root')]), OrderedDict([('group', 'root')])])])), ('/etc/httpd/conf/httpd.conf', OrderedDict([('file.managed', [OrderedDict([('source', 'salt://files/munin/etc/httpd/conf/httpd.conf_v7')]), OrderedDict([('template', 'jinja')]), OrderedDict([('mode', 644)]), OrderedDict([('user', 'root')]), OrderedDict([('group', 'root')])])])), ('/etc/httpd/conf.d/munin.conf', OrderedDict([('file.managed', [OrderedDict([('source', 'salt://files/munin/etc/httpd/conf.d/munin.conf')]), OrderedDict([('template', 'jinja')]), OrderedDict([('mode', 644)]), OrderedDict([('user', 'root')]), OrderedDict([('group', 'root')])])])), ('/etc/httpd/conf.d/fcgid.conf', OrderedDict([('file.managed', [OrderedDict([('source', 'salt://files/munin/etc/httpd/conf.d/fcgid.conf_v7')]), OrderedDict([('mode', 644)]), OrderedDict([('user', 'root')]), OrderedDict([('group', 'root')])])])), ('/var/cache/munin', OrderedDict([('file.directory', [OrderedDict([('user', 'apache')]), OrderedDict([('group', 'apache')]), OrderedDict([('mode', 755)]), OrderedDict([('makedirs', True)])])])), ('httpd', OrderedDict([('service.running', [OrderedDict([('enable', True)]), OrderedDict([('watch', [OrderedDict([('file', '/etc/httpd/conf/httpd.conf')]), OrderedDict([('file', '/etc/httpd/conf.d/munin.conf')]), OrderedDict([('file', '/etc/httpd/conf.d/fcgid.conf')])])])])])), ('munin-node', OrderedDict([('service.running', [OrderedDict([('enable', True)]), OrderedDict([('watch', [OrderedDict([('file', '/etc/munin/munin-node.conf')]), OrderedDict([('file', '/etc/munin/munin.conf')]), OrderedDict([('file', '/etc/munin/munin-htpasswd')])])])])]))])
2016-10-19 23:58:20,762 [salt.template    ][PROFILE ][1734] Time (in seconds) to render '/root/saltstack_master/var/cache/salt/master/files/base/munin.sls' using 'yaml' renderer: 0.0646889209747
2016-10-19 23:58:20,771 [salt.fileclient  ][DEBUG   ][1734] In saltenv 'base', looking at rel_path 'files/shared/etc/yum.repos.d/epel.repo_v7' to resolve 'salt://files/shared/etc/yum.repos.d/epel.repo_v7'
2016-10-19 23:58:20,772 [salt.fileclient  ][DEBUG   ][1734] In saltenv 'base', ** considering ** path '/root/saltstack_master/var/cache/salt/master/salt-ssh/munin/files/base/files/shared/etc/yum.repos.d/epel.repo_v7' to resolve 'salt://files/shared/etc/yum.repos.d/epel.repo_v7'
2016-10-19 23:58:20,772 [salt.fileclient  ][INFO    ][1734] Fetching file from saltenv 'base', ** skipped ** latest already in cache 'salt://files/shared/etc/yum.repos.d/epel.repo_v7'
2016-10-19 23:58:20,774 [salt.fileclient  ][DEBUG   ][1734] In saltenv 'base', looking at rel_path 'files/shared/etc/pki/rpm-gpg/RPM-GPG-KEY-EPEL-7' to resolve 'salt://files/shared/etc/pki/rpm-gpg/RPM-GPG-KEY-EPEL-7'
2016-10-19 23:58:20,774 [salt.fileclient  ][DEBUG   ][1734] In saltenv 'base', ** considering ** path '/root/saltstack_master/var/cache/salt/master/salt-ssh/munin/files/base/files/shared/etc/pki/rpm-gpg/RPM-GPG-KEY-EPEL-7' to resolve 'salt://files/shared/etc/pki/rpm-gpg/RPM-GPG-KEY-EPEL-7'
2016-10-19 23:58:20,775 [salt.fileclient  ][INFO    ][1734] Fetching file from saltenv 'base', ** skipped ** latest already in cache 'salt://files/shared/etc/pki/rpm-gpg/RPM-GPG-KEY-EPEL-7'
2016-10-19 23:58:20,776 [salt.fileclient  ][DEBUG   ][1734] In saltenv 'base', looking at rel_path 'files/munin/etc/munin/munin-node.conf' to resolve 'salt://files/munin/etc/munin/munin-node.conf'
2016-10-19 23:58:20,777 [salt.fileclient  ][DEBUG   ][1734] In saltenv 'base', ** considering ** path '/root/saltstack_master/var/cache/salt/master/salt-ssh/munin/files/base/files/munin/etc/munin/munin-node.conf' to resolve 'salt://files/munin/etc/munin/munin-node.conf'
2016-10-19 23:58:20,777 [salt.fileclient  ][INFO    ][1734] Fetching file from saltenv 'base', ** skipped ** latest already in cache 'salt://files/munin/etc/munin/munin-node.conf'
2016-10-19 23:58:20,778 [salt.fileclient  ][DEBUG   ][1734] In saltenv 'base', looking at rel_path 'files/munin/etc/munin/munin-htpasswd' to resolve 'salt://files/munin/etc/munin/munin-htpasswd'
2016-10-19 23:58:20,779 [salt.fileclient  ][DEBUG   ][1734] In saltenv 'base', ** considering ** path '/root/saltstack_master/var/cache/salt/master/salt-ssh/munin/files/base/files/munin/etc/munin/munin-htpasswd' to resolve 'salt://files/munin/etc/munin/munin-htpasswd'
2016-10-19 23:58:20,779 [salt.fileclient  ][INFO    ][1734] Fetching file from saltenv 'base', ** skipped ** latest already in cache 'salt://files/munin/etc/munin/munin-htpasswd'
2016-10-19 23:58:20,780 [salt.fileclient  ][DEBUG   ][1734] In saltenv 'base', looking at rel_path 'files/munin/etc/munin/munin.conf' to resolve 'salt://files/munin/etc/munin/munin.conf'
2016-10-19 23:58:20,781 [salt.fileclient  ][DEBUG   ][1734] In saltenv 'base', ** considering ** path '/root/saltstack_master/var/cache/salt/master/salt-ssh/munin/files/base/files/munin/etc/munin/munin.conf' to resolve 'salt://files/munin/etc/munin/munin.conf'
2016-10-19 23:58:20,781 [salt.fileclient  ][INFO    ][1734] Fetching file from saltenv 'base', ** skipped ** latest already in cache 'salt://files/munin/etc/munin/munin.conf'
2016-10-19 23:58:20,782 [salt.fileclient  ][DEBUG   ][1734] In saltenv 'base', looking at rel_path 'files/munin/etc/httpd/conf/httpd.conf_v7' to resolve 'salt://files/munin/etc/httpd/conf/httpd.conf_v7'
2016-10-19 23:58:20,783 [salt.fileclient  ][DEBUG   ][1734] In saltenv 'base', ** considering ** path '/root/saltstack_master/var/cache/salt/master/salt-ssh/munin/files/base/files/munin/etc/httpd/conf/httpd.conf_v7' to resolve 'salt://files/munin/etc/httpd/conf/httpd.conf_v7'
2016-10-19 23:58:20,783 [salt.fileclient  ][INFO    ][1734] Fetching file from saltenv 'base', ** skipped ** latest already in cache 'salt://files/munin/etc/httpd/conf/httpd.conf_v7'
2016-10-19 23:58:20,784 [salt.fileclient  ][DEBUG   ][1734] In saltenv 'base', looking at rel_path 'files/munin/etc/httpd/conf.d/munin.conf' to resolve 'salt://files/munin/etc/httpd/conf.d/munin.conf'
2016-10-19 23:58:20,785 [salt.fileclient  ][DEBUG   ][1734] In saltenv 'base', ** considering ** path '/root/saltstack_master/var/cache/salt/master/salt-ssh/munin/files/base/files/munin/etc/httpd/conf.d/munin.conf' to resolve 'salt://files/munin/etc/httpd/conf.d/munin.conf'
2016-10-19 23:58:20,785 [salt.fileclient  ][INFO    ][1734] Fetching file from saltenv 'base', ** skipped ** latest already in cache 'salt://files/munin/etc/httpd/conf.d/munin.conf'
2016-10-19 23:58:20,786 [salt.fileclient  ][DEBUG   ][1734] In saltenv 'base', looking at rel_path 'files/munin/etc/httpd/conf.d/fcgid.conf_v7' to resolve 'salt://files/munin/etc/httpd/conf.d/fcgid.conf_v7'
2016-10-19 23:58:20,787 [salt.fileclient  ][DEBUG   ][1734] In saltenv 'base', ** considering ** path '/root/saltstack_master/var/cache/salt/master/salt-ssh/munin/files/base/files/munin/etc/httpd/conf.d/fcgid.conf_v7' to resolve 'salt://files/munin/etc/httpd/conf.d/fcgid.conf_v7'
2016-10-19 23:58:20,787 [salt.fileclient  ][INFO    ][1734] Fetching file from saltenv 'base', ** skipped ** latest already in cache 'salt://files/munin/etc/httpd/conf.d/fcgid.conf_v7'
2016-10-19 23:58:20,788 [salt.fileclient  ][DEBUG   ][1734] Could not find file from saltenv 'base', 'salt://_modules'
2016-10-19 23:58:20,788 [salt.fileclient  ][INFO    ][1734] Caching directory '_modules/' for environment 'base'
2016-10-19 23:58:20,790 [salt.fileclient  ][DEBUG   ][1734] In saltenv 'base', looking at rel_path '_modules/custom_munin.py' to resolve 'salt://_modules/custom_munin.py'
2016-10-19 23:58:20,790 [salt.fileclient  ][DEBUG   ][1734] In saltenv 'base', ** considering ** path '/root/saltstack_master/var/cache/salt/master/salt-ssh/munin/files/base/_modules/custom_munin.py' to resolve 'salt://_modules/custom_munin.py'
2016-10-19 23:58:20,790 [salt.fileclient  ][INFO    ][1734] Fetching file from saltenv 'base', ** skipped ** latest already in cache 'salt://_modules/custom_munin.py'
2016-10-19 23:58:20,791 [salt.fileclient  ][DEBUG   ][1734] Could not find file from saltenv 'base', 'salt://_states'
2016-10-19 23:58:20,792 [salt.fileclient  ][INFO    ][1734] Caching directory '_states/' for environment 'base'
2016-10-19 23:58:20,793 [salt.fileclient  ][DEBUG   ][1734] Could not find file from saltenv 'base', 'salt://_grains'
2016-10-19 23:58:20,793 [salt.fileclient  ][INFO    ][1734] Caching directory '_grains/' for environment 'base'
2016-10-19 23:58:20,794 [salt.fileclient  ][DEBUG   ][1734] Could not find file from saltenv 'base', 'salt://_renderers'
2016-10-19 23:58:20,794 [salt.fileclient  ][INFO    ][1734] Caching directory '_renderers/' for environment 'base'
2016-10-19 23:58:20,795 [salt.fileclient  ][DEBUG   ][1734] Could not find file from saltenv 'base', 'salt://_returners'
2016-10-19 23:58:20,796 [salt.fileclient  ][INFO    ][1734] Caching directory '_returners/' for environment 'base'
2016-10-19 23:58:20,797 [salt.fileclient  ][DEBUG   ][1734] Could not find file from saltenv 'base', 'salt://_output'
2016-10-19 23:58:20,797 [salt.fileclient  ][INFO    ][1734] Caching directory '_output/' for environment 'base'
2016-10-19 23:58:20,798 [salt.fileclient  ][DEBUG   ][1734] Could not find file from saltenv 'base', 'salt://_utils'
2016-10-19 23:58:20,798 [salt.fileclient  ][INFO    ][1734] Caching directory '_utils/' for environment 'base'
2016-10-19 23:58:20,889 [salt.client.ssh.shell][DEBUG   ][1734] Executing command: scp   -o KbdInteractiveAuthentication=no -o PasswordAuthentication=yes -o GSSAPIAuthentication=no -o ConnectTimeout=65 -o Port=22 -o IdentityFile=/root/saltstack_master/etc/salt/pki/master/ssh/salt-ssh.rsa -o User=******  /tmp/tmp4XTIYq 192.168.1.15:/var/tmp/.******_1a3532_salt/salt_state.tgz
2016-10-19 23:58:20,897 [salt.utils.vt    ][DEBUG   ][1734] Child Forked! PID: 1741  STDOUT_FD: 9  STDERR_FD: 11
2016-10-19 23:58:20,898 [salt.utils.vt    ][DEBUG   ][1734] Terminal Command: /bin/sh -c scp   -o KbdInteractiveAuthentication=no -o PasswordAuthentication=yes -o GSSAPIAuthentication=no -o ConnectTimeout=65 -o Port=22 -o IdentityFile=/root/saltstack_master/etc/salt/pki/master/ssh/salt-ssh.rsa -o User=salt-ope  /tmp/tmp4XTIYq 192.168.1.15:/var/tmp/.salt-ope_1a3532_salt/salt_state.tgz
2016-10-19 23:58:21,308 [salt.client.ssh  ][DEBUG   ][1734] Performing shimmed, blocking command as follows:
state.pkg /var/tmp/.salt-ope_1a3532_salt/salt_state.tgz test=True pkg_sum=9bfa1e0af81332ec4680fe3e33d7dfd5 hash_type=md5
2016-10-19 23:58:21,331 [salt.client.ssh.shell][DEBUG   ][1734] Executed SHIM command. Command logged to TRACE
2016-10-19 23:58:21,336 [salt.utils.vt    ][DEBUG   ][1734] Child Forked! PID: 1743  STDOUT_FD: 9  STDERR_FD: 11
2016-10-19 23:58:21,340 [salt.utils.vt    ][DEBUG   ][1734] VT: Salt-SSH SHIM Terminal Command executed. Logged to TRACE
2016-10-19 23:58:23,283 [salt.client.ssh  ][DEBUG   ][1734] RETCODE 192.168.1.15: 0
2016-10-19 23:58:23,392 [salt.utils.lazy  ][DEBUG   ][1718] LazyLoaded highstate.output
2016-10-19 23:58:23,395 [salt.utils.lazy  ][DEBUG   ][1718] LazyLoaded nested.output
2016-10-19 23:58:28,313 [salt.fileclient  ][INFO    ][1749] Fetching file from saltenv 'base', ** skipped ** latest already in cache 'salt://_modules/custom_munin.py'
2016-10-19 23:58:29,645 [salt.fileclient  ][INFO    ][1765] Fetching file from saltenv 'base', ** skipped ** latest already in cache 'salt://munin.sls'
2016-10-19 23:58:31,557 [salt.fileclient  ][INFO    ][1765] Fetching file from saltenv 'base', ** skipped ** latest already in cache 'salt://files/shared/etc/yum.repos.d/epel.repo_v7'
2016-10-19 23:58:31,559 [salt.fileclient  ][INFO    ][1765] Fetching file from saltenv 'base', ** skipped ** latest already in cache 'salt://files/shared/etc/pki/rpm-gpg/RPM-GPG-KEY-EPEL-7'
2016-10-19 23:58:31,561 [salt.fileclient  ][INFO    ][1765] Fetching file from saltenv 'base', ** skipped ** latest already in cache 'salt://files/munin/etc/munin/munin-node.conf'
2016-10-19 23:58:31,563 [salt.fileclient  ][INFO    ][1765] Fetching file from saltenv 'base', ** skipped ** latest already in cache 'salt://files/munin/etc/munin/munin-htpasswd'
2016-10-19 23:58:31,564 [salt.fileclient  ][INFO    ][1765] Fetching file from saltenv 'base', ** skipped ** latest already in cache 'salt://files/munin/etc/munin/munin.conf'
2016-10-19 23:58:31,566 [salt.fileclient  ][INFO    ][1765] Fetching file from saltenv 'base', ** skipped ** latest already in cache 'salt://files/munin/etc/httpd/conf/httpd.conf_v7'
2016-10-19 23:58:31,568 [salt.fileclient  ][INFO    ][1765] Fetching file from saltenv 'base', ** skipped ** latest already in cache 'salt://files/munin/etc/httpd/conf.d/munin.conf'
2016-10-19 23:58:31,569 [salt.fileclient  ][INFO    ][1765] Fetching file from saltenv 'base', ** skipped ** latest already in cache 'salt://files/munin/etc/httpd/conf.d/fcgid.conf_v7'
2016-10-19 23:58:31,570 [salt.fileclient  ][INFO    ][1765] Caching directory '_modules/' for environment 'base'
2016-10-19 23:58:31,572 [salt.fileclient  ][INFO    ][1765] Fetching file from saltenv 'base', ** skipped ** latest already in cache 'salt://_modules/custom_munin.py'
2016-10-19 23:58:31,573 [salt.fileclient  ][INFO    ][1765] Caching directory '_states/' for environment 'base'
2016-10-19 23:58:31,574 [salt.fileclient  ][INFO    ][1765] Caching directory '_grains/' for environment 'base'
2016-10-19 23:58:31,576 [salt.fileclient  ][INFO    ][1765] Caching directory '_renderers/' for environment 'base'
2016-10-19 23:58:31,577 [salt.fileclient  ][INFO    ][1765] Caching directory '_returners/' for environment 'base'
2016-10-19 23:58:31,578 [salt.fileclient  ][INFO    ][1765] Caching directory '_output/' for environment 'base'
2016-10-19 23:58:31,579 [salt.fileclient  ][INFO    ][1765] Caching directory '_utils/' for environment 'base'
2016-10-20 00:02:04,042 [salt.output      ][ERROR   ][2052] Nested output failed: 
Traceback (most recent call last):
  File "/usr/lib/python2.6/site-packages/salt/output/__init__.py", line 43, in try_printout
    return get_printout('nested', opts)(data).rstrip()
  File "/usr/lib/python2.6/site-packages/salt/output/overstatestage.py", line 35, in output
    for name, stage in six.iteritems(comp):
  File "/usr/lib/python2.6/site-packages/salt/ext/six.py", line 583, in iteritems
    return iter(d.iteritems(**kw))
AttributeError: 'str' object has no attribute 'iteritems'
2016-10-20 00:02:04,046 [salt.log.setup   ][ERROR   ][2052] An un-handled exception was caught by salt's global exception handler:
AttributeError: 'str' object has no attribute 'iteritems'
Traceback (most recent call last):
  File "/usr/bin/salt-ssh", line 10, in <module>
    salt_ssh()
  File "/usr/lib/python2.6/site-packages/salt/scripts.py", line 391, in salt_ssh
    client.run()
  File "/usr/lib/python2.6/site-packages/salt/cli/ssh.py", line 21, in run
    ssh.run()
  File "/usr/lib/python2.6/site-packages/salt/client/ssh/__init__.py", line 616, in run
    self.opts)
  File "/usr/lib/python2.6/site-packages/salt/output/__init__.py", line 86, in display_output
    display_data = try_printout(data, out, opts)
  File "/usr/lib/python2.6/site-packages/salt/output/__init__.py", line 46, in try_printout
    return get_printout('raw', opts)(data).rstrip()
  File "/usr/lib/python2.6/site-packages/salt/output/overstatestage.py", line 35, in output
    for name, stage in six.iteritems(comp):
  File "/usr/lib/python2.6/site-packages/salt/ext/six.py", line 583, in iteritems
    return iter(d.iteritems(**kw))
AttributeError: 'str' object has no attribute 'iteritems'
2016-10-20 00:02:53,366 [salt.output      ][ERROR   ][2179] Nested output failed: 
Traceback (most recent call last):
  File "/usr/lib/python2.6/site-packages/salt/output/__init__.py", line 43, in try_printout
    return get_printout('nested', opts)(data).rstrip()
  File "/usr/lib/python2.6/site-packages/salt/output/key.py", line 90, in output
    ret += u'{0}\n'.format(trans[status])
KeyError: 'munin'
2016-10-20 00:02:53,371 [salt.log.setup   ][ERROR   ][2179] An un-handled exception was caught by salt's global exception handler:
KeyError: 'munin'
Traceback (most recent call last):
  File "/usr/bin/salt-ssh", line 10, in <module>
    salt_ssh()
  File "/usr/lib/python2.6/site-packages/salt/scripts.py", line 391, in salt_ssh
    client.run()
  File "/usr/lib/python2.6/site-packages/salt/cli/ssh.py", line 21, in run
    ssh.run()
  File "/usr/lib/python2.6/site-packages/salt/client/ssh/__init__.py", line 616, in run
    self.opts)
  File "/usr/lib/python2.6/site-packages/salt/output/__init__.py", line 86, in display_output
    display_data = try_printout(data, out, opts)
  File "/usr/lib/python2.6/site-packages/salt/output/__init__.py", line 46, in try_printout
    return get_printout('raw', opts)(data).rstrip()
  File "/usr/lib/python2.6/site-packages/salt/output/key.py", line 90, in output
    ret += u'{0}\n'.format(trans[status])
KeyError: 'munin'
2016-10-20 00:47:55,495 [salt.utils.verify][WARNING ][2617] Insecure logging configuration detected! Sensitive data may be logged.
2016-10-20 00:47:55,501 [salt.utils.lazy  ][DEBUG   ][2617] LazyLoaded flat.targets
2016-10-20 00:47:55,502 [salt.utils.lazy  ][DEBUG   ][2617] LazyLoaded jinja.render
2016-10-20 00:47:55,503 [salt.utils.lazy  ][DEBUG   ][2617] LazyLoaded yaml.render
2016-10-20 00:47:55,503 [salt.template    ][DEBUG   ][2617] compile template: ./roster
2016-10-20 00:47:55,504 [salt.utils.jinja ][DEBUG   ][2617] Jinja search path: ['/root/saltstack_master/var/cache/salt/master/files/base']
2016-10-20 00:47:55,507 [salt.template    ][PROFILE ][2617] Time (in seconds) to render './roster' using 'jinja' renderer: 0.00389099121094
2016-10-20 00:47:55,508 [salt.template    ][DEBUG   ][2617] Rendered data from file: ./roster:
local:
  host: 127.0.0.1
  user: salt-ope
  passwd: salt-ope
  sudo: True
nagioslog:
  host: 192.168.1.12
  user: salt-ope
  passwd: salt-ope
  sudo: True
munin-async01:
  host: 192.168.1.14
  user: salt-ope
  passwd: salt-ope
  sudo: True
munin:
  host: 192.168.1.15
  user: salt-ope
  passwd: salt-ope
  sudo: True
kibana4:
  host: 192.168.1.37
  user: salt-ope
  passwd: salt-ope
  sudo: True
munin_cent71:
  host: 192.168.1.19
  user: salt-ope
  passwd: salt-ope
  sudo: True
ceph-deploy:
  host: 192.168.1.5
  user: salt-ope
  passwd: salt-ope
  sudo: True
ceph-node01:
  host: 192.168.1.6
  user: salt-ope
  passwd: salt-ope
  sudo: True
ceph-node02:
  host: 192.168.1.16
  user: salt-ope
  passwd: salt-ope
  sudo: True
ceph-node03:
  host: 192.168.1.18
  user: salt-ope
  passwd: salt-ope
  sudo: True
ceph-admin:
  host: 192.168.1.20
  user: salt-ope
  passwd: salt-ope
  sudo: True

2016-10-20 00:47:55,519 [salt.loaded.int.render.yaml][DEBUG   ][2617] Results of YAML rendering: 
OrderedDict([('local', OrderedDict([('host', '127.0.0.1'), ('user', 'salt-ope'), ('passwd', 'salt-ope'), ('sudo', True)])), ('nagioslog', OrderedDict([('host', '192.168.1.12'), ('user', 'salt-ope'), ('passwd', 'salt-ope'), ('sudo', True)])), ('munin-async01', OrderedDict([('host', '192.168.1.14'), ('user', 'salt-ope'), ('passwd', 'salt-ope'), ('sudo', True)])), ('munin', OrderedDict([('host', '192.168.1.15'), ('user', 'salt-ope'), ('passwd', 'salt-ope'), ('sudo', True)])), ('kibana4', OrderedDict([('host', '192.168.1.37'), ('user', 'salt-ope'), ('passwd', 'salt-ope'), ('sudo', True)])), ('munin_cent71', OrderedDict([('host', '192.168.1.19'), ('user', 'salt-ope'), ('passwd', 'salt-ope'), ('sudo', True)])), ('ceph-deploy', OrderedDict([('host', '192.168.1.5'), ('user', 'salt-ope'), ('passwd', 'salt-ope'), ('sudo', True)])), ('ceph-node01', OrderedDict([('host', '192.168.1.6'), ('user', 'salt-ope'), ('passwd', 'salt-ope'), ('sudo', True)])), ('ceph-node02', OrderedDict([('host', '192.168.1.16'), ('user', 'salt-ope'), ('passwd', 'salt-ope'), ('sudo', True)])), ('ceph-node03', OrderedDict([('host', '192.168.1.18'), ('user', 'salt-ope'), ('passwd', 'salt-ope'), ('sudo', True)])), ('ceph-admin', OrderedDict([('host', '192.168.1.20'), ('user', 'salt-ope'), ('passwd', 'salt-ope'), ('sudo', True)]))])
2016-10-20 00:47:55,519 [salt.template    ][PROFILE ][2617] Time (in seconds) to render './roster' using 'yaml' renderer: 0.0110468864441
2016-10-20 00:47:55,519 [salt.roster      ][DEBUG   ][2617] Matched minions: {'munin': OrderedDict([('host', '192.168.1.15'), ('user', 'salt-ope'), ('passwd', 'salt-ope'), ('sudo', True)])}
2016-10-20 00:47:55,522 [salt.utils.lazy  ][DEBUG   ][2617] LazyLoaded roots.envs
2016-10-20 00:47:55,525 [salt.utils.lazy  ][DEBUG   ][2617] Could not LazyLoad roots.init
2016-10-20 00:47:55,526 [salt.fileserver  ][DEBUG   ][2617] Updating roots fileserver cache
2016-10-20 00:47:55,529 [salt.fileserver  ][TRACE   ][2617] Returning file_lists cache data from /root/saltstack_master/var/cache/salt/master/file_lists/roots/base.p
2016-10-20 00:47:55,530 [salt.fileclient  ][DEBUG   ][2617] In saltenv 'base', looking at rel_path '_modules/custom_munin.py' to resolve 'salt://_modules/custom_munin.py'
2016-10-20 00:47:55,531 [salt.fileclient  ][DEBUG   ][2617] In saltenv 'base', ** considering ** path '/root/saltstack_master/var/cache/salt/master/files/base/_modules/custom_munin.py' to resolve 'salt://_modules/custom_munin.py'
2016-10-20 00:47:55,531 [salt.fileclient  ][INFO    ][2617] Fetching file from saltenv 'base', ** skipped ** latest already in cache 'salt://_modules/custom_munin.py'
2016-10-20 00:47:55,532 [salt.utils.lazy  ][DEBUG   ][2617] LazyLoaded local_cache.prep_jid
2016-10-20 00:47:55,532 [salt.loaded.int.returner.local_cache][DEBUG   ][2617] Adding minions for job 20161020004755531914: ['munin']
2016-10-20 00:47:55,558 [salt.utils.lazy  ][DEBUG   ][2633] LazyLoaded state.apply
2016-10-20 00:47:55,579 [salt.client.ssh  ][DEBUG   ][2633] Performing shimmed, blocking command as follows:
test.opts_pkg
2016-10-20 00:47:55,600 [salt.client.ssh.shell][DEBUG   ][2633] Executed SHIM command. Command logged to TRACE
2016-10-20 00:47:55,600 [salt.client.ssh.shell][TRACE   ][2633] Executing command: ssh 192.168.1.15  -o KbdInteractiveAuthentication=no -o PasswordAuthentication=yes -o GSSAPIAuthentication=no -o ConnectTimeout=65 -o Port=22 -o IdentityFile=/root/saltstack_master/etc/salt/pki/master/ssh/salt-ssh.rsa -o User=******  /bin/sh << 'EOF'
set -e
set -u
DEBUG="1"
if [ -n "$DEBUG" ]
then set -x
fi
SUDO=""
if [ -n "sudo" ]
then SUDO="sudo "
fi
EX_PYTHON_INVALID=10
PYTHON_CMDS="python3 python27 python2.7 python26 python2.6 python2 python"
for py_cmd in $PYTHON_CMDS
do
if command -v "$py_cmd" >/dev/null 2>&1 && "$py_cmd" -c \
"import sys; sys.exit(not (sys.version_info >= (2, 6)
and sys.version_info[0] == 2));"
then
py_cmd_path=`"$py_cmd" -c \
'from __future__ import print_function;
import sys; print(sys.executable);'`
cmdpath=$(which $py_cmd 2>&1)
if file $cmdpath | grep "shell script" > /dev/null
then
ex_vars="'PATH', 'LD_LIBRARY_PATH', 'MANPATH', \
'XDG_DATA_DIRS', 'PKG_CONFIG_PATH'"
export $($py_cmd -c \
"from __future__ import print_function;
import sys;
import os;
map(sys.stdout.write, ['{0}={1} ' \
.format(x, os.environ[x]) for x in [$ex_vars]])")
exec $SUDO PATH=$PATH LD_LIBRARY_PATH=$LD_LIBRARY_PATH \
MANPATH=$MANPATH XDG_DATA_DIRS=$XDG_DATA_DIRS \
PKG_CONFIG_PATH=$PKG_CONFIG_PATH \
"$py_cmd_path" -c \
'import base64;
exec(base64.b64decode("""IyBweWxpbnQ6IGRpc2FibGU9Vzk5MDMKJycnClRoaXMgaXMgYSBzaGltIHRoYXQgaGFuZGxlcyBj
aGVja2luZyBhbmQgdXBkYXRpbmcgc2FsdCB0aGluIGFuZAp0aGVuIGludm9raW5nIHRoaW4uCgpU
aGlzIGlzIG5vdCBpbnRlbmRlZCB0byBiZSBpbnN0YW50aWF0ZWQgYXMgYSBtb2R1bGUsIHJhdGhl
ciBpdCBpcyBhCmhlbHBlciBzY3JpcHQgdXNlZCBieSBzYWx0LmNsaWVudC5zc2guU2luZ2xlLiAg
SXQgaXMgaGVyZSwgaW4gYQpzZXBhcmF0ZSBmaWxlLCBmb3IgY29udmVuaWVuY2Ugb2YgZGV2ZWxv
cG1lbnQuCicnJwoKZnJvbSBfX2Z1dHVyZV9fIGltcG9ydCBhYnNvbHV0ZV9pbXBvcnQKCmltcG9y
dCBoYXNobGliCmltcG9ydCB0YXJmaWxlCmltcG9ydCBzaHV0aWwKaW1wb3J0IHN5cwppbXBvcnQg
b3MKaW1wb3J0IHN0YXQKaW1wb3J0IHN1YnByb2Nlc3MKClRISU5fQVJDSElWRSA9ICdzYWx0LXRo
aW4udGd6JwpFWFRfQVJDSElWRSA9ICdzYWx0LWV4dF9tb2RzLnRneicKCiMgS2VlcCB0aGVzZSBp
biBzeW5jIHdpdGggc2FsdC9kZWZhdWx0cy9leGl0Y29kZXMucHkKRVhfVEhJTl9ERVBMT1kgPSAx
MQpFWF9USElOX0NIRUNLU1VNID0gMTIKRVhfTU9EX0RFUExPWSA9IDEzCkVYX1NDUF9OT1RfRk9V
TkQgPSAxNApFWF9DQU5UQ1JFQVQgPSA3MwoKCmNsYXNzIE9CSihvYmplY3QpOgogICAgIiIiQW4g
ZW1wdHkgY2xhc3MgZm9yIGhvbGRpbmcgaW5zdGFuY2UgYXR0cmlidXRlIHZhbHVlcy4iIiIKICAg
IHBhc3MKCgpPUFRJT05TID0gTm9uZQpBUkdTID0gTm9uZQojIFRoZSBiZWxvdyBsaW5lIGlzIHdo
ZXJlIE9QVElPTlMgY2FuIGJlIHJlZGVmaW5lZCB3aXRoIGludGVybmFsIG9wdGlvbnMKIyAocmF0
aGVyIHRoYW4gY2xpIGFyZ3VtZW50cykgd2hlbiB0aGUgc2hpbSBpcyBidW5kbGVkIGJ5CiMgY2xp
ZW50LnNzaC5TaW5nbGUuX2NtZF9zdHIoKQojIHB5bGludDogZGlzYWJsZT1ibG9jay1jb21tZW50
LXNob3VsZC1zdGFydC13aXRoLWNhcmRpbmFsLXNwYWNlCgpPUFRJT05TID0gT0JKKCkKT1BUSU9O
Uy5jb25maWcgPSAiIiIKe2ZpbGVzZXJ2ZXJfbGlzdF9jYWNoZV90aW1lOiAzLCBncmFpbnNfY2Fj
aGU6IHRydWUsIGlkOiBtdW5pbiwgbG9nX2ZpbGU6IHNhbHQtY2FsbC5sb2csCiAgcm9vdF9kaXI6
IC92YXIvdG1wLy5zYWx0LW9wZV8xYTM1MzJfc2FsdC9ydW5uaW5nX2RhdGEsIHNvY2tfZGlyOiAv
fQoiIiIKT1BUSU9OUy5kZWxpbWl0ZXIgPSAnX2VkYmM3ODg1ZTRmOWFhYzliODNiMzU5OTliNjhk
MDE1MTQ4Y2FmNDY3Yjc4ZmEzOWMwNWY2NjljMGZmODk4NzgnCk9QVElPTlMuc2FsdGRpciA9ICcv
dmFyL3RtcC8uc2FsdC1vcGVfMWEzNTMyX3NhbHQnCk9QVElPTlMuY2hlY2tzdW0gPSAnOTg1MjZk
OTliMWU3YjA3OWRjZWZjZWM5ZmE1Yjg1MWZmYmY5ODEzZCcKT1BUSU9OUy5oYXNoZnVuYyA9ICdz
aGExJwpPUFRJT05TLnZlcnNpb24gPSAnMjAxNi4zLjInCk9QVElPTlMuZXh0X21vZHMgPSAnNzQx
OTZlMDExNDUyMWUyYWRjNjlkNjgxY2U2YTQ1NjNiYTBhZTFlYicKT1BUSU9OUy53aXBlID0gRmFs
c2UKT1BUSU9OUy50dHkgPSBGYWxzZQpPUFRJT05TLmNtZF91bWFzayA9IE5vbmUKQVJHUyA9IFsn
dGVzdC5vcHRzX3BrZyddCgoKCmRlZiBuZWVkX2RlcGxveW1lbnQoKToKICAgICIiIgogICAgU2Fs
dCB0aGluIG5lZWRzIHRvIGJlIGRlcGxveWVkIC0gcHJlcCB0aGUgdGFyZ2V0IGRpcmVjdG9yeSBh
bmQgZW1pdCB0aGUKICAgIGRlbGltZXRlciBhbmQgZXhpdCBjb2RlIHRoYXQgc2lnbmFscyBhIHJl
cXVpcmVkIGRlcGxveW1lbnQuCiAgICAiIiIKICAgIGlmIG9zLnBhdGguZXhpc3RzKE9QVElPTlMu
c2FsdGRpcik6CiAgICAgICAgc2h1dGlsLnJtdHJlZShPUFRJT05TLnNhbHRkaXIpCiAgICBvbGRf
dW1hc2sgPSBvcy51bWFzaygwbzA3NykKICAgIG9zLm1ha2VkaXJzKE9QVElPTlMuc2FsdGRpcikK
ICAgIG9zLnVtYXNrKG9sZF91bWFzaykKICAgICMgVmVyaWZ5IHBlcm1zIG9uIHNhbHRkaXIKICAg
IGV1aWQgPSBvcy5nZXRldWlkKCkKICAgIGRzdGF0ID0gb3Muc3RhdChPUFRJT05TLnNhbHRkaXIp
CiAgICBpZiBkc3RhdC5zdF91aWQgIT0gZXVpZDoKICAgICAgICAjIEF0dGFjayBkZXRlY3RlZCwg
dHJ5IGFnYWluCiAgICAgICAgbmVlZF9kZXBsb3ltZW50KCkKICAgIGlmIGRzdGF0LnN0X21vZGUg
IT0gMTY4MzI6CiAgICAgICAgIyBBdHRhY2sgZGV0ZWN0ZWQKICAgICAgICBuZWVkX2RlcGxveW1l
bnQoKQogICAgIyBJZiBTVURPaW5nIHRoZW4gYWxzbyBnaXZlIHRoZSBzdXBlciB1c2VyIGdyb3Vw
IHdyaXRlIHBlcm1pc3Npb25zCiAgICBzdWRvX2dpZCA9IG9zLmVudmlyb24uZ2V0KCdTVURPX0dJ
RCcpCiAgICBpZiBzdWRvX2dpZDoKICAgICAgICBvcy5jaG93bihPUFRJT05TLnNhbHRkaXIsIC0x
LCBpbnQoc3Vkb19naWQpKQogICAgICAgIHN0dCA9IG9zLnN0YXQoT1BUSU9OUy5zYWx0ZGlyKQog
ICAgICAgIG9zLmNobW9kKE9QVElPTlMuc2FsdGRpciwgc3R0LnN0X21vZGUgfCBzdGF0LlNfSVdH
UlAgfCBzdGF0LlNfSVJHUlAgfCBzdGF0LlNfSVhHUlApCgogICAgIyBEZWxpbWl0ZXIgZW1pdHRl
ZCBvbiBzdGRvdXQgKm9ubHkqIHRvIGluZGljYXRlIHNoaW0gbWVzc2FnZSB0byBtYXN0ZXIuCiAg
ICBzeXMuc3Rkb3V0LndyaXRlKCJ7MH1cbmRlcGxveVxuIi5mb3JtYXQoT1BUSU9OUy5kZWxpbWl0
ZXIpKQogICAgc3lzLmV4aXQoRVhfVEhJTl9ERVBMT1kpCgoKIyBBZGFwdGVkIGZyb20gc2FsdC51
dGlscy5nZXRfaGFzaCgpCmRlZiBnZXRfaGFzaChwYXRoLCBmb3JtPSdzaGExJywgY2h1bmtfc2l6
ZT00MDk2KToKICAgICIiIkdlbmVyYXRlIGEgaGFzaCBkaWdlc3Qgc3RyaW5nIGZvciBhIGZpbGUu
IiIiCiAgICB0cnk6CiAgICAgICAgaGFzaF90eXBlID0gZ2V0YXR0cihoYXNobGliLCBmb3JtKQog
ICAgZXhjZXB0IEF0dHJpYnV0ZUVycm9yOgogICAgICAgIHJhaXNlIFZhbHVlRXJyb3IoJ0ludmFs
aWQgaGFzaCB0eXBlOiB7MH0nLmZvcm1hdChmb3JtKSkKICAgIHdpdGggb3BlbihwYXRoLCAncmIn
KSBhcyBpZmlsZToKICAgICAgICBoYXNoX29iaiA9IGhhc2hfdHlwZSgpCiAgICAgICAgIyByZWFk
IHRoZSBmaWxlIGluIGluIGNodW5rcywgbm90IHRoZSBlbnRpcmUgZmlsZQogICAgICAgIGZvciBj
aHVuayBpbiBpdGVyKGxhbWJkYTogaWZpbGUucmVhZChjaHVua19zaXplKSwgYicnKToKICAgICAg
ICAgICAgaGFzaF9vYmoudXBkYXRlKGNodW5rKQogICAgICAgIHJldHVybiBoYXNoX29iai5oZXhk
aWdlc3QoKQoKCmRlZiB1bnBhY2tfdGhpbih0aGluX3BhdGgpOgogICAgIiIiVW5wYWNrIHRoZSBT
YWx0IHRoaW4gYXJjaGl2ZS4iIiIKICAgIHRmaWxlID0gdGFyZmlsZS5UYXJGaWxlLmd6b3Blbih0
aGluX3BhdGgpCiAgICBvbGRfdW1hc2sgPSBvcy51bWFzaygwbzA3NykKICAgIHRmaWxlLmV4dHJh
Y3RhbGwocGF0aD1PUFRJT05TLnNhbHRkaXIpCiAgICB0ZmlsZS5jbG9zZSgpCiAgICBvcy51bWFz
ayhvbGRfdW1hc2spCiAgICBvcy51bmxpbmsodGhpbl9wYXRoKQoKCmRlZiBuZWVkX2V4dCgpOgog
ICAgIiIiU2lnbmFsIHRoYXQgZXh0ZXJuYWwgbW9kdWxlcyBuZWVkIHRvIGJlIGRlcGxveWVkLiIi
IgogICAgc3lzLnN0ZG91dC53cml0ZSgiezB9XG5leHRfbW9kc1xuIi5mb3JtYXQoT1BUSU9OUy5k
ZWxpbWl0ZXIpKQogICAgc3lzLmV4aXQoRVhfTU9EX0RFUExPWSkKCgpkZWYgdW5wYWNrX2V4dChl
eHRfcGF0aCk6CiAgICAiIiJVbnBhY2sgdGhlIGV4dGVybmFsIG1vZHVsZXMuIiIiCiAgICBtb2Rj
YWNoZSA9IG9zLnBhdGguam9pbigKICAgICAgICAgICAgT1BUSU9OUy5zYWx0ZGlyLAogICAgICAg
ICAgICAncnVubmluZ19kYXRhJywKICAgICAgICAgICAgJ3ZhcicsCiAgICAgICAgICAgICdjYWNo
ZScsCiAgICAgICAgICAgICdzYWx0JywKICAgICAgICAgICAgJ21pbmlvbicsCiAgICAgICAgICAg
ICdleHRtb2RzJykKICAgIHRmaWxlID0gdGFyZmlsZS5UYXJGaWxlLmd6b3BlbihleHRfcGF0aCkK
ICAgIG9sZF91bWFzayA9IG9zLnVtYXNrKDBvMDc3KQogICAgdGZpbGUuZXh0cmFjdGFsbChwYXRo
PW1vZGNhY2hlKQogICAgdGZpbGUuY2xvc2UoKQogICAgb3MudW1hc2sob2xkX3VtYXNrKQogICAg
b3MudW5saW5rKGV4dF9wYXRoKQogICAgdmVyX3BhdGggPSBvcy5wYXRoLmpvaW4obW9kY2FjaGUs
ICdleHRfdmVyc2lvbicpCiAgICB2ZXJfZHN0ID0gb3MucGF0aC5qb2luKE9QVElPTlMuc2FsdGRp
ciwgJ2V4dF92ZXJzaW9uJykKICAgIHNodXRpbC5tb3ZlKHZlcl9wYXRoLCB2ZXJfZHN0KQoKCmRl
ZiBtYWluKGFyZ3YpOiAgIyBweWxpbnQ6IGRpc2FibGU9VzA2MTMKICAgICIiIk1haW4gcHJvZ3Jh
bSBib2R5IiIiCiAgICB0aGluX3BhdGggPSBvcy5wYXRoLmpvaW4oT1BUSU9OUy5zYWx0ZGlyLCBU
SElOX0FSQ0hJVkUpCiAgICBpZiBvcy5wYXRoLmlzZmlsZSh0aGluX3BhdGgpOgogICAgICAgIGlm
IE9QVElPTlMuY2hlY2tzdW0gIT0gZ2V0X2hhc2godGhpbl9wYXRoLCBPUFRJT05TLmhhc2hmdW5j
KToKICAgICAgICAgICAgc3lzLnN0ZGVyci53cml0ZSgnezB9XG4nLmZvcm1hdChPUFRJT05TLmNo
ZWNrc3VtKSkKICAgICAgICAgICAgc3lzLnN0ZGVyci53cml0ZSgnezB9XG4nLmZvcm1hdChnZXRf
aGFzaCh0aGluX3BhdGgsIE9QVElPTlMuaGFzaGZ1bmMpKSkKICAgICAgICAgICAgb3MudW5saW5r
KHRoaW5fcGF0aCkKICAgICAgICAgICAgc3lzLnN0ZGVyci53cml0ZSgnV0FSTklORzogY2hlY2tz
dW0gbWlzbWF0Y2ggZm9yICJ7MH0iXG4nLmZvcm1hdCh0aGluX3BhdGgpKQogICAgICAgICAgICBz
eXMuZXhpdChFWF9USElOX0NIRUNLU1VNKQogICAgICAgIHVucGFja190aGluKHRoaW5fcGF0aCkK
ICAgICAgICAjIFNhbHQgdGhpbiBub3cgaXMgYXZhaWxhYmxlIHRvIHVzZQogICAgZWxzZToKICAg
ICAgICBzY3BzdGF0ID0gc3VicHJvY2Vzcy5Qb3BlbihbJy9iaW4vc2gnLCAnLWMnLCAnY29tbWFu
ZCAtdiBzY3AnXSkud2FpdCgpCiAgICAgICAgaWYgc2Nwc3RhdCAhPSAwOgogICAgICAgICAgICBz
eXMuZXhpdChFWF9TQ1BfTk9UX0ZPVU5EKQoKICAgICAgICBpZiBub3Qgb3MucGF0aC5leGlzdHMo
T1BUSU9OUy5zYWx0ZGlyKToKICAgICAgICAgICAgbmVlZF9kZXBsb3ltZW50KCkKCiAgICAgICAg
aWYgbm90IG9zLnBhdGguaXNkaXIoT1BUSU9OUy5zYWx0ZGlyKToKICAgICAgICAgICAgc3lzLnN0
ZGVyci53cml0ZSgKICAgICAgICAgICAgICAgICdFUlJPUjogc2FsdCBwYXRoICJ7MH0iIGV4aXN0
cyBidXQgaXMnCiAgICAgICAgICAgICAgICAnIG5vdCBhIGRpcmVjdG9yeVxuJy5mb3JtYXQoT1BU
SU9OUy5zYWx0ZGlyKQogICAgICAgICAgICApCiAgICAgICAgICAgIHN5cy5leGl0KEVYX0NBTlRD
UkVBVCkKCiAgICAgICAgdmVyc2lvbl9wYXRoID0gb3MucGF0aC5qb2luKE9QVElPTlMuc2FsdGRp
ciwgJ3ZlcnNpb24nKQogICAgICAgIGlmIG5vdCBvcy5wYXRoLmV4aXN0cyh2ZXJzaW9uX3BhdGgp
IG9yIG5vdCBvcy5wYXRoLmlzZmlsZSh2ZXJzaW9uX3BhdGgpOgogICAgICAgICAgICBzeXMuc3Rk
ZXJyLndyaXRlKAogICAgICAgICAgICAgICAgJ1dBUk5JTkc6IFVuYWJsZSB0byBsb2NhdGUgY3Vy
cmVudCB0aGluICcKICAgICAgICAgICAgICAgICcgdmVyc2lvbjogezB9LlxuJy5mb3JtYXQodmVy
c2lvbl9wYXRoKQogICAgICAgICAgICApCiAgICAgICAgICAgIG5lZWRfZGVwbG95bWVudCgpCiAg
ICAgICAgd2l0aCBvcGVuKHZlcnNpb25fcGF0aCwgJ3InKSBhcyB2cG86CiAgICAgICAgICAgIGN1
cl92ZXJzaW9uID0gdnBvLnJlYWRsaW5lKCkuc3RyaXAoKQogICAgICAgIGlmIGN1cl92ZXJzaW9u
ICE9IE9QVElPTlMudmVyc2lvbjoKICAgICAgICAgICAgc3lzLnN0ZGVyci53cml0ZSgKICAgICAg
ICAgICAgICAgICdXQVJOSU5HOiBjdXJyZW50IHRoaW4gdmVyc2lvbiB7MH0nCiAgICAgICAgICAg
ICAgICAnIGlzIG5vdCB1cC10by1kYXRlIHdpdGggezF9LlxuJy5mb3JtYXQoCiAgICAgICAgICAg
ICAgICAgICAgY3VyX3ZlcnNpb24sIE9QVElPTlMudmVyc2lvbgogICAgICAgICAgICAgICAgKQog
ICAgICAgICAgICApCiAgICAgICAgICAgIG5lZWRfZGVwbG95bWVudCgpCiAgICAgICAgIyBTYWx0
IHRoaW4gZXhpc3RzIGFuZCBpcyB1cC10by1kYXRlIC0gZmFsbCB0aHJvdWdoIGFuZCB1c2UgaXQK
CiAgICBzYWx0X2NhbGxfcGF0aCA9IG9zLnBhdGguam9pbihPUFRJT05TLnNhbHRkaXIsICdzYWx0
LWNhbGwnKQogICAgaWYgbm90IG9zLnBhdGguaXNmaWxlKHNhbHRfY2FsbF9wYXRoKToKICAgICAg
ICBzeXMuc3RkZXJyLndyaXRlKCdFUlJPUjogdGhpbiBpcyBtaXNzaW5nICJ7MH0iXG4nLmZvcm1h
dChzYWx0X2NhbGxfcGF0aCkpCiAgICAgICAgbmVlZF9kZXBsb3ltZW50KCkKCiAgICB3aXRoIG9w
ZW4ob3MucGF0aC5qb2luKE9QVElPTlMuc2FsdGRpciwgJ21pbmlvbicpLCAndycpIGFzIGNvbmZp
ZzoKICAgICAgICBjb25maWcud3JpdGUoT1BUSU9OUy5jb25maWcgKyAnXG4nKQogICAgaWYgT1BU
SU9OUy5leHRfbW9kczoKICAgICAgICBleHRfcGF0aCA9IG9zLnBhdGguam9pbihPUFRJT05TLnNh
bHRkaXIsIEVYVF9BUkNISVZFKQogICAgICAgIGlmIG9zLnBhdGguZXhpc3RzKGV4dF9wYXRoKToK
ICAgICAgICAgICAgdW5wYWNrX2V4dChleHRfcGF0aCkKICAgICAgICBlbHNlOgogICAgICAgICAg
ICB2ZXJzaW9uX3BhdGggPSBvcy5wYXRoLmpvaW4oT1BUSU9OUy5zYWx0ZGlyLCAnZXh0X3ZlcnNp
b24nKQogICAgICAgICAgICBpZiBub3Qgb3MucGF0aC5leGlzdHModmVyc2lvbl9wYXRoKSBvciBu
b3Qgb3MucGF0aC5pc2ZpbGUodmVyc2lvbl9wYXRoKToKICAgICAgICAgICAgICAgIG5lZWRfZXh0
KCkKICAgICAgICAgICAgd2l0aCBvcGVuKHZlcnNpb25fcGF0aCwgJ3InKSBhcyB2cG86CiAgICAg
ICAgICAgICAgICBjdXJfdmVyc2lvbiA9IHZwby5yZWFkbGluZSgpLnN0cmlwKCkKICAgICAgICAg
ICAgaWYgY3VyX3ZlcnNpb24gIT0gT1BUSU9OUy5leHRfbW9kczoKICAgICAgICAgICAgICAgIG5l
ZWRfZXh0KCkKICAgICMgRml4IHBhcmFtZXRlciBwYXNzaW5nIGlzc3VlCiAgICBpZiBsZW4oQVJH
UykgPT0gMToKICAgICAgICBhcmd2X3ByZXBhcmVkID0gQVJHU1swXS5zcGxpdCgpCiAgICBlbHNl
OgogICAgICAgIGFyZ3ZfcHJlcGFyZWQgPSBBUkdTCgogICAgc2FsdF9hcmd2ID0gWwogICAgICAg
IHN5cy5leGVjdXRhYmxlLAogICAgICAgIHNhbHRfY2FsbF9wYXRoLAogICAgICAgICctLXJldGNv
ZGUtcGFzc3Rocm91Z2gnLAogICAgICAgICctLWxvY2FsJywKICAgICAgICAnLS1tZXRhZGF0YScs
CiAgICAgICAgJy0tb3V0JywgJ2pzb24nLAogICAgICAgICctbCcsICdxdWlldCcsCiAgICAgICAg
Jy1jJywgT1BUSU9OUy5zYWx0ZGlyLAogICAgICAgICctLScsCiAgICBdICsgYXJndl9wcmVwYXJl
ZAoKICAgIHN5cy5zdGRlcnIud3JpdGUoJ1NBTFRfQVJHVjogezB9XG4nLmZvcm1hdChzYWx0X2Fy
Z3YpKQoKICAgICMgT25seSBlbWl0IHRoZSBkZWxpbWl0ZXIgb24gKmJvdGgqIHN0ZG91dCBhbmQg
c3RkZXJyIHdoZW4gY29tcGxldGVseSBzdWNjZXNzZnVsLgogICAgIyBZZXMsIHRoZSBmbHVzaCgp
IGlzIG5lY2Vzc2FyeS4KICAgIHN5cy5zdGRvdXQud3JpdGUoT1BUSU9OUy5kZWxpbWl0ZXIgKyAn
XG4nKQogICAgc3lzLnN0ZG91dC5mbHVzaCgpCiAgICBpZiBub3QgT1BUSU9OUy50dHk6CiAgICAg
ICAgc3lzLnN0ZGVyci53cml0ZShPUFRJT05TLmRlbGltaXRlciArICdcbicpCiAgICAgICAgc3lz
LnN0ZGVyci5mbHVzaCgpCiAgICBpZiBPUFRJT05TLmNtZF91bWFzayBpcyBub3QgTm9uZToKICAg
ICAgICBvbGRfdW1hc2sgPSBvcy51bWFzayhPUFRJT05TLmNtZF91bWFzaykKICAgIGlmIE9QVElP
TlMudHR5OgogICAgICAgIHN0ZG91dCwgXyA9IHN1YnByb2Nlc3MuUG9wZW4oc2FsdF9hcmd2LCBz
dGRvdXQ9c3VicHJvY2Vzcy5QSVBFLCBzdGRlcnI9c3VicHJvY2Vzcy5QSVBFKS5jb21tdW5pY2F0
ZSgpCiAgICAgICAgc3lzLnN0ZG91dC53cml0ZShzdGRvdXQpCiAgICAgICAgc3lzLnN0ZG91dC5m
bHVzaCgpCiAgICAgICAgaWYgT1BUSU9OUy53aXBlOgogICAgICAgICAgICBzaHV0aWwucm10cmVl
KE9QVElPTlMuc2FsdGRpcikKICAgIGVsaWYgT1BUSU9OUy53aXBlOgogICAgICAgIHN1YnByb2Nl
c3MuY2FsbChzYWx0X2FyZ3YpCiAgICAgICAgc2h1dGlsLnJtdHJlZShPUFRJT05TLnNhbHRkaXIp
CiAgICBlbHNlOgogICAgICAgIG9zLmV4ZWN2KHN5cy5leGVjdXRhYmxlLCBzYWx0X2FyZ3YpCiAg
ICBpZiBPUFRJT05TLmNtZF91bWFzayBpcyBub3QgTm9uZToKICAgICAgICBvcy51bWFzayhvbGRf
dW1hc2spCgppZiBfX25hbWVfXyA9PSAnX19tYWluX18nOgogICAgc3lzLmV4aXQobWFpbihzeXMu
YXJndikpCg==
""").decode("utf-8"))'
else
exec $SUDO "$py_cmd_path" -c \
'import base64;
exec(base64.b64decode("""IyBweWxpbnQ6IGRpc2FibGU9Vzk5MDMKJycnClRoaXMgaXMgYSBzaGltIHRoYXQgaGFuZGxlcyBj
aGVja2luZyBhbmQgdXBkYXRpbmcgc2FsdCB0aGluIGFuZAp0aGVuIGludm9raW5nIHRoaW4uCgpU
aGlzIGlzIG5vdCBpbnRlbmRlZCB0byBiZSBpbnN0YW50aWF0ZWQgYXMgYSBtb2R1bGUsIHJhdGhl
ciBpdCBpcyBhCmhlbHBlciBzY3JpcHQgdXNlZCBieSBzYWx0LmNsaWVudC5zc2guU2luZ2xlLiAg
SXQgaXMgaGVyZSwgaW4gYQpzZXBhcmF0ZSBmaWxlLCBmb3IgY29udmVuaWVuY2Ugb2YgZGV2ZWxv
cG1lbnQuCicnJwoKZnJvbSBfX2Z1dHVyZV9fIGltcG9ydCBhYnNvbHV0ZV9pbXBvcnQKCmltcG9y
dCBoYXNobGliCmltcG9ydCB0YXJmaWxlCmltcG9ydCBzaHV0aWwKaW1wb3J0IHN5cwppbXBvcnQg
b3MKaW1wb3J0IHN0YXQKaW1wb3J0IHN1YnByb2Nlc3MKClRISU5fQVJDSElWRSA9ICdzYWx0LXRo
aW4udGd6JwpFWFRfQVJDSElWRSA9ICdzYWx0LWV4dF9tb2RzLnRneicKCiMgS2VlcCB0aGVzZSBp
biBzeW5jIHdpdGggc2FsdC9kZWZhdWx0cy9leGl0Y29kZXMucHkKRVhfVEhJTl9ERVBMT1kgPSAx
MQpFWF9USElOX0NIRUNLU1VNID0gMTIKRVhfTU9EX0RFUExPWSA9IDEzCkVYX1NDUF9OT1RfRk9V
TkQgPSAxNApFWF9DQU5UQ1JFQVQgPSA3MwoKCmNsYXNzIE9CSihvYmplY3QpOgogICAgIiIiQW4g
ZW1wdHkgY2xhc3MgZm9yIGhvbGRpbmcgaW5zdGFuY2UgYXR0cmlidXRlIHZhbHVlcy4iIiIKICAg
IHBhc3MKCgpPUFRJT05TID0gTm9uZQpBUkdTID0gTm9uZQojIFRoZSBiZWxvdyBsaW5lIGlzIHdo
ZXJlIE9QVElPTlMgY2FuIGJlIHJlZGVmaW5lZCB3aXRoIGludGVybmFsIG9wdGlvbnMKIyAocmF0
aGVyIHRoYW4gY2xpIGFyZ3VtZW50cykgd2hlbiB0aGUgc2hpbSBpcyBidW5kbGVkIGJ5CiMgY2xp
ZW50LnNzaC5TaW5nbGUuX2NtZF9zdHIoKQojIHB5bGludDogZGlzYWJsZT1ibG9jay1jb21tZW50
LXNob3VsZC1zdGFydC13aXRoLWNhcmRpbmFsLXNwYWNlCgpPUFRJT05TID0gT0JKKCkKT1BUSU9O
Uy5jb25maWcgPSAiIiIKe2ZpbGVzZXJ2ZXJfbGlzdF9jYWNoZV90aW1lOiAzLCBncmFpbnNfY2Fj
aGU6IHRydWUsIGlkOiBtdW5pbiwgbG9nX2ZpbGU6IHNhbHQtY2FsbC5sb2csCiAgcm9vdF9kaXI6
IC92YXIvdG1wLy5zYWx0LW9wZV8xYTM1MzJfc2FsdC9ydW5uaW5nX2RhdGEsIHNvY2tfZGlyOiAv
fQoiIiIKT1BUSU9OUy5kZWxpbWl0ZXIgPSAnX2VkYmM3ODg1ZTRmOWFhYzliODNiMzU5OTliNjhk
MDE1MTQ4Y2FmNDY3Yjc4ZmEzOWMwNWY2NjljMGZmODk4NzgnCk9QVElPTlMuc2FsdGRpciA9ICcv
dmFyL3RtcC8uc2FsdC1vcGVfMWEzNTMyX3NhbHQnCk9QVElPTlMuY2hlY2tzdW0gPSAnOTg1MjZk
OTliMWU3YjA3OWRjZWZjZWM5ZmE1Yjg1MWZmYmY5ODEzZCcKT1BUSU9OUy5oYXNoZnVuYyA9ICdz
aGExJwpPUFRJT05TLnZlcnNpb24gPSAnMjAxNi4zLjInCk9QVElPTlMuZXh0X21vZHMgPSAnNzQx
OTZlMDExNDUyMWUyYWRjNjlkNjgxY2U2YTQ1NjNiYTBhZTFlYicKT1BUSU9OUy53aXBlID0gRmFs
c2UKT1BUSU9OUy50dHkgPSBGYWxzZQpPUFRJT05TLmNtZF91bWFzayA9IE5vbmUKQVJHUyA9IFsn
dGVzdC5vcHRzX3BrZyddCgoKCmRlZiBuZWVkX2RlcGxveW1lbnQoKToKICAgICIiIgogICAgU2Fs
dCB0aGluIG5lZWRzIHRvIGJlIGRlcGxveWVkIC0gcHJlcCB0aGUgdGFyZ2V0IGRpcmVjdG9yeSBh
bmQgZW1pdCB0aGUKICAgIGRlbGltZXRlciBhbmQgZXhpdCBjb2RlIHRoYXQgc2lnbmFscyBhIHJl
cXVpcmVkIGRlcGxveW1lbnQuCiAgICAiIiIKICAgIGlmIG9zLnBhdGguZXhpc3RzKE9QVElPTlMu
c2FsdGRpcik6CiAgICAgICAgc2h1dGlsLnJtdHJlZShPUFRJT05TLnNhbHRkaXIpCiAgICBvbGRf
dW1hc2sgPSBvcy51bWFzaygwbzA3NykKICAgIG9zLm1ha2VkaXJzKE9QVElPTlMuc2FsdGRpcikK
ICAgIG9zLnVtYXNrKG9sZF91bWFzaykKICAgICMgVmVyaWZ5IHBlcm1zIG9uIHNhbHRkaXIKICAg
IGV1aWQgPSBvcy5nZXRldWlkKCkKICAgIGRzdGF0ID0gb3Muc3RhdChPUFRJT05TLnNhbHRkaXIp
CiAgICBpZiBkc3RhdC5zdF91aWQgIT0gZXVpZDoKICAgICAgICAjIEF0dGFjayBkZXRlY3RlZCwg
dHJ5IGFnYWluCiAgICAgICAgbmVlZF9kZXBsb3ltZW50KCkKICAgIGlmIGRzdGF0LnN0X21vZGUg
IT0gMTY4MzI6CiAgICAgICAgIyBBdHRhY2sgZGV0ZWN0ZWQKICAgICAgICBuZWVkX2RlcGxveW1l
bnQoKQogICAgIyBJZiBTVURPaW5nIHRoZW4gYWxzbyBnaXZlIHRoZSBzdXBlciB1c2VyIGdyb3Vw
IHdyaXRlIHBlcm1pc3Npb25zCiAgICBzdWRvX2dpZCA9IG9zLmVudmlyb24uZ2V0KCdTVURPX0dJ
RCcpCiAgICBpZiBzdWRvX2dpZDoKICAgICAgICBvcy5jaG93bihPUFRJT05TLnNhbHRkaXIsIC0x
LCBpbnQoc3Vkb19naWQpKQogICAgICAgIHN0dCA9IG9zLnN0YXQoT1BUSU9OUy5zYWx0ZGlyKQog
ICAgICAgIG9zLmNobW9kKE9QVElPTlMuc2FsdGRpciwgc3R0LnN0X21vZGUgfCBzdGF0LlNfSVdH
UlAgfCBzdGF0LlNfSVJHUlAgfCBzdGF0LlNfSVhHUlApCgogICAgIyBEZWxpbWl0ZXIgZW1pdHRl
ZCBvbiBzdGRvdXQgKm9ubHkqIHRvIGluZGljYXRlIHNoaW0gbWVzc2FnZSB0byBtYXN0ZXIuCiAg
ICBzeXMuc3Rkb3V0LndyaXRlKCJ7MH1cbmRlcGxveVxuIi5mb3JtYXQoT1BUSU9OUy5kZWxpbWl0
ZXIpKQogICAgc3lzLmV4aXQoRVhfVEhJTl9ERVBMT1kpCgoKIyBBZGFwdGVkIGZyb20gc2FsdC51
dGlscy5nZXRfaGFzaCgpCmRlZiBnZXRfaGFzaChwYXRoLCBmb3JtPSdzaGExJywgY2h1bmtfc2l6
ZT00MDk2KToKICAgICIiIkdlbmVyYXRlIGEgaGFzaCBkaWdlc3Qgc3RyaW5nIGZvciBhIGZpbGUu
IiIiCiAgICB0cnk6CiAgICAgICAgaGFzaF90eXBlID0gZ2V0YXR0cihoYXNobGliLCBmb3JtKQog
ICAgZXhjZXB0IEF0dHJpYnV0ZUVycm9yOgogICAgICAgIHJhaXNlIFZhbHVlRXJyb3IoJ0ludmFs
aWQgaGFzaCB0eXBlOiB7MH0nLmZvcm1hdChmb3JtKSkKICAgIHdpdGggb3BlbihwYXRoLCAncmIn
KSBhcyBpZmlsZToKICAgICAgICBoYXNoX29iaiA9IGhhc2hfdHlwZSgpCiAgICAgICAgIyByZWFk
IHRoZSBmaWxlIGluIGluIGNodW5rcywgbm90IHRoZSBlbnRpcmUgZmlsZQogICAgICAgIGZvciBj
aHVuayBpbiBpdGVyKGxhbWJkYTogaWZpbGUucmVhZChjaHVua19zaXplKSwgYicnKToKICAgICAg
ICAgICAgaGFzaF9vYmoudXBkYXRlKGNodW5rKQogICAgICAgIHJldHVybiBoYXNoX29iai5oZXhk
aWdlc3QoKQoKCmRlZiB1bnBhY2tfdGhpbih0aGluX3BhdGgpOgogICAgIiIiVW5wYWNrIHRoZSBT
YWx0IHRoaW4gYXJjaGl2ZS4iIiIKICAgIHRmaWxlID0gdGFyZmlsZS5UYXJGaWxlLmd6b3Blbih0
aGluX3BhdGgpCiAgICBvbGRfdW1hc2sgPSBvcy51bWFzaygwbzA3NykKICAgIHRmaWxlLmV4dHJh
Y3RhbGwocGF0aD1PUFRJT05TLnNhbHRkaXIpCiAgICB0ZmlsZS5jbG9zZSgpCiAgICBvcy51bWFz
ayhvbGRfdW1hc2spCiAgICBvcy51bmxpbmsodGhpbl9wYXRoKQoKCmRlZiBuZWVkX2V4dCgpOgog
ICAgIiIiU2lnbmFsIHRoYXQgZXh0ZXJuYWwgbW9kdWxlcyBuZWVkIHRvIGJlIGRlcGxveWVkLiIi
IgogICAgc3lzLnN0ZG91dC53cml0ZSgiezB9XG5leHRfbW9kc1xuIi5mb3JtYXQoT1BUSU9OUy5k
ZWxpbWl0ZXIpKQogICAgc3lzLmV4aXQoRVhfTU9EX0RFUExPWSkKCgpkZWYgdW5wYWNrX2V4dChl
eHRfcGF0aCk6CiAgICAiIiJVbnBhY2sgdGhlIGV4dGVybmFsIG1vZHVsZXMuIiIiCiAgICBtb2Rj
YWNoZSA9IG9zLnBhdGguam9pbigKICAgICAgICAgICAgT1BUSU9OUy5zYWx0ZGlyLAogICAgICAg
ICAgICAncnVubmluZ19kYXRhJywKICAgICAgICAgICAgJ3ZhcicsCiAgICAgICAgICAgICdjYWNo
ZScsCiAgICAgICAgICAgICdzYWx0JywKICAgICAgICAgICAgJ21pbmlvbicsCiAgICAgICAgICAg
ICdleHRtb2RzJykKICAgIHRmaWxlID0gdGFyZmlsZS5UYXJGaWxlLmd6b3BlbihleHRfcGF0aCkK
ICAgIG9sZF91bWFzayA9IG9zLnVtYXNrKDBvMDc3KQogICAgdGZpbGUuZXh0cmFjdGFsbChwYXRo
PW1vZGNhY2hlKQogICAgdGZpbGUuY2xvc2UoKQogICAgb3MudW1hc2sob2xkX3VtYXNrKQogICAg
b3MudW5saW5rKGV4dF9wYXRoKQogICAgdmVyX3BhdGggPSBvcy5wYXRoLmpvaW4obW9kY2FjaGUs
ICdleHRfdmVyc2lvbicpCiAgICB2ZXJfZHN0ID0gb3MucGF0aC5qb2luKE9QVElPTlMuc2FsdGRp
ciwgJ2V4dF92ZXJzaW9uJykKICAgIHNodXRpbC5tb3ZlKHZlcl9wYXRoLCB2ZXJfZHN0KQoKCmRl
ZiBtYWluKGFyZ3YpOiAgIyBweWxpbnQ6IGRpc2FibGU9VzA2MTMKICAgICIiIk1haW4gcHJvZ3Jh
bSBib2R5IiIiCiAgICB0aGluX3BhdGggPSBvcy5wYXRoLmpvaW4oT1BUSU9OUy5zYWx0ZGlyLCBU
SElOX0FSQ0hJVkUpCiAgICBpZiBvcy5wYXRoLmlzZmlsZSh0aGluX3BhdGgpOgogICAgICAgIGlm
IE9QVElPTlMuY2hlY2tzdW0gIT0gZ2V0X2hhc2godGhpbl9wYXRoLCBPUFRJT05TLmhhc2hmdW5j
KToKICAgICAgICAgICAgc3lzLnN0ZGVyci53cml0ZSgnezB9XG4nLmZvcm1hdChPUFRJT05TLmNo
ZWNrc3VtKSkKICAgICAgICAgICAgc3lzLnN0ZGVyci53cml0ZSgnezB9XG4nLmZvcm1hdChnZXRf
aGFzaCh0aGluX3BhdGgsIE9QVElPTlMuaGFzaGZ1bmMpKSkKICAgICAgICAgICAgb3MudW5saW5r
KHRoaW5fcGF0aCkKICAgICAgICAgICAgc3lzLnN0ZGVyci53cml0ZSgnV0FSTklORzogY2hlY2tz
dW0gbWlzbWF0Y2ggZm9yICJ7MH0iXG4nLmZvcm1hdCh0aGluX3BhdGgpKQogICAgICAgICAgICBz
eXMuZXhpdChFWF9USElOX0NIRUNLU1VNKQogICAgICAgIHVucGFja190aGluKHRoaW5fcGF0aCkK
ICAgICAgICAjIFNhbHQgdGhpbiBub3cgaXMgYXZhaWxhYmxlIHRvIHVzZQogICAgZWxzZToKICAg
ICAgICBzY3BzdGF0ID0gc3VicHJvY2Vzcy5Qb3BlbihbJy9iaW4vc2gnLCAnLWMnLCAnY29tbWFu
ZCAtdiBzY3AnXSkud2FpdCgpCiAgICAgICAgaWYgc2Nwc3RhdCAhPSAwOgogICAgICAgICAgICBz
eXMuZXhpdChFWF9TQ1BfTk9UX0ZPVU5EKQoKICAgICAgICBpZiBub3Qgb3MucGF0aC5leGlzdHMo
T1BUSU9OUy5zYWx0ZGlyKToKICAgICAgICAgICAgbmVlZF9kZXBsb3ltZW50KCkKCiAgICAgICAg
aWYgbm90IG9zLnBhdGguaXNkaXIoT1BUSU9OUy5zYWx0ZGlyKToKICAgICAgICAgICAgc3lzLnN0
ZGVyci53cml0ZSgKICAgICAgICAgICAgICAgICdFUlJPUjogc2FsdCBwYXRoICJ7MH0iIGV4aXN0
cyBidXQgaXMnCiAgICAgICAgICAgICAgICAnIG5vdCBhIGRpcmVjdG9yeVxuJy5mb3JtYXQoT1BU
SU9OUy5zYWx0ZGlyKQogICAgICAgICAgICApCiAgICAgICAgICAgIHN5cy5leGl0KEVYX0NBTlRD
UkVBVCkKCiAgICAgICAgdmVyc2lvbl9wYXRoID0gb3MucGF0aC5qb2luKE9QVElPTlMuc2FsdGRp
ciwgJ3ZlcnNpb24nKQogICAgICAgIGlmIG5vdCBvcy5wYXRoLmV4aXN0cyh2ZXJzaW9uX3BhdGgp
IG9yIG5vdCBvcy5wYXRoLmlzZmlsZSh2ZXJzaW9uX3BhdGgpOgogICAgICAgICAgICBzeXMuc3Rk
ZXJyLndyaXRlKAogICAgICAgICAgICAgICAgJ1dBUk5JTkc6IFVuYWJsZSB0byBsb2NhdGUgY3Vy
cmVudCB0aGluICcKICAgICAgICAgICAgICAgICcgdmVyc2lvbjogezB9LlxuJy5mb3JtYXQodmVy
c2lvbl9wYXRoKQogICAgICAgICAgICApCiAgICAgICAgICAgIG5lZWRfZGVwbG95bWVudCgpCiAg
ICAgICAgd2l0aCBvcGVuKHZlcnNpb25fcGF0aCwgJ3InKSBhcyB2cG86CiAgICAgICAgICAgIGN1
cl92ZXJzaW9uID0gdnBvLnJlYWRsaW5lKCkuc3RyaXAoKQogICAgICAgIGlmIGN1cl92ZXJzaW9u
ICE9IE9QVElPTlMudmVyc2lvbjoKICAgICAgICAgICAgc3lzLnN0ZGVyci53cml0ZSgKICAgICAg
ICAgICAgICAgICdXQVJOSU5HOiBjdXJyZW50IHRoaW4gdmVyc2lvbiB7MH0nCiAgICAgICAgICAg
ICAgICAnIGlzIG5vdCB1cC10by1kYXRlIHdpdGggezF9LlxuJy5mb3JtYXQoCiAgICAgICAgICAg
ICAgICAgICAgY3VyX3ZlcnNpb24sIE9QVElPTlMudmVyc2lvbgogICAgICAgICAgICAgICAgKQog
ICAgICAgICAgICApCiAgICAgICAgICAgIG5lZWRfZGVwbG95bWVudCgpCiAgICAgICAgIyBTYWx0
IHRoaW4gZXhpc3RzIGFuZCBpcyB1cC10by1kYXRlIC0gZmFsbCB0aHJvdWdoIGFuZCB1c2UgaXQK
CiAgICBzYWx0X2NhbGxfcGF0aCA9IG9zLnBhdGguam9pbihPUFRJT05TLnNhbHRkaXIsICdzYWx0
LWNhbGwnKQogICAgaWYgbm90IG9zLnBhdGguaXNmaWxlKHNhbHRfY2FsbF9wYXRoKToKICAgICAg
ICBzeXMuc3RkZXJyLndyaXRlKCdFUlJPUjogdGhpbiBpcyBtaXNzaW5nICJ7MH0iXG4nLmZvcm1h
dChzYWx0X2NhbGxfcGF0aCkpCiAgICAgICAgbmVlZF9kZXBsb3ltZW50KCkKCiAgICB3aXRoIG9w
ZW4ob3MucGF0aC5qb2luKE9QVElPTlMuc2FsdGRpciwgJ21pbmlvbicpLCAndycpIGFzIGNvbmZp
ZzoKICAgICAgICBjb25maWcud3JpdGUoT1BUSU9OUy5jb25maWcgKyAnXG4nKQogICAgaWYgT1BU
SU9OUy5leHRfbW9kczoKICAgICAgICBleHRfcGF0aCA9IG9zLnBhdGguam9pbihPUFRJT05TLnNh
bHRkaXIsIEVYVF9BUkNISVZFKQogICAgICAgIGlmIG9zLnBhdGguZXhpc3RzKGV4dF9wYXRoKToK
ICAgICAgICAgICAgdW5wYWNrX2V4dChleHRfcGF0aCkKICAgICAgICBlbHNlOgogICAgICAgICAg
ICB2ZXJzaW9uX3BhdGggPSBvcy5wYXRoLmpvaW4oT1BUSU9OUy5zYWx0ZGlyLCAnZXh0X3ZlcnNp
b24nKQogICAgICAgICAgICBpZiBub3Qgb3MucGF0aC5leGlzdHModmVyc2lvbl9wYXRoKSBvciBu
b3Qgb3MucGF0aC5pc2ZpbGUodmVyc2lvbl9wYXRoKToKICAgICAgICAgICAgICAgIG5lZWRfZXh0
KCkKICAgICAgICAgICAgd2l0aCBvcGVuKHZlcnNpb25fcGF0aCwgJ3InKSBhcyB2cG86CiAgICAg
ICAgICAgICAgICBjdXJfdmVyc2lvbiA9IHZwby5yZWFkbGluZSgpLnN0cmlwKCkKICAgICAgICAg
ICAgaWYgY3VyX3ZlcnNpb24gIT0gT1BUSU9OUy5leHRfbW9kczoKICAgICAgICAgICAgICAgIG5l
ZWRfZXh0KCkKICAgICMgRml4IHBhcmFtZXRlciBwYXNzaW5nIGlzc3VlCiAgICBpZiBsZW4oQVJH
UykgPT0gMToKICAgICAgICBhcmd2X3ByZXBhcmVkID0gQVJHU1swXS5zcGxpdCgpCiAgICBlbHNl
OgogICAgICAgIGFyZ3ZfcHJlcGFyZWQgPSBBUkdTCgogICAgc2FsdF9hcmd2ID0gWwogICAgICAg
IHN5cy5leGVjdXRhYmxlLAogICAgICAgIHNhbHRfY2FsbF9wYXRoLAogICAgICAgICctLXJldGNv
ZGUtcGFzc3Rocm91Z2gnLAogICAgICAgICctLWxvY2FsJywKICAgICAgICAnLS1tZXRhZGF0YScs
CiAgICAgICAgJy0tb3V0JywgJ2pzb24nLAogICAgICAgICctbCcsICdxdWlldCcsCiAgICAgICAg
Jy1jJywgT1BUSU9OUy5zYWx0ZGlyLAogICAgICAgICctLScsCiAgICBdICsgYXJndl9wcmVwYXJl
ZAoKICAgIHN5cy5zdGRlcnIud3JpdGUoJ1NBTFRfQVJHVjogezB9XG4nLmZvcm1hdChzYWx0X2Fy
Z3YpKQoKICAgICMgT25seSBlbWl0IHRoZSBkZWxpbWl0ZXIgb24gKmJvdGgqIHN0ZG91dCBhbmQg
c3RkZXJyIHdoZW4gY29tcGxldGVseSBzdWNjZXNzZnVsLgogICAgIyBZZXMsIHRoZSBmbHVzaCgp
IGlzIG5lY2Vzc2FyeS4KICAgIHN5cy5zdGRvdXQud3JpdGUoT1BUSU9OUy5kZWxpbWl0ZXIgKyAn
XG4nKQogICAgc3lzLnN0ZG91dC5mbHVzaCgpCiAgICBpZiBub3QgT1BUSU9OUy50dHk6CiAgICAg
ICAgc3lzLnN0ZGVyci53cml0ZShPUFRJT05TLmRlbGltaXRlciArICdcbicpCiAgICAgICAgc3lz
LnN0ZGVyci5mbHVzaCgpCiAgICBpZiBPUFRJT05TLmNtZF91bWFzayBpcyBub3QgTm9uZToKICAg
ICAgICBvbGRfdW1hc2sgPSBvcy51bWFzayhPUFRJT05TLmNtZF91bWFzaykKICAgIGlmIE9QVElP
TlMudHR5OgogICAgICAgIHN0ZG91dCwgXyA9IHN1YnByb2Nlc3MuUG9wZW4oc2FsdF9hcmd2LCBz
dGRvdXQ9c3VicHJvY2Vzcy5QSVBFLCBzdGRlcnI9c3VicHJvY2Vzcy5QSVBFKS5jb21tdW5pY2F0
ZSgpCiAgICAgICAgc3lzLnN0ZG91dC53cml0ZShzdGRvdXQpCiAgICAgICAgc3lzLnN0ZG91dC5m
bHVzaCgpCiAgICAgICAgaWYgT1BUSU9OUy53aXBlOgogICAgICAgICAgICBzaHV0aWwucm10cmVl
KE9QVElPTlMuc2FsdGRpcikKICAgIGVsaWYgT1BUSU9OUy53aXBlOgogICAgICAgIHN1YnByb2Nl
c3MuY2FsbChzYWx0X2FyZ3YpCiAgICAgICAgc2h1dGlsLnJtdHJlZShPUFRJT05TLnNhbHRkaXIp
CiAgICBlbHNlOgogICAgICAgIG9zLmV4ZWN2KHN5cy5leGVjdXRhYmxlLCBzYWx0X2FyZ3YpCiAg
ICBpZiBPUFRJT05TLmNtZF91bWFzayBpcyBub3QgTm9uZToKICAgICAgICBvcy51bWFzayhvbGRf
dW1hc2spCgppZiBfX25hbWVfXyA9PSAnX19tYWluX18nOgogICAgc3lzLmV4aXQobWFpbihzeXMu
YXJndikpCg==
""").decode("utf-8"))'
fi
exit 0
else
continue
fi
done
echo "ERROR: Unable to locate appropriate python command" >&2
exit $EX_PYTHON_INVALID
EOF
2016-10-20 00:47:55,613 [salt.utils.vt    ][DEBUG   ][2633] Child Forked! PID: 2634  STDOUT_FD: 9  STDERR_FD: 11
2016-10-20 00:47:55,614 [salt.utils.vt    ][DEBUG   ][2633] VT: Salt-SSH SHIM Terminal Command executed. Logged to TRACE
2016-10-20 00:47:55,618 [salt.utils.vt    ][TRACE   ][2633] Terminal Command: /bin/sh -c ssh 192.168.1.15  -o KbdInteractiveAuthentication=no -o PasswordAuthentication=yes -o GSSAPIAuthentication=no -o ConnectTimeout=65 -o Port=22 -o IdentityFile=/root/saltstack_master/etc/salt/pki/master/ssh/salt-ssh.rsa -o User=salt-ope  /bin/sh << 'EOF'
set -e
set -u
DEBUG="1"
if [ -n "$DEBUG" ]
then set -x
fi
SUDO=""
if [ -n "sudo" ]
then SUDO="sudo "
fi
EX_PYTHON_INVALID=10
PYTHON_CMDS="python3 python27 python2.7 python26 python2.6 python2 python"
for py_cmd in $PYTHON_CMDS
do
if command -v "$py_cmd" >/dev/null 2>&1 && "$py_cmd" -c \
"import sys; sys.exit(not (sys.version_info >= (2, 6)
and sys.version_info[0] == 2));"
then
py_cmd_path=`"$py_cmd" -c \
'from __future__ import print_function;
import sys; print(sys.executable);'`
cmdpath=$(which $py_cmd 2>&1)
if file $cmdpath | grep "shell script" > /dev/null
then
ex_vars="'PATH', 'LD_LIBRARY_PATH', 'MANPATH', \
'XDG_DATA_DIRS', 'PKG_CONFIG_PATH'"
export $($py_cmd -c \
"from __future__ import print_function;
import sys;
import os;
map(sys.stdout.write, ['{0}={1} ' \
.format(x, os.environ[x]) for x in [$ex_vars]])")
exec $SUDO PATH=$PATH LD_LIBRARY_PATH=$LD_LIBRARY_PATH \
MANPATH=$MANPATH XDG_DATA_DIRS=$XDG_DATA_DIRS \
PKG_CONFIG_PATH=$PKG_CONFIG_PATH \
"$py_cmd_path" -c \
'import base64;
exec(base64.b64decode("""IyBweWxpbnQ6IGRpc2FibGU9Vzk5MDMKJycnClRoaXMgaXMgYSBzaGltIHRoYXQgaGFuZGxlcyBj
aGVja2luZyBhbmQgdXBkYXRpbmcgc2FsdCB0aGluIGFuZAp0aGVuIGludm9raW5nIHRoaW4uCgpU
aGlzIGlzIG5vdCBpbnRlbmRlZCB0byBiZSBpbnN0YW50aWF0ZWQgYXMgYSBtb2R1bGUsIHJhdGhl
ciBpdCBpcyBhCmhlbHBlciBzY3JpcHQgdXNlZCBieSBzYWx0LmNsaWVudC5zc2guU2luZ2xlLiAg
SXQgaXMgaGVyZSwgaW4gYQpzZXBhcmF0ZSBmaWxlLCBmb3IgY29udmVuaWVuY2Ugb2YgZGV2ZWxv
cG1lbnQuCicnJwoKZnJvbSBfX2Z1dHVyZV9fIGltcG9ydCBhYnNvbHV0ZV9pbXBvcnQKCmltcG9y
dCBoYXNobGliCmltcG9ydCB0YXJmaWxlCmltcG9ydCBzaHV0aWwKaW1wb3J0IHN5cwppbXBvcnQg
b3MKaW1wb3J0IHN0YXQKaW1wb3J0IHN1YnByb2Nlc3MKClRISU5fQVJDSElWRSA9ICdzYWx0LXRo
aW4udGd6JwpFWFRfQVJDSElWRSA9ICdzYWx0LWV4dF9tb2RzLnRneicKCiMgS2VlcCB0aGVzZSBp
biBzeW5jIHdpdGggc2FsdC9kZWZhdWx0cy9leGl0Y29kZXMucHkKRVhfVEhJTl9ERVBMT1kgPSAx
MQpFWF9USElOX0NIRUNLU1VNID0gMTIKRVhfTU9EX0RFUExPWSA9IDEzCkVYX1NDUF9OT1RfRk9V
TkQgPSAxNApFWF9DQU5UQ1JFQVQgPSA3MwoKCmNsYXNzIE9CSihvYmplY3QpOgogICAgIiIiQW4g
ZW1wdHkgY2xhc3MgZm9yIGhvbGRpbmcgaW5zdGFuY2UgYXR0cmlidXRlIHZhbHVlcy4iIiIKICAg
IHBhc3MKCgpPUFRJT05TID0gTm9uZQpBUkdTID0gTm9uZQojIFRoZSBiZWxvdyBsaW5lIGlzIHdo
ZXJlIE9QVElPTlMgY2FuIGJlIHJlZGVmaW5lZCB3aXRoIGludGVybmFsIG9wdGlvbnMKIyAocmF0
aGVyIHRoYW4gY2xpIGFyZ3VtZW50cykgd2hlbiB0aGUgc2hpbSBpcyBidW5kbGVkIGJ5CiMgY2xp
ZW50LnNzaC5TaW5nbGUuX2NtZF9zdHIoKQojIHB5bGludDogZGlzYWJsZT1ibG9jay1jb21tZW50
LXNob3VsZC1zdGFydC13aXRoLWNhcmRpbmFsLXNwYWNlCgpPUFRJT05TID0gT0JKKCkKT1BUSU9O
Uy5jb25maWcgPSAiIiIKe2ZpbGVzZXJ2ZXJfbGlzdF9jYWNoZV90aW1lOiAzLCBncmFpbnNfY2Fj
aGU6IHRydWUsIGlkOiBtdW5pbiwgbG9nX2ZpbGU6IHNhbHQtY2FsbC5sb2csCiAgcm9vdF9kaXI6
IC92YXIvdG1wLy5zYWx0LW9wZV8xYTM1MzJfc2FsdC9ydW5uaW5nX2RhdGEsIHNvY2tfZGlyOiAv
fQoiIiIKT1BUSU9OUy5kZWxpbWl0ZXIgPSAnX2VkYmM3ODg1ZTRmOWFhYzliODNiMzU5OTliNjhk
MDE1MTQ4Y2FmNDY3Yjc4ZmEzOWMwNWY2NjljMGZmODk4NzgnCk9QVElPTlMuc2FsdGRpciA9ICcv
dmFyL3RtcC8uc2FsdC1vcGVfMWEzNTMyX3NhbHQnCk9QVElPTlMuY2hlY2tzdW0gPSAnOTg1MjZk
OTliMWU3YjA3OWRjZWZjZWM5ZmE1Yjg1MWZmYmY5ODEzZCcKT1BUSU9OUy5oYXNoZnVuYyA9ICdz
aGExJwpPUFRJT05TLnZlcnNpb24gPSAnMjAxNi4zLjInCk9QVElPTlMuZXh0X21vZHMgPSAnNzQx
OTZlMDExNDUyMWUyYWRjNjlkNjgxY2U2YTQ1NjNiYTBhZTFlYicKT1BUSU9OUy53aXBlID0gRmFs
c2UKT1BUSU9OUy50dHkgPSBGYWxzZQpPUFRJT05TLmNtZF91bWFzayA9IE5vbmUKQVJHUyA9IFsn
dGVzdC5vcHRzX3BrZyddCgoKCmRlZiBuZWVkX2RlcGxveW1lbnQoKToKICAgICIiIgogICAgU2Fs
dCB0aGluIG5lZWRzIHRvIGJlIGRlcGxveWVkIC0gcHJlcCB0aGUgdGFyZ2V0IGRpcmVjdG9yeSBh
bmQgZW1pdCB0aGUKICAgIGRlbGltZXRlciBhbmQgZXhpdCBjb2RlIHRoYXQgc2lnbmFscyBhIHJl
cXVpcmVkIGRlcGxveW1lbnQuCiAgICAiIiIKICAgIGlmIG9zLnBhdGguZXhpc3RzKE9QVElPTlMu
c2FsdGRpcik6CiAgICAgICAgc2h1dGlsLnJtdHJlZShPUFRJT05TLnNhbHRkaXIpCiAgICBvbGRf
dW1hc2sgPSBvcy51bWFzaygwbzA3NykKICAgIG9zLm1ha2VkaXJzKE9QVElPTlMuc2FsdGRpcikK
ICAgIG9zLnVtYXNrKG9sZF91bWFzaykKICAgICMgVmVyaWZ5IHBlcm1zIG9uIHNhbHRkaXIKICAg
IGV1aWQgPSBvcy5nZXRldWlkKCkKICAgIGRzdGF0ID0gb3Muc3RhdChPUFRJT05TLnNhbHRkaXIp
CiAgICBpZiBkc3RhdC5zdF91aWQgIT0gZXVpZDoKICAgICAgICAjIEF0dGFjayBkZXRlY3RlZCwg
dHJ5IGFnYWluCiAgICAgICAgbmVlZF9kZXBsb3ltZW50KCkKICAgIGlmIGRzdGF0LnN0X21vZGUg
IT0gMTY4MzI6CiAgICAgICAgIyBBdHRhY2sgZGV0ZWN0ZWQKICAgICAgICBuZWVkX2RlcGxveW1l
bnQoKQogICAgIyBJZiBTVURPaW5nIHRoZW4gYWxzbyBnaXZlIHRoZSBzdXBlciB1c2VyIGdyb3Vw
IHdyaXRlIHBlcm1pc3Npb25zCiAgICBzdWRvX2dpZCA9IG9zLmVudmlyb24uZ2V0KCdTVURPX0dJ
RCcpCiAgICBpZiBzdWRvX2dpZDoKICAgICAgICBvcy5jaG93bihPUFRJT05TLnNhbHRkaXIsIC0x
LCBpbnQoc3Vkb19naWQpKQogICAgICAgIHN0dCA9IG9zLnN0YXQoT1BUSU9OUy5zYWx0ZGlyKQog
ICAgICAgIG9zLmNobW9kKE9QVElPTlMuc2FsdGRpciwgc3R0LnN0X21vZGUgfCBzdGF0LlNfSVdH
UlAgfCBzdGF0LlNfSVJHUlAgfCBzdGF0LlNfSVhHUlApCgogICAgIyBEZWxpbWl0ZXIgZW1pdHRl
ZCBvbiBzdGRvdXQgKm9ubHkqIHRvIGluZGljYXRlIHNoaW0gbWVzc2FnZSB0byBtYXN0ZXIuCiAg
ICBzeXMuc3Rkb3V0LndyaXRlKCJ7MH1cbmRlcGxveVxuIi5mb3JtYXQoT1BUSU9OUy5kZWxpbWl0
ZXIpKQogICAgc3lzLmV4aXQoRVhfVEhJTl9ERVBMT1kpCgoKIyBBZGFwdGVkIGZyb20gc2FsdC51
dGlscy5nZXRfaGFzaCgpCmRlZiBnZXRfaGFzaChwYXRoLCBmb3JtPSdzaGExJywgY2h1bmtfc2l6
ZT00MDk2KToKICAgICIiIkdlbmVyYXRlIGEgaGFzaCBkaWdlc3Qgc3RyaW5nIGZvciBhIGZpbGUu
IiIiCiAgICB0cnk6CiAgICAgICAgaGFzaF90eXBlID0gZ2V0YXR0cihoYXNobGliLCBmb3JtKQog
ICAgZXhjZXB0IEF0dHJpYnV0ZUVycm9yOgogICAgICAgIHJhaXNlIFZhbHVlRXJyb3IoJ0ludmFs
aWQgaGFzaCB0eXBlOiB7MH0nLmZvcm1hdChmb3JtKSkKICAgIHdpdGggb3BlbihwYXRoLCAncmIn
KSBhcyBpZmlsZToKICAgICAgICBoYXNoX29iaiA9IGhhc2hfdHlwZSgpCiAgICAgICAgIyByZWFk
IHRoZSBmaWxlIGluIGluIGNodW5rcywgbm90IHRoZSBlbnRpcmUgZmlsZQogICAgICAgIGZvciBj
aHVuayBpbiBpdGVyKGxhbWJkYTogaWZpbGUucmVhZChjaHVua19zaXplKSwgYicnKToKICAgICAg
ICAgICAgaGFzaF9vYmoudXBkYXRlKGNodW5rKQogICAgICAgIHJldHVybiBoYXNoX29iai5oZXhk
aWdlc3QoKQoKCmRlZiB1bnBhY2tfdGhpbih0aGluX3BhdGgpOgogICAgIiIiVW5wYWNrIHRoZSBT
YWx0IHRoaW4gYXJjaGl2ZS4iIiIKICAgIHRmaWxlID0gdGFyZmlsZS5UYXJGaWxlLmd6b3Blbih0
aGluX3BhdGgpCiAgICBvbGRfdW1hc2sgPSBvcy51bWFzaygwbzA3NykKICAgIHRmaWxlLmV4dHJh
Y3RhbGwocGF0aD1PUFRJT05TLnNhbHRkaXIpCiAgICB0ZmlsZS5jbG9zZSgpCiAgICBvcy51bWFz
ayhvbGRfdW1hc2spCiAgICBvcy51bmxpbmsodGhpbl9wYXRoKQoKCmRlZiBuZWVkX2V4dCgpOgog
ICAgIiIiU2lnbmFsIHRoYXQgZXh0ZXJuYWwgbW9kdWxlcyBuZWVkIHRvIGJlIGRlcGxveWVkLiIi
IgogICAgc3lzLnN0ZG91dC53cml0ZSgiezB9XG5leHRfbW9kc1xuIi5mb3JtYXQoT1BUSU9OUy5k
ZWxpbWl0ZXIpKQogICAgc3lzLmV4aXQoRVhfTU9EX0RFUExPWSkKCgpkZWYgdW5wYWNrX2V4dChl
eHRfcGF0aCk6CiAgICAiIiJVbnBhY2sgdGhlIGV4dGVybmFsIG1vZHVsZXMuIiIiCiAgICBtb2Rj
YWNoZSA9IG9zLnBhdGguam9pbigKICAgICAgICAgICAgT1BUSU9OUy5zYWx0ZGlyLAogICAgICAg
ICAgICAncnVubmluZ19kYXRhJywKICAgICAgICAgICAgJ3ZhcicsCiAgICAgICAgICAgICdjYWNo
ZScsCiAgICAgICAgICAgICdzYWx0JywKICAgICAgICAgICAgJ21pbmlvbicsCiAgICAgICAgICAg
ICdleHRtb2RzJykKICAgIHRmaWxlID0gdGFyZmlsZS5UYXJGaWxlLmd6b3BlbihleHRfcGF0aCkK
ICAgIG9sZF91bWFzayA9IG9zLnVtYXNrKDBvMDc3KQogICAgdGZpbGUuZXh0cmFjdGFsbChwYXRo
PW1vZGNhY2hlKQogICAgdGZpbGUuY2xvc2UoKQogICAgb3MudW1hc2sob2xkX3VtYXNrKQogICAg
b3MudW5saW5rKGV4dF9wYXRoKQogICAgdmVyX3BhdGggPSBvcy5wYXRoLmpvaW4obW9kY2FjaGUs
ICdleHRfdmVyc2lvbicpCiAgICB2ZXJfZHN0ID0gb3MucGF0aC5qb2luKE9QVElPTlMuc2FsdGRp
ciwgJ2V4dF92ZXJzaW9uJykKICAgIHNodXRpbC5tb3ZlKHZlcl9wYXRoLCB2ZXJfZHN0KQoKCmRl
ZiBtYWluKGFyZ3YpOiAgIyBweWxpbnQ6IGRpc2FibGU9VzA2MTMKICAgICIiIk1haW4gcHJvZ3Jh
bSBib2R5IiIiCiAgICB0aGluX3BhdGggPSBvcy5wYXRoLmpvaW4oT1BUSU9OUy5zYWx0ZGlyLCBU
SElOX0FSQ0hJVkUpCiAgICBpZiBvcy5wYXRoLmlzZmlsZSh0aGluX3BhdGgpOgogICAgICAgIGlm
IE9QVElPTlMuY2hlY2tzdW0gIT0gZ2V0X2hhc2godGhpbl9wYXRoLCBPUFRJT05TLmhhc2hmdW5j
KToKICAgICAgICAgICAgc3lzLnN0ZGVyci53cml0ZSgnezB9XG4nLmZvcm1hdChPUFRJT05TLmNo
ZWNrc3VtKSkKICAgICAgICAgICAgc3lzLnN0ZGVyci53cml0ZSgnezB9XG4nLmZvcm1hdChnZXRf
aGFzaCh0aGluX3BhdGgsIE9QVElPTlMuaGFzaGZ1bmMpKSkKICAgICAgICAgICAgb3MudW5saW5r
KHRoaW5fcGF0aCkKICAgICAgICAgICAgc3lzLnN0ZGVyci53cml0ZSgnV0FSTklORzogY2hlY2tz
dW0gbWlzbWF0Y2ggZm9yICJ7MH0iXG4nLmZvcm1hdCh0aGluX3BhdGgpKQogICAgICAgICAgICBz
eXMuZXhpdChFWF9USElOX0NIRUNLU1VNKQogICAgICAgIHVucGFja190aGluKHRoaW5fcGF0aCkK
ICAgICAgICAjIFNhbHQgdGhpbiBub3cgaXMgYXZhaWxhYmxlIHRvIHVzZQogICAgZWxzZToKICAg
ICAgICBzY3BzdGF0ID0gc3VicHJvY2Vzcy5Qb3BlbihbJy9iaW4vc2gnLCAnLWMnLCAnY29tbWFu
ZCAtdiBzY3AnXSkud2FpdCgpCiAgICAgICAgaWYgc2Nwc3RhdCAhPSAwOgogICAgICAgICAgICBz
eXMuZXhpdChFWF9TQ1BfTk9UX0ZPVU5EKQoKICAgICAgICBpZiBub3Qgb3MucGF0aC5leGlzdHMo
T1BUSU9OUy5zYWx0ZGlyKToKICAgICAgICAgICAgbmVlZF9kZXBsb3ltZW50KCkKCiAgICAgICAg
aWYgbm90IG9zLnBhdGguaXNkaXIoT1BUSU9OUy5zYWx0ZGlyKToKICAgICAgICAgICAgc3lzLnN0
ZGVyci53cml0ZSgKICAgICAgICAgICAgICAgICdFUlJPUjogc2FsdCBwYXRoICJ7MH0iIGV4aXN0
cyBidXQgaXMnCiAgICAgICAgICAgICAgICAnIG5vdCBhIGRpcmVjdG9yeVxuJy5mb3JtYXQoT1BU
SU9OUy5zYWx0ZGlyKQogICAgICAgICAgICApCiAgICAgICAgICAgIHN5cy5leGl0KEVYX0NBTlRD
UkVBVCkKCiAgICAgICAgdmVyc2lvbl9wYXRoID0gb3MucGF0aC5qb2luKE9QVElPTlMuc2FsdGRp
ciwgJ3ZlcnNpb24nKQogICAgICAgIGlmIG5vdCBvcy5wYXRoLmV4aXN0cyh2ZXJzaW9uX3BhdGgp
IG9yIG5vdCBvcy5wYXRoLmlzZmlsZSh2ZXJzaW9uX3BhdGgpOgogICAgICAgICAgICBzeXMuc3Rk
ZXJyLndyaXRlKAogICAgICAgICAgICAgICAgJ1dBUk5JTkc6IFVuYWJsZSB0byBsb2NhdGUgY3Vy
cmVudCB0aGluICcKICAgICAgICAgICAgICAgICcgdmVyc2lvbjogezB9LlxuJy5mb3JtYXQodmVy
c2lvbl9wYXRoKQogICAgICAgICAgICApCiAgICAgICAgICAgIG5lZWRfZGVwbG95bWVudCgpCiAg
ICAgICAgd2l0aCBvcGVuKHZlcnNpb25fcGF0aCwgJ3InKSBhcyB2cG86CiAgICAgICAgICAgIGN1
cl92ZXJzaW9uID0gdnBvLnJlYWRsaW5lKCkuc3RyaXAoKQogICAgICAgIGlmIGN1cl92ZXJzaW9u
ICE9IE9QVElPTlMudmVyc2lvbjoKICAgICAgICAgICAgc3lzLnN0ZGVyci53cml0ZSgKICAgICAg
ICAgICAgICAgICdXQVJOSU5HOiBjdXJyZW50IHRoaW4gdmVyc2lvbiB7MH0nCiAgICAgICAgICAg
ICAgICAnIGlzIG5vdCB1cC10by1kYXRlIHdpdGggezF9LlxuJy5mb3JtYXQoCiAgICAgICAgICAg
ICAgICAgICAgY3VyX3ZlcnNpb24sIE9QVElPTlMudmVyc2lvbgogICAgICAgICAgICAgICAgKQog
ICAgICAgICAgICApCiAgICAgICAgICAgIG5lZWRfZGVwbG95bWVudCgpCiAgICAgICAgIyBTYWx0
IHRoaW4gZXhpc3RzIGFuZCBpcyB1cC10by1kYXRlIC0gZmFsbCB0aHJvdWdoIGFuZCB1c2UgaXQK
CiAgICBzYWx0X2NhbGxfcGF0aCA9IG9zLnBhdGguam9pbihPUFRJT05TLnNhbHRkaXIsICdzYWx0
LWNhbGwnKQogICAgaWYgbm90IG9zLnBhdGguaXNmaWxlKHNhbHRfY2FsbF9wYXRoKToKICAgICAg
ICBzeXMuc3RkZXJyLndyaXRlKCdFUlJPUjogdGhpbiBpcyBtaXNzaW5nICJ7MH0iXG4nLmZvcm1h
dChzYWx0X2NhbGxfcGF0aCkpCiAgICAgICAgbmVlZF9kZXBsb3ltZW50KCkKCiAgICB3aXRoIG9w
ZW4ob3MucGF0aC5qb2luKE9QVElPTlMuc2FsdGRpciwgJ21pbmlvbicpLCAndycpIGFzIGNvbmZp
ZzoKICAgICAgICBjb25maWcud3JpdGUoT1BUSU9OUy5jb25maWcgKyAnXG4nKQogICAgaWYgT1BU
SU9OUy5leHRfbW9kczoKICAgICAgICBleHRfcGF0aCA9IG9zLnBhdGguam9pbihPUFRJT05TLnNh
bHRkaXIsIEVYVF9BUkNISVZFKQogICAgICAgIGlmIG9zLnBhdGguZXhpc3RzKGV4dF9wYXRoKToK
ICAgICAgICAgICAgdW5wYWNrX2V4dChleHRfcGF0aCkKICAgICAgICBlbHNlOgogICAgICAgICAg
ICB2ZXJzaW9uX3BhdGggPSBvcy5wYXRoLmpvaW4oT1BUSU9OUy5zYWx0ZGlyLCAnZXh0X3ZlcnNp
b24nKQogICAgICAgICAgICBpZiBub3Qgb3MucGF0aC5leGlzdHModmVyc2lvbl9wYXRoKSBvciBu
b3Qgb3MucGF0aC5pc2ZpbGUodmVyc2lvbl9wYXRoKToKICAgICAgICAgICAgICAgIG5lZWRfZXh0
KCkKICAgICAgICAgICAgd2l0aCBvcGVuKHZlcnNpb25fcGF0aCwgJ3InKSBhcyB2cG86CiAgICAg
ICAgICAgICAgICBjdXJfdmVyc2lvbiA9IHZwby5yZWFkbGluZSgpLnN0cmlwKCkKICAgICAgICAg
ICAgaWYgY3VyX3ZlcnNpb24gIT0gT1BUSU9OUy5leHRfbW9kczoKICAgICAgICAgICAgICAgIG5l
ZWRfZXh0KCkKICAgICMgRml4IHBhcmFtZXRlciBwYXNzaW5nIGlzc3VlCiAgICBpZiBsZW4oQVJH
UykgPT0gMToKICAgICAgICBhcmd2X3ByZXBhcmVkID0gQVJHU1swXS5zcGxpdCgpCiAgICBlbHNl
OgogICAgICAgIGFyZ3ZfcHJlcGFyZWQgPSBBUkdTCgogICAgc2FsdF9hcmd2ID0gWwogICAgICAg
IHN5cy5leGVjdXRhYmxlLAogICAgICAgIHNhbHRfY2FsbF9wYXRoLAogICAgICAgICctLXJldGNv
ZGUtcGFzc3Rocm91Z2gnLAogICAgICAgICctLWxvY2FsJywKICAgICAgICAnLS1tZXRhZGF0YScs
CiAgICAgICAgJy0tb3V0JywgJ2pzb24nLAogICAgICAgICctbCcsICdxdWlldCcsCiAgICAgICAg
Jy1jJywgT1BUSU9OUy5zYWx0ZGlyLAogICAgICAgICctLScsCiAgICBdICsgYXJndl9wcmVwYXJl
ZAoKICAgIHN5cy5zdGRlcnIud3JpdGUoJ1NBTFRfQVJHVjogezB9XG4nLmZvcm1hdChzYWx0X2Fy
Z3YpKQoKICAgICMgT25seSBlbWl0IHRoZSBkZWxpbWl0ZXIgb24gKmJvdGgqIHN0ZG91dCBhbmQg
c3RkZXJyIHdoZW4gY29tcGxldGVseSBzdWNjZXNzZnVsLgogICAgIyBZZXMsIHRoZSBmbHVzaCgp
IGlzIG5lY2Vzc2FyeS4KICAgIHN5cy5zdGRvdXQud3JpdGUoT1BUSU9OUy5kZWxpbWl0ZXIgKyAn
XG4nKQogICAgc3lzLnN0ZG91dC5mbHVzaCgpCiAgICBpZiBub3QgT1BUSU9OUy50dHk6CiAgICAg
ICAgc3lzLnN0ZGVyci53cml0ZShPUFRJT05TLmRlbGltaXRlciArICdcbicpCiAgICAgICAgc3lz
LnN0ZGVyci5mbHVzaCgpCiAgICBpZiBPUFRJT05TLmNtZF91bWFzayBpcyBub3QgTm9uZToKICAg
ICAgICBvbGRfdW1hc2sgPSBvcy51bWFzayhPUFRJT05TLmNtZF91bWFzaykKICAgIGlmIE9QVElP
TlMudHR5OgogICAgICAgIHN0ZG91dCwgXyA9IHN1YnByb2Nlc3MuUG9wZW4oc2FsdF9hcmd2LCBz
dGRvdXQ9c3VicHJvY2Vzcy5QSVBFLCBzdGRlcnI9c3VicHJvY2Vzcy5QSVBFKS5jb21tdW5pY2F0
ZSgpCiAgICAgICAgc3lzLnN0ZG91dC53cml0ZShzdGRvdXQpCiAgICAgICAgc3lzLnN0ZG91dC5m
bHVzaCgpCiAgICAgICAgaWYgT1BUSU9OUy53aXBlOgogICAgICAgICAgICBzaHV0aWwucm10cmVl
KE9QVElPTlMuc2FsdGRpcikKICAgIGVsaWYgT1BUSU9OUy53aXBlOgogICAgICAgIHN1YnByb2Nl
c3MuY2FsbChzYWx0X2FyZ3YpCiAgICAgICAgc2h1dGlsLnJtdHJlZShPUFRJT05TLnNhbHRkaXIp
CiAgICBlbHNlOgogICAgICAgIG9zLmV4ZWN2KHN5cy5leGVjdXRhYmxlLCBzYWx0X2FyZ3YpCiAg
ICBpZiBPUFRJT05TLmNtZF91bWFzayBpcyBub3QgTm9uZToKICAgICAgICBvcy51bWFzayhvbGRf
dW1hc2spCgppZiBfX25hbWVfXyA9PSAnX19tYWluX18nOgogICAgc3lzLmV4aXQobWFpbihzeXMu
YXJndikpCg==
""").decode("utf-8"))'
else
exec $SUDO "$py_cmd_path" -c \
'import base64;
exec(base64.b64decode("""IyBweWxpbnQ6IGRpc2FibGU9Vzk5MDMKJycnClRoaXMgaXMgYSBzaGltIHRoYXQgaGFuZGxlcyBj
aGVja2luZyBhbmQgdXBkYXRpbmcgc2FsdCB0aGluIGFuZAp0aGVuIGludm9raW5nIHRoaW4uCgpU
aGlzIGlzIG5vdCBpbnRlbmRlZCB0byBiZSBpbnN0YW50aWF0ZWQgYXMgYSBtb2R1bGUsIHJhdGhl
ciBpdCBpcyBhCmhlbHBlciBzY3JpcHQgdXNlZCBieSBzYWx0LmNsaWVudC5zc2guU2luZ2xlLiAg
SXQgaXMgaGVyZSwgaW4gYQpzZXBhcmF0ZSBmaWxlLCBmb3IgY29udmVuaWVuY2Ugb2YgZGV2ZWxv
cG1lbnQuCicnJwoKZnJvbSBfX2Z1dHVyZV9fIGltcG9ydCBhYnNvbHV0ZV9pbXBvcnQKCmltcG9y
dCBoYXNobGliCmltcG9ydCB0YXJmaWxlCmltcG9ydCBzaHV0aWwKaW1wb3J0IHN5cwppbXBvcnQg
b3MKaW1wb3J0IHN0YXQKaW1wb3J0IHN1YnByb2Nlc3MKClRISU5fQVJDSElWRSA9ICdzYWx0LXRo
aW4udGd6JwpFWFRfQVJDSElWRSA9ICdzYWx0LWV4dF9tb2RzLnRneicKCiMgS2VlcCB0aGVzZSBp
biBzeW5jIHdpdGggc2FsdC9kZWZhdWx0cy9leGl0Y29kZXMucHkKRVhfVEhJTl9ERVBMT1kgPSAx
MQpFWF9USElOX0NIRUNLU1VNID0gMTIKRVhfTU9EX0RFUExPWSA9IDEzCkVYX1NDUF9OT1RfRk9V
TkQgPSAxNApFWF9DQU5UQ1JFQVQgPSA3MwoKCmNsYXNzIE9CSihvYmplY3QpOgogICAgIiIiQW4g
ZW1wdHkgY2xhc3MgZm9yIGhvbGRpbmcgaW5zdGFuY2UgYXR0cmlidXRlIHZhbHVlcy4iIiIKICAg
IHBhc3MKCgpPUFRJT05TID0gTm9uZQpBUkdTID0gTm9uZQojIFRoZSBiZWxvdyBsaW5lIGlzIHdo
ZXJlIE9QVElPTlMgY2FuIGJlIHJlZGVmaW5lZCB3aXRoIGludGVybmFsIG9wdGlvbnMKIyAocmF0
aGVyIHRoYW4gY2xpIGFyZ3VtZW50cykgd2hlbiB0aGUgc2hpbSBpcyBidW5kbGVkIGJ5CiMgY2xp
ZW50LnNzaC5TaW5nbGUuX2NtZF9zdHIoKQojIHB5bGludDogZGlzYWJsZT1ibG9jay1jb21tZW50
LXNob3VsZC1zdGFydC13aXRoLWNhcmRpbmFsLXNwYWNlCgpPUFRJT05TID0gT0JKKCkKT1BUSU9O
Uy5jb25maWcgPSAiIiIKe2ZpbGVzZXJ2ZXJfbGlzdF9jYWNoZV90aW1lOiAzLCBncmFpbnNfY2Fj
aGU6IHRydWUsIGlkOiBtdW5pbiwgbG9nX2ZpbGU6IHNhbHQtY2FsbC5sb2csCiAgcm9vdF9kaXI6
IC92YXIvdG1wLy5zYWx0LW9wZV8xYTM1MzJfc2FsdC9ydW5uaW5nX2RhdGEsIHNvY2tfZGlyOiAv
fQoiIiIKT1BUSU9OUy5kZWxpbWl0ZXIgPSAnX2VkYmM3ODg1ZTRmOWFhYzliODNiMzU5OTliNjhk
MDE1MTQ4Y2FmNDY3Yjc4ZmEzOWMwNWY2NjljMGZmODk4NzgnCk9QVElPTlMuc2FsdGRpciA9ICcv
dmFyL3RtcC8uc2FsdC1vcGVfMWEzNTMyX3NhbHQnCk9QVElPTlMuY2hlY2tzdW0gPSAnOTg1MjZk
OTliMWU3YjA3OWRjZWZjZWM5ZmE1Yjg1MWZmYmY5ODEzZCcKT1BUSU9OUy5oYXNoZnVuYyA9ICdz
aGExJwpPUFRJT05TLnZlcnNpb24gPSAnMjAxNi4zLjInCk9QVElPTlMuZXh0X21vZHMgPSAnNzQx
OTZlMDExNDUyMWUyYWRjNjlkNjgxY2U2YTQ1NjNiYTBhZTFlYicKT1BUSU9OUy53aXBlID0gRmFs
c2UKT1BUSU9OUy50dHkgPSBGYWxzZQpPUFRJT05TLmNtZF91bWFzayA9IE5vbmUKQVJHUyA9IFsn
dGVzdC5vcHRzX3BrZyddCgoKCmRlZiBuZWVkX2RlcGxveW1lbnQoKToKICAgICIiIgogICAgU2Fs
dCB0aGluIG5lZWRzIHRvIGJlIGRlcGxveWVkIC0gcHJlcCB0aGUgdGFyZ2V0IGRpcmVjdG9yeSBh
bmQgZW1pdCB0aGUKICAgIGRlbGltZXRlciBhbmQgZXhpdCBjb2RlIHRoYXQgc2lnbmFscyBhIHJl
cXVpcmVkIGRlcGxveW1lbnQuCiAgICAiIiIKICAgIGlmIG9zLnBhdGguZXhpc3RzKE9QVElPTlMu
c2FsdGRpcik6CiAgICAgICAgc2h1dGlsLnJtdHJlZShPUFRJT05TLnNhbHRkaXIpCiAgICBvbGRf
dW1hc2sgPSBvcy51bWFzaygwbzA3NykKICAgIG9zLm1ha2VkaXJzKE9QVElPTlMuc2FsdGRpcikK
ICAgIG9zLnVtYXNrKG9sZF91bWFzaykKICAgICMgVmVyaWZ5IHBlcm1zIG9uIHNhbHRkaXIKICAg
IGV1aWQgPSBvcy5nZXRldWlkKCkKICAgIGRzdGF0ID0gb3Muc3RhdChPUFRJT05TLnNhbHRkaXIp
CiAgICBpZiBkc3RhdC5zdF91aWQgIT0gZXVpZDoKICAgICAgICAjIEF0dGFjayBkZXRlY3RlZCwg
dHJ5IGFnYWluCiAgICAgICAgbmVlZF9kZXBsb3ltZW50KCkKICAgIGlmIGRzdGF0LnN0X21vZGUg
IT0gMTY4MzI6CiAgICAgICAgIyBBdHRhY2sgZGV0ZWN0ZWQKICAgICAgICBuZWVkX2RlcGxveW1l
bnQoKQogICAgIyBJZiBTVURPaW5nIHRoZW4gYWxzbyBnaXZlIHRoZSBzdXBlciB1c2VyIGdyb3Vw
IHdyaXRlIHBlcm1pc3Npb25zCiAgICBzdWRvX2dpZCA9IG9zLmVudmlyb24uZ2V0KCdTVURPX0dJ
RCcpCiAgICBpZiBzdWRvX2dpZDoKICAgICAgICBvcy5jaG93bihPUFRJT05TLnNhbHRkaXIsIC0x
LCBpbnQoc3Vkb19naWQpKQogICAgICAgIHN0dCA9IG9zLnN0YXQoT1BUSU9OUy5zYWx0ZGlyKQog
ICAgICAgIG9zLmNobW9kKE9QVElPTlMuc2FsdGRpciwgc3R0LnN0X21vZGUgfCBzdGF0LlNfSVdH
UlAgfCBzdGF0LlNfSVJHUlAgfCBzdGF0LlNfSVhHUlApCgogICAgIyBEZWxpbWl0ZXIgZW1pdHRl
ZCBvbiBzdGRvdXQgKm9ubHkqIHRvIGluZGljYXRlIHNoaW0gbWVzc2FnZSB0byBtYXN0ZXIuCiAg
ICBzeXMuc3Rkb3V0LndyaXRlKCJ7MH1cbmRlcGxveVxuIi5mb3JtYXQoT1BUSU9OUy5kZWxpbWl0
ZXIpKQogICAgc3lzLmV4aXQoRVhfVEhJTl9ERVBMT1kpCgoKIyBBZGFwdGVkIGZyb20gc2FsdC51
dGlscy5nZXRfaGFzaCgpCmRlZiBnZXRfaGFzaChwYXRoLCBmb3JtPSdzaGExJywgY2h1bmtfc2l6
ZT00MDk2KToKICAgICIiIkdlbmVyYXRlIGEgaGFzaCBkaWdlc3Qgc3RyaW5nIGZvciBhIGZpbGUu
IiIiCiAgICB0cnk6CiAgICAgICAgaGFzaF90eXBlID0gZ2V0YXR0cihoYXNobGliLCBmb3JtKQog
ICAgZXhjZXB0IEF0dHJpYnV0ZUVycm9yOgogICAgICAgIHJhaXNlIFZhbHVlRXJyb3IoJ0ludmFs
aWQgaGFzaCB0eXBlOiB7MH0nLmZvcm1hdChmb3JtKSkKICAgIHdpdGggb3BlbihwYXRoLCAncmIn
KSBhcyBpZmlsZToKICAgICAgICBoYXNoX29iaiA9IGhhc2hfdHlwZSgpCiAgICAgICAgIyByZWFk
IHRoZSBmaWxlIGluIGluIGNodW5rcywgbm90IHRoZSBlbnRpcmUgZmlsZQogICAgICAgIGZvciBj
aHVuayBpbiBpdGVyKGxhbWJkYTogaWZpbGUucmVhZChjaHVua19zaXplKSwgYicnKToKICAgICAg
ICAgICAgaGFzaF9vYmoudXBkYXRlKGNodW5rKQogICAgICAgIHJldHVybiBoYXNoX29iai5oZXhk
aWdlc3QoKQoKCmRlZiB1bnBhY2tfdGhpbih0aGluX3BhdGgpOgogICAgIiIiVW5wYWNrIHRoZSBT
YWx0IHRoaW4gYXJjaGl2ZS4iIiIKICAgIHRmaWxlID0gdGFyZmlsZS5UYXJGaWxlLmd6b3Blbih0
aGluX3BhdGgpCiAgICBvbGRfdW1hc2sgPSBvcy51bWFzaygwbzA3NykKICAgIHRmaWxlLmV4dHJh
Y3RhbGwocGF0aD1PUFRJT05TLnNhbHRkaXIpCiAgICB0ZmlsZS5jbG9zZSgpCiAgICBvcy51bWFz
ayhvbGRfdW1hc2spCiAgICBvcy51bmxpbmsodGhpbl9wYXRoKQoKCmRlZiBuZWVkX2V4dCgpOgog
ICAgIiIiU2lnbmFsIHRoYXQgZXh0ZXJuYWwgbW9kdWxlcyBuZWVkIHRvIGJlIGRlcGxveWVkLiIi
IgogICAgc3lzLnN0ZG91dC53cml0ZSgiezB9XG5leHRfbW9kc1xuIi5mb3JtYXQoT1BUSU9OUy5k
ZWxpbWl0ZXIpKQogICAgc3lzLmV4aXQoRVhfTU9EX0RFUExPWSkKCgpkZWYgdW5wYWNrX2V4dChl
eHRfcGF0aCk6CiAgICAiIiJVbnBhY2sgdGhlIGV4dGVybmFsIG1vZHVsZXMuIiIiCiAgICBtb2Rj
YWNoZSA9IG9zLnBhdGguam9pbigKICAgICAgICAgICAgT1BUSU9OUy5zYWx0ZGlyLAogICAgICAg
ICAgICAncnVubmluZ19kYXRhJywKICAgICAgICAgICAgJ3ZhcicsCiAgICAgICAgICAgICdjYWNo
ZScsCiAgICAgICAgICAgICdzYWx0JywKICAgICAgICAgICAgJ21pbmlvbicsCiAgICAgICAgICAg
ICdleHRtb2RzJykKICAgIHRmaWxlID0gdGFyZmlsZS5UYXJGaWxlLmd6b3BlbihleHRfcGF0aCkK
ICAgIG9sZF91bWFzayA9IG9zLnVtYXNrKDBvMDc3KQogICAgdGZpbGUuZXh0cmFjdGFsbChwYXRo
PW1vZGNhY2hlKQogICAgdGZpbGUuY2xvc2UoKQogICAgb3MudW1hc2sob2xkX3VtYXNrKQogICAg
b3MudW5saW5rKGV4dF9wYXRoKQogICAgdmVyX3BhdGggPSBvcy5wYXRoLmpvaW4obW9kY2FjaGUs
ICdleHRfdmVyc2lvbicpCiAgICB2ZXJfZHN0ID0gb3MucGF0aC5qb2luKE9QVElPTlMuc2FsdGRp
ciwgJ2V4dF92ZXJzaW9uJykKICAgIHNodXRpbC5tb3ZlKHZlcl9wYXRoLCB2ZXJfZHN0KQoKCmRl
ZiBtYWluKGFyZ3YpOiAgIyBweWxpbnQ6IGRpc2FibGU9VzA2MTMKICAgICIiIk1haW4gcHJvZ3Jh
bSBib2R5IiIiCiAgICB0aGluX3BhdGggPSBvcy5wYXRoLmpvaW4oT1BUSU9OUy5zYWx0ZGlyLCBU
SElOX0FSQ0hJVkUpCiAgICBpZiBvcy5wYXRoLmlzZmlsZSh0aGluX3BhdGgpOgogICAgICAgIGlm
IE9QVElPTlMuY2hlY2tzdW0gIT0gZ2V0X2hhc2godGhpbl9wYXRoLCBPUFRJT05TLmhhc2hmdW5j
KToKICAgICAgICAgICAgc3lzLnN0ZGVyci53cml0ZSgnezB9XG4nLmZvcm1hdChPUFRJT05TLmNo
ZWNrc3VtKSkKICAgICAgICAgICAgc3lzLnN0ZGVyci53cml0ZSgnezB9XG4nLmZvcm1hdChnZXRf
aGFzaCh0aGluX3BhdGgsIE9QVElPTlMuaGFzaGZ1bmMpKSkKICAgICAgICAgICAgb3MudW5saW5r
KHRoaW5fcGF0aCkKICAgICAgICAgICAgc3lzLnN0ZGVyci53cml0ZSgnV0FSTklORzogY2hlY2tz
dW0gbWlzbWF0Y2ggZm9yICJ7MH0iXG4nLmZvcm1hdCh0aGluX3BhdGgpKQogICAgICAgICAgICBz
eXMuZXhpdChFWF9USElOX0NIRUNLU1VNKQogICAgICAgIHVucGFja190aGluKHRoaW5fcGF0aCkK
ICAgICAgICAjIFNhbHQgdGhpbiBub3cgaXMgYXZhaWxhYmxlIHRvIHVzZQogICAgZWxzZToKICAg
ICAgICBzY3BzdGF0ID0gc3VicHJvY2Vzcy5Qb3BlbihbJy9iaW4vc2gnLCAnLWMnLCAnY29tbWFu
ZCAtdiBzY3AnXSkud2FpdCgpCiAgICAgICAgaWYgc2Nwc3RhdCAhPSAwOgogICAgICAgICAgICBz
eXMuZXhpdChFWF9TQ1BfTk9UX0ZPVU5EKQoKICAgICAgICBpZiBub3Qgb3MucGF0aC5leGlzdHMo
T1BUSU9OUy5zYWx0ZGlyKToKICAgICAgICAgICAgbmVlZF9kZXBsb3ltZW50KCkKCiAgICAgICAg
aWYgbm90IG9zLnBhdGguaXNkaXIoT1BUSU9OUy5zYWx0ZGlyKToKICAgICAgICAgICAgc3lzLnN0
ZGVyci53cml0ZSgKICAgICAgICAgICAgICAgICdFUlJPUjogc2FsdCBwYXRoICJ7MH0iIGV4aXN0
cyBidXQgaXMnCiAgICAgICAgICAgICAgICAnIG5vdCBhIGRpcmVjdG9yeVxuJy5mb3JtYXQoT1BU
SU9OUy5zYWx0ZGlyKQogICAgICAgICAgICApCiAgICAgICAgICAgIHN5cy5leGl0KEVYX0NBTlRD
UkVBVCkKCiAgICAgICAgdmVyc2lvbl9wYXRoID0gb3MucGF0aC5qb2luKE9QVElPTlMuc2FsdGRp
ciwgJ3ZlcnNpb24nKQogICAgICAgIGlmIG5vdCBvcy5wYXRoLmV4aXN0cyh2ZXJzaW9uX3BhdGgp
IG9yIG5vdCBvcy5wYXRoLmlzZmlsZSh2ZXJzaW9uX3BhdGgpOgogICAgICAgICAgICBzeXMuc3Rk
ZXJyLndyaXRlKAogICAgICAgICAgICAgICAgJ1dBUk5JTkc6IFVuYWJsZSB0byBsb2NhdGUgY3Vy
cmVudCB0aGluICcKICAgICAgICAgICAgICAgICcgdmVyc2lvbjogezB9LlxuJy5mb3JtYXQodmVy
c2lvbl9wYXRoKQogICAgICAgICAgICApCiAgICAgICAgICAgIG5lZWRfZGVwbG95bWVudCgpCiAg
ICAgICAgd2l0aCBvcGVuKHZlcnNpb25fcGF0aCwgJ3InKSBhcyB2cG86CiAgICAgICAgICAgIGN1
cl92ZXJzaW9uID0gdnBvLnJlYWRsaW5lKCkuc3RyaXAoKQogICAgICAgIGlmIGN1cl92ZXJzaW9u
ICE9IE9QVElPTlMudmVyc2lvbjoKICAgICAgICAgICAgc3lzLnN0ZGVyci53cml0ZSgKICAgICAg
ICAgICAgICAgICdXQVJOSU5HOiBjdXJyZW50IHRoaW4gdmVyc2lvbiB7MH0nCiAgICAgICAgICAg
ICAgICAnIGlzIG5vdCB1cC10by1kYXRlIHdpdGggezF9LlxuJy5mb3JtYXQoCiAgICAgICAgICAg
ICAgICAgICAgY3VyX3ZlcnNpb24sIE9QVElPTlMudmVyc2lvbgogICAgICAgICAgICAgICAgKQog
ICAgICAgICAgICApCiAgICAgICAgICAgIG5lZWRfZGVwbG95bWVudCgpCiAgICAgICAgIyBTYWx0
IHRoaW4gZXhpc3RzIGFuZCBpcyB1cC10by1kYXRlIC0gZmFsbCB0aHJvdWdoIGFuZCB1c2UgaXQK
CiAgICBzYWx0X2NhbGxfcGF0aCA9IG9zLnBhdGguam9pbihPUFRJT05TLnNhbHRkaXIsICdzYWx0
LWNhbGwnKQogICAgaWYgbm90IG9zLnBhdGguaXNmaWxlKHNhbHRfY2FsbF9wYXRoKToKICAgICAg
ICBzeXMuc3RkZXJyLndyaXRlKCdFUlJPUjogdGhpbiBpcyBtaXNzaW5nICJ7MH0iXG4nLmZvcm1h
dChzYWx0X2NhbGxfcGF0aCkpCiAgICAgICAgbmVlZF9kZXBsb3ltZW50KCkKCiAgICB3aXRoIG9w
ZW4ob3MucGF0aC5qb2luKE9QVElPTlMuc2FsdGRpciwgJ21pbmlvbicpLCAndycpIGFzIGNvbmZp
ZzoKICAgICAgICBjb25maWcud3JpdGUoT1BUSU9OUy5jb25maWcgKyAnXG4nKQogICAgaWYgT1BU
SU9OUy5leHRfbW9kczoKICAgICAgICBleHRfcGF0aCA9IG9zLnBhdGguam9pbihPUFRJT05TLnNh
bHRkaXIsIEVYVF9BUkNISVZFKQogICAgICAgIGlmIG9zLnBhdGguZXhpc3RzKGV4dF9wYXRoKToK
ICAgICAgICAgICAgdW5wYWNrX2V4dChleHRfcGF0aCkKICAgICAgICBlbHNlOgogICAgICAgICAg
ICB2ZXJzaW9uX3BhdGggPSBvcy5wYXRoLmpvaW4oT1BUSU9OUy5zYWx0ZGlyLCAnZXh0X3ZlcnNp
b24nKQogICAgICAgICAgICBpZiBub3Qgb3MucGF0aC5leGlzdHModmVyc2lvbl9wYXRoKSBvciBu
b3Qgb3MucGF0aC5pc2ZpbGUodmVyc2lvbl9wYXRoKToKICAgICAgICAgICAgICAgIG5lZWRfZXh0
KCkKICAgICAgICAgICAgd2l0aCBvcGVuKHZlcnNpb25fcGF0aCwgJ3InKSBhcyB2cG86CiAgICAg
ICAgICAgICAgICBjdXJfdmVyc2lvbiA9IHZwby5yZWFkbGluZSgpLnN0cmlwKCkKICAgICAgICAg
ICAgaWYgY3VyX3ZlcnNpb24gIT0gT1BUSU9OUy5leHRfbW9kczoKICAgICAgICAgICAgICAgIG5l
ZWRfZXh0KCkKICAgICMgRml4IHBhcmFtZXRlciBwYXNzaW5nIGlzc3VlCiAgICBpZiBsZW4oQVJH
UykgPT0gMToKICAgICAgICBhcmd2X3ByZXBhcmVkID0gQVJHU1swXS5zcGxpdCgpCiAgICBlbHNl
OgogICAgICAgIGFyZ3ZfcHJlcGFyZWQgPSBBUkdTCgogICAgc2FsdF9hcmd2ID0gWwogICAgICAg
IHN5cy5leGVjdXRhYmxlLAogICAgICAgIHNhbHRfY2FsbF9wYXRoLAogICAgICAgICctLXJldGNv
ZGUtcGFzc3Rocm91Z2gnLAogICAgICAgICctLWxvY2FsJywKICAgICAgICAnLS1tZXRhZGF0YScs
CiAgICAgICAgJy0tb3V0JywgJ2pzb24nLAogICAgICAgICctbCcsICdxdWlldCcsCiAgICAgICAg
Jy1jJywgT1BUSU9OUy5zYWx0ZGlyLAogICAgICAgICctLScsCiAgICBdICsgYXJndl9wcmVwYXJl
ZAoKICAgIHN5cy5zdGRlcnIud3JpdGUoJ1NBTFRfQVJHVjogezB9XG4nLmZvcm1hdChzYWx0X2Fy
Z3YpKQoKICAgICMgT25seSBlbWl0IHRoZSBkZWxpbWl0ZXIgb24gKmJvdGgqIHN0ZG91dCBhbmQg
c3RkZXJyIHdoZW4gY29tcGxldGVseSBzdWNjZXNzZnVsLgogICAgIyBZZXMsIHRoZSBmbHVzaCgp
IGlzIG5lY2Vzc2FyeS4KICAgIHN5cy5zdGRvdXQud3JpdGUoT1BUSU9OUy5kZWxpbWl0ZXIgKyAn
XG4nKQogICAgc3lzLnN0ZG91dC5mbHVzaCgpCiAgICBpZiBub3QgT1BUSU9OUy50dHk6CiAgICAg
ICAgc3lzLnN0ZGVyci53cml0ZShPUFRJT05TLmRlbGltaXRlciArICdcbicpCiAgICAgICAgc3lz
LnN0ZGVyci5mbHVzaCgpCiAgICBpZiBPUFRJT05TLmNtZF91bWFzayBpcyBub3QgTm9uZToKICAg
ICAgICBvbGRfdW1hc2sgPSBvcy51bWFzayhPUFRJT05TLmNtZF91bWFzaykKICAgIGlmIE9QVElP
TlMudHR5OgogICAgICAgIHN0ZG91dCwgXyA9IHN1YnByb2Nlc3MuUG9wZW4oc2FsdF9hcmd2LCBz
dGRvdXQ9c3VicHJvY2Vzcy5QSVBFLCBzdGRlcnI9c3VicHJvY2Vzcy5QSVBFKS5jb21tdW5pY2F0
ZSgpCiAgICAgICAgc3lzLnN0ZG91dC53cml0ZShzdGRvdXQpCiAgICAgICAgc3lzLnN0ZG91dC5m
bHVzaCgpCiAgICAgICAgaWYgT1BUSU9OUy53aXBlOgogICAgICAgICAgICBzaHV0aWwucm10cmVl
KE9QVElPTlMuc2FsdGRpcikKICAgIGVsaWYgT1BUSU9OUy53aXBlOgogICAgICAgIHN1YnByb2Nl
c3MuY2FsbChzYWx0X2FyZ3YpCiAgICAgICAgc2h1dGlsLnJtdHJlZShPUFRJT05TLnNhbHRkaXIp
CiAgICBlbHNlOgogICAgICAgIG9zLmV4ZWN2KHN5cy5leGVjdXRhYmxlLCBzYWx0X2FyZ3YpCiAg
ICBpZiBPUFRJT05TLmNtZF91bWFzayBpcyBub3QgTm9uZToKICAgICAgICBvcy51bWFzayhvbGRf
dW1hc2spCgppZiBfX25hbWVfXyA9PSAnX19tYWluX18nOgogICAgc3lzLmV4aXQobWFpbihzeXMu
YXJndikpCg==
""").decode("utf-8"))'
fi
exit 0
else
continue
fi
done
echo "ERROR: Unable to locate appropriate python command" >&2
exit $EX_PYTHON_INVALID
EOF
2016-10-20 00:47:55,704 [salt.utils.vt.Terminal.PID-2634.STDOUT][TRACE   ][2633] salt-ope@192.168.1.15's password:
2016-10-20 00:47:55,776 [salt.utils.vt.Terminal.PID-2634.STDERR][TRACE   ][2633] + SUDO=
+ '[' -n sudo ']'
+ SUDO='sudo '
+ EX_PYTHON_INVALID=10
+ PYTHON_CMDS='python3 python27 python2.7 python26 python2.6 python2 python'
+ for py_cmd in '$PYTHON_CMDS'
+ command -v python3
+ continue
+ for py_cmd in '$PYTHON_CMDS'
+ command -v python27
+ continue
+ for py_cmd in '$PYTHON_CMDS'
+ command -v python2.7
+ python2.7 -c 'import sys; sys.exit(not (sys.version_info >= (2, 6)
and sys.version_info[0] == 2));'
2016-10-20 00:47:55,797 [salt.utils.vt.Terminal.PID-2634.STDERR][TRACE   ][2633] ++ python2.7 -c 'from __future__ import print_function;
import sys; print(sys.executable);'
2016-10-20 00:47:55,807 [salt.utils.vt.Terminal.PID-2634.STDERR][TRACE   ][2633] + py_cmd_path=/usr/bin/python2.7
++ which python2.7
+ cmdpath=/usr/bin/python2.7
+ grep 'shell script'
+ file /usr/bin/python2.7
+ exec sudo /usr/bin/python2.7 -c 'import base64;
exec(base64.b64decode("""IyBweWxpbnQ6IGRpc2FibGU9Vzk5MDMKJycnClRoaXMgaXMgYSBzaGltIHRoYXQgaGFuZGxlcyBj
aGVja2luZyBhbmQgdXBkYXRpbmcgc2FsdCB0aGluIGFuZAp0aGVuIGludm9raW5nIHRoaW4uCgpU
aGlzIGlzIG5vdCBpbnRlbmRlZCB0byBiZSBpbnN0YW50aWF0ZWQgYXMgYSBtb2R1bGUsIHJhdGhl
ciBpdCBpcyBhCmhlbHBlciBzY3JpcHQgdXNlZCBieSBzYWx0LmNsaWVudC5zc2guU2luZ2xlLiAg
SXQgaXMgaGVyZSwgaW4gYQpzZXBhcmF0ZSBmaWxlLCBmb3IgY29udmVuaWVuY2Ugb2YgZGV2ZWxv
cG1lbnQuCicnJwoKZnJvbSBfX2Z1dHVyZV9fIGltcG9ydCBhYnNvbHV0ZV9pbXBvcnQKCmltcG9y
dCBoYXNobGliCmltcG9ydCB0YXJmaWxlCmltcG9ydCBzaHV0aWwKaW1wb3J0IHN5cwppbXBvcnQg
b3MKaW1wb3J0IHN0YXQKaW1wb3J0IHN1YnByb2Nlc3MKClRISU5fQVJDSElWRSA9ICdzYWx0LXRo
aW4udGd6JwpFWFRfQVJDSElWRSA9ICdzYWx0LWV4dF9tb2RzLnRneicKCiMgS2VlcCB0aGVzZSBp
biBzeW5jIHdpdGggc2FsdC9kZWZhdWx0cy9leGl0Y29kZXMucHkKRVhfVEhJTl9ERVBMT1kgPSAx
MQpFWF9USElOX0NIRUNLU1VNID0gMTIKRV
2016-10-20 00:47:55,818 [salt.utils.vt.Terminal.PID-2634.STDERR][TRACE   ][2633] hfTU9EX0RFUExPWSA9IDEzCkVYX1NDUF9OT1RfRk9V
TkQgPSAxNApFWF9DQU5UQ1JFQVQgPSA3MwoKCmNsYXNzIE9CSihvYmplY3QpOgogICAgIiIiQW4g
ZW1wdHkgY2xhc3MgZm9yIGhvbGRpbmcgaW5zdGFuY2UgYXR0cmlidXRlIHZhbHVlcy4iIiIKICAg
IHBhc3MKCgpPUFRJT05TID0gTm9uZQpBUkdTID0gTm9uZQojIFRoZSBiZWxvdyBsaW5lIGlzIHdo
ZXJlIE9QVElPTlMgY2FuIGJlIHJlZGVmaW5lZCB3aXRoIGludGVybmFsIG9wdGlvbnMKIyAocmF0
aGVyIHRoYW4gY2xpIGFyZ3VtZW50cykgd2hlbiB0aGUgc2hpbSBpcyBidW5kbGVkIGJ5CiMgY2xp
ZW50LnNzaC5TaW5nbGUuX2NtZF9zdHIoKQojIHB5bGludDogZGlzYWJsZT1ibG9jay1jb21tZW50
LXNob3VsZC1zdGFydC13aXRoLWNhcmRpbmFsLXNwYWNlCgpPUFRJT05TID0gT0JKKCkKT1BUSU9O
Uy5jb25maWcgPSAiIiIKe2ZpbGVzZXJ2ZXJfbGlzdF9jYWNoZV90aW1lOiAzLCBncmFpbnNfY2Fj
aGU6IHRydWUsIGlkOiBtdW5pbiwgbG9nX2ZpbGU6IHNhbHQtY2FsbC5sb2csCiAgcm9vdF9kaXI6
IC92YXIvdG1wLy5zYWx0LW9wZV8xYTM1MzJfc2FsdC9ydW5uaW5nX2RhdGEsIHNvY2tfZGlyOiAv
fQoiIiIKT1BUSU9OUy5kZWxpbWl0ZXIgPSAnX2VkYmM3ODg1ZTRmOWFhYzliODNiMzU5OTliNjhk
MDE1MTQ4Y2FmNDY3Yjc4ZmEzOWMwNWY2NjljMGZmODk4NzgnCk9QVElPTlMuc2FsdGRpciA9ICcv
dmFyL3RtcC8uc2FsdC1vcGVfMWEzNTMyX3NhbHQnCk9Q
2016-10-20 00:47:55,829 [salt.utils.vt.Terminal.PID-2634.STDERR][TRACE   ][2633] VElPTlMuY2hlY2tzdW0gPSAnOTg1MjZk
OTliMWU3YjA3OWRjZWZjZWM5ZmE1Yjg1MWZmYmY5ODEzZCcKT1BUSU9OUy5oYXNoZnVuYyA9ICdz
aGExJwpPUFRJT05TLnZlcnNpb24gPSAnMjAxNi4zLjInCk9QVElPTlMuZXh0X21vZHMgPSAnNzQx
OTZlMDExNDUyMWUyYWRjNjlkNjgxY2U2YTQ1NjNiYTBhZTFlYicKT1BUSU9OUy53aXBlID0gRmFs
c2UKT1BUSU9OUy50dHkgPSBGYWxzZQpPUFRJT05TLmNtZF91bWFzayA9IE5vbmUKQVJHUyA9IFsn
dGVzdC5vcHRzX3BrZyddCgoKCmRlZiBuZWVkX2RlcGxveW1lbnQoKToKICAgICIiIgogICAgU2Fs
dCB0aGluIG5lZWRzIHRvIGJlIGRlcGxveWVkIC0gcHJlcCB0aGUgdGFyZ2V0IGRpcmVjdG9yeSBh
bmQgZW1pdCB0aGUKICAgIGRlbGltZXRlciBhbmQgZXhpdCBjb2RlIHRoYXQgc2lnbmFscyBhIHJl
cXVpcmVkIGRlcGxveW1lbnQuCiAgICAiIiIKICAgIGlmIG9zLnBhdGguZXhpc3RzKE9QVElPTlMu
c2FsdGRpcik6CiAgICAgICAgc2h1dGlsLnJtdHJlZShPUFRJT05TLnNhbHRkaXIpCiAgICBvbGRf
dW1hc2sgPSBvcy51bWFzaygwbzA3NykKICAgIG9zLm1ha2VkaXJzKE9QVElPTlMuc2FsdGRpcikK
ICAgIG9zLnVtYXNrKG9sZF91bWFzaykKICAgICMgVmVyaWZ5IHBlcm1zIG9uIHNhbHRkaXIKICAg
IGV1aWQgPSBvcy5nZXRldWlkKCkKICAgIGRzdGF0ID0gb3Muc3RhdChPUFRJT05TLnNhbHRkaXIp
CiAgICBpZiBkc3RhdC5zdF91aWQgIT0gZXVpZDoKICAgICAgICAjIE
2016-10-20 00:47:55,839 [salt.utils.vt.Terminal.PID-2634.STDERR][TRACE   ][2633] F0dGFjayBkZXRlY3RlZCwg
dHJ5IGFnYWluCiAgICAgICAgbmVlZF9kZXBsb3ltZW50KCkKICAgIGlmIGRzdGF0LnN0X21vZGUg
IT0gMTY4MzI6CiAgICAgICAgIyBBdHRhY2sgZGV0ZWN0ZWQKICAgICAgICBuZWVkX2RlcGxveW1l
bnQoKQogICAgIyBJZiBTVURPaW5nIHRoZW4gYWxzbyBnaXZlIHRoZSBzdXBlciB1c2VyIGdyb3Vw
IHdyaXRlIHBlcm1pc3Npb25zCiAgICBzdWRvX2dpZCA9IG9zLmVudmlyb24uZ2V0KCdTVURPX0dJ
RCcpCiAgICBpZiBzdWRvX2dpZDoKICAgICAgICBvcy5jaG93bihPUFRJT05TLnNhbHRkaXIsIC0x
LCBpbnQoc3Vkb19naWQpKQogICAgICAgIHN0dCA9IG9zLnN0YXQoT1BUSU9OUy5zYWx0ZGlyKQog
ICAgICAgIG9zLmNobW9kKE9QVElPTlMuc2FsdGRpciwgc3R0LnN0X21vZGUgfCBzdGF0LlNfSVdH
UlAgfCBzdGF0LlNfSVJHUlAgfCBzdGF0LlNfSVhHUlApCgogICAgIyBEZWxpbWl0ZXIgZW1pdHRl
ZCBvbiBzdGRvdXQgKm9ubHkqIHRvIGluZGljYXRlIHNoaW0gbWVzc2FnZSB0byBtYXN0ZXIuCiAg
ICBzeXMuc3Rkb3V0LndyaXRlKCJ7MH1cbmRlcGxveVxuIi5mb3JtYXQoT1BUSU9OUy5kZWxpbWl0
ZXIpKQogICAgc3lzLmV4aXQoRVhfVEhJTl9ERVBMT1kpCgoKIyBBZGFwdGVkIGZyb20gc2FsdC51
dGlscy5nZXRfaGFzaCgpCmRlZiBnZXRfaGFzaChwYXRoLCBmb3JtPSdzaGExJywgY2h1bmtfc2l6
ZT00MDk2KToKICAgICIiIkdlbmVyYXRlIGEgaGFzaCBkaWdlc3Qgc3RyaW5nIGZv
2016-10-20 00:47:55,850 [salt.utils.vt.Terminal.PID-2634.STDERR][TRACE   ][2633] ciBhIGZpbGUu
IiIiCiAgICB0cnk6CiAgICAgICAgaGFzaF90eXBlID0gZ2V0YXR0cihoYXNobGliLCBmb3JtKQog
ICAgZXhjZXB0IEF0dHJpYnV0ZUVycm9yOgogICAgICAgIHJhaXNlIFZhbHVlRXJyb3IoJ0ludmFs
aWQgaGFzaCB0eXBlOiB7MH0nLmZvcm1hdChmb3JtKSkKICAgIHdpdGggb3BlbihwYXRoLCAncmIn
KSBhcyBpZmlsZToKICAgICAgICBoYXNoX29iaiA9IGhhc2hfdHlwZSgpCiAgICAgICAgIyByZWFk
IHRoZSBmaWxlIGluIGluIGNodW5rcywgbm90IHRoZSBlbnRpcmUgZmlsZQogICAgICAgIGZvciBj
aHVuayBpbiBpdGVyKGxhbWJkYTogaWZpbGUucmVhZChjaHVua19zaXplKSwgYicnKToKICAgICAg
ICAgICAgaGFzaF9vYmoudXBkYXRlKGNodW5rKQogICAgICAgIHJldHVybiBoYXNoX29iai5oZXhk
aWdlc3QoKQoKCmRlZiB1bnBhY2tfdGhpbih0aGluX3BhdGgpOgogICAgIiIiVW5wYWNrIHRoZSBT
YWx0IHRoaW4gYXJjaGl2ZS4iIiIKICAgIHRmaWxlID0gdGFyZmlsZS5UYXJGaWxlLmd6b3Blbih0
aGluX3BhdGgpCiAgICBvbGRfdW1hc2sgPSBvcy51bWFzaygwbzA3NykKICAgIHRmaWxlLmV4dHJh
Y3RhbGwocGF0aD1PUFRJT05TLnNhbHRkaXIpCiAgICB0ZmlsZS5jbG9zZSgpCiAgICBvcy51bWFz
ayhvbGRfdW1hc2spCiAgICBvcy51bmxpbmsodGhpbl9wYXRoKQoKCmRlZiBuZWVkX2V4dCgpOgog
ICAgIiIiU2lnbmFsIHRoYXQgZXh0ZXJuYWwgbW9kdWxlcyBuZWVkIHRvIGJlIGRlcGxveWVkLi
2016-10-20 00:47:55,861 [salt.utils.vt.Terminal.PID-2634.STDERR][TRACE   ][2633] Ii
IgogICAgc3lzLnN0ZG91dC53cml0ZSgiezB9XG5leHRfbW9kc1xuIi5mb3JtYXQoT1BUSU9OUy5k
ZWxpbWl0ZXIpKQogICAgc3lzLmV4aXQoRVhfTU9EX0RFUExPWSkKCgpkZWYgdW5wYWNrX2V4dChl
eHRfcGF0aCk6CiAgICAiIiJVbnBhY2sgdGhlIGV4dGVybmFsIG1vZHVsZXMuIiIiCiAgICBtb2Rj
YWNoZSA9IG9zLnBhdGguam9pbigKICAgICAgICAgICAgT1BUSU9OUy5zYWx0ZGlyLAogICAgICAg
ICAgICAncnVubmluZ19kYXRhJywKICAgICAgICAgICAgJ3ZhcicsCiAgICAgICAgICAgICdjYWNo
ZScsCiAgICAgICAgICAgICdzYWx0JywKICAgICAgICAgICAgJ21pbmlvbicsCiAgICAgICAgICAg
ICdleHRtb2RzJykKICAgIHRmaWxlID0gdGFyZmlsZS5UYXJGaWxlLmd6b3BlbihleHRfcGF0aCkK
ICAgIG9sZF91bWFzayA9IG9zLnVtYXNrKDBvMDc3KQogICAgdGZpbGUuZXh0cmFjdGFsbChwYXRo
PW1vZGNhY2hlKQogICAgdGZpbGUuY2xvc2UoKQogICAgb3MudW1hc2sob2xkX3VtYXNrKQogICAg
b3MudW5saW5rKGV4dF9wYXRoKQogICAgdmVyX3BhdGggPSBvcy5wYXRoLmpvaW4obW9kY2FjaGUs
ICdleHRfdmVyc2lvbicpCiAgICB2ZXJfZHN0ID0gb3MucGF0aC5qb2luKE9QVElPTlMuc2FsdGRp
ciwgJ2V4dF92ZXJzaW9uJykKICAgIHNodXRpbC5tb3ZlKHZlcl9wYXRoLCB2ZXJfZHN0KQoKCmRl
ZiBtYWluKGFyZ3YpOiAgIyBweWxpbnQ6IGRpc2FibGU9VzA2MTMKICAgICIiIk1haW4gcHJvZ3Jh
bSBib2
2016-10-20 00:47:55,871 [salt.utils.vt.Terminal.PID-2634.STDERR][TRACE   ][2633] R5IiIiCiAgICB0aGluX3BhdGggPSBvcy5wYXRoLmpvaW4oT1BUSU9OUy5zYWx0ZGlyLCBU
SElOX0FSQ0hJVkUpCiAgICBpZiBvcy5wYXRoLmlzZmlsZSh0aGluX3BhdGgpOgogICAgICAgIGlm
IE9QVElPTlMuY2hlY2tzdW0gIT0gZ2V0X2hhc2godGhpbl9wYXRoLCBPUFRJT05TLmhhc2hmdW5j
KToKICAgICAgICAgICAgc3lzLnN0ZGVyci53cml0ZSgnezB9XG4nLmZvcm1hdChPUFRJT05TLmNo
ZWNrc3VtKSkKICAgICAgICAgICAgc3lzLnN0ZGVyci53cml0ZSgnezB9XG4nLmZvcm1hdChnZXRf
aGFzaCh0aGluX3BhdGgsIE9QVElPTlMuaGFzaGZ1bmMpKSkKICAgICAgICAgICAgb3MudW5saW5r
KHRoaW5fcGF0aCkKICAgICAgICAgICAgc3lzLnN0ZGVyci53cml0ZSgnV0FSTklORzogY2hlY2tz
dW0gbWlzbWF0Y2ggZm9yICJ7MH0iXG4nLmZvcm1hdCh0aGluX3BhdGgpKQogICAgICAgICAgICBz
eXMuZXhpdChFWF9USElOX0NIRUNLU1VNKQogICAgICAgIHVucGFja190aGluKHRoaW5fcGF0aCkK
ICAgICAgICAjIFNhbHQgdGhpbiBub3cgaXMgYXZhaWxhYmxlIHRvIHVzZQogICAgZWxzZToKICAg
ICAgICBzY3BzdGF0ID0gc3VicHJvY2Vzcy5Qb3BlbihbJy9iaW4vc2gnLCAnLWMnLCAnY29tbWFu
ZCAtdiBzY3AnXSkud2FpdCgpCiAgICAgICAgaWYgc2Nwc3RhdCAhPSAwOgogICAgICAgICAgICBz
eXMuZXhpdChFWF9TQ1BfTk9UX0ZPVU5EKQoKICAgICAgICBpZiBub3Qgb3MucGF0aC5leGlzdHMo
T1BUSU9OUy5zYWx0
2016-10-20 00:47:55,882 [salt.utils.vt.Terminal.PID-2634.STDERR][TRACE   ][2633] ZGlyKToKICAgICAgICAgICAgbmVlZF9kZXBsb3ltZW50KCkKCiAgICAgICAg
aWYgbm90IG9zLnBhdGguaXNkaXIoT1BUSU9OUy5zYWx0ZGlyKToKICAgICAgICAgICAgc3lzLnN0
ZGVyci53cml0ZSgKICAgICAgICAgICAgICAgICdFUlJPUjogc2FsdCBwYXRoICJ7MH0iIGV4aXN0
cyBidXQgaXMnCiAgICAgICAgICAgICAgICAnIG5vdCBhIGRpcmVjdG9yeVxuJy5mb3JtYXQoT1BU
SU9OUy5zYWx0ZGlyKQogICAgICAgICAgICApCiAgICAgICAgICAgIHN5cy5leGl0KEVYX0NBTlRD
UkVBVCkKCiAgICAgICAgdmVyc2lvbl9wYXRoID0gb3MucGF0aC5qb2luKE9QVElPTlMuc2FsdGRp
ciwgJ3ZlcnNpb24nKQogICAgICAgIGlmIG5vdCBvcy5wYXRoLmV4aXN0cyh2ZXJzaW9uX3BhdGgp
IG9yIG5vdCBvcy5wYXRoLmlzZmlsZSh2ZXJzaW9uX3BhdGgpOgogICAgICAgICAgICBzeXMuc3Rk
ZXJyLndyaXRlKAogICAgICAgICAgICAgICAgJ1dBUk5JTkc6IFVuYWJsZSB0byBsb2NhdGUgY3Vy
cmVudCB0aGluICcKICAgICAgICAgICAgICAgICcgdmVyc2lvbjogezB9LlxuJy5mb3JtYXQodmVy
c2lvbl9wYXRoKQogICAgICAgICAgICApCiAgICAgICAgICAgIG5lZWRfZGVwbG95bWVudCgpCiAg
ICAgICAgd2l0aCBvcGVuKHZlcnNpb25fcGF0aCwgJ3InKSBhcyB2cG86CiAgICAgICAgICAgIGN1
cl92ZXJzaW9uID0gdnBvLnJlYWRsaW5lKCkuc3RyaXAoKQogICAgICAgIGlmIGN1cl92ZXJzaW9u
ICE9IE9QVElPTlMudmVyc2lvbj
2016-10-20 00:47:55,893 [salt.utils.vt.Terminal.PID-2634.STDERR][TRACE   ][2633] oKICAgICAgICAgICAgc3lzLnN0ZGVyci53cml0ZSgKICAgICAg
ICAgICAgICAgICdXQVJOSU5HOiBjdXJyZW50IHRoaW4gdmVyc2lvbiB7MH0nCiAgICAgICAgICAg
ICAgICAnIGlzIG5vdCB1cC10by1kYXRlIHdpdGggezF9LlxuJy5mb3JtYXQoCiAgICAgICAgICAg
ICAgICAgICAgY3VyX3ZlcnNpb24sIE9QVElPTlMudmVyc2lvbgogICAgICAgICAgICAgICAgKQog
ICAgICAgICAgICApCiAgICAgICAgICAgIG5lZWRfZGVwbG95bWVudCgpCiAgICAgICAgIyBTYWx0
IHRoaW4gZXhpc3RzIGFuZCBpcyB1cC10by1kYXRlIC0gZmFsbCB0aHJvdWdoIGFuZCB1c2UgaXQK
CiAgICBzYWx0X2NhbGxfcGF0aCA9IG9zLnBhdGguam9pbihPUFRJT05TLnNhbHRkaXIsICdzYWx0
LWNhbGwnKQogICAgaWYgbm90IG9zLnBhdGguaXNmaWxlKHNhbHRfY2FsbF9wYXRoKToKICAgICAg
ICBzeXMuc3RkZXJyLndyaXRlKCdFUlJPUjogdGhpbiBpcyBtaXNzaW5nICJ7MH0iXG4nLmZvcm1h
dChzYWx0X2NhbGxfcGF0aCkpCiAgICAgICAgbmVlZF9kZXBsb3ltZW50KCkKCiAgICB3aXRoIG9w
ZW4ob3MucGF0aC5qb2luKE9QVElPTlMuc2FsdGRpciwgJ21pbmlvbicpLCAndycpIGFzIGNvbmZp
ZzoKICAgICAgICBjb25maWcud3JpdGUoT1BUSU9OUy5jb25maWcgKyAnXG4nKQogICAgaWYgT1BU
SU9OUy5leHRfbW9kczoKICAgICAgICBleHRfcGF0aCA9IG9zLnBhdGguam9pbihPUFRJT05TLnNh
bHRkaXIsIEVYVF9BUkNISVZFKQogICAgICAg
2016-10-20 00:47:55,903 [salt.utils.vt.Terminal.PID-2634.STDERR][TRACE   ][2633] IGlmIG9zLnBhdGguZXhpc3RzKGV4dF9wYXRoKToK
ICAgICAgICAgICAgdW5wYWNrX2V4dChleHRfcGF0aCkKICAgICAgICBlbHNlOgogICAgICAgICAg
ICB2ZXJzaW9uX3BhdGggPSBvcy5wYXRoLmpvaW4oT1BUSU9OUy5zYWx0ZGlyLCAnZXh0X3ZlcnNp
b24nKQogICAgICAgICAgICBpZiBub3Qgb3MucGF0aC5leGlzdHModmVyc2lvbl9wYXRoKSBvciBu
b3Qgb3MucGF0aC5pc2ZpbGUodmVyc2lvbl9wYXRoKToKICAgICAgICAgICAgICAgIG5lZWRfZXh0
KCkKICAgICAgICAgICAgd2l0aCBvcGVuKHZlcnNpb25fcGF0aCwgJ3InKSBhcyB2cG86CiAgICAg
ICAgICAgICAgICBjdXJfdmVyc2lvbiA9IHZwby5yZWFkbGluZSgpLnN0cmlwKCkKICAgICAgICAg
ICAgaWYgY3VyX3ZlcnNpb24gIT0gT1BUSU9OUy5leHRfbW9kczoKICAgICAgICAgICAgICAgIG5l
ZWRfZXh0KCkKICAgICMgRml4IHBhcmFtZXRlciBwYXNzaW5nIGlzc3VlCiAgICBpZiBsZW4oQVJH
UykgPT0gMToKICAgICAgICBhcmd2X3ByZXBhcmVkID0gQVJHU1swXS5zcGxpdCgpCiAgICBlbHNl
OgogICAgICAgIGFyZ3ZfcHJlcGFyZWQgPSBBUkdTCgogICAgc2FsdF9hcmd2ID0gWwogICAgICAg
IHN5cy5leGVjdXRhYmxlLAogICAgICAgIHNhbHRfY2FsbF9wYXRoLAogICAgICAgICctLXJldGNv
ZGUtcGFzc3Rocm91Z2gnLAogICAgICAgICctLWxvY2FsJywKICAgICAgICAnLS1tZXRhZGF0YScs
CiAgICAgICAgJy0tb3V0JywgJ2pzb24nLAogICAgICAgIC
2016-10-20 00:47:55,915 [salt.utils.vt.Terminal.PID-2634.STDERR][TRACE   ][2633] ctbCcsICdxdWlldCcsCiAgICAgICAg
Jy1jJywgT1BUSU9OUy5zYWx0ZGlyLAogICAgICAgICctLScsCiAgICBdICsgYXJndl9wcmVwYXJl
ZAoKICAgIHN5cy5zdGRlcnIud3JpdGUoJ1NBTFRfQVJHVjogezB9XG4nLmZvcm1hdChzYWx0X2Fy
Z3YpKQoKICAgICMgT25seSBlbWl0IHRoZSBkZWxpbWl0ZXIgb24gKmJvdGgqIHN0ZG91dCBhbmQg
c3RkZXJyIHdoZW4gY29tcGxldGVseSBzdWNjZXNzZnVsLgogICAgIyBZZXMsIHRoZSBmbHVzaCgp
IGlzIG5lY2Vzc2FyeS4KICAgIHN5cy5zdGRvdXQud3JpdGUoT1BUSU9OUy5kZWxpbWl0ZXIgKyAn
XG4nKQogICAgc3lzLnN0ZG91dC5mbHVzaCgpCiAgICBpZiBub3QgT1BUSU9OUy50dHk6CiAgICAg
ICAgc3lzLnN0ZGVyci53cml0ZShPUFRJT05TLmRlbGltaXRlciArICdcbicpCiAgICAgICAgc3lz
LnN0ZGVyci5mbHVzaCgpCiAgICBpZiBPUFRJT05TLmNtZF91bWFzayBpcyBub3QgTm9uZToKICAg
ICAgICBvbGRfdW1hc2sgPSBvcy51bWFzayhPUFRJT05TLmNtZF91bWFzaykKICAgIGlmIE9QVElP
TlMudHR5OgogICAgICAgIHN0ZG91dCwgXyA9IHN1YnByb2Nlc3MuUG9wZW4oc2FsdF9hcmd2LCBz
dGRvdXQ9c3VicHJvY2Vzcy5QSVBFLCBzdGRlcnI9c3VicHJvY2Vzcy5QSVBFKS5jb21tdW5pY2F0
ZSgpCiAgICAgICAgc3lzLnN0ZG91dC53cml0ZShzdGRvdXQpCiAgICAgICAgc3lzLnN0ZG91dC5m
2016-10-20 00:47:55,926 [salt.utils.vt.Terminal.PID-2634.STDERR][TRACE   ][2633] bHVzaCgpCiAgICAgICAgaWYgT1BUSU9OUy53aXBlOgogICAgICAgICAgICBzaHV0aWwucm10cmVl
KE9QVElPTlMuc2FsdGRpcikKICAgIGVsaWYgT1BUSU9OUy53aXBlOgogICAgICAgIHN1YnByb2Nl
c3MuY2FsbChzYWx0X2FyZ3YpCiAgICAgICAgc2h1dGlsLnJtdHJlZShPUFRJT05TLnNhbHRkaXIp
CiAgICBlbHNlOgogICAgICAgIG9zLmV4ZWN2KHN5cy5leGVjdXRhYmxlLCBzYWx0X2FyZ3YpCiAg
ICBpZiBPUFRJT05TLmNtZF91bWFzayBpcyBub3QgTm9uZToKICAgICAgICBvcy51bWFzayhvbGRf
dW1hc2spCgppZiBfX25hbWVfXyA9PSAnX19tYWluX18nOgogICAgc3lzLmV4aXQobWFpbihzeXMu
YXJndikpCg==
""").decode("utf-8"))'
2016-10-20 00:47:55,927 [salt.utils.vt.Terminal.PID-2634.STDOUT][TRACE   ][2633] /bin/scp
_edbc7885e4f9aac9b83b35999b68d015148caf467b78fa39c05f669c0ff89878
deploy
2016-10-20 00:47:56,149 [salt.client.ssh  ][TRACE   ][2633] STDOUT 192.168.1.15
salt-ope@192.168.1.15's password: 
/bin/scp
_edbc7885e4f9aac9b83b35999b68d015148caf467b78fa39c05f669c0ff89878
deploy

2016-10-20 00:47:56,149 [salt.client.ssh  ][TRACE   ][2633] STDERR 192.168.1.15
+ SUDO=
+ '[' -n sudo ']'
+ SUDO='sudo '
+ EX_PYTHON_INVALID=10
+ PYTHON_CMDS='python3 python27 python2.7 python26 python2.6 python2 python'
+ for py_cmd in '$PYTHON_CMDS'
+ command -v python3
+ continue
+ for py_cmd in '$PYTHON_CMDS'
+ command -v python27
+ continue
+ for py_cmd in '$PYTHON_CMDS'
+ command -v python2.7
+ python2.7 -c 'import sys; sys.exit(not (sys.version_info >= (2, 6)
and sys.version_info[0] == 2));'
++ python2.7 -c 'from __future__ import print_function;
import sys; print(sys.executable);'
+ py_cmd_path=/usr/bin/python2.7
++ which python2.7
+ cmdpath=/usr/bin/python2.7
+ grep 'shell script'
+ file /usr/bin/python2.7
+ exec sudo /usr/bin/python2.7 -c 'import base64;
exec(base64.b64decode("""IyBweWxpbnQ6IGRpc2FibGU9Vzk5MDMKJycnClRoaXMgaXMgYSBzaGltIHRoYXQgaGFuZGxlcyBj
aGVja2luZyBhbmQgdXBkYXRpbmcgc2FsdCB0aGluIGFuZAp0aGVuIGludm9raW5nIHRoaW4uCgpU
aGlzIGlzIG5vdCBpbnRlbmRlZCB0byBiZSBpbnN0YW50aWF0ZWQgYXMgYSBtb2R1bGUsIHJhdGhl
ciBpdCBpcyBhCmhlbHBlciBzY3JpcHQgdXNlZCBieSBzYWx0LmNsaWVudC5zc2guU2luZ2xlLiAg
SXQgaXMgaGVyZSwgaW4gYQpzZXBhcmF0ZSBmaWxlLCBmb3IgY29udmVuaWVuY2Ugb2YgZGV2ZWxv
cG1lbnQuCicnJwoKZnJvbSBfX2Z1dHVyZV9fIGltcG9ydCBhYnNvbHV0ZV9pbXBvcnQKCmltcG9y
dCBoYXNobGliCmltcG9ydCB0YXJmaWxlCmltcG9ydCBzaHV0aWwKaW1wb3J0IHN5cwppbXBvcnQg
b3MKaW1wb3J0IHN0YXQKaW1wb3J0IHN1YnByb2Nlc3MKClRISU5fQVJDSElWRSA9ICdzYWx0LXRo
aW4udGd6JwpFWFRfQVJDSElWRSA9ICdzYWx0LWV4dF9tb2RzLnRneicKCiMgS2VlcCB0aGVzZSBp
biBzeW5jIHdpdGggc2FsdC9kZWZhdWx0cy9leGl0Y29kZXMucHkKRVhfVEhJTl9ERVBMT1kgPSAx
MQpFWF9USElOX0NIRUNLU1VNID0gMTIKRVhfTU9EX0RFUExPWSA9IDEzCkVYX1NDUF9OT1RfRk9V
TkQgPSAxNApFWF9DQU5UQ1JFQVQgPSA3MwoKCmNsYXNzIE9CSihvYmplY3QpOgogICAgIiIiQW4g
ZW1wdHkgY2xhc3MgZm9yIGhvbGRpbmcgaW5zdGFuY2UgYXR0cmlidXRlIHZhbHVlcy4iIiIKICAg
IHBhc3MKCgpPUFRJT05TID0gTm9uZQpBUkdTID0gTm9uZQojIFRoZSBiZWxvdyBsaW5lIGlzIHdo
ZXJlIE9QVElPTlMgY2FuIGJlIHJlZGVmaW5lZCB3aXRoIGludGVybmFsIG9wdGlvbnMKIyAocmF0
aGVyIHRoYW4gY2xpIGFyZ3VtZW50cykgd2hlbiB0aGUgc2hpbSBpcyBidW5kbGVkIGJ5CiMgY2xp
ZW50LnNzaC5TaW5nbGUuX2NtZF9zdHIoKQojIHB5bGludDogZGlzYWJsZT1ibG9jay1jb21tZW50
LXNob3VsZC1zdGFydC13aXRoLWNhcmRpbmFsLXNwYWNlCgpPUFRJT05TID0gT0JKKCkKT1BUSU9O
Uy5jb25maWcgPSAiIiIKe2ZpbGVzZXJ2ZXJfbGlzdF9jYWNoZV90aW1lOiAzLCBncmFpbnNfY2Fj
aGU6IHRydWUsIGlkOiBtdW5pbiwgbG9nX2ZpbGU6IHNhbHQtY2FsbC5sb2csCiAgcm9vdF9kaXI6
IC92YXIvdG1wLy5zYWx0LW9wZV8xYTM1MzJfc2FsdC9ydW5uaW5nX2RhdGEsIHNvY2tfZGlyOiAv
fQoiIiIKT1BUSU9OUy5kZWxpbWl0ZXIgPSAnX2VkYmM3ODg1ZTRmOWFhYzliODNiMzU5OTliNjhk
MDE1MTQ4Y2FmNDY3Yjc4ZmEzOWMwNWY2NjljMGZmODk4NzgnCk9QVElPTlMuc2FsdGRpciA9ICcv
dmFyL3RtcC8uc2FsdC1vcGVfMWEzNTMyX3NhbHQnCk9QVElPTlMuY2hlY2tzdW0gPSAnOTg1MjZk
OTliMWU3YjA3OWRjZWZjZWM5ZmE1Yjg1MWZmYmY5ODEzZCcKT1BUSU9OUy5oYXNoZnVuYyA9ICdz
aGExJwpPUFRJT05TLnZlcnNpb24gPSAnMjAxNi4zLjInCk9QVElPTlMuZXh0X21vZHMgPSAnNzQx
OTZlMDExNDUyMWUyYWRjNjlkNjgxY2U2YTQ1NjNiYTBhZTFlYicKT1BUSU9OUy53aXBlID0gRmFs
c2UKT1BUSU9OUy50dHkgPSBGYWxzZQpPUFRJT05TLmNtZF91bWFzayA9IE5vbmUKQVJHUyA9IFsn
dGVzdC5vcHRzX3BrZyddCgoKCmRlZiBuZWVkX2RlcGxveW1lbnQoKToKICAgICIiIgogICAgU2Fs
dCB0aGluIG5lZWRzIHRvIGJlIGRlcGxveWVkIC0gcHJlcCB0aGUgdGFyZ2V0IGRpcmVjdG9yeSBh
bmQgZW1pdCB0aGUKICAgIGRlbGltZXRlciBhbmQgZXhpdCBjb2RlIHRoYXQgc2lnbmFscyBhIHJl
cXVpcmVkIGRlcGxveW1lbnQuCiAgICAiIiIKICAgIGlmIG9zLnBhdGguZXhpc3RzKE9QVElPTlMu
c2FsdGRpcik6CiAgICAgICAgc2h1dGlsLnJtdHJlZShPUFRJT05TLnNhbHRkaXIpCiAgICBvbGRf
dW1hc2sgPSBvcy51bWFzaygwbzA3NykKICAgIG9zLm1ha2VkaXJzKE9QVElPTlMuc2FsdGRpcikK
ICAgIG9zLnVtYXNrKG9sZF91bWFzaykKICAgICMgVmVyaWZ5IHBlcm1zIG9uIHNhbHRkaXIKICAg
IGV1aWQgPSBvcy5nZXRldWlkKCkKICAgIGRzdGF0ID0gb3Muc3RhdChPUFRJT05TLnNhbHRkaXIp
CiAgICBpZiBkc3RhdC5zdF91aWQgIT0gZXVpZDoKICAgICAgICAjIEF0dGFjayBkZXRlY3RlZCwg
dHJ5IGFnYWluCiAgICAgICAgbmVlZF9kZXBsb3ltZW50KCkKICAgIGlmIGRzdGF0LnN0X21vZGUg
IT0gMTY4MzI6CiAgICAgICAgIyBBdHRhY2sgZGV0ZWN0ZWQKICAgICAgICBuZWVkX2RlcGxveW1l
bnQoKQogICAgIyBJZiBTVURPaW5nIHRoZW4gYWxzbyBnaXZlIHRoZSBzdXBlciB1c2VyIGdyb3Vw
IHdyaXRlIHBlcm1pc3Npb25zCiAgICBzdWRvX2dpZCA9IG9zLmVudmlyb24uZ2V0KCdTVURPX0dJ
RCcpCiAgICBpZiBzdWRvX2dpZDoKICAgICAgICBvcy5jaG93bihPUFRJT05TLnNhbHRkaXIsIC0x
LCBpbnQoc3Vkb19naWQpKQogICAgICAgIHN0dCA9IG9zLnN0YXQoT1BUSU9OUy5zYWx0ZGlyKQog
ICAgICAgIG9zLmNobW9kKE9QVElPTlMuc2FsdGRpciwgc3R0LnN0X21vZGUgfCBzdGF0LlNfSVdH
UlAgfCBzdGF0LlNfSVJHUlAgfCBzdGF0LlNfSVhHUlApCgogICAgIyBEZWxpbWl0ZXIgZW1pdHRl
ZCBvbiBzdGRvdXQgKm9ubHkqIHRvIGluZGljYXRlIHNoaW0gbWVzc2FnZSB0byBtYXN0ZXIuCiAg
ICBzeXMuc3Rkb3V0LndyaXRlKCJ7MH1cbmRlcGxveVxuIi5mb3JtYXQoT1BUSU9OUy5kZWxpbWl0
ZXIpKQogICAgc3lzLmV4aXQoRVhfVEhJTl9ERVBMT1kpCgoKIyBBZGFwdGVkIGZyb20gc2FsdC51
dGlscy5nZXRfaGFzaCgpCmRlZiBnZXRfaGFzaChwYXRoLCBmb3JtPSdzaGExJywgY2h1bmtfc2l6
ZT00MDk2KToKICAgICIiIkdlbmVyYXRlIGEgaGFzaCBkaWdlc3Qgc3RyaW5nIGZvciBhIGZpbGUu
IiIiCiAgICB0cnk6CiAgICAgICAgaGFzaF90eXBlID0gZ2V0YXR0cihoYXNobGliLCBmb3JtKQog
ICAgZXhjZXB0IEF0dHJpYnV0ZUVycm9yOgogICAgICAgIHJhaXNlIFZhbHVlRXJyb3IoJ0ludmFs
aWQgaGFzaCB0eXBlOiB7MH0nLmZvcm1hdChmb3JtKSkKICAgIHdpdGggb3BlbihwYXRoLCAncmIn
KSBhcyBpZmlsZToKICAgICAgICBoYXNoX29iaiA9IGhhc2hfdHlwZSgpCiAgICAgICAgIyByZWFk
IHRoZSBmaWxlIGluIGluIGNodW5rcywgbm90IHRoZSBlbnRpcmUgZmlsZQogICAgICAgIGZvciBj
aHVuayBpbiBpdGVyKGxhbWJkYTogaWZpbGUucmVhZChjaHVua19zaXplKSwgYicnKToKICAgICAg
ICAgICAgaGFzaF9vYmoudXBkYXRlKGNodW5rKQogICAgICAgIHJldHVybiBoYXNoX29iai5oZXhk
aWdlc3QoKQoKCmRlZiB1bnBhY2tfdGhpbih0aGluX3BhdGgpOgogICAgIiIiVW5wYWNrIHRoZSBT
YWx0IHRoaW4gYXJjaGl2ZS4iIiIKICAgIHRmaWxlID0gdGFyZmlsZS5UYXJGaWxlLmd6b3Blbih0
aGluX3BhdGgpCiAgICBvbGRfdW1hc2sgPSBvcy51bWFzaygwbzA3NykKICAgIHRmaWxlLmV4dHJh
Y3RhbGwocGF0aD1PUFRJT05TLnNhbHRkaXIpCiAgICB0ZmlsZS5jbG9zZSgpCiAgICBvcy51bWFz
ayhvbGRfdW1hc2spCiAgICBvcy51bmxpbmsodGhpbl9wYXRoKQoKCmRlZiBuZWVkX2V4dCgpOgog
ICAgIiIiU2lnbmFsIHRoYXQgZXh0ZXJuYWwgbW9kdWxlcyBuZWVkIHRvIGJlIGRlcGxveWVkLiIi
IgogICAgc3lzLnN0ZG91dC53cml0ZSgiezB9XG5leHRfbW9kc1xuIi5mb3JtYXQoT1BUSU9OUy5k
ZWxpbWl0ZXIpKQogICAgc3lzLmV4aXQoRVhfTU9EX0RFUExPWSkKCgpkZWYgdW5wYWNrX2V4dChl
eHRfcGF0aCk6CiAgICAiIiJVbnBhY2sgdGhlIGV4dGVybmFsIG1vZHVsZXMuIiIiCiAgICBtb2Rj
YWNoZSA9IG9zLnBhdGguam9pbigKICAgICAgICAgICAgT1BUSU9OUy5zYWx0ZGlyLAogICAgICAg
ICAgICAncnVubmluZ19kYXRhJywKICAgICAgICAgICAgJ3ZhcicsCiAgICAgICAgICAgICdjYWNo
ZScsCiAgICAgICAgICAgICdzYWx0JywKICAgICAgICAgICAgJ21pbmlvbicsCiAgICAgICAgICAg
ICdleHRtb2RzJykKICAgIHRmaWxlID0gdGFyZmlsZS5UYXJGaWxlLmd6b3BlbihleHRfcGF0aCkK
ICAgIG9sZF91bWFzayA9IG9zLnVtYXNrKDBvMDc3KQogICAgdGZpbGUuZXh0cmFjdGFsbChwYXRo
PW1vZGNhY2hlKQogICAgdGZpbGUuY2xvc2UoKQogICAgb3MudW1hc2sob2xkX3VtYXNrKQogICAg
b3MudW5saW5rKGV4dF9wYXRoKQogICAgdmVyX3BhdGggPSBvcy5wYXRoLmpvaW4obW9kY2FjaGUs
ICdleHRfdmVyc2lvbicpCiAgICB2ZXJfZHN0ID0gb3MucGF0aC5qb2luKE9QVElPTlMuc2FsdGRp
ciwgJ2V4dF92ZXJzaW9uJykKICAgIHNodXRpbC5tb3ZlKHZlcl9wYXRoLCB2ZXJfZHN0KQoKCmRl
ZiBtYWluKGFyZ3YpOiAgIyBweWxpbnQ6IGRpc2FibGU9VzA2MTMKICAgICIiIk1haW4gcHJvZ3Jh
bSBib2R5IiIiCiAgICB0aGluX3BhdGggPSBvcy5wYXRoLmpvaW4oT1BUSU9OUy5zYWx0ZGlyLCBU
SElOX0FSQ0hJVkUpCiAgICBpZiBvcy5wYXRoLmlzZmlsZSh0aGluX3BhdGgpOgogICAgICAgIGlm
IE9QVElPTlMuY2hlY2tzdW0gIT0gZ2V0X2hhc2godGhpbl9wYXRoLCBPUFRJT05TLmhhc2hmdW5j
KToKICAgICAgICAgICAgc3lzLnN0ZGVyci53cml0ZSgnezB9XG4nLmZvcm1hdChPUFRJT05TLmNo
ZWNrc3VtKSkKICAgICAgICAgICAgc3lzLnN0ZGVyci53cml0ZSgnezB9XG4nLmZvcm1hdChnZXRf
aGFzaCh0aGluX3BhdGgsIE9QVElPTlMuaGFzaGZ1bmMpKSkKICAgICAgICAgICAgb3MudW5saW5r
KHRoaW5fcGF0aCkKICAgICAgICAgICAgc3lzLnN0ZGVyci53cml0ZSgnV0FSTklORzogY2hlY2tz
dW0gbWlzbWF0Y2ggZm9yICJ7MH0iXG4nLmZvcm1hdCh0aGluX3BhdGgpKQogICAgICAgICAgICBz
eXMuZXhpdChFWF9USElOX0NIRUNLU1VNKQogICAgICAgIHVucGFja190aGluKHRoaW5fcGF0aCkK
ICAgICAgICAjIFNhbHQgdGhpbiBub3cgaXMgYXZhaWxhYmxlIHRvIHVzZQogICAgZWxzZToKICAg
ICAgICBzY3BzdGF0ID0gc3VicHJvY2Vzcy5Qb3BlbihbJy9iaW4vc2gnLCAnLWMnLCAnY29tbWFu
ZCAtdiBzY3AnXSkud2FpdCgpCiAgICAgICAgaWYgc2Nwc3RhdCAhPSAwOgogICAgICAgICAgICBz
eXMuZXhpdChFWF9TQ1BfTk9UX0ZPVU5EKQoKICAgICAgICBpZiBub3Qgb3MucGF0aC5leGlzdHMo
T1BUSU9OUy5zYWx0ZGlyKToKICAgICAgICAgICAgbmVlZF9kZXBsb3ltZW50KCkKCiAgICAgICAg
aWYgbm90IG9zLnBhdGguaXNkaXIoT1BUSU9OUy5zYWx0ZGlyKToKICAgICAgICAgICAgc3lzLnN0
ZGVyci53cml0ZSgKICAgICAgICAgICAgICAgICdFUlJPUjogc2FsdCBwYXRoICJ7MH0iIGV4aXN0
cyBidXQgaXMnCiAgICAgICAgICAgICAgICAnIG5vdCBhIGRpcmVjdG9yeVxuJy5mb3JtYXQoT1BU
SU9OUy5zYWx0ZGlyKQogICAgICAgICAgICApCiAgICAgICAgICAgIHN5cy5leGl0KEVYX0NBTlRD
UkVBVCkKCiAgICAgICAgdmVyc2lvbl9wYXRoID0gb3MucGF0aC5qb2luKE9QVElPTlMuc2FsdGRp
ciwgJ3ZlcnNpb24nKQogICAgICAgIGlmIG5vdCBvcy5wYXRoLmV4aXN0cyh2ZXJzaW9uX3BhdGgp
IG9yIG5vdCBvcy5wYXRoLmlzZmlsZSh2ZXJzaW9uX3BhdGgpOgogICAgICAgICAgICBzeXMuc3Rk
ZXJyLndyaXRlKAogICAgICAgICAgICAgICAgJ1dBUk5JTkc6IFVuYWJsZSB0byBsb2NhdGUgY3Vy
cmVudCB0aGluICcKICAgICAgICAgICAgICAgICcgdmVyc2lvbjogezB9LlxuJy5mb3JtYXQodmVy
c2lvbl9wYXRoKQogICAgICAgICAgICApCiAgICAgICAgICAgIG5lZWRfZGVwbG95bWVudCgpCiAg
ICAgICAgd2l0aCBvcGVuKHZlcnNpb25fcGF0aCwgJ3InKSBhcyB2cG86CiAgICAgICAgICAgIGN1
cl92ZXJzaW9uID0gdnBvLnJlYWRsaW5lKCkuc3RyaXAoKQogICAgICAgIGlmIGN1cl92ZXJzaW9u
ICE9IE9QVElPTlMudmVyc2lvbjoKICAgICAgICAgICAgc3lzLnN0ZGVyci53cml0ZSgKICAgICAg
ICAgICAgICAgICdXQVJOSU5HOiBjdXJyZW50IHRoaW4gdmVyc2lvbiB7MH0nCiAgICAgICAgICAg
ICAgICAnIGlzIG5vdCB1cC10by1kYXRlIHdpdGggezF9LlxuJy5mb3JtYXQoCiAgICAgICAgICAg
ICAgICAgICAgY3VyX3ZlcnNpb24sIE9QVElPTlMudmVyc2lvbgogICAgICAgICAgICAgICAgKQog
ICAgICAgICAgICApCiAgICAgICAgICAgIG5lZWRfZGVwbG95bWVudCgpCiAgICAgICAgIyBTYWx0
IHRoaW4gZXhpc3RzIGFuZCBpcyB1cC10by1kYXRlIC0gZmFsbCB0aHJvdWdoIGFuZCB1c2UgaXQK
CiAgICBzYWx0X2NhbGxfcGF0aCA9IG9zLnBhdGguam9pbihPUFRJT05TLnNhbHRkaXIsICdzYWx0
LWNhbGwnKQogICAgaWYgbm90IG9zLnBhdGguaXNmaWxlKHNhbHRfY2FsbF9wYXRoKToKICAgICAg
ICBzeXMuc3RkZXJyLndyaXRlKCdFUlJPUjogdGhpbiBpcyBtaXNzaW5nICJ7MH0iXG4nLmZvcm1h
dChzYWx0X2NhbGxfcGF0aCkpCiAgICAgICAgbmVlZF9kZXBsb3ltZW50KCkKCiAgICB3aXRoIG9w
ZW4ob3MucGF0aC5qb2luKE9QVElPTlMuc2FsdGRpciwgJ21pbmlvbicpLCAndycpIGFzIGNvbmZp
ZzoKICAgICAgICBjb25maWcud3JpdGUoT1BUSU9OUy5jb25maWcgKyAnXG4nKQogICAgaWYgT1BU
SU9OUy5leHRfbW9kczoKICAgICAgICBleHRfcGF0aCA9IG9zLnBhdGguam9pbihPUFRJT05TLnNh
bHRkaXIsIEVYVF9BUkNISVZFKQogICAgICAgIGlmIG9zLnBhdGguZXhpc3RzKGV4dF9wYXRoKToK
ICAgICAgICAgICAgdW5wYWNrX2V4dChleHRfcGF0aCkKICAgICAgICBlbHNlOgogICAgICAgICAg
ICB2ZXJzaW9uX3BhdGggPSBvcy5wYXRoLmpvaW4oT1BUSU9OUy5zYWx0ZGlyLCAnZXh0X3ZlcnNp
b24nKQogICAgICAgICAgICBpZiBub3Qgb3MucGF0aC5leGlzdHModmVyc2lvbl9wYXRoKSBvciBu
b3Qgb3MucGF0aC5pc2ZpbGUodmVyc2lvbl9wYXRoKToKICAgICAgICAgICAgICAgIG5lZWRfZXh0
KCkKICAgICAgICAgICAgd2l0aCBvcGVuKHZlcnNpb25fcGF0aCwgJ3InKSBhcyB2cG86CiAgICAg
ICAgICAgICAgICBjdXJfdmVyc2lvbiA9IHZwby5yZWFkbGluZSgpLnN0cmlwKCkKICAgICAgICAg
ICAgaWYgY3VyX3ZlcnNpb24gIT0gT1BUSU9OUy5leHRfbW9kczoKICAgICAgICAgICAgICAgIG5l
ZWRfZXh0KCkKICAgICMgRml4IHBhcmFtZXRlciBwYXNzaW5nIGlzc3VlCiAgICBpZiBsZW4oQVJH
UykgPT0gMToKICAgICAgICBhcmd2X3ByZXBhcmVkID0gQVJHU1swXS5zcGxpdCgpCiAgICBlbHNl
OgogICAgICAgIGFyZ3ZfcHJlcGFyZWQgPSBBUkdTCgogICAgc2FsdF9hcmd2ID0gWwogICAgICAg
IHN5cy5leGVjdXRhYmxlLAogICAgICAgIHNhbHRfY2FsbF9wYXRoLAogICAgICAgICctLXJldGNv
ZGUtcGFzc3Rocm91Z2gnLAogICAgICAgICctLWxvY2FsJywKICAgICAgICAnLS1tZXRhZGF0YScs
CiAgICAgICAgJy0tb3V0JywgJ2pzb24nLAogICAgICAgICctbCcsICdxdWlldCcsCiAgICAgICAg
Jy1jJywgT1BUSU9OUy5zYWx0ZGlyLAogICAgICAgICctLScsCiAgICBdICsgYXJndl9wcmVwYXJl
ZAoKICAgIHN5cy5zdGRlcnIud3JpdGUoJ1NBTFRfQVJHVjogezB9XG4nLmZvcm1hdChzYWx0X2Fy
Z3YpKQoKICAgICMgT25seSBlbWl0IHRoZSBkZWxpbWl0ZXIgb24gKmJvdGgqIHN0ZG91dCBhbmQg
c3RkZXJyIHdoZW4gY29tcGxldGVseSBzdWNjZXNzZnVsLgogICAgIyBZZXMsIHRoZSBmbHVzaCgp
IGlzIG5lY2Vzc2FyeS4KICAgIHN5cy5zdGRvdXQud3JpdGUoT1BUSU9OUy5kZWxpbWl0ZXIgKyAn
XG4nKQogICAgc3lzLnN0ZG91dC5mbHVzaCgpCiAgICBpZiBub3QgT1BUSU9OUy50dHk6CiAgICAg
ICAgc3lzLnN0ZGVyci53cml0ZShPUFRJT05TLmRlbGltaXRlciArICdcbicpCiAgICAgICAgc3lz
LnN0ZGVyci5mbHVzaCgpCiAgICBpZiBPUFRJT05TLmNtZF91bWFzayBpcyBub3QgTm9uZToKICAg
ICAgICBvbGRfdW1hc2sgPSBvcy51bWFzayhPUFRJT05TLmNtZF91bWFzaykKICAgIGlmIE9QVElP
TlMudHR5OgogICAgICAgIHN0ZG91dCwgXyA9IHN1YnByb2Nlc3MuUG9wZW4oc2FsdF9hcmd2LCBz
dGRvdXQ9c3VicHJvY2Vzcy5QSVBFLCBzdGRlcnI9c3VicHJvY2Vzcy5QSVBFKS5jb21tdW5pY2F0
ZSgpCiAgICAgICAgc3lzLnN0ZG91dC53cml0ZShzdGRvdXQpCiAgICAgICAgc3lzLnN0ZG91dC5m
bHVzaCgpCiAgICAgICAgaWYgT1BUSU9OUy53aXBlOgogICAgICAgICAgICBzaHV0aWwucm10cmVl
KE9QVElPTlMuc2FsdGRpcikKICAgIGVsaWYgT1BUSU9OUy53aXBlOgogICAgICAgIHN1YnByb2Nl
c3MuY2FsbChzYWx0X2FyZ3YpCiAgICAgICAgc2h1dGlsLnJtdHJlZShPUFRJT05TLnNhbHRkaXIp
CiAgICBlbHNlOgogICAgICAgIG9zLmV4ZWN2KHN5cy5leGVjdXRhYmxlLCBzYWx0X2FyZ3YpCiAg
ICBpZiBPUFRJT05TLmNtZF91bWFzayBpcyBub3QgTm9uZToKICAgICAgICBvcy51bWFzayhvbGRf
dW1hc2spCgppZiBfX25hbWVfXyA9PSAnX19tYWluX18nOgogICAgc3lzLmV4aXQobWFpbihzeXMu
YXJndikpCg==
""").decode("utf-8"))'

2016-10-20 00:47:56,151 [salt.client.ssh  ][DEBUG   ][2633] RETCODE 192.168.1.15: 11
2016-10-20 00:47:56,154 [salt.client.ssh  ][DEBUG   ][2633] SHIM retcode(11) and command: deploy
2016-10-20 00:47:56,155 [salt.client.ssh.shell][DEBUG   ][2633] Executing command: scp   -o KbdInteractiveAuthentication=no -o PasswordAuthentication=yes -o GSSAPIAuthentication=no -o ConnectTimeout=65 -o Port=22 -o IdentityFile=/root/saltstack_master/etc/salt/pki/master/ssh/salt-ssh.rsa -o User=******  /root/saltstack_master/var/cache/salt/master/thin/thin.tgz 192.168.1.15:/var/tmp/.******_1a3532_salt/salt-thin.tgz
2016-10-20 00:47:56,162 [salt.utils.vt    ][DEBUG   ][2633] Child Forked! PID: 2636  STDOUT_FD: 9  STDERR_FD: 11
2016-10-20 00:47:56,164 [salt.utils.vt    ][DEBUG   ][2633] Terminal Command: /bin/sh -c scp   -o KbdInteractiveAuthentication=no -o PasswordAuthentication=yes -o GSSAPIAuthentication=no -o ConnectTimeout=65 -o Port=22 -o IdentityFile=/root/saltstack_master/etc/salt/pki/master/ssh/salt-ssh.rsa -o User=salt-ope  /root/saltstack_master/var/cache/salt/master/thin/thin.tgz 192.168.1.15:/var/tmp/.salt-ope_1a3532_salt/salt-thin.tgz
2016-10-20 00:47:56,260 [salt.utils.vt.Terminal.PID-2636.STDOUT][TRACE   ][2633] salt-ope@192.168.1.15's password:
2016-10-20 00:47:56,332 [salt.utils.vt.Terminal.PID-2636.STDOUT][TRACE   ][2633] thin.tgz                                        0%    0     0.0KB/s   --:-- ETA
2016-10-20 00:47:56,404 [salt.utils.vt.Terminal.PID-2636.STDOUT][TRACE   ][2633] thin.tgz                                      100% 3657KB   3.6MB/s   00:00
2016-10-20 00:47:56,626 [salt.client.ssh.shell][DEBUG   ][2633] Executing command: scp   -o KbdInteractiveAuthentication=no -o PasswordAuthentication=yes -o GSSAPIAuthentication=no -o ConnectTimeout=65 -o Port=22 -o IdentityFile=/root/saltstack_master/etc/salt/pki/master/ssh/salt-ssh.rsa -o User=******  /root/saltstack_master/var/cache/salt/master/ext_mods.74196e0114521e2adc69d681ce6a4563ba0ae1eb.tgz 192.168.1.15:/var/tmp/.******_1a3532_salt/salt-ext_mods.tgz
2016-10-20 00:47:56,630 [salt.utils.vt    ][DEBUG   ][2633] Child Forked! PID: 2638  STDOUT_FD: 9  STDERR_FD: 11
2016-10-20 00:47:56,632 [salt.utils.vt    ][DEBUG   ][2633] Terminal Command: /bin/sh -c scp   -o KbdInteractiveAuthentication=no -o PasswordAuthentication=yes -o GSSAPIAuthentication=no -o ConnectTimeout=65 -o Port=22 -o IdentityFile=/root/saltstack_master/etc/salt/pki/master/ssh/salt-ssh.rsa -o User=salt-ope  /root/saltstack_master/var/cache/salt/master/ext_mods.74196e0114521e2adc69d681ce6a4563ba0ae1eb.tgz 192.168.1.15:/var/tmp/.salt-ope_1a3532_salt/salt-ext_mods.tgz
2016-10-20 00:47:56,741 [salt.utils.vt.Terminal.PID-2638.STDOUT][TRACE   ][2633] salt-ope@192.168.1.15's password:
2016-10-20 00:47:56,823 [salt.utils.vt.Terminal.PID-2638.STDOUT][TRACE   ][2633] ext_mods.74196e0114521e2adc69d681ce6a4563ba0a   0%    0     0.0KB/s   --:-- ETAext_mods.74196e0114521e2adc69d681ce6a4563ba0a 100%  361     0.4KB/s   00:00
2016-10-20 00:47:57,046 [salt.client.ssh.shell][DEBUG   ][2633] Executed SHIM command. Command logged to TRACE
2016-10-20 00:47:57,046 [salt.client.ssh.shell][TRACE   ][2633] Executing command: ssh 192.168.1.15  -o KbdInteractiveAuthentication=no -o PasswordAuthentication=yes -o GSSAPIAuthentication=no -o ConnectTimeout=65 -o Port=22 -o IdentityFile=/root/saltstack_master/etc/salt/pki/master/ssh/salt-ssh.rsa -o User=******  /bin/sh << 'EOF'
set -e
set -u
DEBUG="1"
if [ -n "$DEBUG" ]
then set -x
fi
SUDO=""
if [ -n "sudo" ]
then SUDO="sudo "
fi
EX_PYTHON_INVALID=10
PYTHON_CMDS="python3 python27 python2.7 python26 python2.6 python2 python"
for py_cmd in $PYTHON_CMDS
do
if command -v "$py_cmd" >/dev/null 2>&1 && "$py_cmd" -c \
"import sys; sys.exit(not (sys.version_info >= (2, 6)
and sys.version_info[0] == 2));"
then
py_cmd_path=`"$py_cmd" -c \
'from __future__ import print_function;
import sys; print(sys.executable);'`
cmdpath=$(which $py_cmd 2>&1)
if file $cmdpath | grep "shell script" > /dev/null
then
ex_vars="'PATH', 'LD_LIBRARY_PATH', 'MANPATH', \
'XDG_DATA_DIRS', 'PKG_CONFIG_PATH'"
export $($py_cmd -c \
"from __future__ import print_function;
import sys;
import os;
map(sys.stdout.write, ['{0}={1} ' \
.format(x, os.environ[x]) for x in [$ex_vars]])")
exec $SUDO PATH=$PATH LD_LIBRARY_PATH=$LD_LIBRARY_PATH \
MANPATH=$MANPATH XDG_DATA_DIRS=$XDG_DATA_DIRS \
PKG_CONFIG_PATH=$PKG_CONFIG_PATH \
"$py_cmd_path" -c \
'import base64;
exec(base64.b64decode("""IyBweWxpbnQ6IGRpc2FibGU9Vzk5MDMKJycnClRoaXMgaXMgYSBzaGltIHRoYXQgaGFuZGxlcyBj
aGVja2luZyBhbmQgdXBkYXRpbmcgc2FsdCB0aGluIGFuZAp0aGVuIGludm9raW5nIHRoaW4uCgpU
aGlzIGlzIG5vdCBpbnRlbmRlZCB0byBiZSBpbnN0YW50aWF0ZWQgYXMgYSBtb2R1bGUsIHJhdGhl
ciBpdCBpcyBhCmhlbHBlciBzY3JpcHQgdXNlZCBieSBzYWx0LmNsaWVudC5zc2guU2luZ2xlLiAg
SXQgaXMgaGVyZSwgaW4gYQpzZXBhcmF0ZSBmaWxlLCBmb3IgY29udmVuaWVuY2Ugb2YgZGV2ZWxv
cG1lbnQuCicnJwoKZnJvbSBfX2Z1dHVyZV9fIGltcG9ydCBhYnNvbHV0ZV9pbXBvcnQKCmltcG9y
dCBoYXNobGliCmltcG9ydCB0YXJmaWxlCmltcG9ydCBzaHV0aWwKaW1wb3J0IHN5cwppbXBvcnQg
b3MKaW1wb3J0IHN0YXQKaW1wb3J0IHN1YnByb2Nlc3MKClRISU5fQVJDSElWRSA9ICdzYWx0LXRo
aW4udGd6JwpFWFRfQVJDSElWRSA9ICdzYWx0LWV4dF9tb2RzLnRneicKCiMgS2VlcCB0aGVzZSBp
biBzeW5jIHdpdGggc2FsdC9kZWZhdWx0cy9leGl0Y29kZXMucHkKRVhfVEhJTl9ERVBMT1kgPSAx
MQpFWF9USElOX0NIRUNLU1VNID0gMTIKRVhfTU9EX0RFUExPWSA9IDEzCkVYX1NDUF9OT1RfRk9V
TkQgPSAxNApFWF9DQU5UQ1JFQVQgPSA3MwoKCmNsYXNzIE9CSihvYmplY3QpOgogICAgIiIiQW4g
ZW1wdHkgY2xhc3MgZm9yIGhvbGRpbmcgaW5zdGFuY2UgYXR0cmlidXRlIHZhbHVlcy4iIiIKICAg
IHBhc3MKCgpPUFRJT05TID0gTm9uZQpBUkdTID0gTm9uZQojIFRoZSBiZWxvdyBsaW5lIGlzIHdo
ZXJlIE9QVElPTlMgY2FuIGJlIHJlZGVmaW5lZCB3aXRoIGludGVybmFsIG9wdGlvbnMKIyAocmF0
aGVyIHRoYW4gY2xpIGFyZ3VtZW50cykgd2hlbiB0aGUgc2hpbSBpcyBidW5kbGVkIGJ5CiMgY2xp
ZW50LnNzaC5TaW5nbGUuX2NtZF9zdHIoKQojIHB5bGludDogZGlzYWJsZT1ibG9jay1jb21tZW50
LXNob3VsZC1zdGFydC13aXRoLWNhcmRpbmFsLXNwYWNlCgpPUFRJT05TID0gT0JKKCkKT1BUSU9O
Uy5jb25maWcgPSAiIiIKe2ZpbGVzZXJ2ZXJfbGlzdF9jYWNoZV90aW1lOiAzLCBncmFpbnNfY2Fj
aGU6IHRydWUsIGlkOiBtdW5pbiwgbG9nX2ZpbGU6IHNhbHQtY2FsbC5sb2csCiAgcm9vdF9kaXI6
IC92YXIvdG1wLy5zYWx0LW9wZV8xYTM1MzJfc2FsdC9ydW5uaW5nX2RhdGEsIHNvY2tfZGlyOiAv
fQoiIiIKT1BUSU9OUy5kZWxpbWl0ZXIgPSAnX2VkYmM3ODg1ZTRmOWFhYzliODNiMzU5OTliNjhk
MDE1MTQ4Y2FmNDY3Yjc4ZmEzOWMwNWY2NjljMGZmODk4NzgnCk9QVElPTlMuc2FsdGRpciA9ICcv
dmFyL3RtcC8uc2FsdC1vcGVfMWEzNTMyX3NhbHQnCk9QVElPTlMuY2hlY2tzdW0gPSAnOTg1MjZk
OTliMWU3YjA3OWRjZWZjZWM5ZmE1Yjg1MWZmYmY5ODEzZCcKT1BUSU9OUy5oYXNoZnVuYyA9ICdz
aGExJwpPUFRJT05TLnZlcnNpb24gPSAnMjAxNi4zLjInCk9QVElPTlMuZXh0X21vZHMgPSAnNzQx
OTZlMDExNDUyMWUyYWRjNjlkNjgxY2U2YTQ1NjNiYTBhZTFlYicKT1BUSU9OUy53aXBlID0gRmFs
c2UKT1BUSU9OUy50dHkgPSBGYWxzZQpPUFRJT05TLmNtZF91bWFzayA9IE5vbmUKQVJHUyA9IFsn
dGVzdC5vcHRzX3BrZyddCgoKCmRlZiBuZWVkX2RlcGxveW1lbnQoKToKICAgICIiIgogICAgU2Fs
dCB0aGluIG5lZWRzIHRvIGJlIGRlcGxveWVkIC0gcHJlcCB0aGUgdGFyZ2V0IGRpcmVjdG9yeSBh
bmQgZW1pdCB0aGUKICAgIGRlbGltZXRlciBhbmQgZXhpdCBjb2RlIHRoYXQgc2lnbmFscyBhIHJl
cXVpcmVkIGRlcGxveW1lbnQuCiAgICAiIiIKICAgIGlmIG9zLnBhdGguZXhpc3RzKE9QVElPTlMu
c2FsdGRpcik6CiAgICAgICAgc2h1dGlsLnJtdHJlZShPUFRJT05TLnNhbHRkaXIpCiAgICBvbGRf
dW1hc2sgPSBvcy51bWFzaygwbzA3NykKICAgIG9zLm1ha2VkaXJzKE9QVElPTlMuc2FsdGRpcikK
ICAgIG9zLnVtYXNrKG9sZF91bWFzaykKICAgICMgVmVyaWZ5IHBlcm1zIG9uIHNhbHRkaXIKICAg
IGV1aWQgPSBvcy5nZXRldWlkKCkKICAgIGRzdGF0ID0gb3Muc3RhdChPUFRJT05TLnNhbHRkaXIp
CiAgICBpZiBkc3RhdC5zdF91aWQgIT0gZXVpZDoKICAgICAgICAjIEF0dGFjayBkZXRlY3RlZCwg
dHJ5IGFnYWluCiAgICAgICAgbmVlZF9kZXBsb3ltZW50KCkKICAgIGlmIGRzdGF0LnN0X21vZGUg
IT0gMTY4MzI6CiAgICAgICAgIyBBdHRhY2sgZGV0ZWN0ZWQKICAgICAgICBuZWVkX2RlcGxveW1l
bnQoKQogICAgIyBJZiBTVURPaW5nIHRoZW4gYWxzbyBnaXZlIHRoZSBzdXBlciB1c2VyIGdyb3Vw
IHdyaXRlIHBlcm1pc3Npb25zCiAgICBzdWRvX2dpZCA9IG9zLmVudmlyb24uZ2V0KCdTVURPX0dJ
RCcpCiAgICBpZiBzdWRvX2dpZDoKICAgICAgICBvcy5jaG93bihPUFRJT05TLnNhbHRkaXIsIC0x
LCBpbnQoc3Vkb19naWQpKQogICAgICAgIHN0dCA9IG9zLnN0YXQoT1BUSU9OUy5zYWx0ZGlyKQog
ICAgICAgIG9zLmNobW9kKE9QVElPTlMuc2FsdGRpciwgc3R0LnN0X21vZGUgfCBzdGF0LlNfSVdH
UlAgfCBzdGF0LlNfSVJHUlAgfCBzdGF0LlNfSVhHUlApCgogICAgIyBEZWxpbWl0ZXIgZW1pdHRl
ZCBvbiBzdGRvdXQgKm9ubHkqIHRvIGluZGljYXRlIHNoaW0gbWVzc2FnZSB0byBtYXN0ZXIuCiAg
ICBzeXMuc3Rkb3V0LndyaXRlKCJ7MH1cbmRlcGxveVxuIi5mb3JtYXQoT1BUSU9OUy5kZWxpbWl0
ZXIpKQogICAgc3lzLmV4aXQoRVhfVEhJTl9ERVBMT1kpCgoKIyBBZGFwdGVkIGZyb20gc2FsdC51
dGlscy5nZXRfaGFzaCgpCmRlZiBnZXRfaGFzaChwYXRoLCBmb3JtPSdzaGExJywgY2h1bmtfc2l6
ZT00MDk2KToKICAgICIiIkdlbmVyYXRlIGEgaGFzaCBkaWdlc3Qgc3RyaW5nIGZvciBhIGZpbGUu
IiIiCiAgICB0cnk6CiAgICAgICAgaGFzaF90eXBlID0gZ2V0YXR0cihoYXNobGliLCBmb3JtKQog
ICAgZXhjZXB0IEF0dHJpYnV0ZUVycm9yOgogICAgICAgIHJhaXNlIFZhbHVlRXJyb3IoJ0ludmFs
aWQgaGFzaCB0eXBlOiB7MH0nLmZvcm1hdChmb3JtKSkKICAgIHdpdGggb3BlbihwYXRoLCAncmIn
KSBhcyBpZmlsZToKICAgICAgICBoYXNoX29iaiA9IGhhc2hfdHlwZSgpCiAgICAgICAgIyByZWFk
IHRoZSBmaWxlIGluIGluIGNodW5rcywgbm90IHRoZSBlbnRpcmUgZmlsZQogICAgICAgIGZvciBj
aHVuayBpbiBpdGVyKGxhbWJkYTogaWZpbGUucmVhZChjaHVua19zaXplKSwgYicnKToKICAgICAg
ICAgICAgaGFzaF9vYmoudXBkYXRlKGNodW5rKQogICAgICAgIHJldHVybiBoYXNoX29iai5oZXhk
aWdlc3QoKQoKCmRlZiB1bnBhY2tfdGhpbih0aGluX3BhdGgpOgogICAgIiIiVW5wYWNrIHRoZSBT
YWx0IHRoaW4gYXJjaGl2ZS4iIiIKICAgIHRmaWxlID0gdGFyZmlsZS5UYXJGaWxlLmd6b3Blbih0
aGluX3BhdGgpCiAgICBvbGRfdW1hc2sgPSBvcy51bWFzaygwbzA3NykKICAgIHRmaWxlLmV4dHJh
Y3RhbGwocGF0aD1PUFRJT05TLnNhbHRkaXIpCiAgICB0ZmlsZS5jbG9zZSgpCiAgICBvcy51bWFz
ayhvbGRfdW1hc2spCiAgICBvcy51bmxpbmsodGhpbl9wYXRoKQoKCmRlZiBuZWVkX2V4dCgpOgog
ICAgIiIiU2lnbmFsIHRoYXQgZXh0ZXJuYWwgbW9kdWxlcyBuZWVkIHRvIGJlIGRlcGxveWVkLiIi
IgogICAgc3lzLnN0ZG91dC53cml0ZSgiezB9XG5leHRfbW9kc1xuIi5mb3JtYXQoT1BUSU9OUy5k
ZWxpbWl0ZXIpKQogICAgc3lzLmV4aXQoRVhfTU9EX0RFUExPWSkKCgpkZWYgdW5wYWNrX2V4dChl
eHRfcGF0aCk6CiAgICAiIiJVbnBhY2sgdGhlIGV4dGVybmFsIG1vZHVsZXMuIiIiCiAgICBtb2Rj
YWNoZSA9IG9zLnBhdGguam9pbigKICAgICAgICAgICAgT1BUSU9OUy5zYWx0ZGlyLAogICAgICAg
ICAgICAncnVubmluZ19kYXRhJywKICAgICAgICAgICAgJ3ZhcicsCiAgICAgICAgICAgICdjYWNo
ZScsCiAgICAgICAgICAgICdzYWx0JywKICAgICAgICAgICAgJ21pbmlvbicsCiAgICAgICAgICAg
ICdleHRtb2RzJykKICAgIHRmaWxlID0gdGFyZmlsZS5UYXJGaWxlLmd6b3BlbihleHRfcGF0aCkK
ICAgIG9sZF91bWFzayA9IG9zLnVtYXNrKDBvMDc3KQogICAgdGZpbGUuZXh0cmFjdGFsbChwYXRo
PW1vZGNhY2hlKQogICAgdGZpbGUuY2xvc2UoKQogICAgb3MudW1hc2sob2xkX3VtYXNrKQogICAg
b3MudW5saW5rKGV4dF9wYXRoKQogICAgdmVyX3BhdGggPSBvcy5wYXRoLmpvaW4obW9kY2FjaGUs
ICdleHRfdmVyc2lvbicpCiAgICB2ZXJfZHN0ID0gb3MucGF0aC5qb2luKE9QVElPTlMuc2FsdGRp
ciwgJ2V4dF92ZXJzaW9uJykKICAgIHNodXRpbC5tb3ZlKHZlcl9wYXRoLCB2ZXJfZHN0KQoKCmRl
ZiBtYWluKGFyZ3YpOiAgIyBweWxpbnQ6IGRpc2FibGU9VzA2MTMKICAgICIiIk1haW4gcHJvZ3Jh
bSBib2R5IiIiCiAgICB0aGluX3BhdGggPSBvcy5wYXRoLmpvaW4oT1BUSU9OUy5zYWx0ZGlyLCBU
SElOX0FSQ0hJVkUpCiAgICBpZiBvcy5wYXRoLmlzZmlsZSh0aGluX3BhdGgpOgogICAgICAgIGlm
IE9QVElPTlMuY2hlY2tzdW0gIT0gZ2V0X2hhc2godGhpbl9wYXRoLCBPUFRJT05TLmhhc2hmdW5j
KToKICAgICAgICAgICAgc3lzLnN0ZGVyci53cml0ZSgnezB9XG4nLmZvcm1hdChPUFRJT05TLmNo
ZWNrc3VtKSkKICAgICAgICAgICAgc3lzLnN0ZGVyci53cml0ZSgnezB9XG4nLmZvcm1hdChnZXRf
aGFzaCh0aGluX3BhdGgsIE9QVElPTlMuaGFzaGZ1bmMpKSkKICAgICAgICAgICAgb3MudW5saW5r
KHRoaW5fcGF0aCkKICAgICAgICAgICAgc3lzLnN0ZGVyci53cml0ZSgnV0FSTklORzogY2hlY2tz
dW0gbWlzbWF0Y2ggZm9yICJ7MH0iXG4nLmZvcm1hdCh0aGluX3BhdGgpKQogICAgICAgICAgICBz
eXMuZXhpdChFWF9USElOX0NIRUNLU1VNKQogICAgICAgIHVucGFja190aGluKHRoaW5fcGF0aCkK
ICAgICAgICAjIFNhbHQgdGhpbiBub3cgaXMgYXZhaWxhYmxlIHRvIHVzZQogICAgZWxzZToKICAg
ICAgICBzY3BzdGF0ID0gc3VicHJvY2Vzcy5Qb3BlbihbJy9iaW4vc2gnLCAnLWMnLCAnY29tbWFu
ZCAtdiBzY3AnXSkud2FpdCgpCiAgICAgICAgaWYgc2Nwc3RhdCAhPSAwOgogICAgICAgICAgICBz
eXMuZXhpdChFWF9TQ1BfTk9UX0ZPVU5EKQoKICAgICAgICBpZiBub3Qgb3MucGF0aC5leGlzdHMo
T1BUSU9OUy5zYWx0ZGlyKToKICAgICAgICAgICAgbmVlZF9kZXBsb3ltZW50KCkKCiAgICAgICAg
aWYgbm90IG9zLnBhdGguaXNkaXIoT1BUSU9OUy5zYWx0ZGlyKToKICAgICAgICAgICAgc3lzLnN0
ZGVyci53cml0ZSgKICAgICAgICAgICAgICAgICdFUlJPUjogc2FsdCBwYXRoICJ7MH0iIGV4aXN0
cyBidXQgaXMnCiAgICAgICAgICAgICAgICAnIG5vdCBhIGRpcmVjdG9yeVxuJy5mb3JtYXQoT1BU
SU9OUy5zYWx0ZGlyKQogICAgICAgICAgICApCiAgICAgICAgICAgIHN5cy5leGl0KEVYX0NBTlRD
UkVBVCkKCiAgICAgICAgdmVyc2lvbl9wYXRoID0gb3MucGF0aC5qb2luKE9QVElPTlMuc2FsdGRp
ciwgJ3ZlcnNpb24nKQogICAgICAgIGlmIG5vdCBvcy5wYXRoLmV4aXN0cyh2ZXJzaW9uX3BhdGgp
IG9yIG5vdCBvcy5wYXRoLmlzZmlsZSh2ZXJzaW9uX3BhdGgpOgogICAgICAgICAgICBzeXMuc3Rk
ZXJyLndyaXRlKAogICAgICAgICAgICAgICAgJ1dBUk5JTkc6IFVuYWJsZSB0byBsb2NhdGUgY3Vy
cmVudCB0aGluICcKICAgICAgICAgICAgICAgICcgdmVyc2lvbjogezB9LlxuJy5mb3JtYXQodmVy
c2lvbl9wYXRoKQogICAgICAgICAgICApCiAgICAgICAgICAgIG5lZWRfZGVwbG95bWVudCgpCiAg
ICAgICAgd2l0aCBvcGVuKHZlcnNpb25fcGF0aCwgJ3InKSBhcyB2cG86CiAgICAgICAgICAgIGN1
cl92ZXJzaW9uID0gdnBvLnJlYWRsaW5lKCkuc3RyaXAoKQogICAgICAgIGlmIGN1cl92ZXJzaW9u
ICE9IE9QVElPTlMudmVyc2lvbjoKICAgICAgICAgICAgc3lzLnN0ZGVyci53cml0ZSgKICAgICAg
ICAgICAgICAgICdXQVJOSU5HOiBjdXJyZW50IHRoaW4gdmVyc2lvbiB7MH0nCiAgICAgICAgICAg
ICAgICAnIGlzIG5vdCB1cC10by1kYXRlIHdpdGggezF9LlxuJy5mb3JtYXQoCiAgICAgICAgICAg
ICAgICAgICAgY3VyX3ZlcnNpb24sIE9QVElPTlMudmVyc2lvbgogICAgICAgICAgICAgICAgKQog
ICAgICAgICAgICApCiAgICAgICAgICAgIG5lZWRfZGVwbG95bWVudCgpCiAgICAgICAgIyBTYWx0
IHRoaW4gZXhpc3RzIGFuZCBpcyB1cC10by1kYXRlIC0gZmFsbCB0aHJvdWdoIGFuZCB1c2UgaXQK
CiAgICBzYWx0X2NhbGxfcGF0aCA9IG9zLnBhdGguam9pbihPUFRJT05TLnNhbHRkaXIsICdzYWx0
LWNhbGwnKQogICAgaWYgbm90IG9zLnBhdGguaXNmaWxlKHNhbHRfY2FsbF9wYXRoKToKICAgICAg
ICBzeXMuc3RkZXJyLndyaXRlKCdFUlJPUjogdGhpbiBpcyBtaXNzaW5nICJ7MH0iXG4nLmZvcm1h
dChzYWx0X2NhbGxfcGF0aCkpCiAgICAgICAgbmVlZF9kZXBsb3ltZW50KCkKCiAgICB3aXRoIG9w
ZW4ob3MucGF0aC5qb2luKE9QVElPTlMuc2FsdGRpciwgJ21pbmlvbicpLCAndycpIGFzIGNvbmZp
ZzoKICAgICAgICBjb25maWcud3JpdGUoT1BUSU9OUy5jb25maWcgKyAnXG4nKQogICAgaWYgT1BU
SU9OUy5leHRfbW9kczoKICAgICAgICBleHRfcGF0aCA9IG9zLnBhdGguam9pbihPUFRJT05TLnNh
bHRkaXIsIEVYVF9BUkNISVZFKQogICAgICAgIGlmIG9zLnBhdGguZXhpc3RzKGV4dF9wYXRoKToK
ICAgICAgICAgICAgdW5wYWNrX2V4dChleHRfcGF0aCkKICAgICAgICBlbHNlOgogICAgICAgICAg
ICB2ZXJzaW9uX3BhdGggPSBvcy5wYXRoLmpvaW4oT1BUSU9OUy5zYWx0ZGlyLCAnZXh0X3ZlcnNp
b24nKQogICAgICAgICAgICBpZiBub3Qgb3MucGF0aC5leGlzdHModmVyc2lvbl9wYXRoKSBvciBu
b3Qgb3MucGF0aC5pc2ZpbGUodmVyc2lvbl9wYXRoKToKICAgICAgICAgICAgICAgIG5lZWRfZXh0
KCkKICAgICAgICAgICAgd2l0aCBvcGVuKHZlcnNpb25fcGF0aCwgJ3InKSBhcyB2cG86CiAgICAg
ICAgICAgICAgICBjdXJfdmVyc2lvbiA9IHZwby5yZWFkbGluZSgpLnN0cmlwKCkKICAgICAgICAg
ICAgaWYgY3VyX3ZlcnNpb24gIT0gT1BUSU9OUy5leHRfbW9kczoKICAgICAgICAgICAgICAgIG5l
ZWRfZXh0KCkKICAgICMgRml4IHBhcmFtZXRlciBwYXNzaW5nIGlzc3VlCiAgICBpZiBsZW4oQVJH
UykgPT0gMToKICAgICAgICBhcmd2X3ByZXBhcmVkID0gQVJHU1swXS5zcGxpdCgpCiAgICBlbHNl
OgogICAgICAgIGFyZ3ZfcHJlcGFyZWQgPSBBUkdTCgogICAgc2FsdF9hcmd2ID0gWwogICAgICAg
IHN5cy5leGVjdXRhYmxlLAogICAgICAgIHNhbHRfY2FsbF9wYXRoLAogICAgICAgICctLXJldGNv
ZGUtcGFzc3Rocm91Z2gnLAogICAgICAgICctLWxvY2FsJywKICAgICAgICAnLS1tZXRhZGF0YScs
CiAgICAgICAgJy0tb3V0JywgJ2pzb24nLAogICAgICAgICctbCcsICdxdWlldCcsCiAgICAgICAg
Jy1jJywgT1BUSU9OUy5zYWx0ZGlyLAogICAgICAgICctLScsCiAgICBdICsgYXJndl9wcmVwYXJl
ZAoKICAgIHN5cy5zdGRlcnIud3JpdGUoJ1NBTFRfQVJHVjogezB9XG4nLmZvcm1hdChzYWx0X2Fy
Z3YpKQoKICAgICMgT25seSBlbWl0IHRoZSBkZWxpbWl0ZXIgb24gKmJvdGgqIHN0ZG91dCBhbmQg
c3RkZXJyIHdoZW4gY29tcGxldGVseSBzdWNjZXNzZnVsLgogICAgIyBZZXMsIHRoZSBmbHVzaCgp
IGlzIG5lY2Vzc2FyeS4KICAgIHN5cy5zdGRvdXQud3JpdGUoT1BUSU9OUy5kZWxpbWl0ZXIgKyAn
XG4nKQogICAgc3lzLnN0ZG91dC5mbHVzaCgpCiAgICBpZiBub3QgT1BUSU9OUy50dHk6CiAgICAg
ICAgc3lzLnN0ZGVyci53cml0ZShPUFRJT05TLmRlbGltaXRlciArICdcbicpCiAgICAgICAgc3lz
LnN0ZGVyci5mbHVzaCgpCiAgICBpZiBPUFRJT05TLmNtZF91bWFzayBpcyBub3QgTm9uZToKICAg
ICAgICBvbGRfdW1hc2sgPSBvcy51bWFzayhPUFRJT05TLmNtZF91bWFzaykKICAgIGlmIE9QVElP
TlMudHR5OgogICAgICAgIHN0ZG91dCwgXyA9IHN1YnByb2Nlc3MuUG9wZW4oc2FsdF9hcmd2LCBz
dGRvdXQ9c3VicHJvY2Vzcy5QSVBFLCBzdGRlcnI9c3VicHJvY2Vzcy5QSVBFKS5jb21tdW5pY2F0
ZSgpCiAgICAgICAgc3lzLnN0ZG91dC53cml0ZShzdGRvdXQpCiAgICAgICAgc3lzLnN0ZG91dC5m
bHVzaCgpCiAgICAgICAgaWYgT1BUSU9OUy53aXBlOgogICAgICAgICAgICBzaHV0aWwucm10cmVl
KE9QVElPTlMuc2FsdGRpcikKICAgIGVsaWYgT1BUSU9OUy53aXBlOgogICAgICAgIHN1YnByb2Nl
c3MuY2FsbChzYWx0X2FyZ3YpCiAgICAgICAgc2h1dGlsLnJtdHJlZShPUFRJT05TLnNhbHRkaXIp
CiAgICBlbHNlOgogICAgICAgIG9zLmV4ZWN2KHN5cy5leGVjdXRhYmxlLCBzYWx0X2FyZ3YpCiAg
ICBpZiBPUFRJT05TLmNtZF91bWFzayBpcyBub3QgTm9uZToKICAgICAgICBvcy51bWFzayhvbGRf
dW1hc2spCgppZiBfX25hbWVfXyA9PSAnX19tYWluX18nOgogICAgc3lzLmV4aXQobWFpbihzeXMu
YXJndikpCg==
""").decode("utf-8"))'
else
exec $SUDO "$py_cmd_path" -c \
'import base64;
exec(base64.b64decode("""IyBweWxpbnQ6IGRpc2FibGU9Vzk5MDMKJycnClRoaXMgaXMgYSBzaGltIHRoYXQgaGFuZGxlcyBj
aGVja2luZyBhbmQgdXBkYXRpbmcgc2FsdCB0aGluIGFuZAp0aGVuIGludm9raW5nIHRoaW4uCgpU
aGlzIGlzIG5vdCBpbnRlbmRlZCB0byBiZSBpbnN0YW50aWF0ZWQgYXMgYSBtb2R1bGUsIHJhdGhl
ciBpdCBpcyBhCmhlbHBlciBzY3JpcHQgdXNlZCBieSBzYWx0LmNsaWVudC5zc2guU2luZ2xlLiAg
SXQgaXMgaGVyZSwgaW4gYQpzZXBhcmF0ZSBmaWxlLCBmb3IgY29udmVuaWVuY2Ugb2YgZGV2ZWxv
cG1lbnQuCicnJwoKZnJvbSBfX2Z1dHVyZV9fIGltcG9ydCBhYnNvbHV0ZV9pbXBvcnQKCmltcG9y
dCBoYXNobGliCmltcG9ydCB0YXJmaWxlCmltcG9ydCBzaHV0aWwKaW1wb3J0IHN5cwppbXBvcnQg
b3MKaW1wb3J0IHN0YXQKaW1wb3J0IHN1YnByb2Nlc3MKClRISU5fQVJDSElWRSA9ICdzYWx0LXRo
aW4udGd6JwpFWFRfQVJDSElWRSA9ICdzYWx0LWV4dF9tb2RzLnRneicKCiMgS2VlcCB0aGVzZSBp
biBzeW5jIHdpdGggc2FsdC9kZWZhdWx0cy9leGl0Y29kZXMucHkKRVhfVEhJTl9ERVBMT1kgPSAx
MQpFWF9USElOX0NIRUNLU1VNID0gMTIKRVhfTU9EX0RFUExPWSA9IDEzCkVYX1NDUF9OT1RfRk9V
TkQgPSAxNApFWF9DQU5UQ1JFQVQgPSA3MwoKCmNsYXNzIE9CSihvYmplY3QpOgogICAgIiIiQW4g
ZW1wdHkgY2xhc3MgZm9yIGhvbGRpbmcgaW5zdGFuY2UgYXR0cmlidXRlIHZhbHVlcy4iIiIKICAg
IHBhc3MKCgpPUFRJT05TID0gTm9uZQpBUkdTID0gTm9uZQojIFRoZSBiZWxvdyBsaW5lIGlzIHdo
ZXJlIE9QVElPTlMgY2FuIGJlIHJlZGVmaW5lZCB3aXRoIGludGVybmFsIG9wdGlvbnMKIyAocmF0
aGVyIHRoYW4gY2xpIGFyZ3VtZW50cykgd2hlbiB0aGUgc2hpbSBpcyBidW5kbGVkIGJ5CiMgY2xp
ZW50LnNzaC5TaW5nbGUuX2NtZF9zdHIoKQojIHB5bGludDogZGlzYWJsZT1ibG9jay1jb21tZW50
LXNob3VsZC1zdGFydC13aXRoLWNhcmRpbmFsLXNwYWNlCgpPUFRJT05TID0gT0JKKCkKT1BUSU9O
Uy5jb25maWcgPSAiIiIKe2ZpbGVzZXJ2ZXJfbGlzdF9jYWNoZV90aW1lOiAzLCBncmFpbnNfY2Fj
aGU6IHRydWUsIGlkOiBtdW5pbiwgbG9nX2ZpbGU6IHNhbHQtY2FsbC5sb2csCiAgcm9vdF9kaXI6
IC92YXIvdG1wLy5zYWx0LW9wZV8xYTM1MzJfc2FsdC9ydW5uaW5nX2RhdGEsIHNvY2tfZGlyOiAv
fQoiIiIKT1BUSU9OUy5kZWxpbWl0ZXIgPSAnX2VkYmM3ODg1ZTRmOWFhYzliODNiMzU5OTliNjhk
MDE1MTQ4Y2FmNDY3Yjc4ZmEzOWMwNWY2NjljMGZmODk4NzgnCk9QVElPTlMuc2FsdGRpciA9ICcv
dmFyL3RtcC8uc2FsdC1vcGVfMWEzNTMyX3NhbHQnCk9QVElPTlMuY2hlY2tzdW0gPSAnOTg1MjZk
OTliMWU3YjA3OWRjZWZjZWM5ZmE1Yjg1MWZmYmY5ODEzZCcKT1BUSU9OUy5oYXNoZnVuYyA9ICdz
aGExJwpPUFRJT05TLnZlcnNpb24gPSAnMjAxNi4zLjInCk9QVElPTlMuZXh0X21vZHMgPSAnNzQx
OTZlMDExNDUyMWUyYWRjNjlkNjgxY2U2YTQ1NjNiYTBhZTFlYicKT1BUSU9OUy53aXBlID0gRmFs
c2UKT1BUSU9OUy50dHkgPSBGYWxzZQpPUFRJT05TLmNtZF91bWFzayA9IE5vbmUKQVJHUyA9IFsn
dGVzdC5vcHRzX3BrZyddCgoKCmRlZiBuZWVkX2RlcGxveW1lbnQoKToKICAgICIiIgogICAgU2Fs
dCB0aGluIG5lZWRzIHRvIGJlIGRlcGxveWVkIC0gcHJlcCB0aGUgdGFyZ2V0IGRpcmVjdG9yeSBh
bmQgZW1pdCB0aGUKICAgIGRlbGltZXRlciBhbmQgZXhpdCBjb2RlIHRoYXQgc2lnbmFscyBhIHJl
cXVpcmVkIGRlcGxveW1lbnQuCiAgICAiIiIKICAgIGlmIG9zLnBhdGguZXhpc3RzKE9QVElPTlMu
c2FsdGRpcik6CiAgICAgICAgc2h1dGlsLnJtdHJlZShPUFRJT05TLnNhbHRkaXIpCiAgICBvbGRf
dW1hc2sgPSBvcy51bWFzaygwbzA3NykKICAgIG9zLm1ha2VkaXJzKE9QVElPTlMuc2FsdGRpcikK
ICAgIG9zLnVtYXNrKG9sZF91bWFzaykKICAgICMgVmVyaWZ5IHBlcm1zIG9uIHNhbHRkaXIKICAg
IGV1aWQgPSBvcy5nZXRldWlkKCkKICAgIGRzdGF0ID0gb3Muc3RhdChPUFRJT05TLnNhbHRkaXIp
CiAgICBpZiBkc3RhdC5zdF91aWQgIT0gZXVpZDoKICAgICAgICAjIEF0dGFjayBkZXRlY3RlZCwg
dHJ5IGFnYWluCiAgICAgICAgbmVlZF9kZXBsb3ltZW50KCkKICAgIGlmIGRzdGF0LnN0X21vZGUg
IT0gMTY4MzI6CiAgICAgICAgIyBBdHRhY2sgZGV0ZWN0ZWQKICAgICAgICBuZWVkX2RlcGxveW1l
bnQoKQogICAgIyBJZiBTVURPaW5nIHRoZW4gYWxzbyBnaXZlIHRoZSBzdXBlciB1c2VyIGdyb3Vw
IHdyaXRlIHBlcm1pc3Npb25zCiAgICBzdWRvX2dpZCA9IG9zLmVudmlyb24uZ2V0KCdTVURPX0dJ
RCcpCiAgICBpZiBzdWRvX2dpZDoKICAgICAgICBvcy5jaG93bihPUFRJT05TLnNhbHRkaXIsIC0x
LCBpbnQoc3Vkb19naWQpKQogICAgICAgIHN0dCA9IG9zLnN0YXQoT1BUSU9OUy5zYWx0ZGlyKQog
ICAgICAgIG9zLmNobW9kKE9QVElPTlMuc2FsdGRpciwgc3R0LnN0X21vZGUgfCBzdGF0LlNfSVdH
UlAgfCBzdGF0LlNfSVJHUlAgfCBzdGF0LlNfSVhHUlApCgogICAgIyBEZWxpbWl0ZXIgZW1pdHRl
ZCBvbiBzdGRvdXQgKm9ubHkqIHRvIGluZGljYXRlIHNoaW0gbWVzc2FnZSB0byBtYXN0ZXIuCiAg
ICBzeXMuc3Rkb3V0LndyaXRlKCJ7MH1cbmRlcGxveVxuIi5mb3JtYXQoT1BUSU9OUy5kZWxpbWl0
ZXIpKQogICAgc3lzLmV4aXQoRVhfVEhJTl9ERVBMT1kpCgoKIyBBZGFwdGVkIGZyb20gc2FsdC51
dGlscy5nZXRfaGFzaCgpCmRlZiBnZXRfaGFzaChwYXRoLCBmb3JtPSdzaGExJywgY2h1bmtfc2l6
ZT00MDk2KToKICAgICIiIkdlbmVyYXRlIGEgaGFzaCBkaWdlc3Qgc3RyaW5nIGZvciBhIGZpbGUu
IiIiCiAgICB0cnk6CiAgICAgICAgaGFzaF90eXBlID0gZ2V0YXR0cihoYXNobGliLCBmb3JtKQog
ICAgZXhjZXB0IEF0dHJpYnV0ZUVycm9yOgogICAgICAgIHJhaXNlIFZhbHVlRXJyb3IoJ0ludmFs
aWQgaGFzaCB0eXBlOiB7MH0nLmZvcm1hdChmb3JtKSkKICAgIHdpdGggb3BlbihwYXRoLCAncmIn
KSBhcyBpZmlsZToKICAgICAgICBoYXNoX29iaiA9IGhhc2hfdHlwZSgpCiAgICAgICAgIyByZWFk
IHRoZSBmaWxlIGluIGluIGNodW5rcywgbm90IHRoZSBlbnRpcmUgZmlsZQogICAgICAgIGZvciBj
aHVuayBpbiBpdGVyKGxhbWJkYTogaWZpbGUucmVhZChjaHVua19zaXplKSwgYicnKToKICAgICAg
ICAgICAgaGFzaF9vYmoudXBkYXRlKGNodW5rKQogICAgICAgIHJldHVybiBoYXNoX29iai5oZXhk
aWdlc3QoKQoKCmRlZiB1bnBhY2tfdGhpbih0aGluX3BhdGgpOgogICAgIiIiVW5wYWNrIHRoZSBT
YWx0IHRoaW4gYXJjaGl2ZS4iIiIKICAgIHRmaWxlID0gdGFyZmlsZS5UYXJGaWxlLmd6b3Blbih0
aGluX3BhdGgpCiAgICBvbGRfdW1hc2sgPSBvcy51bWFzaygwbzA3NykKICAgIHRmaWxlLmV4dHJh
Y3RhbGwocGF0aD1PUFRJT05TLnNhbHRkaXIpCiAgICB0ZmlsZS5jbG9zZSgpCiAgICBvcy51bWFz
ayhvbGRfdW1hc2spCiAgICBvcy51bmxpbmsodGhpbl9wYXRoKQoKCmRlZiBuZWVkX2V4dCgpOgog
ICAgIiIiU2lnbmFsIHRoYXQgZXh0ZXJuYWwgbW9kdWxlcyBuZWVkIHRvIGJlIGRlcGxveWVkLiIi
IgogICAgc3lzLnN0ZG91dC53cml0ZSgiezB9XG5leHRfbW9kc1xuIi5mb3JtYXQoT1BUSU9OUy5k
ZWxpbWl0ZXIpKQogICAgc3lzLmV4aXQoRVhfTU9EX0RFUExPWSkKCgpkZWYgdW5wYWNrX2V4dChl
eHRfcGF0aCk6CiAgICAiIiJVbnBhY2sgdGhlIGV4dGVybmFsIG1vZHVsZXMuIiIiCiAgICBtb2Rj
YWNoZSA9IG9zLnBhdGguam9pbigKICAgICAgICAgICAgT1BUSU9OUy5zYWx0ZGlyLAogICAgICAg
ICAgICAncnVubmluZ19kYXRhJywKICAgICAgICAgICAgJ3ZhcicsCiAgICAgICAgICAgICdjYWNo
ZScsCiAgICAgICAgICAgICdzYWx0JywKICAgICAgICAgICAgJ21pbmlvbicsCiAgICAgICAgICAg
ICdleHRtb2RzJykKICAgIHRmaWxlID0gdGFyZmlsZS5UYXJGaWxlLmd6b3BlbihleHRfcGF0aCkK
ICAgIG9sZF91bWFzayA9IG9zLnVtYXNrKDBvMDc3KQogICAgdGZpbGUuZXh0cmFjdGFsbChwYXRo
PW1vZGNhY2hlKQogICAgdGZpbGUuY2xvc2UoKQogICAgb3MudW1hc2sob2xkX3VtYXNrKQogICAg
b3MudW5saW5rKGV4dF9wYXRoKQogICAgdmVyX3BhdGggPSBvcy5wYXRoLmpvaW4obW9kY2FjaGUs
ICdleHRfdmVyc2lvbicpCiAgICB2ZXJfZHN0ID0gb3MucGF0aC5qb2luKE9QVElPTlMuc2FsdGRp
ciwgJ2V4dF92ZXJzaW9uJykKICAgIHNodXRpbC5tb3ZlKHZlcl9wYXRoLCB2ZXJfZHN0KQoKCmRl
ZiBtYWluKGFyZ3YpOiAgIyBweWxpbnQ6IGRpc2FibGU9VzA2MTMKICAgICIiIk1haW4gcHJvZ3Jh
bSBib2R5IiIiCiAgICB0aGluX3BhdGggPSBvcy5wYXRoLmpvaW4oT1BUSU9OUy5zYWx0ZGlyLCBU
SElOX0FSQ0hJVkUpCiAgICBpZiBvcy5wYXRoLmlzZmlsZSh0aGluX3BhdGgpOgogICAgICAgIGlm
IE9QVElPTlMuY2hlY2tzdW0gIT0gZ2V0X2hhc2godGhpbl9wYXRoLCBPUFRJT05TLmhhc2hmdW5j
KToKICAgICAgICAgICAgc3lzLnN0ZGVyci53cml0ZSgnezB9XG4nLmZvcm1hdChPUFRJT05TLmNo
ZWNrc3VtKSkKICAgICAgICAgICAgc3lzLnN0ZGVyci53cml0ZSgnezB9XG4nLmZvcm1hdChnZXRf
aGFzaCh0aGluX3BhdGgsIE9QVElPTlMuaGFzaGZ1bmMpKSkKICAgICAgICAgICAgb3MudW5saW5r
KHRoaW5fcGF0aCkKICAgICAgICAgICAgc3lzLnN0ZGVyci53cml0ZSgnV0FSTklORzogY2hlY2tz
dW0gbWlzbWF0Y2ggZm9yICJ7MH0iXG4nLmZvcm1hdCh0aGluX3BhdGgpKQogICAgICAgICAgICBz
eXMuZXhpdChFWF9USElOX0NIRUNLU1VNKQogICAgICAgIHVucGFja190aGluKHRoaW5fcGF0aCkK
ICAgICAgICAjIFNhbHQgdGhpbiBub3cgaXMgYXZhaWxhYmxlIHRvIHVzZQogICAgZWxzZToKICAg
ICAgICBzY3BzdGF0ID0gc3VicHJvY2Vzcy5Qb3BlbihbJy9iaW4vc2gnLCAnLWMnLCAnY29tbWFu
ZCAtdiBzY3AnXSkud2FpdCgpCiAgICAgICAgaWYgc2Nwc3RhdCAhPSAwOgogICAgICAgICAgICBz
eXMuZXhpdChFWF9TQ1BfTk9UX0ZPVU5EKQoKICAgICAgICBpZiBub3Qgb3MucGF0aC5leGlzdHMo
T1BUSU9OUy5zYWx0ZGlyKToKICAgICAgICAgICAgbmVlZF9kZXBsb3ltZW50KCkKCiAgICAgICAg
aWYgbm90IG9zLnBhdGguaXNkaXIoT1BUSU9OUy5zYWx0ZGlyKToKICAgICAgICAgICAgc3lzLnN0
ZGVyci53cml0ZSgKICAgICAgICAgICAgICAgICdFUlJPUjogc2FsdCBwYXRoICJ7MH0iIGV4aXN0
cyBidXQgaXMnCiAgICAgICAgICAgICAgICAnIG5vdCBhIGRpcmVjdG9yeVxuJy5mb3JtYXQoT1BU
SU9OUy5zYWx0ZGlyKQogICAgICAgICAgICApCiAgICAgICAgICAgIHN5cy5leGl0KEVYX0NBTlRD
UkVBVCkKCiAgICAgICAgdmVyc2lvbl9wYXRoID0gb3MucGF0aC5qb2luKE9QVElPTlMuc2FsdGRp
ciwgJ3ZlcnNpb24nKQogICAgICAgIGlmIG5vdCBvcy5wYXRoLmV4aXN0cyh2ZXJzaW9uX3BhdGgp
IG9yIG5vdCBvcy5wYXRoLmlzZmlsZSh2ZXJzaW9uX3BhdGgpOgogICAgICAgICAgICBzeXMuc3Rk
ZXJyLndyaXRlKAogICAgICAgICAgICAgICAgJ1dBUk5JTkc6IFVuYWJsZSB0byBsb2NhdGUgY3Vy
cmVudCB0aGluICcKICAgICAgICAgICAgICAgICcgdmVyc2lvbjogezB9LlxuJy5mb3JtYXQodmVy
c2lvbl9wYXRoKQogICAgICAgICAgICApCiAgICAgICAgICAgIG5lZWRfZGVwbG95bWVudCgpCiAg
ICAgICAgd2l0aCBvcGVuKHZlcnNpb25fcGF0aCwgJ3InKSBhcyB2cG86CiAgICAgICAgICAgIGN1
cl92ZXJzaW9uID0gdnBvLnJlYWRsaW5lKCkuc3RyaXAoKQogICAgICAgIGlmIGN1cl92ZXJzaW9u
ICE9IE9QVElPTlMudmVyc2lvbjoKICAgICAgICAgICAgc3lzLnN0ZGVyci53cml0ZSgKICAgICAg
ICAgICAgICAgICdXQVJOSU5HOiBjdXJyZW50IHRoaW4gdmVyc2lvbiB7MH0nCiAgICAgICAgICAg
ICAgICAnIGlzIG5vdCB1cC10by1kYXRlIHdpdGggezF9LlxuJy5mb3JtYXQoCiAgICAgICAgICAg
ICAgICAgICAgY3VyX3ZlcnNpb24sIE9QVElPTlMudmVyc2lvbgogICAgICAgICAgICAgICAgKQog
ICAgICAgICAgICApCiAgICAgICAgICAgIG5lZWRfZGVwbG95bWVudCgpCiAgICAgICAgIyBTYWx0
IHRoaW4gZXhpc3RzIGFuZCBpcyB1cC10by1kYXRlIC0gZmFsbCB0aHJvdWdoIGFuZCB1c2UgaXQK
CiAgICBzYWx0X2NhbGxfcGF0aCA9IG9zLnBhdGguam9pbihPUFRJT05TLnNhbHRkaXIsICdzYWx0
LWNhbGwnKQogICAgaWYgbm90IG9zLnBhdGguaXNmaWxlKHNhbHRfY2FsbF9wYXRoKToKICAgICAg
ICBzeXMuc3RkZXJyLndyaXRlKCdFUlJPUjogdGhpbiBpcyBtaXNzaW5nICJ7MH0iXG4nLmZvcm1h
dChzYWx0X2NhbGxfcGF0aCkpCiAgICAgICAgbmVlZF9kZXBsb3ltZW50KCkKCiAgICB3aXRoIG9w
ZW4ob3MucGF0aC5qb2luKE9QVElPTlMuc2FsdGRpciwgJ21pbmlvbicpLCAndycpIGFzIGNvbmZp
ZzoKICAgICAgICBjb25maWcud3JpdGUoT1BUSU9OUy5jb25maWcgKyAnXG4nKQogICAgaWYgT1BU
SU9OUy5leHRfbW9kczoKICAgICAgICBleHRfcGF0aCA9IG9zLnBhdGguam9pbihPUFRJT05TLnNh
bHRkaXIsIEVYVF9BUkNISVZFKQogICAgICAgIGlmIG9zLnBhdGguZXhpc3RzKGV4dF9wYXRoKToK
ICAgICAgICAgICAgdW5wYWNrX2V4dChleHRfcGF0aCkKICAgICAgICBlbHNlOgogICAgICAgICAg
ICB2ZXJzaW9uX3BhdGggPSBvcy5wYXRoLmpvaW4oT1BUSU9OUy5zYWx0ZGlyLCAnZXh0X3ZlcnNp
b24nKQogICAgICAgICAgICBpZiBub3Qgb3MucGF0aC5leGlzdHModmVyc2lvbl9wYXRoKSBvciBu
b3Qgb3MucGF0aC5pc2ZpbGUodmVyc2lvbl9wYXRoKToKICAgICAgICAgICAgICAgIG5lZWRfZXh0
KCkKICAgICAgICAgICAgd2l0aCBvcGVuKHZlcnNpb25fcGF0aCwgJ3InKSBhcyB2cG86CiAgICAg
ICAgICAgICAgICBjdXJfdmVyc2lvbiA9IHZwby5yZWFkbGluZSgpLnN0cmlwKCkKICAgICAgICAg
ICAgaWYgY3VyX3ZlcnNpb24gIT0gT1BUSU9OUy5leHRfbW9kczoKICAgICAgICAgICAgICAgIG5l
ZWRfZXh0KCkKICAgICMgRml4IHBhcmFtZXRlciBwYXNzaW5nIGlzc3VlCiAgICBpZiBsZW4oQVJH
UykgPT0gMToKICAgICAgICBhcmd2X3ByZXBhcmVkID0gQVJHU1swXS5zcGxpdCgpCiAgICBlbHNl
OgogICAgICAgIGFyZ3ZfcHJlcGFyZWQgPSBBUkdTCgogICAgc2FsdF9hcmd2ID0gWwogICAgICAg
IHN5cy5leGVjdXRhYmxlLAogICAgICAgIHNhbHRfY2FsbF9wYXRoLAogICAgICAgICctLXJldGNv
ZGUtcGFzc3Rocm91Z2gnLAogICAgICAgICctLWxvY2FsJywKICAgICAgICAnLS1tZXRhZGF0YScs
CiAgICAgICAgJy0tb3V0JywgJ2pzb24nLAogICAgICAgICctbCcsICdxdWlldCcsCiAgICAgICAg
Jy1jJywgT1BUSU9OUy5zYWx0ZGlyLAogICAgICAgICctLScsCiAgICBdICsgYXJndl9wcmVwYXJl
ZAoKICAgIHN5cy5zdGRlcnIud3JpdGUoJ1NBTFRfQVJHVjogezB9XG4nLmZvcm1hdChzYWx0X2Fy
Z3YpKQoKICAgICMgT25seSBlbWl0IHRoZSBkZWxpbWl0ZXIgb24gKmJvdGgqIHN0ZG91dCBhbmQg
c3RkZXJyIHdoZW4gY29tcGxldGVseSBzdWNjZXNzZnVsLgogICAgIyBZZXMsIHRoZSBmbHVzaCgp
IGlzIG5lY2Vzc2FyeS4KICAgIHN5cy5zdGRvdXQud3JpdGUoT1BUSU9OUy5kZWxpbWl0ZXIgKyAn
XG4nKQogICAgc3lzLnN0ZG91dC5mbHVzaCgpCiAgICBpZiBub3QgT1BUSU9OUy50dHk6CiAgICAg
ICAgc3lzLnN0ZGVyci53cml0ZShPUFRJT05TLmRlbGltaXRlciArICdcbicpCiAgICAgICAgc3lz
LnN0ZGVyci5mbHVzaCgpCiAgICBpZiBPUFRJT05TLmNtZF91bWFzayBpcyBub3QgTm9uZToKICAg
ICAgICBvbGRfdW1hc2sgPSBvcy51bWFzayhPUFRJT05TLmNtZF91bWFzaykKICAgIGlmIE9QVElP
TlMudHR5OgogICAgICAgIHN0ZG91dCwgXyA9IHN1YnByb2Nlc3MuUG9wZW4oc2FsdF9hcmd2LCBz
dGRvdXQ9c3VicHJvY2Vzcy5QSVBFLCBzdGRlcnI9c3VicHJvY2Vzcy5QSVBFKS5jb21tdW5pY2F0
ZSgpCiAgICAgICAgc3lzLnN0ZG91dC53cml0ZShzdGRvdXQpCiAgICAgICAgc3lzLnN0ZG91dC5m
bHVzaCgpCiAgICAgICAgaWYgT1BUSU9OUy53aXBlOgogICAgICAgICAgICBzaHV0aWwucm10cmVl
KE9QVElPTlMuc2FsdGRpcikKICAgIGVsaWYgT1BUSU9OUy53aXBlOgogICAgICAgIHN1YnByb2Nl
c3MuY2FsbChzYWx0X2FyZ3YpCiAgICAgICAgc2h1dGlsLnJtdHJlZShPUFRJT05TLnNhbHRkaXIp
CiAgICBlbHNlOgogICAgICAgIG9zLmV4ZWN2KHN5cy5leGVjdXRhYmxlLCBzYWx0X2FyZ3YpCiAg
ICBpZiBPUFRJT05TLmNtZF91bWFzayBpcyBub3QgTm9uZToKICAgICAgICBvcy51bWFzayhvbGRf
dW1hc2spCgppZiBfX25hbWVfXyA9PSAnX19tYWluX18nOgogICAgc3lzLmV4aXQobWFpbihzeXMu
YXJndikpCg==
""").decode("utf-8"))'
fi
exit 0
else
continue
fi
done
echo "ERROR: Unable to locate appropriate python command" >&2
exit $EX_PYTHON_INVALID
EOF
2016-10-20 00:47:57,055 [salt.utils.vt    ][DEBUG   ][2633] Child Forked! PID: 2640  STDOUT_FD: 9  STDERR_FD: 11
2016-10-20 00:47:57,056 [salt.utils.vt    ][DEBUG   ][2633] VT: Salt-SSH SHIM Terminal Command executed. Logged to TRACE
2016-10-20 00:47:57,060 [salt.utils.vt    ][TRACE   ][2633] Terminal Command: /bin/sh -c ssh 192.168.1.15  -o KbdInteractiveAuthentication=no -o PasswordAuthentication=yes -o GSSAPIAuthentication=no -o ConnectTimeout=65 -o Port=22 -o IdentityFile=/root/saltstack_master/etc/salt/pki/master/ssh/salt-ssh.rsa -o User=salt-ope  /bin/sh << 'EOF'
set -e
set -u
DEBUG="1"
if [ -n "$DEBUG" ]
then set -x
fi
SUDO=""
if [ -n "sudo" ]
then SUDO="sudo "
fi
EX_PYTHON_INVALID=10
PYTHON_CMDS="python3 python27 python2.7 python26 python2.6 python2 python"
for py_cmd in $PYTHON_CMDS
do
if command -v "$py_cmd" >/dev/null 2>&1 && "$py_cmd" -c \
"import sys; sys.exit(not (sys.version_info >= (2, 6)
and sys.version_info[0] == 2));"
then
py_cmd_path=`"$py_cmd" -c \
'from __future__ import print_function;
import sys; print(sys.executable);'`
cmdpath=$(which $py_cmd 2>&1)
if file $cmdpath | grep "shell script" > /dev/null
then
ex_vars="'PATH', 'LD_LIBRARY_PATH', 'MANPATH', \
'XDG_DATA_DIRS', 'PKG_CONFIG_PATH'"
export $($py_cmd -c \
"from __future__ import print_function;
import sys;
import os;
map(sys.stdout.write, ['{0}={1} ' \
.format(x, os.environ[x]) for x in [$ex_vars]])")
exec $SUDO PATH=$PATH LD_LIBRARY_PATH=$LD_LIBRARY_PATH \
MANPATH=$MANPATH XDG_DATA_DIRS=$XDG_DATA_DIRS \
PKG_CONFIG_PATH=$PKG_CONFIG_PATH \
"$py_cmd_path" -c \
'import base64;
exec(base64.b64decode("""IyBweWxpbnQ6IGRpc2FibGU9Vzk5MDMKJycnClRoaXMgaXMgYSBzaGltIHRoYXQgaGFuZGxlcyBj
aGVja2luZyBhbmQgdXBkYXRpbmcgc2FsdCB0aGluIGFuZAp0aGVuIGludm9raW5nIHRoaW4uCgpU
aGlzIGlzIG5vdCBpbnRlbmRlZCB0byBiZSBpbnN0YW50aWF0ZWQgYXMgYSBtb2R1bGUsIHJhdGhl
ciBpdCBpcyBhCmhlbHBlciBzY3JpcHQgdXNlZCBieSBzYWx0LmNsaWVudC5zc2guU2luZ2xlLiAg
SXQgaXMgaGVyZSwgaW4gYQpzZXBhcmF0ZSBmaWxlLCBmb3IgY29udmVuaWVuY2Ugb2YgZGV2ZWxv
cG1lbnQuCicnJwoKZnJvbSBfX2Z1dHVyZV9fIGltcG9ydCBhYnNvbHV0ZV9pbXBvcnQKCmltcG9y
dCBoYXNobGliCmltcG9ydCB0YXJmaWxlCmltcG9ydCBzaHV0aWwKaW1wb3J0IHN5cwppbXBvcnQg
b3MKaW1wb3J0IHN0YXQKaW1wb3J0IHN1YnByb2Nlc3MKClRISU5fQVJDSElWRSA9ICdzYWx0LXRo
aW4udGd6JwpFWFRfQVJDSElWRSA9ICdzYWx0LWV4dF9tb2RzLnRneicKCiMgS2VlcCB0aGVzZSBp
biBzeW5jIHdpdGggc2FsdC9kZWZhdWx0cy9leGl0Y29kZXMucHkKRVhfVEhJTl9ERVBMT1kgPSAx
MQpFWF9USElOX0NIRUNLU1VNID0gMTIKRVhfTU9EX0RFUExPWSA9IDEzCkVYX1NDUF9OT1RfRk9V
TkQgPSAxNApFWF9DQU5UQ1JFQVQgPSA3MwoKCmNsYXNzIE9CSihvYmplY3QpOgogICAgIiIiQW4g
ZW1wdHkgY2xhc3MgZm9yIGhvbGRpbmcgaW5zdGFuY2UgYXR0cmlidXRlIHZhbHVlcy4iIiIKICAg
IHBhc3MKCgpPUFRJT05TID0gTm9uZQpBUkdTID0gTm9uZQojIFRoZSBiZWxvdyBsaW5lIGlzIHdo
ZXJlIE9QVElPTlMgY2FuIGJlIHJlZGVmaW5lZCB3aXRoIGludGVybmFsIG9wdGlvbnMKIyAocmF0
aGVyIHRoYW4gY2xpIGFyZ3VtZW50cykgd2hlbiB0aGUgc2hpbSBpcyBidW5kbGVkIGJ5CiMgY2xp
ZW50LnNzaC5TaW5nbGUuX2NtZF9zdHIoKQojIHB5bGludDogZGlzYWJsZT1ibG9jay1jb21tZW50
LXNob3VsZC1zdGFydC13aXRoLWNhcmRpbmFsLXNwYWNlCgpPUFRJT05TID0gT0JKKCkKT1BUSU9O
Uy5jb25maWcgPSAiIiIKe2ZpbGVzZXJ2ZXJfbGlzdF9jYWNoZV90aW1lOiAzLCBncmFpbnNfY2Fj
aGU6IHRydWUsIGlkOiBtdW5pbiwgbG9nX2ZpbGU6IHNhbHQtY2FsbC5sb2csCiAgcm9vdF9kaXI6
IC92YXIvdG1wLy5zYWx0LW9wZV8xYTM1MzJfc2FsdC9ydW5uaW5nX2RhdGEsIHNvY2tfZGlyOiAv
fQoiIiIKT1BUSU9OUy5kZWxpbWl0ZXIgPSAnX2VkYmM3ODg1ZTRmOWFhYzliODNiMzU5OTliNjhk
MDE1MTQ4Y2FmNDY3Yjc4ZmEzOWMwNWY2NjljMGZmODk4NzgnCk9QVElPTlMuc2FsdGRpciA9ICcv
dmFyL3RtcC8uc2FsdC1vcGVfMWEzNTMyX3NhbHQnCk9QVElPTlMuY2hlY2tzdW0gPSAnOTg1MjZk
OTliMWU3YjA3OWRjZWZjZWM5ZmE1Yjg1MWZmYmY5ODEzZCcKT1BUSU9OUy5oYXNoZnVuYyA9ICdz
aGExJwpPUFRJT05TLnZlcnNpb24gPSAnMjAxNi4zLjInCk9QVElPTlMuZXh0X21vZHMgPSAnNzQx
OTZlMDExNDUyMWUyYWRjNjlkNjgxY2U2YTQ1NjNiYTBhZTFlYicKT1BUSU9OUy53aXBlID0gRmFs
c2UKT1BUSU9OUy50dHkgPSBGYWxzZQpPUFRJT05TLmNtZF91bWFzayA9IE5vbmUKQVJHUyA9IFsn
dGVzdC5vcHRzX3BrZyddCgoKCmRlZiBuZWVkX2RlcGxveW1lbnQoKToKICAgICIiIgogICAgU2Fs
dCB0aGluIG5lZWRzIHRvIGJlIGRlcGxveWVkIC0gcHJlcCB0aGUgdGFyZ2V0IGRpcmVjdG9yeSBh
bmQgZW1pdCB0aGUKICAgIGRlbGltZXRlciBhbmQgZXhpdCBjb2RlIHRoYXQgc2lnbmFscyBhIHJl
cXVpcmVkIGRlcGxveW1lbnQuCiAgICAiIiIKICAgIGlmIG9zLnBhdGguZXhpc3RzKE9QVElPTlMu
c2FsdGRpcik6CiAgICAgICAgc2h1dGlsLnJtdHJlZShPUFRJT05TLnNhbHRkaXIpCiAgICBvbGRf
dW1hc2sgPSBvcy51bWFzaygwbzA3NykKICAgIG9zLm1ha2VkaXJzKE9QVElPTlMuc2FsdGRpcikK
ICAgIG9zLnVtYXNrKG9sZF91bWFzaykKICAgICMgVmVyaWZ5IHBlcm1zIG9uIHNhbHRkaXIKICAg
IGV1aWQgPSBvcy5nZXRldWlkKCkKICAgIGRzdGF0ID0gb3Muc3RhdChPUFRJT05TLnNhbHRkaXIp
CiAgICBpZiBkc3RhdC5zdF91aWQgIT0gZXVpZDoKICAgICAgICAjIEF0dGFjayBkZXRlY3RlZCwg
dHJ5IGFnYWluCiAgICAgICAgbmVlZF9kZXBsb3ltZW50KCkKICAgIGlmIGRzdGF0LnN0X21vZGUg
IT0gMTY4MzI6CiAgICAgICAgIyBBdHRhY2sgZGV0ZWN0ZWQKICAgICAgICBuZWVkX2RlcGxveW1l
bnQoKQogICAgIyBJZiBTVURPaW5nIHRoZW4gYWxzbyBnaXZlIHRoZSBzdXBlciB1c2VyIGdyb3Vw
IHdyaXRlIHBlcm1pc3Npb25zCiAgICBzdWRvX2dpZCA9IG9zLmVudmlyb24uZ2V0KCdTVURPX0dJ
RCcpCiAgICBpZiBzdWRvX2dpZDoKICAgICAgICBvcy5jaG93bihPUFRJT05TLnNhbHRkaXIsIC0x
LCBpbnQoc3Vkb19naWQpKQogICAgICAgIHN0dCA9IG9zLnN0YXQoT1BUSU9OUy5zYWx0ZGlyKQog
ICAgICAgIG9zLmNobW9kKE9QVElPTlMuc2FsdGRpciwgc3R0LnN0X21vZGUgfCBzdGF0LlNfSVdH
UlAgfCBzdGF0LlNfSVJHUlAgfCBzdGF0LlNfSVhHUlApCgogICAgIyBEZWxpbWl0ZXIgZW1pdHRl
ZCBvbiBzdGRvdXQgKm9ubHkqIHRvIGluZGljYXRlIHNoaW0gbWVzc2FnZSB0byBtYXN0ZXIuCiAg
ICBzeXMuc3Rkb3V0LndyaXRlKCJ7MH1cbmRlcGxveVxuIi5mb3JtYXQoT1BUSU9OUy5kZWxpbWl0
ZXIpKQogICAgc3lzLmV4aXQoRVhfVEhJTl9ERVBMT1kpCgoKIyBBZGFwdGVkIGZyb20gc2FsdC51
dGlscy5nZXRfaGFzaCgpCmRlZiBnZXRfaGFzaChwYXRoLCBmb3JtPSdzaGExJywgY2h1bmtfc2l6
ZT00MDk2KToKICAgICIiIkdlbmVyYXRlIGEgaGFzaCBkaWdlc3Qgc3RyaW5nIGZvciBhIGZpbGUu
IiIiCiAgICB0cnk6CiAgICAgICAgaGFzaF90eXBlID0gZ2V0YXR0cihoYXNobGliLCBmb3JtKQog
ICAgZXhjZXB0IEF0dHJpYnV0ZUVycm9yOgogICAgICAgIHJhaXNlIFZhbHVlRXJyb3IoJ0ludmFs
aWQgaGFzaCB0eXBlOiB7MH0nLmZvcm1hdChmb3JtKSkKICAgIHdpdGggb3BlbihwYXRoLCAncmIn
KSBhcyBpZmlsZToKICAgICAgICBoYXNoX29iaiA9IGhhc2hfdHlwZSgpCiAgICAgICAgIyByZWFk
IHRoZSBmaWxlIGluIGluIGNodW5rcywgbm90IHRoZSBlbnRpcmUgZmlsZQogICAgICAgIGZvciBj
aHVuayBpbiBpdGVyKGxhbWJkYTogaWZpbGUucmVhZChjaHVua19zaXplKSwgYicnKToKICAgICAg
ICAgICAgaGFzaF9vYmoudXBkYXRlKGNodW5rKQogICAgICAgIHJldHVybiBoYXNoX29iai5oZXhk
aWdlc3QoKQoKCmRlZiB1bnBhY2tfdGhpbih0aGluX3BhdGgpOgogICAgIiIiVW5wYWNrIHRoZSBT
YWx0IHRoaW4gYXJjaGl2ZS4iIiIKICAgIHRmaWxlID0gdGFyZmlsZS5UYXJGaWxlLmd6b3Blbih0
aGluX3BhdGgpCiAgICBvbGRfdW1hc2sgPSBvcy51bWFzaygwbzA3NykKICAgIHRmaWxlLmV4dHJh
Y3RhbGwocGF0aD1PUFRJT05TLnNhbHRkaXIpCiAgICB0ZmlsZS5jbG9zZSgpCiAgICBvcy51bWFz
ayhvbGRfdW1hc2spCiAgICBvcy51bmxpbmsodGhpbl9wYXRoKQoKCmRlZiBuZWVkX2V4dCgpOgog
ICAgIiIiU2lnbmFsIHRoYXQgZXh0ZXJuYWwgbW9kdWxlcyBuZWVkIHRvIGJlIGRlcGxveWVkLiIi
IgogICAgc3lzLnN0ZG91dC53cml0ZSgiezB9XG5leHRfbW9kc1xuIi5mb3JtYXQoT1BUSU9OUy5k
ZWxpbWl0ZXIpKQogICAgc3lzLmV4aXQoRVhfTU9EX0RFUExPWSkKCgpkZWYgdW5wYWNrX2V4dChl
eHRfcGF0aCk6CiAgICAiIiJVbnBhY2sgdGhlIGV4dGVybmFsIG1vZHVsZXMuIiIiCiAgICBtb2Rj
YWNoZSA9IG9zLnBhdGguam9pbigKICAgICAgICAgICAgT1BUSU9OUy5zYWx0ZGlyLAogICAgICAg
ICAgICAncnVubmluZ19kYXRhJywKICAgICAgICAgICAgJ3ZhcicsCiAgICAgICAgICAgICdjYWNo
ZScsCiAgICAgICAgICAgICdzYWx0JywKICAgICAgICAgICAgJ21pbmlvbicsCiAgICAgICAgICAg
ICdleHRtb2RzJykKICAgIHRmaWxlID0gdGFyZmlsZS5UYXJGaWxlLmd6b3BlbihleHRfcGF0aCkK
ICAgIG9sZF91bWFzayA9IG9zLnVtYXNrKDBvMDc3KQogICAgdGZpbGUuZXh0cmFjdGFsbChwYXRo
PW1vZGNhY2hlKQogICAgdGZpbGUuY2xvc2UoKQogICAgb3MudW1hc2sob2xkX3VtYXNrKQogICAg
b3MudW5saW5rKGV4dF9wYXRoKQogICAgdmVyX3BhdGggPSBvcy5wYXRoLmpvaW4obW9kY2FjaGUs
ICdleHRfdmVyc2lvbicpCiAgICB2ZXJfZHN0ID0gb3MucGF0aC5qb2luKE9QVElPTlMuc2FsdGRp
ciwgJ2V4dF92ZXJzaW9uJykKICAgIHNodXRpbC5tb3ZlKHZlcl9wYXRoLCB2ZXJfZHN0KQoKCmRl
ZiBtYWluKGFyZ3YpOiAgIyBweWxpbnQ6IGRpc2FibGU9VzA2MTMKICAgICIiIk1haW4gcHJvZ3Jh
bSBib2R5IiIiCiAgICB0aGluX3BhdGggPSBvcy5wYXRoLmpvaW4oT1BUSU9OUy5zYWx0ZGlyLCBU
SElOX0FSQ0hJVkUpCiAgICBpZiBvcy5wYXRoLmlzZmlsZSh0aGluX3BhdGgpOgogICAgICAgIGlm
IE9QVElPTlMuY2hlY2tzdW0gIT0gZ2V0X2hhc2godGhpbl9wYXRoLCBPUFRJT05TLmhhc2hmdW5j
KToKICAgICAgICAgICAgc3lzLnN0ZGVyci53cml0ZSgnezB9XG4nLmZvcm1hdChPUFRJT05TLmNo
ZWNrc3VtKSkKICAgICAgICAgICAgc3lzLnN0ZGVyci53cml0ZSgnezB9XG4nLmZvcm1hdChnZXRf
aGFzaCh0aGluX3BhdGgsIE9QVElPTlMuaGFzaGZ1bmMpKSkKICAgICAgICAgICAgb3MudW5saW5r
KHRoaW5fcGF0aCkKICAgICAgICAgICAgc3lzLnN0ZGVyci53cml0ZSgnV0FSTklORzogY2hlY2tz
dW0gbWlzbWF0Y2ggZm9yICJ7MH0iXG4nLmZvcm1hdCh0aGluX3BhdGgpKQogICAgICAgICAgICBz
eXMuZXhpdChFWF9USElOX0NIRUNLU1VNKQogICAgICAgIHVucGFja190aGluKHRoaW5fcGF0aCkK
ICAgICAgICAjIFNhbHQgdGhpbiBub3cgaXMgYXZhaWxhYmxlIHRvIHVzZQogICAgZWxzZToKICAg
ICAgICBzY3BzdGF0ID0gc3VicHJvY2Vzcy5Qb3BlbihbJy9iaW4vc2gnLCAnLWMnLCAnY29tbWFu
ZCAtdiBzY3AnXSkud2FpdCgpCiAgICAgICAgaWYgc2Nwc3RhdCAhPSAwOgogICAgICAgICAgICBz
eXMuZXhpdChFWF9TQ1BfTk9UX0ZPVU5EKQoKICAgICAgICBpZiBub3Qgb3MucGF0aC5leGlzdHMo
T1BUSU9OUy5zYWx0ZGlyKToKICAgICAgICAgICAgbmVlZF9kZXBsb3ltZW50KCkKCiAgICAgICAg
aWYgbm90IG9zLnBhdGguaXNkaXIoT1BUSU9OUy5zYWx0ZGlyKToKICAgICAgICAgICAgc3lzLnN0
ZGVyci53cml0ZSgKICAgICAgICAgICAgICAgICdFUlJPUjogc2FsdCBwYXRoICJ7MH0iIGV4aXN0
cyBidXQgaXMnCiAgICAgICAgICAgICAgICAnIG5vdCBhIGRpcmVjdG9yeVxuJy5mb3JtYXQoT1BU
SU9OUy5zYWx0ZGlyKQogICAgICAgICAgICApCiAgICAgICAgICAgIHN5cy5leGl0KEVYX0NBTlRD
UkVBVCkKCiAgICAgICAgdmVyc2lvbl9wYXRoID0gb3MucGF0aC5qb2luKE9QVElPTlMuc2FsdGRp
ciwgJ3ZlcnNpb24nKQogICAgICAgIGlmIG5vdCBvcy5wYXRoLmV4aXN0cyh2ZXJzaW9uX3BhdGgp
IG9yIG5vdCBvcy5wYXRoLmlzZmlsZSh2ZXJzaW9uX3BhdGgpOgogICAgICAgICAgICBzeXMuc3Rk
ZXJyLndyaXRlKAogICAgICAgICAgICAgICAgJ1dBUk5JTkc6IFVuYWJsZSB0byBsb2NhdGUgY3Vy
cmVudCB0aGluICcKICAgICAgICAgICAgICAgICcgdmVyc2lvbjogezB9LlxuJy5mb3JtYXQodmVy
c2lvbl9wYXRoKQogICAgICAgICAgICApCiAgICAgICAgICAgIG5lZWRfZGVwbG95bWVudCgpCiAg
ICAgICAgd2l0aCBvcGVuKHZlcnNpb25fcGF0aCwgJ3InKSBhcyB2cG86CiAgICAgICAgICAgIGN1
cl92ZXJzaW9uID0gdnBvLnJlYWRsaW5lKCkuc3RyaXAoKQogICAgICAgIGlmIGN1cl92ZXJzaW9u
ICE9IE9QVElPTlMudmVyc2lvbjoKICAgICAgICAgICAgc3lzLnN0ZGVyci53cml0ZSgKICAgICAg
ICAgICAgICAgICdXQVJOSU5HOiBjdXJyZW50IHRoaW4gdmVyc2lvbiB7MH0nCiAgICAgICAgICAg
ICAgICAnIGlzIG5vdCB1cC10by1kYXRlIHdpdGggezF9LlxuJy5mb3JtYXQoCiAgICAgICAgICAg
ICAgICAgICAgY3VyX3ZlcnNpb24sIE9QVElPTlMudmVyc2lvbgogICAgICAgICAgICAgICAgKQog
ICAgICAgICAgICApCiAgICAgICAgICAgIG5lZWRfZGVwbG95bWVudCgpCiAgICAgICAgIyBTYWx0
IHRoaW4gZXhpc3RzIGFuZCBpcyB1cC10by1kYXRlIC0gZmFsbCB0aHJvdWdoIGFuZCB1c2UgaXQK
CiAgICBzYWx0X2NhbGxfcGF0aCA9IG9zLnBhdGguam9pbihPUFRJT05TLnNhbHRkaXIsICdzYWx0
LWNhbGwnKQogICAgaWYgbm90IG9zLnBhdGguaXNmaWxlKHNhbHRfY2FsbF9wYXRoKToKICAgICAg
ICBzeXMuc3RkZXJyLndyaXRlKCdFUlJPUjogdGhpbiBpcyBtaXNzaW5nICJ7MH0iXG4nLmZvcm1h
dChzYWx0X2NhbGxfcGF0aCkpCiAgICAgICAgbmVlZF9kZXBsb3ltZW50KCkKCiAgICB3aXRoIG9w
ZW4ob3MucGF0aC5qb2luKE9QVElPTlMuc2FsdGRpciwgJ21pbmlvbicpLCAndycpIGFzIGNvbmZp
ZzoKICAgICAgICBjb25maWcud3JpdGUoT1BUSU9OUy5jb25maWcgKyAnXG4nKQogICAgaWYgT1BU
SU9OUy5leHRfbW9kczoKICAgICAgICBleHRfcGF0aCA9IG9zLnBhdGguam9pbihPUFRJT05TLnNh
bHRkaXIsIEVYVF9BUkNISVZFKQogICAgICAgIGlmIG9zLnBhdGguZXhpc3RzKGV4dF9wYXRoKToK
ICAgICAgICAgICAgdW5wYWNrX2V4dChleHRfcGF0aCkKICAgICAgICBlbHNlOgogICAgICAgICAg
ICB2ZXJzaW9uX3BhdGggPSBvcy5wYXRoLmpvaW4oT1BUSU9OUy5zYWx0ZGlyLCAnZXh0X3ZlcnNp
b24nKQogICAgICAgICAgICBpZiBub3Qgb3MucGF0aC5leGlzdHModmVyc2lvbl9wYXRoKSBvciBu
b3Qgb3MucGF0aC5pc2ZpbGUodmVyc2lvbl9wYXRoKToKICAgICAgICAgICAgICAgIG5lZWRfZXh0
KCkKICAgICAgICAgICAgd2l0aCBvcGVuKHZlcnNpb25fcGF0aCwgJ3InKSBhcyB2cG86CiAgICAg
ICAgICAgICAgICBjdXJfdmVyc2lvbiA9IHZwby5yZWFkbGluZSgpLnN0cmlwKCkKICAgICAgICAg
ICAgaWYgY3VyX3ZlcnNpb24gIT0gT1BUSU9OUy5leHRfbW9kczoKICAgICAgICAgICAgICAgIG5l
ZWRfZXh0KCkKICAgICMgRml4IHBhcmFtZXRlciBwYXNzaW5nIGlzc3VlCiAgICBpZiBsZW4oQVJH
UykgPT0gMToKICAgICAgICBhcmd2X3ByZXBhcmVkID0gQVJHU1swXS5zcGxpdCgpCiAgICBlbHNl
OgogICAgICAgIGFyZ3ZfcHJlcGFyZWQgPSBBUkdTCgogICAgc2FsdF9hcmd2ID0gWwogICAgICAg
IHN5cy5leGVjdXRhYmxlLAogICAgICAgIHNhbHRfY2FsbF9wYXRoLAogICAgICAgICctLXJldGNv
ZGUtcGFzc3Rocm91Z2gnLAogICAgICAgICctLWxvY2FsJywKICAgICAgICAnLS1tZXRhZGF0YScs
CiAgICAgICAgJy0tb3V0JywgJ2pzb24nLAogICAgICAgICctbCcsICdxdWlldCcsCiAgICAgICAg
Jy1jJywgT1BUSU9OUy5zYWx0ZGlyLAogICAgICAgICctLScsCiAgICBdICsgYXJndl9wcmVwYXJl
ZAoKICAgIHN5cy5zdGRlcnIud3JpdGUoJ1NBTFRfQVJHVjogezB9XG4nLmZvcm1hdChzYWx0X2Fy
Z3YpKQoKICAgICMgT25seSBlbWl0IHRoZSBkZWxpbWl0ZXIgb24gKmJvdGgqIHN0ZG91dCBhbmQg
c3RkZXJyIHdoZW4gY29tcGxldGVseSBzdWNjZXNzZnVsLgogICAgIyBZZXMsIHRoZSBmbHVzaCgp
IGlzIG5lY2Vzc2FyeS4KICAgIHN5cy5zdGRvdXQud3JpdGUoT1BUSU9OUy5kZWxpbWl0ZXIgKyAn
XG4nKQogICAgc3lzLnN0ZG91dC5mbHVzaCgpCiAgICBpZiBub3QgT1BUSU9OUy50dHk6CiAgICAg
ICAgc3lzLnN0ZGVyci53cml0ZShPUFRJT05TLmRlbGltaXRlciArICdcbicpCiAgICAgICAgc3lz
LnN0ZGVyci5mbHVzaCgpCiAgICBpZiBPUFRJT05TLmNtZF91bWFzayBpcyBub3QgTm9uZToKICAg
ICAgICBvbGRfdW1hc2sgPSBvcy51bWFzayhPUFRJT05TLmNtZF91bWFzaykKICAgIGlmIE9QVElP
TlMudHR5OgogICAgICAgIHN0ZG91dCwgXyA9IHN1YnByb2Nlc3MuUG9wZW4oc2FsdF9hcmd2LCBz
dGRvdXQ9c3VicHJvY2Vzcy5QSVBFLCBzdGRlcnI9c3VicHJvY2Vzcy5QSVBFKS5jb21tdW5pY2F0
ZSgpCiAgICAgICAgc3lzLnN0ZG91dC53cml0ZShzdGRvdXQpCiAgICAgICAgc3lzLnN0ZG91dC5m
bHVzaCgpCiAgICAgICAgaWYgT1BUSU9OUy53aXBlOgogICAgICAgICAgICBzaHV0aWwucm10cmVl
KE9QVElPTlMuc2FsdGRpcikKICAgIGVsaWYgT1BUSU9OUy53aXBlOgogICAgICAgIHN1YnByb2Nl
c3MuY2FsbChzYWx0X2FyZ3YpCiAgICAgICAgc2h1dGlsLnJtdHJlZShPUFRJT05TLnNhbHRkaXIp
CiAgICBlbHNlOgogICAgICAgIG9zLmV4ZWN2KHN5cy5leGVjdXRhYmxlLCBzYWx0X2FyZ3YpCiAg
ICBpZiBPUFRJT05TLmNtZF91bWFzayBpcyBub3QgTm9uZToKICAgICAgICBvcy51bWFzayhvbGRf
dW1hc2spCgppZiBfX25hbWVfXyA9PSAnX19tYWluX18nOgogICAgc3lzLmV4aXQobWFpbihzeXMu
YXJndikpCg==
""").decode("utf-8"))'
else
exec $SUDO "$py_cmd_path" -c \
'import base64;
exec(base64.b64decode("""IyBweWxpbnQ6IGRpc2FibGU9Vzk5MDMKJycnClRoaXMgaXMgYSBzaGltIHRoYXQgaGFuZGxlcyBj
aGVja2luZyBhbmQgdXBkYXRpbmcgc2FsdCB0aGluIGFuZAp0aGVuIGludm9raW5nIHRoaW4uCgpU
aGlzIGlzIG5vdCBpbnRlbmRlZCB0byBiZSBpbnN0YW50aWF0ZWQgYXMgYSBtb2R1bGUsIHJhdGhl
ciBpdCBpcyBhCmhlbHBlciBzY3JpcHQgdXNlZCBieSBzYWx0LmNsaWVudC5zc2guU2luZ2xlLiAg
SXQgaXMgaGVyZSwgaW4gYQpzZXBhcmF0ZSBmaWxlLCBmb3IgY29udmVuaWVuY2Ugb2YgZGV2ZWxv
cG1lbnQuCicnJwoKZnJvbSBfX2Z1dHVyZV9fIGltcG9ydCBhYnNvbHV0ZV9pbXBvcnQKCmltcG9y
dCBoYXNobGliCmltcG9ydCB0YXJmaWxlCmltcG9ydCBzaHV0aWwKaW1wb3J0IHN5cwppbXBvcnQg
b3MKaW1wb3J0IHN0YXQKaW1wb3J0IHN1YnByb2Nlc3MKClRISU5fQVJDSElWRSA9ICdzYWx0LXRo
aW4udGd6JwpFWFRfQVJDSElWRSA9ICdzYWx0LWV4dF9tb2RzLnRneicKCiMgS2VlcCB0aGVzZSBp
biBzeW5jIHdpdGggc2FsdC9kZWZhdWx0cy9leGl0Y29kZXMucHkKRVhfVEhJTl9ERVBMT1kgPSAx
MQpFWF9USElOX0NIRUNLU1VNID0gMTIKRVhfTU9EX0RFUExPWSA9IDEzCkVYX1NDUF9OT1RfRk9V
TkQgPSAxNApFWF9DQU5UQ1JFQVQgPSA3MwoKCmNsYXNzIE9CSihvYmplY3QpOgogICAgIiIiQW4g
ZW1wdHkgY2xhc3MgZm9yIGhvbGRpbmcgaW5zdGFuY2UgYXR0cmlidXRlIHZhbHVlcy4iIiIKICAg
IHBhc3MKCgpPUFRJT05TID0gTm9uZQpBUkdTID0gTm9uZQojIFRoZSBiZWxvdyBsaW5lIGlzIHdo
ZXJlIE9QVElPTlMgY2FuIGJlIHJlZGVmaW5lZCB3aXRoIGludGVybmFsIG9wdGlvbnMKIyAocmF0
aGVyIHRoYW4gY2xpIGFyZ3VtZW50cykgd2hlbiB0aGUgc2hpbSBpcyBidW5kbGVkIGJ5CiMgY2xp
ZW50LnNzaC5TaW5nbGUuX2NtZF9zdHIoKQojIHB5bGludDogZGlzYWJsZT1ibG9jay1jb21tZW50
LXNob3VsZC1zdGFydC13aXRoLWNhcmRpbmFsLXNwYWNlCgpPUFRJT05TID0gT0JKKCkKT1BUSU9O
Uy5jb25maWcgPSAiIiIKe2ZpbGVzZXJ2ZXJfbGlzdF9jYWNoZV90aW1lOiAzLCBncmFpbnNfY2Fj
aGU6IHRydWUsIGlkOiBtdW5pbiwgbG9nX2ZpbGU6IHNhbHQtY2FsbC5sb2csCiAgcm9vdF9kaXI6
IC92YXIvdG1wLy5zYWx0LW9wZV8xYTM1MzJfc2FsdC9ydW5uaW5nX2RhdGEsIHNvY2tfZGlyOiAv
fQoiIiIKT1BUSU9OUy5kZWxpbWl0ZXIgPSAnX2VkYmM3ODg1ZTRmOWFhYzliODNiMzU5OTliNjhk
MDE1MTQ4Y2FmNDY3Yjc4ZmEzOWMwNWY2NjljMGZmODk4NzgnCk9QVElPTlMuc2FsdGRpciA9ICcv
dmFyL3RtcC8uc2FsdC1vcGVfMWEzNTMyX3NhbHQnCk9QVElPTlMuY2hlY2tzdW0gPSAnOTg1MjZk
OTliMWU3YjA3OWRjZWZjZWM5ZmE1Yjg1MWZmYmY5ODEzZCcKT1BUSU9OUy5oYXNoZnVuYyA9ICdz
aGExJwpPUFRJT05TLnZlcnNpb24gPSAnMjAxNi4zLjInCk9QVElPTlMuZXh0X21vZHMgPSAnNzQx
OTZlMDExNDUyMWUyYWRjNjlkNjgxY2U2YTQ1NjNiYTBhZTFlYicKT1BUSU9OUy53aXBlID0gRmFs
c2UKT1BUSU9OUy50dHkgPSBGYWxzZQpPUFRJT05TLmNtZF91bWFzayA9IE5vbmUKQVJHUyA9IFsn
dGVzdC5vcHRzX3BrZyddCgoKCmRlZiBuZWVkX2RlcGxveW1lbnQoKToKICAgICIiIgogICAgU2Fs
dCB0aGluIG5lZWRzIHRvIGJlIGRlcGxveWVkIC0gcHJlcCB0aGUgdGFyZ2V0IGRpcmVjdG9yeSBh
bmQgZW1pdCB0aGUKICAgIGRlbGltZXRlciBhbmQgZXhpdCBjb2RlIHRoYXQgc2lnbmFscyBhIHJl
cXVpcmVkIGRlcGxveW1lbnQuCiAgICAiIiIKICAgIGlmIG9zLnBhdGguZXhpc3RzKE9QVElPTlMu
c2FsdGRpcik6CiAgICAgICAgc2h1dGlsLnJtdHJlZShPUFRJT05TLnNhbHRkaXIpCiAgICBvbGRf
dW1hc2sgPSBvcy51bWFzaygwbzA3NykKICAgIG9zLm1ha2VkaXJzKE9QVElPTlMuc2FsdGRpcikK
ICAgIG9zLnVtYXNrKG9sZF91bWFzaykKICAgICMgVmVyaWZ5IHBlcm1zIG9uIHNhbHRkaXIKICAg
IGV1aWQgPSBvcy5nZXRldWlkKCkKICAgIGRzdGF0ID0gb3Muc3RhdChPUFRJT05TLnNhbHRkaXIp
CiAgICBpZiBkc3RhdC5zdF91aWQgIT0gZXVpZDoKICAgICAgICAjIEF0dGFjayBkZXRlY3RlZCwg
dHJ5IGFnYWluCiAgICAgICAgbmVlZF9kZXBsb3ltZW50KCkKICAgIGlmIGRzdGF0LnN0X21vZGUg
IT0gMTY4MzI6CiAgICAgICAgIyBBdHRhY2sgZGV0ZWN0ZWQKICAgICAgICBuZWVkX2RlcGxveW1l
bnQoKQogICAgIyBJZiBTVURPaW5nIHRoZW4gYWxzbyBnaXZlIHRoZSBzdXBlciB1c2VyIGdyb3Vw
IHdyaXRlIHBlcm1pc3Npb25zCiAgICBzdWRvX2dpZCA9IG9zLmVudmlyb24uZ2V0KCdTVURPX0dJ
RCcpCiAgICBpZiBzdWRvX2dpZDoKICAgICAgICBvcy5jaG93bihPUFRJT05TLnNhbHRkaXIsIC0x
LCBpbnQoc3Vkb19naWQpKQogICAgICAgIHN0dCA9IG9zLnN0YXQoT1BUSU9OUy5zYWx0ZGlyKQog
ICAgICAgIG9zLmNobW9kKE9QVElPTlMuc2FsdGRpciwgc3R0LnN0X21vZGUgfCBzdGF0LlNfSVdH
UlAgfCBzdGF0LlNfSVJHUlAgfCBzdGF0LlNfSVhHUlApCgogICAgIyBEZWxpbWl0ZXIgZW1pdHRl
ZCBvbiBzdGRvdXQgKm9ubHkqIHRvIGluZGljYXRlIHNoaW0gbWVzc2FnZSB0byBtYXN0ZXIuCiAg
ICBzeXMuc3Rkb3V0LndyaXRlKCJ7MH1cbmRlcGxveVxuIi5mb3JtYXQoT1BUSU9OUy5kZWxpbWl0
ZXIpKQogICAgc3lzLmV4aXQoRVhfVEhJTl9ERVBMT1kpCgoKIyBBZGFwdGVkIGZyb20gc2FsdC51
dGlscy5nZXRfaGFzaCgpCmRlZiBnZXRfaGFzaChwYXRoLCBmb3JtPSdzaGExJywgY2h1bmtfc2l6
ZT00MDk2KToKICAgICIiIkdlbmVyYXRlIGEgaGFzaCBkaWdlc3Qgc3RyaW5nIGZvciBhIGZpbGUu
IiIiCiAgICB0cnk6CiAgICAgICAgaGFzaF90eXBlID0gZ2V0YXR0cihoYXNobGliLCBmb3JtKQog
ICAgZXhjZXB0IEF0dHJpYnV0ZUVycm9yOgogICAgICAgIHJhaXNlIFZhbHVlRXJyb3IoJ0ludmFs
aWQgaGFzaCB0eXBlOiB7MH0nLmZvcm1hdChmb3JtKSkKICAgIHdpdGggb3BlbihwYXRoLCAncmIn
KSBhcyBpZmlsZToKICAgICAgICBoYXNoX29iaiA9IGhhc2hfdHlwZSgpCiAgICAgICAgIyByZWFk
IHRoZSBmaWxlIGluIGluIGNodW5rcywgbm90IHRoZSBlbnRpcmUgZmlsZQogICAgICAgIGZvciBj
aHVuayBpbiBpdGVyKGxhbWJkYTogaWZpbGUucmVhZChjaHVua19zaXplKSwgYicnKToKICAgICAg
ICAgICAgaGFzaF9vYmoudXBkYXRlKGNodW5rKQogICAgICAgIHJldHVybiBoYXNoX29iai5oZXhk
aWdlc3QoKQoKCmRlZiB1bnBhY2tfdGhpbih0aGluX3BhdGgpOgogICAgIiIiVW5wYWNrIHRoZSBT
YWx0IHRoaW4gYXJjaGl2ZS4iIiIKICAgIHRmaWxlID0gdGFyZmlsZS5UYXJGaWxlLmd6b3Blbih0
aGluX3BhdGgpCiAgICBvbGRfdW1hc2sgPSBvcy51bWFzaygwbzA3NykKICAgIHRmaWxlLmV4dHJh
Y3RhbGwocGF0aD1PUFRJT05TLnNhbHRkaXIpCiAgICB0ZmlsZS5jbG9zZSgpCiAgICBvcy51bWFz
ayhvbGRfdW1hc2spCiAgICBvcy51bmxpbmsodGhpbl9wYXRoKQoKCmRlZiBuZWVkX2V4dCgpOgog
ICAgIiIiU2lnbmFsIHRoYXQgZXh0ZXJuYWwgbW9kdWxlcyBuZWVkIHRvIGJlIGRlcGxveWVkLiIi
IgogICAgc3lzLnN0ZG91dC53cml0ZSgiezB9XG5leHRfbW9kc1xuIi5mb3JtYXQoT1BUSU9OUy5k
ZWxpbWl0ZXIpKQogICAgc3lzLmV4aXQoRVhfTU9EX0RFUExPWSkKCgpkZWYgdW5wYWNrX2V4dChl
eHRfcGF0aCk6CiAgICAiIiJVbnBhY2sgdGhlIGV4dGVybmFsIG1vZHVsZXMuIiIiCiAgICBtb2Rj
YWNoZSA9IG9zLnBhdGguam9pbigKICAgICAgICAgICAgT1BUSU9OUy5zYWx0ZGlyLAogICAgICAg
ICAgICAncnVubmluZ19kYXRhJywKICAgICAgICAgICAgJ3ZhcicsCiAgICAgICAgICAgICdjYWNo
ZScsCiAgICAgICAgICAgICdzYWx0JywKICAgICAgICAgICAgJ21pbmlvbicsCiAgICAgICAgICAg
ICdleHRtb2RzJykKICAgIHRmaWxlID0gdGFyZmlsZS5UYXJGaWxlLmd6b3BlbihleHRfcGF0aCkK
ICAgIG9sZF91bWFzayA9IG9zLnVtYXNrKDBvMDc3KQogICAgdGZpbGUuZXh0cmFjdGFsbChwYXRo
PW1vZGNhY2hlKQogICAgdGZpbGUuY2xvc2UoKQogICAgb3MudW1hc2sob2xkX3VtYXNrKQogICAg
b3MudW5saW5rKGV4dF9wYXRoKQogICAgdmVyX3BhdGggPSBvcy5wYXRoLmpvaW4obW9kY2FjaGUs
ICdleHRfdmVyc2lvbicpCiAgICB2ZXJfZHN0ID0gb3MucGF0aC5qb2luKE9QVElPTlMuc2FsdGRp
ciwgJ2V4dF92ZXJzaW9uJykKICAgIHNodXRpbC5tb3ZlKHZlcl9wYXRoLCB2ZXJfZHN0KQoKCmRl
ZiBtYWluKGFyZ3YpOiAgIyBweWxpbnQ6IGRpc2FibGU9VzA2MTMKICAgICIiIk1haW4gcHJvZ3Jh
bSBib2R5IiIiCiAgICB0aGluX3BhdGggPSBvcy5wYXRoLmpvaW4oT1BUSU9OUy5zYWx0ZGlyLCBU
SElOX0FSQ0hJVkUpCiAgICBpZiBvcy5wYXRoLmlzZmlsZSh0aGluX3BhdGgpOgogICAgICAgIGlm
IE9QVElPTlMuY2hlY2tzdW0gIT0gZ2V0X2hhc2godGhpbl9wYXRoLCBPUFRJT05TLmhhc2hmdW5j
KToKICAgICAgICAgICAgc3lzLnN0ZGVyci53cml0ZSgnezB9XG4nLmZvcm1hdChPUFRJT05TLmNo
ZWNrc3VtKSkKICAgICAgICAgICAgc3lzLnN0ZGVyci53cml0ZSgnezB9XG4nLmZvcm1hdChnZXRf
aGFzaCh0aGluX3BhdGgsIE9QVElPTlMuaGFzaGZ1bmMpKSkKICAgICAgICAgICAgb3MudW5saW5r
KHRoaW5fcGF0aCkKICAgICAgICAgICAgc3lzLnN0ZGVyci53cml0ZSgnV0FSTklORzogY2hlY2tz
dW0gbWlzbWF0Y2ggZm9yICJ7MH0iXG4nLmZvcm1hdCh0aGluX3BhdGgpKQogICAgICAgICAgICBz
eXMuZXhpdChFWF9USElOX0NIRUNLU1VNKQogICAgICAgIHVucGFja190aGluKHRoaW5fcGF0aCkK
ICAgICAgICAjIFNhbHQgdGhpbiBub3cgaXMgYXZhaWxhYmxlIHRvIHVzZQogICAgZWxzZToKICAg
ICAgICBzY3BzdGF0ID0gc3VicHJvY2Vzcy5Qb3BlbihbJy9iaW4vc2gnLCAnLWMnLCAnY29tbWFu
ZCAtdiBzY3AnXSkud2FpdCgpCiAgICAgICAgaWYgc2Nwc3RhdCAhPSAwOgogICAgICAgICAgICBz
eXMuZXhpdChFWF9TQ1BfTk9UX0ZPVU5EKQoKICAgICAgICBpZiBub3Qgb3MucGF0aC5leGlzdHMo
T1BUSU9OUy5zYWx0ZGlyKToKICAgICAgICAgICAgbmVlZF9kZXBsb3ltZW50KCkKCiAgICAgICAg
aWYgbm90IG9zLnBhdGguaXNkaXIoT1BUSU9OUy5zYWx0ZGlyKToKICAgICAgICAgICAgc3lzLnN0
ZGVyci53cml0ZSgKICAgICAgICAgICAgICAgICdFUlJPUjogc2FsdCBwYXRoICJ7MH0iIGV4aXN0
cyBidXQgaXMnCiAgICAgICAgICAgICAgICAnIG5vdCBhIGRpcmVjdG9yeVxuJy5mb3JtYXQoT1BU
SU9OUy5zYWx0ZGlyKQogICAgICAgICAgICApCiAgICAgICAgICAgIHN5cy5leGl0KEVYX0NBTlRD
UkVBVCkKCiAgICAgICAgdmVyc2lvbl9wYXRoID0gb3MucGF0aC5qb2luKE9QVElPTlMuc2FsdGRp
ciwgJ3ZlcnNpb24nKQogICAgICAgIGlmIG5vdCBvcy5wYXRoLmV4aXN0cyh2ZXJzaW9uX3BhdGgp
IG9yIG5vdCBvcy5wYXRoLmlzZmlsZSh2ZXJzaW9uX3BhdGgpOgogICAgICAgICAgICBzeXMuc3Rk
ZXJyLndyaXRlKAogICAgICAgICAgICAgICAgJ1dBUk5JTkc6IFVuYWJsZSB0byBsb2NhdGUgY3Vy
cmVudCB0aGluICcKICAgICAgICAgICAgICAgICcgdmVyc2lvbjogezB9LlxuJy5mb3JtYXQodmVy
c2lvbl9wYXRoKQogICAgICAgICAgICApCiAgICAgICAgICAgIG5lZWRfZGVwbG95bWVudCgpCiAg
ICAgICAgd2l0aCBvcGVuKHZlcnNpb25fcGF0aCwgJ3InKSBhcyB2cG86CiAgICAgICAgICAgIGN1
cl92ZXJzaW9uID0gdnBvLnJlYWRsaW5lKCkuc3RyaXAoKQogICAgICAgIGlmIGN1cl92ZXJzaW9u
ICE9IE9QVElPTlMudmVyc2lvbjoKICAgICAgICAgICAgc3lzLnN0ZGVyci53cml0ZSgKICAgICAg
ICAgICAgICAgICdXQVJOSU5HOiBjdXJyZW50IHRoaW4gdmVyc2lvbiB7MH0nCiAgICAgICAgICAg
ICAgICAnIGlzIG5vdCB1cC10by1kYXRlIHdpdGggezF9LlxuJy5mb3JtYXQoCiAgICAgICAgICAg
ICAgICAgICAgY3VyX3ZlcnNpb24sIE9QVElPTlMudmVyc2lvbgogICAgICAgICAgICAgICAgKQog
ICAgICAgICAgICApCiAgICAgICAgICAgIG5lZWRfZGVwbG95bWVudCgpCiAgICAgICAgIyBTYWx0
IHRoaW4gZXhpc3RzIGFuZCBpcyB1cC10by1kYXRlIC0gZmFsbCB0aHJvdWdoIGFuZCB1c2UgaXQK
CiAgICBzYWx0X2NhbGxfcGF0aCA9IG9zLnBhdGguam9pbihPUFRJT05TLnNhbHRkaXIsICdzYWx0
LWNhbGwnKQogICAgaWYgbm90IG9zLnBhdGguaXNmaWxlKHNhbHRfY2FsbF9wYXRoKToKICAgICAg
ICBzeXMuc3RkZXJyLndyaXRlKCdFUlJPUjogdGhpbiBpcyBtaXNzaW5nICJ7MH0iXG4nLmZvcm1h
dChzYWx0X2NhbGxfcGF0aCkpCiAgICAgICAgbmVlZF9kZXBsb3ltZW50KCkKCiAgICB3aXRoIG9w
ZW4ob3MucGF0aC5qb2luKE9QVElPTlMuc2FsdGRpciwgJ21pbmlvbicpLCAndycpIGFzIGNvbmZp
ZzoKICAgICAgICBjb25maWcud3JpdGUoT1BUSU9OUy5jb25maWcgKyAnXG4nKQogICAgaWYgT1BU
SU9OUy5leHRfbW9kczoKICAgICAgICBleHRfcGF0aCA9IG9zLnBhdGguam9pbihPUFRJT05TLnNh
bHRkaXIsIEVYVF9BUkNISVZFKQogICAgICAgIGlmIG9zLnBhdGguZXhpc3RzKGV4dF9wYXRoKToK
ICAgICAgICAgICAgdW5wYWNrX2V4dChleHRfcGF0aCkKICAgICAgICBlbHNlOgogICAgICAgICAg
ICB2ZXJzaW9uX3BhdGggPSBvcy5wYXRoLmpvaW4oT1BUSU9OUy5zYWx0ZGlyLCAnZXh0X3ZlcnNp
b24nKQogICAgICAgICAgICBpZiBub3Qgb3MucGF0aC5leGlzdHModmVyc2lvbl9wYXRoKSBvciBu
b3Qgb3MucGF0aC5pc2ZpbGUodmVyc2lvbl9wYXRoKToKICAgICAgICAgICAgICAgIG5lZWRfZXh0
KCkKICAgICAgICAgICAgd2l0aCBvcGVuKHZlcnNpb25fcGF0aCwgJ3InKSBhcyB2cG86CiAgICAg
ICAgICAgICAgICBjdXJfdmVyc2lvbiA9IHZwby5yZWFkbGluZSgpLnN0cmlwKCkKICAgICAgICAg
ICAgaWYgY3VyX3ZlcnNpb24gIT0gT1BUSU9OUy5leHRfbW9kczoKICAgICAgICAgICAgICAgIG5l
ZWRfZXh0KCkKICAgICMgRml4IHBhcmFtZXRlciBwYXNzaW5nIGlzc3VlCiAgICBpZiBsZW4oQVJH
UykgPT0gMToKICAgICAgICBhcmd2X3ByZXBhcmVkID0gQVJHU1swXS5zcGxpdCgpCiAgICBlbHNl
OgogICAgICAgIGFyZ3ZfcHJlcGFyZWQgPSBBUkdTCgogICAgc2FsdF9hcmd2ID0gWwogICAgICAg
IHN5cy5leGVjdXRhYmxlLAogICAgICAgIHNhbHRfY2FsbF9wYXRoLAogICAgICAgICctLXJldGNv
ZGUtcGFzc3Rocm91Z2gnLAogICAgICAgICctLWxvY2FsJywKICAgICAgICAnLS1tZXRhZGF0YScs
CiAgICAgICAgJy0tb3V0JywgJ2pzb24nLAogICAgICAgICctbCcsICdxdWlldCcsCiAgICAgICAg
Jy1jJywgT1BUSU9OUy5zYWx0ZGlyLAogICAgICAgICctLScsCiAgICBdICsgYXJndl9wcmVwYXJl
ZAoKICAgIHN5cy5zdGRlcnIud3JpdGUoJ1NBTFRfQVJHVjogezB9XG4nLmZvcm1hdChzYWx0X2Fy
Z3YpKQoKICAgICMgT25seSBlbWl0IHRoZSBkZWxpbWl0ZXIgb24gKmJvdGgqIHN0ZG91dCBhbmQg
c3RkZXJyIHdoZW4gY29tcGxldGVseSBzdWNjZXNzZnVsLgogICAgIyBZZXMsIHRoZSBmbHVzaCgp
IGlzIG5lY2Vzc2FyeS4KICAgIHN5cy5zdGRvdXQud3JpdGUoT1BUSU9OUy5kZWxpbWl0ZXIgKyAn
XG4nKQogICAgc3lzLnN0ZG91dC5mbHVzaCgpCiAgICBpZiBub3QgT1BUSU9OUy50dHk6CiAgICAg
ICAgc3lzLnN0ZGVyci53cml0ZShPUFRJT05TLmRlbGltaXRlciArICdcbicpCiAgICAgICAgc3lz
LnN0ZGVyci5mbHVzaCgpCiAgICBpZiBPUFRJT05TLmNtZF91bWFzayBpcyBub3QgTm9uZToKICAg
ICAgICBvbGRfdW1hc2sgPSBvcy51bWFzayhPUFRJT05TLmNtZF91bWFzaykKICAgIGlmIE9QVElP
TlMudHR5OgogICAgICAgIHN0ZG91dCwgXyA9IHN1YnByb2Nlc3MuUG9wZW4oc2FsdF9hcmd2LCBz
dGRvdXQ9c3VicHJvY2Vzcy5QSVBFLCBzdGRlcnI9c3VicHJvY2Vzcy5QSVBFKS5jb21tdW5pY2F0
ZSgpCiAgICAgICAgc3lzLnN0ZG91dC53cml0ZShzdGRvdXQpCiAgICAgICAgc3lzLnN0ZG91dC5m
bHVzaCgpCiAgICAgICAgaWYgT1BUSU9OUy53aXBlOgogICAgICAgICAgICBzaHV0aWwucm10cmVl
KE9QVElPTlMuc2FsdGRpcikKICAgIGVsaWYgT1BUSU9OUy53aXBlOgogICAgICAgIHN1YnByb2Nl
c3MuY2FsbChzYWx0X2FyZ3YpCiAgICAgICAgc2h1dGlsLnJtdHJlZShPUFRJT05TLnNhbHRkaXIp
CiAgICBlbHNlOgogICAgICAgIG9zLmV4ZWN2KHN5cy5leGVjdXRhYmxlLCBzYWx0X2FyZ3YpCiAg
ICBpZiBPUFRJT05TLmNtZF91bWFzayBpcyBub3QgTm9uZToKICAgICAgICBvcy51bWFzayhvbGRf
dW1hc2spCgppZiBfX25hbWVfXyA9PSAnX19tYWluX18nOgogICAgc3lzLmV4aXQobWFpbihzeXMu
YXJndikpCg==
""").decode("utf-8"))'
fi
exit 0
else
continue
fi
done
echo "ERROR: Unable to locate appropriate python command" >&2
exit $EX_PYTHON_INVALID
EOF
2016-10-20 00:47:57,158 [salt.utils.vt.Terminal.PID-2640.STDOUT][TRACE   ][2633] salt-ope@192.168.1.15's password:
2016-10-20 00:47:57,240 [salt.utils.vt.Terminal.PID-2640.STDERR][TRACE   ][2633] + SUDO=
+ '[' -n sudo ']'
+ SUDO='sudo '
+ EX_PYTHON_INVALID=10
+ PYTHON_CMDS='python3 python27 python2.7 python26 python2.6 python2 python'
+ for py_cmd in '$PYTHON_CMDS'
+ command -v python3
+ continue
+ for py_cmd in '$PYTHON_CMDS'
+ command -v python27
+ continue
+ for py_cmd in '$PYTHON_CMDS'
+ command -v python2.7
+ python2.7 -c 'import sys; sys.exit(not (sys.version_info >= (2, 6)
and sys.version_info[0] == 2));'
2016-10-20 00:47:57,261 [salt.utils.vt.Terminal.PID-2640.STDERR][TRACE   ][2633] ++ python2.7 -c 'from __future__ import print_function;
import sys; print(sys.executable);'
+ py_cmd_path=/usr/bin/python2.7
++ which python2.7
2016-10-20 00:47:57,272 [salt.utils.vt.Terminal.PID-2640.STDERR][TRACE   ][2633] + cmdpath=/usr/bin/python2.7
+ grep 'shell script'
+ file /usr/bin/python2.7
+ exec sudo /usr/bin/python2.7 -c 'import base64;
exec(base64.b64decode("""IyBweWxpbnQ6IGRpc2FibGU9Vzk5MDMKJycnClRoaXMgaXMgYSBzaGltIHRoYXQgaGFuZGxlcyBj
aGVja2luZyBhbmQgdXBkYXRpbmcgc2FsdCB0aGluIGFuZAp0aGVuIGludm9raW5nIHRoaW4uCgpU
aGlzIGlzIG5vdCBpbnRlbmRlZCB0byBiZSBpbnN0YW50aWF0ZWQgYXMgYSBtb2R1bGUsIHJhdGhl
ciBpdCBpcyBhCmhlbHBlciBzY3JpcHQgdXNlZCBieSBzYWx0LmNsaWVudC5zc2guU2luZ2xlLiAg
SXQgaXMgaGVyZSwgaW4gYQpzZXBhcmF0ZSBmaWxlLCBmb3IgY29udmVuaWVuY2Ugb2YgZGV2ZWxv
cG1lbnQuCicnJwoKZnJvbSBfX2Z1dHVyZV9fIGltcG9ydCBhYnNvbHV0ZV9pbXBvcnQKCmltcG9y
dCBoYXNobGliCmltcG9ydCB0YXJmaWxlCmltcG9ydCBzaHV0aWwKaW1wb3J0IHN5cwppbXBvcnQg
b3MKaW1wb3J0IHN0YXQKaW1wb3J0IHN1YnByb2Nlc3MKClRISU5fQVJDSElWRSA9ICdzYWx0LXRo
aW4udGd6JwpFWFRfQVJDSElWRSA9ICdzYWx0LWV4dF9tb2RzLnRneicKCiMgS2VlcCB0aGVzZSBp
biBzeW5jIHdpdGggc2FsdC9kZWZhdWx0cy9leGl0Y29kZXMucHkKRVhfVEhJTl9ERVBMT1kgPSAx
MQpFWF9USElOX0NIRUNLU1VNID0gMTIKRVhfTU9EX0RFUExPWSA9IDEzCkVYX1NDUF9OT1RfRk9V
TkQgPSAxNA
2016-10-20 00:47:57,282 [salt.utils.vt.Terminal.PID-2640.STDERR][TRACE   ][2633] pFWF9DQU5UQ1JFQVQgPSA3MwoKCmNsYXNzIE9CSihvYmplY3QpOgogICAgIiIiQW4g
ZW1wdHkgY2xhc3MgZm9yIGhvbGRpbmcgaW5zdGFuY2UgYXR0cmlidXRlIHZhbHVlcy4iIiIKICAg
IHBhc3MKCgpPUFRJT05TID0gTm9uZQpBUkdTID0gTm9uZQojIFRoZSBiZWxvdyBsaW5lIGlzIHdo
ZXJlIE9QVElPTlMgY2FuIGJlIHJlZGVmaW5lZCB3aXRoIGludGVybmFsIG9wdGlvbnMKIyAocmF0
aGVyIHRoYW4gY2xpIGFyZ3VtZW50cykgd2hlbiB0aGUgc2hpbSBpcyBidW5kbGVkIGJ5CiMgY2xp
ZW50LnNzaC5TaW5nbGUuX2NtZF9zdHIoKQojIHB5bGludDogZGlzYWJsZT1ibG9jay1jb21tZW50
LXNob3VsZC1zdGFydC13aXRoLWNhcmRpbmFsLXNwYWNlCgpPUFRJT05TID0gT0JKKCkKT1BUSU9O
Uy5jb25maWcgPSAiIiIKe2ZpbGVzZXJ2ZXJfbGlzdF9jYWNoZV90aW1lOiAzLCBncmFpbnNfY2Fj
aGU6IHRydWUsIGlkOiBtdW5pbiwgbG9nX2ZpbGU6IHNhbHQtY2FsbC5sb2csCiAgcm9vdF9kaXI6
IC92YXIvdG1wLy5zYWx0LW9wZV8xYTM1MzJfc2FsdC9ydW5uaW5nX2RhdGEsIHNvY2tfZGlyOiAv
fQoiIiIKT1BUSU9OUy5kZWxpbWl0ZXIgPSAnX2VkYmM3ODg1ZTRmOWFhYzliODNiMzU5OTliNjhk
MDE1MTQ4Y2FmNDY3Yjc4ZmEzOWMwNWY2NjljMGZmODk4NzgnCk9QVElPTlMuc2FsdGRpciA9ICcv
dmFyL3RtcC8uc2FsdC1vcGVfMWEzNTMyX3NhbHQnCk9QVElPTlMuY2hlY2tzdW0gPSAnOTg1MjZk
OTliMWU3YjA3OWRjZWZj
2016-10-20 00:47:57,293 [salt.utils.vt.Terminal.PID-2640.STDERR][TRACE   ][2633] ZWM5ZmE1Yjg1MWZmYmY5ODEzZCcKT1BUSU9OUy5oYXNoZnVuYyA9ICdz
aGExJwpPUFRJT05TLnZlcnNpb24gPSAnMjAxNi4zLjInCk9QVElPTlMuZXh0X21vZHMgPSAnNzQx
OTZlMDExNDUyMWUyYWRjNjlkNjgxY2U2YTQ1NjNiYTBhZTFlYicKT1BUSU9OUy53aXBlID0gRmFs
c2UKT1BUSU9OUy50dHkgPSBGYWxzZQpPUFRJT05TLmNtZF91bWFzayA9IE5vbmUKQVJHUyA9IFsn
dGVzdC5vcHRzX3BrZyddCgoKCmRlZiBuZWVkX2RlcGxveW1lbnQoKToKICAgICIiIgogICAgU2Fs
dCB0aGluIG5lZWRzIHRvIGJlIGRlcGxveWVkIC0gcHJlcCB0aGUgdGFyZ2V0IGRpcmVjdG9yeSBh
bmQgZW1pdCB0aGUKICAgIGRlbGltZXRlciBhbmQgZXhpdCBjb2RlIHRoYXQgc2lnbmFscyBhIHJl
cXVpcmVkIGRlcGxveW1lbnQuCiAgICAiIiIKICAgIGlmIG9zLnBhdGguZXhpc3RzKE9QVElPTlMu
c2FsdGRpcik6CiAgICAgICAgc2h1dGlsLnJtdHJlZShPUFRJT05TLnNhbHRkaXIpCiAgICBvbGRf
dW1hc2sgPSBvcy51bWFzaygwbzA3NykKICAgIG9zLm1ha2VkaXJzKE9QVElPTlMuc2FsdGRpcikK
ICAgIG9zLnVtYXNrKG9sZF91bWFzaykKICAgICMgVmVyaWZ5IHBlcm1zIG9uIHNhbHRkaXIKICAg
IGV1aWQgPSBvcy5nZXRldWlkKCkKICAgIGRzdGF0ID0gb3Muc3RhdChPUFRJT05TLnNhbHRkaXIp
CiAgICBpZiBkc3RhdC5zdF91aWQgIT0gZXVpZDoKICAgICAgICAjIEF0dGFjayBkZXRlY3RlZCwg
dHJ5IGFnYWluCiAgICAgICAgbmVlZF
2016-10-20 00:47:57,303 [salt.utils.vt.Terminal.PID-2640.STDERR][TRACE   ][2633] 9kZXBsb3ltZW50KCkKICAgIGlmIGRzdGF0LnN0X21vZGUg
IT0gMTY4MzI6CiAgICAgICAgIyBBdHRhY2sgZGV0ZWN0ZWQKICAgICAgICBuZWVkX2RlcGxveW1l
bnQoKQogICAgIyBJZiBTVURPaW5nIHRoZW4gYWxzbyBnaXZlIHRoZSBzdXBlciB1c2VyIGdyb3Vw
IHdyaXRlIHBlcm1pc3Npb25zCiAgICBzdWRvX2dpZCA9IG9zLmVudmlyb24uZ2V0KCdTVURPX0dJ
RCcpCiAgICBpZiBzdWRvX2dpZDoKICAgICAgICBvcy5jaG93bihPUFRJT05TLnNhbHRkaXIsIC0x
LCBpbnQoc3Vkb19naWQpKQogICAgICAgIHN0dCA9IG9zLnN0YXQoT1BUSU9OUy5zYWx0ZGlyKQog
ICAgICAgIG9zLmNobW9kKE9QVElPTlMuc2FsdGRpciwgc3R0LnN0X21vZGUgfCBzdGF0LlNfSVdH
UlAgfCBzdGF0LlNfSVJHUlAgfCBzdGF0LlNfSVhHUlApCgogICAgIyBEZWxpbWl0ZXIgZW1pdHRl
ZCBvbiBzdGRvdXQgKm9ubHkqIHRvIGluZGljYXRlIHNoaW0gbWVzc2FnZSB0byBtYXN0ZXIuCiAg
ICBzeXMuc3Rkb3V0LndyaXRlKCJ7MH1cbmRlcGxveVxuIi5mb3JtYXQoT1BUSU9OUy5kZWxpbWl0
ZXIpKQogICAgc3lzLmV4aXQoRVhfVEhJTl9ERVBMT1kpCgoKIyBBZGFwdGVkIGZyb20gc2FsdC51
dGlscy5nZXRfaGFzaCgpCmRlZiBnZXRfaGFzaChwYXRoLCBmb3JtPSdzaGExJywgY2h1bmtfc2l6
ZT00MDk2KToKICAgICIiIkdlbmVyYXRlIGEgaGFzaCBkaWdlc3Qgc3RyaW5nIGZvciBhIGZpbGUu
IiIiCiAgICB0cnk6CiAgICAgICAgaGFzaF90eXBl
2016-10-20 00:47:57,314 [salt.utils.vt.Terminal.PID-2640.STDERR][TRACE   ][2633] ID0gZ2V0YXR0cihoYXNobGliLCBmb3JtKQog
ICAgZXhjZXB0IEF0dHJpYnV0ZUVycm9yOgogICAgICAgIHJhaXNlIFZhbHVlRXJyb3IoJ0ludmFs
aWQgaGFzaCB0eXBlOiB7MH0nLmZvcm1hdChmb3JtKSkKICAgIHdpdGggb3BlbihwYXRoLCAncmIn
KSBhcyBpZmlsZToKICAgICAgICBoYXNoX29iaiA9IGhhc2hfdHlwZSgpCiAgICAgICAgIyByZWFk
IHRoZSBmaWxlIGluIGluIGNodW5rcywgbm90IHRoZSBlbnRpcmUgZmlsZQogICAgICAgIGZvciBj
aHVuayBpbiBpdGVyKGxhbWJkYTogaWZpbGUucmVhZChjaHVua19zaXplKSwgYicnKToKICAgICAg
ICAgICAgaGFzaF9vYmoudXBkYXRlKGNodW5rKQogICAgICAgIHJldHVybiBoYXNoX29iai5oZXhk
aWdlc3QoKQoKCmRlZiB1bnBhY2tfdGhpbih0aGluX3BhdGgpOgogICAgIiIiVW5wYWNrIHRoZSBT
YWx0IHRoaW4gYXJjaGl2ZS4iIiIKICAgIHRmaWxlID0gdGFyZmlsZS5UYXJGaWxlLmd6b3Blbih0
aGluX3BhdGgpCiAgICBvbGRfdW1hc2sgPSBvcy51bWFzaygwbzA3NykKICAgIHRmaWxlLmV4dHJh
Y3RhbGwocGF0aD1PUFRJT05TLnNhbHRkaXIpCiAgICB0ZmlsZS5jbG9zZSgpCiAgICBvcy51bWFz
ayhvbGRfdW1hc2spCiAgICBvcy51bmxpbmsodGhpbl9wYXRoKQoKCmRlZiBuZWVkX2V4dCgpOgog
ICAgIiIiU2lnbmFsIHRoYXQgZXh0ZXJuYWwgbW9kdWxlcyBuZWVkIHRvIGJlIGRlcGxveWVkLiIi
IgogICAgc3lzLnN0ZG91dC53cml0ZSgiezB9XG5leHRfbW9kc1
2016-10-20 00:47:57,324 [salt.utils.vt.Terminal.PID-2640.STDERR][TRACE   ][2633] xuIi5mb3JtYXQoT1BUSU9OUy5k
ZWxpbWl0ZXIpKQogICAgc3lzLmV4aXQoRVhfTU9EX0RFUExPWSkKCgpkZWYgdW5wYWNrX2V4dChl
eHRfcGF0aCk6CiAgICAiIiJVbnBhY2sgdGhlIGV4dGVybmFsIG1vZHVsZXMuIiIiCiAgICBtb2Rj
YWNoZSA9IG9zLnBhdGguam9pbigKICAgICAgICAgICAgT1BUSU9OUy5zYWx0ZGlyLAogICAgICAg
ICAgICAncnVubmluZ19kYXRhJywKICAgICAgICAgICAgJ3ZhcicsCiAgICAgICAgICAgICdjYWNo
ZScsCiAgICAgICAgICAgICdzYWx0JywKICAgICAgICAgICAgJ21pbmlvbicsCiAgICAgICAgICAg
ICdleHRtb2RzJykKICAgIHRmaWxlID0gdGFyZmlsZS5UYXJGaWxlLmd6b3BlbihleHRfcGF0aCkK
ICAgIG9sZF91bWFzayA9IG9zLnVtYXNrKDBvMDc3KQogICAgdGZpbGUuZXh0cmFjdGFsbChwYXRo
PW1vZGNhY2hlKQogICAgdGZpbGUuY2xvc2UoKQogICAgb3MudW1hc2sob2xkX3VtYXNrKQogICAg
b3MudW5saW5rKGV4dF9wYXRoKQogICAgdmVyX3BhdGggPSBvcy5wYXRoLmpvaW4obW9kY2FjaGUs
ICdleHRfdmVyc2lvbicpCiAgICB2ZXJfZHN0ID0gb3MucGF0aC5qb2luKE9QVElPTlMuc2FsdGRp
ciwgJ2V4dF92ZXJzaW9uJykKICAgIHNodXRpbC5tb3ZlKHZlcl9wYXRoLCB2ZXJfZHN0KQoKCmRl
ZiBtYWluKGFyZ3YpOiAgIyBweWxpbnQ6IGRpc2FibGU9VzA2MTMKICAgICIiIk1haW4gcHJvZ3Jh
bSBib2R5IiIiCiAgICB0aGluX3BhdGggPSBvcy5wYXRoLmpvaW4oT1BUSU9O
2016-10-20 00:47:57,335 [salt.utils.vt.Terminal.PID-2640.STDERR][TRACE   ][2633] Uy5zYWx0ZGlyLCBU
SElOX0FSQ0hJVkUpCiAgICBpZiBvcy5wYXRoLmlzZmlsZSh0aGluX3BhdGgpOgogICAgICAgIGlm
IE9QVElPTlMuY2hlY2tzdW0gIT0gZ2V0X2hhc2godGhpbl9wYXRoLCBPUFRJT05TLmhhc2hmdW5j
KToKICAgICAgICAgICAgc3lzLnN0ZGVyci53cml0ZSgnezB9XG4nLmZvcm1hdChPUFRJT05TLmNo
ZWNrc3VtKSkKICAgICAgICAgICAgc3lzLnN0ZGVyci53cml0ZSgnezB9XG4nLmZvcm1hdChnZXRf
aGFzaCh0aGluX3BhdGgsIE9QVElPTlMuaGFzaGZ1bmMpKSkKICAgICAgICAgICAgb3MudW5saW5r
KHRoaW5fcGF0aCkKICAgICAgICAgICAgc3lzLnN0ZGVyci53cml0ZSgnV0FSTklORzogY2hlY2tz
dW0gbWlzbWF0Y2ggZm9yICJ7MH0iXG4nLmZvcm1hdCh0aGluX3BhdGgpKQogICAgICAgICAgICBz
eXMuZXhpdChFWF9USElOX0NIRUNLU1VNKQogICAgICAgIHVucGFja190aGluKHRoaW5fcGF0aCkK
ICAgICAgICAjIFNhbHQgdGhpbiBub3cgaXMgYXZhaWxhYmxlIHRvIHVzZQogICAgZWxzZToKICAg
ICAgICBzY3BzdGF0ID0gc3VicHJvY2Vzcy5Qb3BlbihbJy9iaW4vc2gnLCAnLWMnLCAnY29tbWFu
ZCAtdiBzY3AnXSkud2FpdCgpCiAgICAgICAgaWYgc2Nwc3RhdCAhPSAwOgogICAgICAgICAgICBz
eXMuZXhpdChFWF9TQ1BfTk9UX0ZPVU5EKQoKICAgICAgICBpZiBub3Qgb3MucGF0aC5leGlzdHMo
T1BUSU9OUy5zYWx0ZGlyKToKICAgICAgICAgICAgbmVlZF9kZXBsb3ltZW50KCkKCiAgIC
2016-10-20 00:47:57,346 [salt.utils.vt.Terminal.PID-2640.STDERR][TRACE   ][2633] AgICAg
aWYgbm90IG9zLnBhdGguaXNkaXIoT1BUSU9OUy5zYWx0ZGlyKToKICAgICAgICAgICAgc3lzLnN0
ZGVyci53cml0ZSgKICAgICAgICAgICAgICAgICdFUlJPUjogc2FsdCBwYXRoICJ7MH0iIGV4aXN0
cyBidXQgaXMnCiAgICAgICAgICAgICAgICAnIG5vdCBhIGRpcmVjdG9yeVxuJy5mb3JtYXQoT1BU
SU9OUy5zYWx0ZGlyKQogICAgICAgICAgICApCiAgICAgICAgICAgIHN5cy5leGl0KEVYX0NBTlRD
UkVBVCkKCiAgICAgICAgdmVyc2lvbl9wYXRoID0gb3MucGF0aC5qb2luKE9QVElPTlMuc2FsdGRp
ciwgJ3ZlcnNpb24nKQogICAgICAgIGlmIG5vdCBvcy5wYXRoLmV4aXN0cyh2ZXJzaW9uX3BhdGgp
IG9yIG5vdCBvcy5wYXRoLmlzZmlsZSh2ZXJzaW9uX3BhdGgpOgogICAgICAgICAgICBzeXMuc3Rk
ZXJyLndyaXRlKAogICAgICAgICAgICAgICAgJ1dBUk5JTkc6IFVuYWJsZSB0byBsb2NhdGUgY3Vy
cmVudCB0aGluICcKICAgICAgICAgICAgICAgICcgdmVyc2lvbjogezB9LlxuJy5mb3JtYXQodmVy
c2lvbl9wYXRoKQogICAgICAgICAgICApCiAgICAgICAgICAgIG5lZWRfZGVwbG95bWVudCgpCiAg
ICAgICAgd2l0aCBvcGVuKHZlcnNpb25fcGF0aCwgJ3InKSBhcyB2cG86CiAgICAgICAgICAgIGN1
cl92ZXJzaW9uID0gdnBvLnJlYWRsaW5lKCkuc3RyaXAoKQogICAgICAgIGlmIGN1cl92ZXJzaW9u
ICE9IE9QVElPTlMudmVyc2lvbjoKICAgICAgICAgICAgc3lzLnN0ZGVyci53cml0ZSgKICAgICAg
IC
2016-10-20 00:47:57,356 [salt.utils.vt.Terminal.PID-2640.STDERR][TRACE   ][2633] AgICAgICAgICdXQVJOSU5HOiBjdXJyZW50IHRoaW4gdmVyc2lvbiB7MH0nCiAgICAgICAgICAg
ICAgICAnIGlzIG5vdCB1cC10by1kYXRlIHdpdGggezF9LlxuJy5mb3JtYXQoCiAgICAgICAgICAg
ICAgICAgICAgY3VyX3ZlcnNpb24sIE9QVElPTlMudmVyc2lvbgogICAgICAgICAgICAgICAgKQog
ICAgICAgICAgICApCiAgICAgICAgICAgIG5lZWRfZGVwbG95bWVudCgpCiAgICAgICAgIyBTYWx0
IHRoaW4gZXhpc3RzIGFuZCBpcyB1cC10by1kYXRlIC0gZmFsbCB0aHJvdWdoIGFuZCB1c2UgaXQK
CiAgICBzYWx0X2NhbGxfcGF0aCA9IG9zLnBhdGguam9pbihPUFRJT05TLnNhbHRkaXIsICdzYWx0
LWNhbGwnKQogICAgaWYgbm90IG9zLnBhdGguaXNmaWxlKHNhbHRfY2FsbF9wYXRoKToKICAgICAg
ICBzeXMuc3RkZXJyLndyaXRlKCdFUlJPUjogdGhpbiBpcyBtaXNzaW5nICJ7MH0iXG4nLmZvcm1h
dChzYWx0X2NhbGxfcGF0aCkpCiAgICAgICAgbmVlZF9kZXBsb3ltZW50KCkKCiAgICB3aXRoIG9w
ZW4ob3MucGF0aC5qb2luKE9QVElPTlMuc2FsdGRpciwgJ21pbmlvbicpLCAndycpIGFzIGNvbmZp
ZzoKICAgICAgICBjb25maWcud3JpdGUoT1BUSU9OUy5jb25maWcgKyAnXG4nKQogICAgaWYgT1BU
SU9OUy5leHRfbW9kczoKICAgICAgICBleHRfcGF0aCA9IG9zLnBhdGguam9pbihPUFRJT05TLnNh
bHRkaXIsIEVYVF9BUkNISVZFKQogICAgICAgIGlmIG9zLnBhdGguZXhpc3RzKGV4dF9wYXRoKToK
ICAgICAgICAg
2016-10-20 00:47:57,367 [salt.utils.vt.Terminal.PID-2640.STDERR][TRACE   ][2633] ICAgdW5wYWNrX2V4dChleHRfcGF0aCkKICAgICAgICBlbHNlOgogICAgICAgICAg
ICB2ZXJzaW9uX3BhdGggPSBvcy5wYXRoLmpvaW4oT1BUSU9OUy5zYWx0ZGlyLCAnZXh0X3ZlcnNp
b24nKQogICAgICAgICAgICBpZiBub3Qgb3MucGF0aC5leGlzdHModmVyc2lvbl9wYXRoKSBvciBu
b3Qgb3MucGF0aC5pc2ZpbGUodmVyc2lvbl9wYXRoKToKICAgICAgICAgICAgICAgIG5lZWRfZXh0
KCkKICAgICAgICAgICAgd2l0aCBvcGVuKHZlcnNpb25fcGF0aCwgJ3InKSBhcyB2cG86CiAgICAg
ICAgICAgICAgICBjdXJfdmVyc2lvbiA9IHZwby5yZWFkbGluZSgpLnN0cmlwKCkKICAgICAgICAg
ICAgaWYgY3VyX3ZlcnNpb24gIT0gT1BUSU9OUy5leHRfbW9kczoKICAgICAgICAgICAgICAgIG5l
ZWRfZXh0KCkKICAgICMgRml4IHBhcmFtZXRlciBwYXNzaW5nIGlzc3VlCiAgICBpZiBsZW4oQVJH
UykgPT0gMToKICAgICAgICBhcmd2X3ByZXBhcmVkID0gQVJHU1swXS5zcGxpdCgpCiAgICBlbHNl
OgogICAgICAgIGFyZ3ZfcHJlcGFyZWQgPSBBUkdTCgogICAgc2FsdF9hcmd2ID0gWwogICAgICAg
IHN5cy5leGVjdXRhYmxlLAogICAgICAgIHNhbHRfY2FsbF9wYXRoLAogICAgICAgICctLXJldGNv
ZGUtcGFzc3Rocm91Z2gnLAogICAgICAgICctLWxvY2FsJywKICAgICAgICAnLS1tZXRhZGF0YScs
CiAgICAgICAgJy0tb3V0JywgJ2pzb24nLAogICAgICAgICctbCcsICdxdWlldCcsCiAgICAgICAg
Jy1jJywgT1BUSU9OUy5zYW
2016-10-20 00:47:57,377 [salt.utils.vt.Terminal.PID-2640.STDERR][TRACE   ][2633] x0ZGlyLAogICAgICAgICctLScsCiAgICBdICsgYXJndl9wcmVwYXJl
ZAoKICAgIHN5cy5zdGRlcnIud3JpdGUoJ1NBTFRfQVJHVjogezB9XG4nLmZvcm1hdChzYWx0X2Fy
Z3YpKQoKICAgICMgT25seSBlbWl0IHRoZSBkZWxpbWl0ZXIgb24gKmJvdGgqIHN0ZG91dCBhbmQg
c3RkZXJyIHdoZW4gY29tcGxldGVseSBzdWNjZXNzZnVsLgogICAgIyBZZXMsIHRoZSBmbHVzaCgp
IGlzIG5lY2Vzc2FyeS4KICAgIHN5cy5zdGRvdXQud3JpdGUoT1BUSU9OUy5kZWxpbWl0ZXIgKyAn
XG4nKQogICAgc3lzLnN0ZG91dC5mbHVzaCgpCiAgICBpZiBub3QgT1BUSU9OUy50dHk6CiAgICAg
ICAgc3lzLnN0ZGVyci53cml0ZShPUFRJT05TLmRlbGltaXRlciArICdcbicpCiAgICAgICAgc3lz
LnN0ZGVyci5mbHVzaCgpCiAgICBpZiBPUFRJT05TLmNtZF91bWFzayBpcyBub3QgTm9uZToKICAg
ICAgICBvbGRfdW1hc2sgPSBvcy51bWFzayhPUFRJT05TLmNtZF91bWFzaykKICAgIGlmIE9QVElP
TlMudHR5OgogICAgICAgIHN0ZG91dCwgXyA9IHN1YnByb2Nlc3MuUG9wZW4oc2FsdF9hcmd2LCBz
dGRvdXQ9c3VicHJvY2Vzcy5QSVBFLCBzdGRlcnI9c3VicHJvY2Vzcy5QSVBFKS5jb21tdW5pY2F0
ZSgpCiAgICAgICAgc3lzLnN0ZG91dC53cml0ZShzdGRvdXQpCiAgICAgICAgc3lzLnN0ZG91dC5m
bHVzaCgpCiAgICAgICAgaWYgT1BUSU9OUy53aXBlOgogICAgICAgICAgICBzaHV0aWwucm10cmVl
KE9QVElPTlMuc2FsdGRpcikKICAgIGVs
2016-10-20 00:47:57,387 [salt.utils.vt.Terminal.PID-2640.STDERR][TRACE   ][2633] aWYgT1BUSU9OUy53aXBlOgogICAgICAgIHN1YnByb2Nl
c3MuY2FsbChzYWx0X2FyZ3YpCiAgICAgICAgc2h1dGlsLnJtdHJlZShPUFRJT05TLnNhbHRkaXIp
CiAgICBlbHNlOgogICAgICAgIG9zLmV4ZWN2KHN5cy5leGVjdXRhYmxlLCBzYWx0X2FyZ3YpCiAg
ICBpZiBPUFRJT05TLmNtZF91bWFzayBpcyBub3QgTm9uZToKICAgICAgICBvcy51bWFzayhvbGRf
dW1hc2spCgppZiBfX25hbWVfXyA9PSAnX19tYWluX18nOgogICAgc3lzLmV4aXQobWFpbihzeXMu
YXJndikpCg==
""").decode("utf-8"))'
2016-10-20 00:47:57,793 [salt.utils.vt.Terminal.PID-2640.STDERR][TRACE   ][2633] SALT_ARGV: ['/usr/bin/python2.7', '/var/tmp/.salt-ope_1a3532_salt/salt-call', '--retcode-passthrough', '--local', '--metadata', '--out', 'json', '-l', 'quiet', '-c', '/var/tmp/.salt-ope_1a3532_salt', '--', 'test.opts_pkg']
_edbc7885e4f9aac9b83b35999b68d015148caf467b78fa39c05f669c0ff89878
2016-10-20 00:47:57,793 [salt.utils.vt.Terminal.PID-2640.STDOUT][TRACE   ][2633] _edbc7885e4f9aac9b83b35999b68d015148caf467b78fa39c05f669c0ff89878
2016-10-20 00:47:58,720 [salt.utils.vt.Terminal.PID-2640.STDOUT][TRACE   ][2633] {
    "local": {
        "fun_args": [], 
        "jid": "20161020004759601649", 
        "return": {
            "output_file_append": false, 
            "selected_output_option": "output_indent", 
            "ioflo_realtime": true, 
            "zmq_filtering": false, 
            "acceptance_wait_time": 10, 
            "recon_default": 1000, 
            "whitelist_modules": [], 
            "ioflo_console_logdir": "", 
            "winrepo_password": "", 
            "utils_dirs": [
                "/var/cache/salt/minion/extmods/utils"
            ], 
            "state_top_saltenv": null, 
            "states_dirs": [], 
            "state_output_diff": false, 
            "fileserver_backend": [
                "roots"
            ], 
            "outputter_dirs": [], 
            "raet_port": 4510, 
            "module_dirs": [], 
            "git_pillar_ssl_verify": false, 
            "tcp_keepalive": true, 
            "environment": null, 
            "state_auto_or
2016-10-20 00:47:58,731 [salt.utils.vt.Terminal.PID-2640.STDOUT][TRACE   ][2633] der": true, 
            "master_alive_interval": 0, 
            "__role": "minion", 
            "disable_modules": [], 
            "backup_mode": "", 
            "cluster_masters": [], 
            "recon_randomize": true, 
            "return": "", 
            "args_stdin": false, 
            "file_ignore_glob": [], 
            "auto_accept": true, 
            "open_mode": false, 
            "winrepo_ssl_verify": false, 
            "git_pillar_root": "", 
            "git_pillar_pubkey": "", 
            "master_failback_interval": 0, 
            "state_verbose": true, 
            "verify_master_pubkey_sign": false, 
            "password": null, 
            "cluster_mode": false, 
            "startup_states": "", 
            "grains": {
                "biosversion": "Bochs", 
                "kernel": "Linux", 
                "domain": "", 
                "osrelease": "7.2.1511", 
                "uid": 0, 
                "kernelrelease": "3.10.0-327.el7.x86_64
2016-10-20 00:47:58,743 [salt.utils.vt.Terminal.PID-2640.STDOUT][TRACE   ][2633] ", 
                "selinux": {
                    "enforced": "Disabled", 
                    "enabled": false
                }, 
                "saltversioninfo": [
                    2016, 
                    3, 
                    2, 
                    0
                ], 
                "pid": 25010, 
                "ip_interfaces": {
                    "lo": [
                        "127.0.0.1", 
                        "::1"
                    ], 
                    "eth0": [
                        "192.168.1.15", 
                        "fe80::5054:ff:feb2:a17b"
                    ]
                }, 
                "groupname": "root", 
                "systemd": {
                    "version": "219", 
                    "features": "+PAM +AUDIT +SELINUX +IMA -APPARMOR +SMACK +SYSVINIT +UTMP +LIBCRYPTSETUP +GCRYPT +GNUTLS +ACL +XZ -LZ4 -SECCOMP +BLKID +ELFUTILS +KMOD +IDN"
                }, 
                "mem_total": 993, 
                "osfin
2016-10-20 00:47:58,755 [salt.utils.vt.Terminal.PID-2640.STDOUT][TRACE   ][2633] ger": "CentOS Linux-7", 
                "SSDs": [], 
                "mdadm": [], 
                "id": "munin", 
                "osmajorrelease": "7", 
                "ps": "ps -efH", 
                "server_id": 1385707368, 
                "uuid": "f675deb9-6afd-4c92-a9a2-33e43d53bd48", 
                "ip6_interfaces": {
                    "lo": [
                        "::1"
                    ], 
                    "eth0": [
                        "fe80::5054:ff:feb2:a17b"
                    ]
                }, 
                "num_cpus": 1, 
                "hwaddr_interfaces": {
                    "lo": "00:00:00:00:00:00", 
                    "eth0": "52:54:00:b2:a1:7b"
                }, 
                "init": "systemd", 
                "ip4_interfaces": {
                    "lo": [
                        "127.0.0.1"
                    ], 
                    "eth0": [
                        "192.168.1.15"
                    ]
                },
2016-10-20 00:47:58,766 [salt.utils.vt.Terminal.PID-2640.STDOUT][TRACE   ][2633]                 "osfullname": "CentOS Linux", 
                "gid": 0, 
                "master": "salt", 
                "ipv4": [
                    "127.0.0.1", 
                    "192.168.1.15"
                ], 
                "dns": {
                    "nameservers": [
                        "192.168.1.1"
                    ], 
                    "domain": "", 
                    "ip4_nameservers": [
                        "192.168.1.1"
                    ], 
                    "search": [], 
                    "ip6_nameservers": []
                }, 
                "ipv6": [
                    "::1", 
                    "fe80::5054:ff:feb2:a17b"
                ], 
                "shell": "/bin/bash", 
                "cpu_flags": [
                    "fpu", 
                    "de", 
                    "pse", 
                    "tsc", 
                    "msr", 
                    "pae", 
                    "mce", 
                    "cx8
2016-10-20 00:47:58,778 [salt.utils.vt.Terminal.PID-2640.STDOUT][TRACE   ][2633] ", 
                    "apic", 
                    "sep", 
                    "mtrr", 
                    "pge", 
                    "mca", 
                    "cmov", 
                    "pse36", 
                    "clflush", 
                    "mmx", 
                    "fxsr", 
                    "sse", 
                    "sse2", 
                    "syscall", 
                    "nx", 
                    "lm", 
                    "rep_good", 
                    "nopl", 
                    "pni", 
                    "vmx", 
                    "cx16", 
                    "x2apic", 
                    "hypervisor", 
                    "lahf_lm", 
                    "tpr_shadow", 
                    "vnmi", 
                    "flexpriority", 
                    "ept", 
                    "vpid"
                ], 
                "localhost": "munin", 
                "lsb_distrib_id": "CentOS Linux", 
                "username": "root",
2016-10-20 00:47:58,789 [salt.utils.vt.Terminal.PID-2640.STDOUT][TRACE   ][2633]           "fqdn_ip4": [], 
                "fqdn_ip6": [], 
                "nodename": "munin", 
                "saltversion": "2016.3.2", 
                "pythonpath": [
                    "/var/tmp/.salt-ope_1a3532_salt/py2", 
                    "/var/tmp/.salt-ope_1a3532_salt", 
                    "/usr/lib64/python27.zip", 
                    "/usr/lib64/python2.7", 
                    "/usr/lib64/python2.7/plat-linux2", 
                    "/usr/lib64/python2.7/lib-tk", 
                    "/usr/lib64/python2.7/lib-old", 
                    "/usr/lib64/python2.7/lib-dynload", 
                    "/usr/lib64/python2.7/site-packages", 
                    "/usr/lib/python2.7/site-packages"
                ], 
                "saltpath": "/var/tmp/.salt-ope_1a3532_salt/py2/salt", 
                "pythonversion": [
                    2, 
                    7, 
                    5, 
                    "final", 
                    0
                ],
2016-10-20 00:47:58,802 [salt.utils.vt.Terminal.PID-2640.STDOUT][TRACE   ][2633]  "host": "munin", 
                "os_family": "RedHat", 
                "oscodename": "CentOS Linux 7 (Core)", 
                "path": "/sbin:/bin:/usr/sbin:/usr/bin:/usr/local/bin",
2016-10-20 00:47:58,814 [salt.utils.vt.Terminal.PID-2640.STDOUT][TRACE   ][2633]                 "biosreleasedate": "01/01/2011", 
                "manufacturer": "QEMU", 
                "num_gpus": 0, 
                "virtual": "kvm", 
                "disks": [
                    "sr0", 
                    "vda", 
                    "dm-0", 
                    "dm-1"
                ], 
                "cpu_model": "QEMU Virtual CPU version 2.5+", 
                "fqdn": "munin", 
                "pythonexecutable": "/usr/bin/python2.7", 
                "productname": "Standard PC (i440FX + PIIX, 1996)", 
                "osarch": "x86_64", 
                "cpuarch": "x86_64", 
                "lsb_distrib_codename": "CentOS Linux 7 (Core)", 
                "osrelease_info": [
                    7, 
                    2, 
                    1511
                ], 
                "locale_info": {
                    "detectedencoding": "UTF-8", 
                    "defaultlanguage": "en_US", 
                    "defaultencoding": "UTF-8"
2016-10-20 00:47:58,827 [salt.utils.vt.Terminal.PID-2640.STDOUT][TRACE   ][2633]            }, 
                "gpus": [], 
                "machine_id": "6f1f82d9f041d40c28e2936eed7a932a", 
                "os": "CentOS"
            }, 
            "state_output": "full", 
            "tcp_pull_port": 4511, 
            "pillar": {}, 
            "fileserver_ignoresymlinks": false, 
            "retry_dns": 30, 
            "gitfs_global_lock": true, 
            "master_tries": 1, 
            "return_retry_timer": 5, 
            "file_ignore_regex": [], 
            "output": "json", 
            "master_shuffle": false, 
            "range_server": "range:80", 
            "gitfs_pubkey": "", 
            "file_roots": {
                "base": [
                    "/srv/salt", 
                    "/srv/spm/salt"
                ]
            }, 
            "master_failback": false, 
            "top_file_merging_strategy": "merge", 
            "root_dir": "/var/tmp/.salt-ope_1a3532_salt/running_data", 
            "log_granular_levels": {},
2016-10-20 00:47:58,838 [salt.utils.vt.Terminal.PID-2640.STDOUT][TRACE   ][2633]     "git_pillar_insecure_auth": false, 
            "returner_dirs": [], 
            "gitfs_privkey": "", 
            "skip_grains": false, 
            "winrepo_remotes_ng": [
                "https://github.com/saltstack/salt-winrepo-ng.git"
            ], 
            "arg": [], 
            "grains_dirs": [], 
            "config_dir": "/var/tmp/.salt-ope_1a3532_salt", 
            "state_top": "top.sls", 
            "transport": "zeromq", 
            "winrepo_privkey": "", 
            "gitfs_base": "master", 
            "render_dirs": [], 
            "pillar_opts": false, 
            "pillar_cache_ttl": 3600, 
            "gitfs_user": "", 
            "fileserver_limit_traversal": false, 
            "tcp_keepalive_intvl": -1, 
            "conf_file": "/var/tmp/.salt-ope_1a3532_salt/minion", 
            "top_file": "", 
            "zmq_monitor": false, 
            "file_recv_max_size": 100, 
            "pidfile": "/var/tmp/.salt-ope_1a3532_salt/running_data/var/run/s
2016-10-20 00:47:58,850 [salt.utils.vt.Terminal.PID-2640.STDOUT][TRACE   ][2633] alt-minion.pid", 
            "metadata": true, 
            "raet_mutable": false, 
            "log_datefmt_logfile": "%Y-%m-%d %H:%M:%S", 
            "pillar_roots": {
                "base": [
                    "/srv/pillar", 
                    "/srv/spm/pillar"
                ]
            }, 
            "winrepo_cachefile": "winrepo.p", 
            "schedule": {}, 
            "raet_main": false, 
            "thorium_roots": {
                "base": [
                    "/srv/thorium"
                ]
            }, 
            "cachedir": "/var/tmp/.salt-ope_1a3532_salt/running_data/var/cache/salt/minion", 
            "winrepo_passphrase": "", 
            "interface": "0.0.0.0", 
            "update_restart_services": [], 
            "recon_max": 10000, 
            "master_uri_format": "default", 
            "default_include": "minion.d/*.conf", 
            "hard_crash": false, 
            "http_request_timeout": 3600.0, 
            "rejected_retry": fals
2016-10-20 00:47:58,863 [salt.utils.vt.Terminal.PID-2640.STDOUT][TRACE   ][2633] e, 
            "state_events": false, 
            "gitfs_ssl_verify": false, 
            "http_max_body": 107374182400, 
            "restart_on_error": false, 
            "winrepo_dir": "/srv/salt/win/repo", 
            "raet_road_bufcnt": 2, 
            "multiprocessing": true, 
            "winrepo_pubkey": "", 
            "mine_enabled": true, 
            "ipc_mode": "ipc", 
            "keysize": 2048, 
            "profiling_enabled": false, 
            "master_sign_key_name": "master_sign", 
            "cython_enable": false, 
            "sls_list": [], 
            "beacons": {}, 
            "git_pillar_env": "", 
            "ext_job_cache": "", 
            "hash_type": "md5", 
            "winrepo_source_dir": "salt://win/repo-ng/", 
            "always_verify_signature": false, 
            "force_color": false, 
            "modules_max_memory": -1, 
            "renderer": "yaml_jinja", 
            "random_reauth_delay": 10, 
            "gitfs_env_whitelis
2016-10-20 00:47:58,876 [salt.utils.vt.Terminal.PID-2640.STDOUT][TRACE   ][2633] t": [], 
            "git_pillar_base": "master", 
            "gitfs_insecure_auth": false, 
            "mine_interval": 60, 
            "git_pillar_privkey": "", 
            "__cli": "salt-call", 
            "extension_modules": "/var/tmp/.salt-ope_1a3532_salt/running_data/var/cache/salt/minion/extmods", 
            "minion_id_caching": true, 
            "providers": {}, 
            "winrepo_user": "", 
            "grains_cache": true, 
            "file_recv": false, 
            "no_color": false, 
            "ipv6": false, 
            "verify_env": true, 
            "sudo_user": "", 
            "username": null, 
            "master_finger": "", 
            "syndic_finger": "", 
            "tcp_keepalive_idle": 300, 
            "thorium_interval": 0.5, 
            "grains_deep_merge": false, 
            "gitfs_passphrase": "", 
            "log_fmt_logfile": "%(asctime)s,%(msecs)03.0f [%(name)-17s][%(levelname)-8s][%(process)d] %(message)s", 
            "mine_ret
2016-10-20 00:47:58,890 [salt.utils.vt.Terminal.PID-2640.STDOUT][TRACE   ][2633] urn_job": false, 
            "master_port": 4506, 
            "enable_zip_modules": false, 
            "ioflo_period": 0.1, 
            "use_master_when_local": false, 
            "ping_interval": 0, 
            "auth_timeout": 60, 
            "local": true, 
            "tcp_keepalive_cnt": -1, 
            "raet_lane_bufcnt": 100, 
            "git_pillar_global_lock": true, 
            "pillar_cache_backend": "disk", 
            "raet_alt_port": 4511, 
            "env_order": [], 
            "profiling_path": "/tmp/stats", 
            "caller": true, 
            "retcode_passthrough": true, 
            "doc": false, 
            "fun": "test.opts_pkg", 
            "winrepo_insecure_auth": false, 
            "update_url": false, 
            "grains_refresh_every": 0, 
            "master_type": "str", 
            "git_pillar_branch": "master", 
            "default_top": "base", 
            "winrepo_branch": "master", 
            "pillar_cache": false,
2016-10-20 00:47:58,903 [salt.utils.vt.Terminal.PID-2640.STDOUT][TRACE   ][2633]      "winrepo_remotes": [
                "https://github.com/saltstack/salt-winrepo.git"
            ], 
            "autoload_dynamic_modules": true, 
            "file_buffer_size": 262144, 
            "log_fmt_console": "[%(levelname)-8s] %(message)s", 
            "random_master": false, 
            "log_datefmt": "%H:%M:%S", 
            "grains_cache_expiration": 300, 
            "max_event_size": 1048576, 
            "id": "munin", 
            "caller_floscript": "/var/tmp/.salt-ope_1a3532_salt/py2/salt/daemons/flo/caller.flo", 
            "state_aggregate": false, 
            "event_publisher_pub_hwm": 1000, 
            "loop_interval": 1, 
            "log_level": "quiet", 
            "git_pillar_password": "", 
            "event_match_type": "startswith", 
            "git_pillar_user": "", 
            "auth_safemode": false, 
            "clean_dynamic_modules": true, 
            "disable_returners": [], 
            "ipc_write_buffer": 0, 
            "cache_sre
2016-10-20 00:47:58,917 [salt.utils.vt.Terminal.PID-2640.STDOUT][TRACE   ][2633] qs": true, 
            "autosign_timeout": 120, 
            "gitfs_root": "", 
            "test": false, 
            "gitfs_password": "", 
            "return_retry_timer_max": 10, 
            "failhard": false, 
            "raet_clear_remotes": true, 
            "raet_clear_remote_masters": true, 
            "file_client": "local", 
            "user": "root", 
            "git_pillar_passphrase": "", 
            "pillarenv": null, 
            "auth_tries": 7, 
            "cache_jobs": false, 
            "permissive_pki_access": false, 
            "cmd_safe": true, 
            "gitfs_env_blacklist": [], 
            "winrepo_dir_ng": "/srv/salt/win/repo-ng", 
            "refresh_grains_cache": false, 
            "fileserver_list_cache_time": 3, 
            "salt_event_pub_hwm": 2000, 
            "pki_dir": "/var/tmp/.salt-ope_1a3532_salt/running_data/etc/salt/pki/minion", 
            "grains_run": false, 
            "minion_floscript": "/var/tmp/.salt-ope_1a3532_s
2016-10-20 00:47:58,930 [salt.utils.vt.Terminal.PID-2640.STDOUT][TRACE   ][2633] alt/py2/salt/daemons/flo/minion.flo", 
            "ioflo_verbose": 0, 
            "sock_dir": "/var/tmp/.salt-ope_1a3532_salt/running_data", 
            "tcp_pub_port": 4510, 
            "acceptance_wait_time_max": 0, 
            "master": "salt", 
            "fileserver_followsymlinks": true, 
            "log_file": "/var/tmp/.salt-ope_1a3532_salt/running_data/salt-call.log", 
            "gitfs_remotes": [], 
            "gitfs_mountpoint": ""
        }, 
        "retcode": 0, 
        "fun": "test.opts_pkg", 
        "id": "munin"
    }
}
2016-10-20 00:47:59,196 [salt.utils.lazy  ][DEBUG   ][2633] LazyLoaded jinja.render
2016-10-20 00:47:59,197 [salt.utils.lazy  ][DEBUG   ][2633] LazyLoaded yaml.render
2016-10-20 00:47:59,202 [salt.template    ][DEBUG   ][2633] compile template: ./pillar/top.sls
2016-10-20 00:47:59,203 [salt.utils.jinja ][DEBUG   ][2633] Jinja search path: ['./pillar']
2016-10-20 00:47:59,206 [salt.template    ][PROFILE ][2633] Time (in seconds) to render './pillar/top.sls' using 'jinja' renderer: 0.00249886512756
2016-10-20 00:47:59,206 [salt.template    ][DEBUG   ][2633] Rendered data from file: ./pillar/top.sls:
base:
  '*':
    - munin
    - munin-node-list
    - test


2016-10-20 00:47:59,213 [salt.utils.lazy  ][DEBUG   ][2633] LazyLoaded config.get
2016-10-20 00:47:59,213 [salt.loaded.int.render.yaml][DEBUG   ][2633] Results of YAML rendering: 
OrderedDict([('base', OrderedDict([('*', ['munin', 'munin-node-list', 'test'])]))])
2016-10-20 00:47:59,213 [salt.template    ][PROFILE ][2633] Time (in seconds) to render './pillar/top.sls' using 'yaml' renderer: 0.00707793235779
2016-10-20 00:47:59,214 [salt.minion      ][DEBUG   ][2633] compound_match: munin ? *
2016-10-20 00:47:59,214 [salt.minion      ][DEBUG   ][2633] compound_match munin ? "*" => "True"
2016-10-20 00:47:59,215 [salt.template    ][DEBUG   ][2633] compile template: ./pillar/munin.sls
2016-10-20 00:47:59,216 [salt.utils.jinja ][DEBUG   ][2633] Jinja search path: ['./pillar']
2016-10-20 00:47:59,217 [salt.template    ][PROFILE ][2633] Time (in seconds) to render './pillar/munin.sls' using 'jinja' renderer: 0.00167489051819
2016-10-20 00:47:59,217 [salt.template    ][DEBUG   ][2633] Rendered data from file: ./pillar/munin.sls:
munin_server_namelist:
  munin-async01:
    ip: 192.168.1.14
  munin:
    ip: 192.168.1.15
munin_server_list:
  - 192.168.1.15
  - 192.168.1.14
munin_master: 192.168.1.15
munin_async_client:
  munin-async01:
    ip: 192.168.1.14
munin_async_param:
  auth_command: '/usr/share/munin/munin-async --spooldir /var/lib/munin/spool --spoolfetch'
  auth_pubkey: 'ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQCwJsD6T3LETiNvDclWJLrPHUIEIljoejN3IbpYrs9RTx2eaj9xwzAoyCowS3NKFmXkeoz3BN+QirWFZanvwr65U4Qo6tvYBGKLCHRywcxE7ASuRGydHCyHrM9Zde7v/UvWDkLyAEgNPBwjHGBq5uk4/c0gmn1dVhX9EgJBqDg8QQ74Rz9B9bRiXX9SY1eugI/EdILkQW8fYDK4E9QMxGMKX664KZKXAP8blP7bttFHYBmZSjEHCtpCJYeKtMX2Xu9CwhTCz40EAdFZnYzFjbQC5FwCsIFPevzPveZ04Ji8c4rMX5OASeI6tNoC3TAxyS9Aglvfy4Tf396vMFnuiERt munin@munin'


2016-10-20 00:47:59,223 [salt.loaded.int.render.yaml][DEBUG   ][2633] Results of YAML rendering: 
OrderedDict([('munin_server_namelist', OrderedDict([('munin-async01', OrderedDict([('ip', '192.168.1.14')])), ('munin', OrderedDict([('ip', '192.168.1.15')]))])), ('munin_server_list', ['192.168.1.15', '192.168.1.14']), ('munin_master', '192.168.1.15'), ('munin_async_client', OrderedDict([('munin-async01', OrderedDict([('ip', '192.168.1.14')]))])), ('munin_async_param', OrderedDict([('auth_command', '/usr/share/munin/munin-async --spooldir /var/lib/munin/spool --spoolfetch'), ('auth_pubkey', 'ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQCwJsD6T3LETiNvDclWJLrPHUIEIljoejN3IbpYrs9RTx2eaj9xwzAoyCowS3NKFmXkeoz3BN+QirWFZanvwr65U4Qo6tvYBGKLCHRywcxE7ASuRGydHCyHrM9Zde7v/UvWDkLyAEgNPBwjHGBq5uk4/c0gmn1dVhX9EgJBqDg8QQ74Rz9B9bRiXX9SY1eugI/EdILkQW8fYDK4E9QMxGMKX664KZKXAP8blP7bttFHYBmZSjEHCtpCJYeKtMX2Xu9CwhTCz40EAdFZnYzFjbQC5FwCsIFPevzPveZ04Ji8c4rMX5OASeI6tNoC3TAxyS9Aglvfy4Tf396vMFnuiERt munin@munin')]))])
2016-10-20 00:47:59,223 [salt.template    ][PROFILE ][2633] Time (in seconds) to render './pillar/munin.sls' using 'yaml' renderer: 0.00553202629089
2016-10-20 00:47:59,224 [salt.template    ][DEBUG   ][2633] compile template: ./pillar/munin-node-list.sls
2016-10-20 00:47:59,225 [salt.utils.jinja ][DEBUG   ][2633] Jinja search path: ['./pillar']
2016-10-20 00:47:59,227 [salt.template    ][PROFILE ][2633] Time (in seconds) to render './pillar/munin-node-list.sls' using 'jinja' renderer: 0.00227403640747
2016-10-20 00:47:59,227 [salt.template    ][DEBUG   ][2633] Rendered data from file: ./pillar/munin-node-list.sls:
munin_node_list:
  munin-async01:
    hostname: munin-async01
    ip: 192.168.1.14
    munin_server: munin-async01

  kibana4:
    hostname: kibana4
    ip: 192.168.1.37
    group: Dev
    alarm_rules:
      - 'df._dev_vda1.warning 75'
      - 'df._dev_vda1.critical 80'
      - 'df_inode._dev_vda1.warning 75'
      - 'df_inode._dev_vda1.critical 80'
      - 'load.load.warning 8'
      - 'load.load.critical 15'
    munin_server: munin-async01

  nagioslog:
    hostname: nagioslog
    ip: 192.168.1.12
    group: Dev
    alarm_rules:
      - 'df._dev_vda1.warning 75'
      - 'df._dev_vda1.critical 80'
      - 'df_inode._dev_vda1.warning 75'
      - 'df_inode._dev_vda1.critical 80'
      - 'load.load.warning 8'
      - 'load.load.critical 15'
    munin_server: munin-async01

  ceph-node01:
    hostname: ceph-node01
    ip: 192.168.1.6
    group: Dev
    alarm_rules:
      - 'df._dev_vda1.warning 75'
      - 'df._dev_vda1.critical 80'
      - 'df_inode._dev_vda1.warning 75'
      - 'df_inode._dev_vda1.critical 80'
      - 'load.load.warning 1'
      - 'load.load.critical 2'
    munin_server: munin-async01

  ceph-node02:
    hostname: ceph-node02
    ip: 192.168.1.16
    group: Dev
    alarm_rules:
      - 'df._dev_vda1.warning 75'
      - 'df._dev_vda1.critical 80'
      - 'df_inode._dev_vda1.warning 75'
      - 'df_inode._dev_vda1.critical 80'
      - 'load.load.warning 1'
      - 'load.load.critical 2'
    munin_server: munin-async01

  ceph-node03:
    hostname: ceph-node03
    ip: 192.168.1.18
    group: Dev
    alarm_rules:
      - 'df._dev_vda1.warning 75'
      - 'df._dev_vda1.critical 80'
      - 'df_inode._dev_vda1.warning 75'
      - 'df_inode._dev_vda1.critical 80'
      - 'load.load.warning 1'
      - 'load.load.critical 2'
    munin_server: munin-async01

  ceph-admin:
    hostname: ceph-admin
    ip: 192.168.1.20
    group: Dev
    alarm_rules:
      - 'df._dev_vda1.warning 75'
      - 'df._dev_vda1.critical 80'
      - 'df_inode._dev_vda1.warning 75'
      - 'df_inode._dev_vda1.critical 80'
      - 'load.load.warning 1'
      - 'load.load.critical 2'
    munin_server: munin-async01


2016-10-20 00:47:59,248 [salt.loaded.int.render.yaml][DEBUG   ][2633] Results of YAML rendering: 
OrderedDict([('munin_node_list', OrderedDict([('munin-async01', OrderedDict([('hostname', 'munin-async01'), ('ip', '192.168.1.14'), ('munin_server', 'munin-async01')])), ('kibana4', OrderedDict([('hostname', 'kibana4'), ('ip', '192.168.1.37'), ('group', 'Dev'), ('alarm_rules', ['df._dev_vda1.warning 75', 'df._dev_vda1.critical 80', 'df_inode._dev_vda1.warning 75', 'df_inode._dev_vda1.critical 80', 'load.load.warning 8', 'load.load.critical 15']), ('munin_server', 'munin-async01')])), ('nagioslog', OrderedDict([('hostname', 'nagioslog'), ('ip', '192.168.1.12'), ('group', 'Dev'), ('alarm_rules', ['df._dev_vda1.warning 75', 'df._dev_vda1.critical 80', 'df_inode._dev_vda1.warning 75', 'df_inode._dev_vda1.critical 80', 'load.load.warning 8', 'load.load.critical 15']), ('munin_server', 'munin-async01')])), ('ceph-node01', OrderedDict([('hostname', 'ceph-node01'), ('ip', '192.168.1.6'), ('group', 'Dev'), ('alarm_rules', ['df._dev_vda1.warning 75', 'df._dev_vda1.critical 80', 'df_inode._dev_vda1.warning 75', 'df_inode._dev_vda1.critical 80', 'load.load.warning 1', 'load.load.critical 2']), ('munin_server', 'munin-async01')])), ('ceph-node02', OrderedDict([('hostname', 'ceph-node02'), ('ip', '192.168.1.16'), ('group', 'Dev'), ('alarm_rules', ['df._dev_vda1.warning 75', 'df._dev_vda1.critical 80', 'df_inode._dev_vda1.warning 75', 'df_inode._dev_vda1.critical 80', 'load.load.warning 1', 'load.load.critical 2']), ('munin_server', 'munin-async01')])), ('ceph-node03', OrderedDict([('hostname', 'ceph-node03'), ('ip', '192.168.1.18'), ('group', 'Dev'), ('alarm_rules', ['df._dev_vda1.warning 75', 'df._dev_vda1.critical 80', 'df_inode._dev_vda1.warning 75', 'df_inode._dev_vda1.critical 80', 'load.load.warning 1', 'load.load.critical 2']), ('munin_server', 'munin-async01')])), ('ceph-admin', OrderedDict([('hostname', 'ceph-admin'), ('ip', '192.168.1.20'), ('group', 'Dev'), ('alarm_rules', ['df._dev_vda1.warning 75', 'df._dev_vda1.critical 80', 'df_inode._dev_vda1.warning 75', 'df_inode._dev_vda1.critical 80', 'load.load.warning 1', 'load.load.critical 2']), ('munin_server', 'munin-async01')]))]))])
2016-10-20 00:47:59,249 [salt.template    ][PROFILE ][2633] Time (in seconds) to render './pillar/munin-node-list.sls' using 'yaml' renderer: 0.0212199687958
2016-10-20 00:47:59,250 [salt.template    ][DEBUG   ][2633] compile template: ./pillar/test.sls
2016-10-20 00:47:59,250 [salt.utils.jinja ][DEBUG   ][2633] Jinja search path: ['./pillar']
2016-10-20 00:47:59,252 [salt.template    ][PROFILE ][2633] Time (in seconds) to render './pillar/test.sls' using 'jinja' renderer: 0.00119400024414
2016-10-20 00:47:59,252 [salt.template    ][DEBUG   ][2633] Rendered data from file: ./pillar/test.sls:
test:
  test1:
    ip: 192.168.1.1
  test2:
    ip: 192.168.1.2
  test3:
    ip: 192.168.1.3


2016-10-20 00:47:59,254 [salt.loaded.int.render.yaml][DEBUG   ][2633] Results of YAML rendering: 
OrderedDict([('test', OrderedDict([('test1', OrderedDict([('ip', '192.168.1.1')])), ('test2', OrderedDict([('ip', '192.168.1.2')])), ('test3', OrderedDict([('ip', '192.168.1.3')]))]))])
2016-10-20 00:47:59,255 [salt.template    ][PROFILE ][2633] Time (in seconds) to render './pillar/test.sls' using 'yaml' renderer: 0.0024790763855
2016-10-20 00:47:59,257 [salt.utils.lazy  ][DEBUG   ][2633] LazyLoaded state.apply
2016-10-20 00:47:59,258 [salt.fileserver  ][TRACE   ][2633] Returning file_lists cache data from /root/saltstack_master/var/cache/salt/master/file_lists/roots/base.p
2016-10-20 00:47:59,259 [salt.pillar      ][DEBUG   ][2633] Determining pillar cache
2016-10-20 00:47:59,279 [salt.utils.lazy  ][DEBUG   ][2633] LazyLoaded jinja.render
2016-10-20 00:47:59,279 [salt.utils.lazy  ][DEBUG   ][2633] LazyLoaded yaml.render
2016-10-20 00:47:59,284 [salt.template    ][DEBUG   ][2633] compile template: ./pillar/top.sls
2016-10-20 00:47:59,285 [salt.utils.jinja ][DEBUG   ][2633] Jinja search path: ['./pillar']
2016-10-20 00:47:59,286 [salt.template    ][PROFILE ][2633] Time (in seconds) to render './pillar/top.sls' using 'jinja' renderer: 0.00106883049011
2016-10-20 00:47:59,286 [salt.template    ][DEBUG   ][2633] Rendered data from file: ./pillar/top.sls:
base:
  '*':
    - munin
    - munin-node-list
    - test


2016-10-20 00:47:59,288 [salt.utils.lazy  ][DEBUG   ][2633] LazyLoaded config.get
2016-10-20 00:47:59,288 [salt.loaded.int.render.yaml][DEBUG   ][2633] Results of YAML rendering: 
OrderedDict([('base', OrderedDict([('*', ['munin', 'munin-node-list', 'test'])]))])
2016-10-20 00:47:59,288 [salt.template    ][PROFILE ][2633] Time (in seconds) to render './pillar/top.sls' using 'yaml' renderer: 0.00201797485352
2016-10-20 00:47:59,289 [salt.minion      ][DEBUG   ][2633] compound_match: munin ? *
2016-10-20 00:47:59,289 [salt.minion      ][DEBUG   ][2633] compound_match munin ? "*" => "True"
2016-10-20 00:47:59,289 [salt.template    ][DEBUG   ][2633] compile template: ./pillar/munin.sls
2016-10-20 00:47:59,290 [salt.utils.jinja ][DEBUG   ][2633] Jinja search path: ['./pillar']
2016-10-20 00:47:59,291 [salt.template    ][PROFILE ][2633] Time (in seconds) to render './pillar/munin.sls' using 'jinja' renderer: 0.00123810768127
2016-10-20 00:47:59,291 [salt.template    ][DEBUG   ][2633] Rendered data from file: ./pillar/munin.sls:
munin_server_namelist:
  munin-async01:
    ip: 192.168.1.14
  munin:
    ip: 192.168.1.15
munin_server_list:
  - 192.168.1.15
  - 192.168.1.14
munin_master: 192.168.1.15
munin_async_client:
  munin-async01:
    ip: 192.168.1.14
munin_async_param:
  auth_command: '/usr/share/munin/munin-async --spooldir /var/lib/munin/spool --spoolfetch'
  auth_pubkey: 'ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQCwJsD6T3LETiNvDclWJLrPHUIEIljoejN3IbpYrs9RTx2eaj9xwzAoyCowS3NKFmXkeoz3BN+QirWFZanvwr65U4Qo6tvYBGKLCHRywcxE7ASuRGydHCyHrM9Zde7v/UvWDkLyAEgNPBwjHGBq5uk4/c0gmn1dVhX9EgJBqDg8QQ74Rz9B9bRiXX9SY1eugI/EdILkQW8fYDK4E9QMxGMKX664KZKXAP8blP7bttFHYBmZSjEHCtpCJYeKtMX2Xu9CwhTCz40EAdFZnYzFjbQC5FwCsIFPevzPveZ04Ji8c4rMX5OASeI6tNoC3TAxyS9Aglvfy4Tf396vMFnuiERt munin@munin'


2016-10-20 00:47:59,296 [salt.loaded.int.render.yaml][DEBUG   ][2633] Results of YAML rendering: 
OrderedDict([('munin_server_namelist', OrderedDict([('munin-async01', OrderedDict([('ip', '192.168.1.14')])), ('munin', OrderedDict([('ip', '192.168.1.15')]))])), ('munin_server_list', ['192.168.1.15', '192.168.1.14']), ('munin_master', '192.168.1.15'), ('munin_async_client', OrderedDict([('munin-async01', OrderedDict([('ip', '192.168.1.14')]))])), ('munin_async_param', OrderedDict([('auth_command', '/usr/share/munin/munin-async --spooldir /var/lib/munin/spool --spoolfetch'), ('auth_pubkey', 'ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQCwJsD6T3LETiNvDclWJLrPHUIEIljoejN3IbpYrs9RTx2eaj9xwzAoyCowS3NKFmXkeoz3BN+QirWFZanvwr65U4Qo6tvYBGKLCHRywcxE7ASuRGydHCyHrM9Zde7v/UvWDkLyAEgNPBwjHGBq5uk4/c0gmn1dVhX9EgJBqDg8QQ74Rz9B9bRiXX9SY1eugI/EdILkQW8fYDK4E9QMxGMKX664KZKXAP8blP7bttFHYBmZSjEHCtpCJYeKtMX2Xu9CwhTCz40EAdFZnYzFjbQC5FwCsIFPevzPveZ04Ji8c4rMX5OASeI6tNoC3TAxyS9Aglvfy4Tf396vMFnuiERt munin@munin')]))])
2016-10-20 00:47:59,296 [salt.template    ][PROFILE ][2633] Time (in seconds) to render './pillar/munin.sls' using 'yaml' renderer: 0.00455117225647
2016-10-20 00:47:59,298 [salt.template    ][DEBUG   ][2633] compile template: ./pillar/munin-node-list.sls
2016-10-20 00:47:59,298 [salt.utils.jinja ][DEBUG   ][2633] Jinja search path: ['./pillar']
2016-10-20 00:47:59,300 [salt.template    ][PROFILE ][2633] Time (in seconds) to render './pillar/munin-node-list.sls' using 'jinja' renderer: 0.00172996520996
2016-10-20 00:47:59,300 [salt.template    ][DEBUG   ][2633] Rendered data from file: ./pillar/munin-node-list.sls:
munin_node_list:
  munin-async01:
    hostname: munin-async01
    ip: 192.168.1.14
    munin_server: munin-async01

  kibana4:
    hostname: kibana4
    ip: 192.168.1.37
    group: Dev
    alarm_rules:
      - 'df._dev_vda1.warning 75'
      - 'df._dev_vda1.critical 80'
      - 'df_inode._dev_vda1.warning 75'
      - 'df_inode._dev_vda1.critical 80'
      - 'load.load.warning 8'
      - 'load.load.critical 15'
    munin_server: munin-async01

  nagioslog:
    hostname: nagioslog
    ip: 192.168.1.12
    group: Dev
    alarm_rules:
      - 'df._dev_vda1.warning 75'
      - 'df._dev_vda1.critical 80'
      - 'df_inode._dev_vda1.warning 75'
      - 'df_inode._dev_vda1.critical 80'
      - 'load.load.warning 8'
      - 'load.load.critical 15'
    munin_server: munin-async01

  ceph-node01:
    hostname: ceph-node01
    ip: 192.168.1.6
    group: Dev
    alarm_rules:
      - 'df._dev_vda1.warning 75'
      - 'df._dev_vda1.critical 80'
      - 'df_inode._dev_vda1.warning 75'
      - 'df_inode._dev_vda1.critical 80'
      - 'load.load.warning 1'
      - 'load.load.critical 2'
    munin_server: munin-async01

  ceph-node02:
    hostname: ceph-node02
    ip: 192.168.1.16
    group: Dev
    alarm_rules:
      - 'df._dev_vda1.warning 75'
      - 'df._dev_vda1.critical 80'
      - 'df_inode._dev_vda1.warning 75'
      - 'df_inode._dev_vda1.critical 80'
      - 'load.load.warning 1'
      - 'load.load.critical 2'
    munin_server: munin-async01

  ceph-node03:
    hostname: ceph-node03
    ip: 192.168.1.18
    group: Dev
    alarm_rules:
      - 'df._dev_vda1.warning 75'
      - 'df._dev_vda1.critical 80'
      - 'df_inode._dev_vda1.warning 75'
      - 'df_inode._dev_vda1.critical 80'
      - 'load.load.warning 1'
      - 'load.load.critical 2'
    munin_server: munin-async01

  ceph-admin:
    hostname: ceph-admin
    ip: 192.168.1.20
    group: Dev
    alarm_rules:
      - 'df._dev_vda1.warning 75'
      - 'df._dev_vda1.critical 80'
      - 'df_inode._dev_vda1.warning 75'
      - 'df_inode._dev_vda1.critical 80'
      - 'load.load.warning 1'
      - 'load.load.critical 2'
    munin_server: munin-async01


2016-10-20 00:47:59,315 [salt.loaded.int.render.yaml][DEBUG   ][2633] Results of YAML rendering: 
OrderedDict([('munin_node_list', OrderedDict([('munin-async01', OrderedDict([('hostname', 'munin-async01'), ('ip', '192.168.1.14'), ('munin_server', 'munin-async01')])), ('kibana4', OrderedDict([('hostname', 'kibana4'), ('ip', '192.168.1.37'), ('group', 'Dev'), ('alarm_rules', ['df._dev_vda1.warning 75', 'df._dev_vda1.critical 80', 'df_inode._dev_vda1.warning 75', 'df_inode._dev_vda1.critical 80', 'load.load.warning 8', 'load.load.critical 15']), ('munin_server', 'munin-async01')])), ('nagioslog', OrderedDict([('hostname', 'nagioslog'), ('ip', '192.168.1.12'), ('group', 'Dev'), ('alarm_rules', ['df._dev_vda1.warning 75', 'df._dev_vda1.critical 80', 'df_inode._dev_vda1.warning 75', 'df_inode._dev_vda1.critical 80', 'load.load.warning 8', 'load.load.critical 15']), ('munin_server', 'munin-async01')])), ('ceph-node01', OrderedDict([('hostname', 'ceph-node01'), ('ip', '192.168.1.6'), ('group', 'Dev'), ('alarm_rules', ['df._dev_vda1.warning 75', 'df._dev_vda1.critical 80', 'df_inode._dev_vda1.warning 75', 'df_inode._dev_vda1.critical 80', 'load.load.warning 1', 'load.load.critical 2']), ('munin_server', 'munin-async01')])), ('ceph-node02', OrderedDict([('hostname', 'ceph-node02'), ('ip', '192.168.1.16'), ('group', 'Dev'), ('alarm_rules', ['df._dev_vda1.warning 75', 'df._dev_vda1.critical 80', 'df_inode._dev_vda1.warning 75', 'df_inode._dev_vda1.critical 80', 'load.load.warning 1', 'load.load.critical 2']), ('munin_server', 'munin-async01')])), ('ceph-node03', OrderedDict([('hostname', 'ceph-node03'), ('ip', '192.168.1.18'), ('group', 'Dev'), ('alarm_rules', ['df._dev_vda1.warning 75', 'df._dev_vda1.critical 80', 'df_inode._dev_vda1.warning 75', 'df_inode._dev_vda1.critical 80', 'load.load.warning 1', 'load.load.critical 2']), ('munin_server', 'munin-async01')])), ('ceph-admin', OrderedDict([('hostname', 'ceph-admin'), ('ip', '192.168.1.20'), ('group', 'Dev'), ('alarm_rules', ['df._dev_vda1.warning 75', 'df._dev_vda1.critical 80', 'df_inode._dev_vda1.warning 75', 'df_inode._dev_vda1.critical 80', 'load.load.warning 1', 'load.load.critical 2']), ('munin_server', 'munin-async01')]))]))])
2016-10-20 00:47:59,315 [salt.template    ][PROFILE ][2633] Time (in seconds) to render './pillar/munin-node-list.sls' using 'yaml' renderer: 0.0146110057831
2016-10-20 00:47:59,317 [salt.template    ][DEBUG   ][2633] compile template: ./pillar/test.sls
2016-10-20 00:47:59,318 [salt.utils.jinja ][DEBUG   ][2633] Jinja search path: ['./pillar']
2016-10-20 00:47:59,319 [salt.template    ][PROFILE ][2633] Time (in seconds) to render './pillar/test.sls' using 'jinja' renderer: 0.000935077667236
2016-10-20 00:47:59,319 [salt.template    ][DEBUG   ][2633] Rendered data from file: ./pillar/test.sls:
test:
  test1:
    ip: 192.168.1.1
  test2:
    ip: 192.168.1.2
  test3:
    ip: 192.168.1.3


2016-10-20 00:47:59,321 [salt.loaded.int.render.yaml][DEBUG   ][2633] Results of YAML rendering: 
OrderedDict([('test', OrderedDict([('test1', OrderedDict([('ip', '192.168.1.1')])), ('test2', OrderedDict([('ip', '192.168.1.2')])), ('test3', OrderedDict([('ip', '192.168.1.3')]))]))])
2016-10-20 00:47:59,321 [salt.template    ][PROFILE ][2633] Time (in seconds) to render './pillar/test.sls' using 'yaml' renderer: 0.00200819969177
2016-10-20 00:47:59,347 [salt.utils.lazy  ][DEBUG   ][2633] LazyLoaded jinja.render
2016-10-20 00:47:59,347 [salt.utils.lazy  ][DEBUG   ][2633] LazyLoaded yaml.render
2016-10-20 00:47:59,348 [salt.fileclient  ][DEBUG   ][2633] In saltenv 'base', looking at rel_path 'munin.sls' to resolve 'salt://munin.sls'
2016-10-20 00:47:59,348 [salt.fileclient  ][DEBUG   ][2633] In saltenv 'base', ** considering ** path '/root/saltstack_master/var/cache/salt/master/files/base/munin.sls' to resolve 'salt://munin.sls'
2016-10-20 00:47:59,349 [salt.fileclient  ][INFO    ][2633] Fetching file from saltenv 'base', ** skipped ** latest already in cache 'salt://munin.sls'
2016-10-20 00:47:59,349 [salt.template    ][DEBUG   ][2633] compile template: /root/saltstack_master/var/cache/salt/master/files/base/munin.sls
2016-10-20 00:47:59,349 [salt.utils.jinja ][DEBUG   ][2633] Jinja search path: ['/var/tmp/.salt-ope_1a3532_salt/running_data/var/cache/salt/minion/files/base']
2016-10-20 00:47:59,370 [salt.utils.lazy  ][DEBUG   ][2633] Could not LazyLoad network.interface_ip
2016-10-20 00:47:59,409 [salt.client.ssh  ][DEBUG   ][2633] Performing shimmed, blocking command as follows:
network.interface_ip "eth0"
2016-10-20 00:47:59,427 [salt.client.ssh.shell][DEBUG   ][2633] Executed SHIM command. Command logged to TRACE
2016-10-20 00:47:59,427 [salt.client.ssh.shell][TRACE   ][2633] Executing command: ssh 192.168.1.15  -o KbdInteractiveAuthentication=no -o PasswordAuthentication=yes -o GSSAPIAuthentication=no -o ConnectTimeout=65 -o Port=22 -o IdentityFile=/root/saltstack_master/etc/salt/pki/master/ssh/salt-ssh.rsa -o User=******  /bin/sh << 'EOF'
set -e
set -u
DEBUG=""
if [ -n "$DEBUG" ]
then set -x
fi
SUDO=""
if [ -n "sudo" ]
then SUDO="sudo "
fi
EX_PYTHON_INVALID=10
PYTHON_CMDS="python3 python27 python2.7 python26 python2.6 python2 python"
for py_cmd in $PYTHON_CMDS
do
if command -v "$py_cmd" >/dev/null 2>&1 && "$py_cmd" -c \
"import sys; sys.exit(not (sys.version_info >= (2, 6)
and sys.version_info[0] == 2));"
then
py_cmd_path=`"$py_cmd" -c \
'from __future__ import print_function;
import sys; print(sys.executable);'`
cmdpath=$(which $py_cmd 2>&1)
if file $cmdpath | grep "shell script" > /dev/null
then
ex_vars="'PATH', 'LD_LIBRARY_PATH', 'MANPATH', \
'XDG_DATA_DIRS', 'PKG_CONFIG_PATH'"
export $($py_cmd -c \
"from __future__ import print_function;
import sys;
import os;
map(sys.stdout.write, ['{0}={1} ' \
.format(x, os.environ[x]) for x in [$ex_vars]])")
exec $SUDO PATH=$PATH LD_LIBRARY_PATH=$LD_LIBRARY_PATH \
MANPATH=$MANPATH XDG_DATA_DIRS=$XDG_DATA_DIRS \
PKG_CONFIG_PATH=$PKG_CONFIG_PATH \
"$py_cmd_path" -c \
'import base64;
exec(base64.b64decode("""IyBweWxpbnQ6IGRpc2FibGU9Vzk5MDMKJycnClRoaXMgaXMgYSBzaGltIHRoYXQgaGFuZGxlcyBj
aGVja2luZyBhbmQgdXBkYXRpbmcgc2FsdCB0aGluIGFuZAp0aGVuIGludm9raW5nIHRoaW4uCgpU
aGlzIGlzIG5vdCBpbnRlbmRlZCB0byBiZSBpbnN0YW50aWF0ZWQgYXMgYSBtb2R1bGUsIHJhdGhl
ciBpdCBpcyBhCmhlbHBlciBzY3JpcHQgdXNlZCBieSBzYWx0LmNsaWVudC5zc2guU2luZ2xlLiAg
SXQgaXMgaGVyZSwgaW4gYQpzZXBhcmF0ZSBmaWxlLCBmb3IgY29udmVuaWVuY2Ugb2YgZGV2ZWxv
cG1lbnQuCicnJwoKZnJvbSBfX2Z1dHVyZV9fIGltcG9ydCBhYnNvbHV0ZV9pbXBvcnQKCmltcG9y
dCBoYXNobGliCmltcG9ydCB0YXJmaWxlCmltcG9ydCBzaHV0aWwKaW1wb3J0IHN5cwppbXBvcnQg
b3MKaW1wb3J0IHN0YXQKaW1wb3J0IHN1YnByb2Nlc3MKClRISU5fQVJDSElWRSA9ICdzYWx0LXRo
aW4udGd6JwpFWFRfQVJDSElWRSA9ICdzYWx0LWV4dF9tb2RzLnRneicKCiMgS2VlcCB0aGVzZSBp
biBzeW5jIHdpdGggc2FsdC9kZWZhdWx0cy9leGl0Y29kZXMucHkKRVhfVEhJTl9ERVBMT1kgPSAx
MQpFWF9USElOX0NIRUNLU1VNID0gMTIKRVhfTU9EX0RFUExPWSA9IDEzCkVYX1NDUF9OT1RfRk9V
TkQgPSAxNApFWF9DQU5UQ1JFQVQgPSA3MwoKCmNsYXNzIE9CSihvYmplY3QpOgogICAgIiIiQW4g
ZW1wdHkgY2xhc3MgZm9yIGhvbGRpbmcgaW5zdGFuY2UgYXR0cmlidXRlIHZhbHVlcy4iIiIKICAg
IHBhc3MKCgpPUFRJT05TID0gTm9uZQpBUkdTID0gTm9uZQojIFRoZSBiZWxvdyBsaW5lIGlzIHdo
ZXJlIE9QVElPTlMgY2FuIGJlIHJlZGVmaW5lZCB3aXRoIGludGVybmFsIG9wdGlvbnMKIyAocmF0
aGVyIHRoYW4gY2xpIGFyZ3VtZW50cykgd2hlbiB0aGUgc2hpbSBpcyBidW5kbGVkIGJ5CiMgY2xp
ZW50LnNzaC5TaW5nbGUuX2NtZF9zdHIoKQojIHB5bGludDogZGlzYWJsZT1ibG9jay1jb21tZW50
LXNob3VsZC1zdGFydC13aXRoLWNhcmRpbmFsLXNwYWNlCgpPUFRJT05TID0gT0JKKCkKT1BUSU9O
Uy5jb25maWcgPSAiIiIKe2ZpbGVzZXJ2ZXJfbGlzdF9jYWNoZV90aW1lOiAzLCBncmFpbnNfY2Fj
aGU6IHRydWUsIGlkOiBtdW5pbiwgbG9nX2ZpbGU6IHNhbHQtY2FsbC5sb2csCiAgcm9vdF9kaXI6
IC92YXIvdG1wLy5zYWx0LW9wZV8xYTM1MzJfc2FsdC9ydW5uaW5nX2RhdGEsIHNvY2tfZGlyOiAv
fQoiIiIKT1BUSU9OUy5kZWxpbWl0ZXIgPSAnX2VkYmM3ODg1ZTRmOWFhYzliODNiMzU5OTliNjhk
MDE1MTQ4Y2FmNDY3Yjc4ZmEzOWMwNWY2NjljMGZmODk4NzgnCk9QVElPTlMuc2FsdGRpciA9ICcv
dmFyL3RtcC8uc2FsdC1vcGVfMWEzNTMyX3NhbHQnCk9QVElPTlMuY2hlY2tzdW0gPSAnOTg1MjZk
OTliMWU3YjA3OWRjZWZjZWM5ZmE1Yjg1MWZmYmY5ODEzZCcKT1BUSU9OUy5oYXNoZnVuYyA9ICdz
aGExJwpPUFRJT05TLnZlcnNpb24gPSAnMjAxNi4zLjInCk9QVElPTlMuZXh0X21vZHMgPSAnNzQx
OTZlMDExNDUyMWUyYWRjNjlkNjgxY2U2YTQ1NjNiYTBhZTFlYicKT1BUSU9OUy53aXBlID0gRmFs
c2UKT1BUSU9OUy50dHkgPSBGYWxzZQpPUFRJT05TLmNtZF91bWFzayA9IE5vbmUKQVJHUyA9IFsn
bmV0d29yay5pbnRlcmZhY2VfaXAnLCAnImV0aDAiJ10KCgoKZGVmIG5lZWRfZGVwbG95bWVudCgp
OgogICAgIiIiCiAgICBTYWx0IHRoaW4gbmVlZHMgdG8gYmUgZGVwbG95ZWQgLSBwcmVwIHRoZSB0
YXJnZXQgZGlyZWN0b3J5IGFuZCBlbWl0IHRoZQogICAgZGVsaW1ldGVyIGFuZCBleGl0IGNvZGUg
dGhhdCBzaWduYWxzIGEgcmVxdWlyZWQgZGVwbG95bWVudC4KICAgICIiIgogICAgaWYgb3MucGF0
aC5leGlzdHMoT1BUSU9OUy5zYWx0ZGlyKToKICAgICAgICBzaHV0aWwucm10cmVlKE9QVElPTlMu
c2FsdGRpcikKICAgIG9sZF91bWFzayA9IG9zLnVtYXNrKDBvMDc3KQogICAgb3MubWFrZWRpcnMo
T1BUSU9OUy5zYWx0ZGlyKQogICAgb3MudW1hc2sob2xkX3VtYXNrKQogICAgIyBWZXJpZnkgcGVy
bXMgb24gc2FsdGRpcgogICAgZXVpZCA9IG9zLmdldGV1aWQoKQogICAgZHN0YXQgPSBvcy5zdGF0
KE9QVElPTlMuc2FsdGRpcikKICAgIGlmIGRzdGF0LnN0X3VpZCAhPSBldWlkOgogICAgICAgICMg
QXR0YWNrIGRldGVjdGVkLCB0cnkgYWdhaW4KICAgICAgICBuZWVkX2RlcGxveW1lbnQoKQogICAg
aWYgZHN0YXQuc3RfbW9kZSAhPSAxNjgzMjoKICAgICAgICAjIEF0dGFjayBkZXRlY3RlZAogICAg
ICAgIG5lZWRfZGVwbG95bWVudCgpCiAgICAjIElmIFNVRE9pbmcgdGhlbiBhbHNvIGdpdmUgdGhl
IHN1cGVyIHVzZXIgZ3JvdXAgd3JpdGUgcGVybWlzc2lvbnMKICAgIHN1ZG9fZ2lkID0gb3MuZW52
aXJvbi5nZXQoJ1NVRE9fR0lEJykKICAgIGlmIHN1ZG9fZ2lkOgogICAgICAgIG9zLmNob3duKE9Q
VElPTlMuc2FsdGRpciwgLTEsIGludChzdWRvX2dpZCkpCiAgICAgICAgc3R0ID0gb3Muc3RhdChP
UFRJT05TLnNhbHRkaXIpCiAgICAgICAgb3MuY2htb2QoT1BUSU9OUy5zYWx0ZGlyLCBzdHQuc3Rf
bW9kZSB8IHN0YXQuU19JV0dSUCB8IHN0YXQuU19JUkdSUCB8IHN0YXQuU19JWEdSUCkKCiAgICAj
IERlbGltaXRlciBlbWl0dGVkIG9uIHN0ZG91dCAqb25seSogdG8gaW5kaWNhdGUgc2hpbSBtZXNz
YWdlIHRvIG1hc3Rlci4KICAgIHN5cy5zdGRvdXQud3JpdGUoInswfVxuZGVwbG95XG4iLmZvcm1h
dChPUFRJT05TLmRlbGltaXRlcikpCiAgICBzeXMuZXhpdChFWF9USElOX0RFUExPWSkKCgojIEFk
YXB0ZWQgZnJvbSBzYWx0LnV0aWxzLmdldF9oYXNoKCkKZGVmIGdldF9oYXNoKHBhdGgsIGZvcm09
J3NoYTEnLCBjaHVua19zaXplPTQwOTYpOgogICAgIiIiR2VuZXJhdGUgYSBoYXNoIGRpZ2VzdCBz
dHJpbmcgZm9yIGEgZmlsZS4iIiIKICAgIHRyeToKICAgICAgICBoYXNoX3R5cGUgPSBnZXRhdHRy
KGhhc2hsaWIsIGZvcm0pCiAgICBleGNlcHQgQXR0cmlidXRlRXJyb3I6CiAgICAgICAgcmFpc2Ug
VmFsdWVFcnJvcignSW52YWxpZCBoYXNoIHR5cGU6IHswfScuZm9ybWF0KGZvcm0pKQogICAgd2l0
aCBvcGVuKHBhdGgsICdyYicpIGFzIGlmaWxlOgogICAgICAgIGhhc2hfb2JqID0gaGFzaF90eXBl
KCkKICAgICAgICAjIHJlYWQgdGhlIGZpbGUgaW4gaW4gY2h1bmtzLCBub3QgdGhlIGVudGlyZSBm
aWxlCiAgICAgICAgZm9yIGNodW5rIGluIGl0ZXIobGFtYmRhOiBpZmlsZS5yZWFkKGNodW5rX3Np
emUpLCBiJycpOgogICAgICAgICAgICBoYXNoX29iai51cGRhdGUoY2h1bmspCiAgICAgICAgcmV0
dXJuIGhhc2hfb2JqLmhleGRpZ2VzdCgpCgoKZGVmIHVucGFja190aGluKHRoaW5fcGF0aCk6CiAg
ICAiIiJVbnBhY2sgdGhlIFNhbHQgdGhpbiBhcmNoaXZlLiIiIgogICAgdGZpbGUgPSB0YXJmaWxl
LlRhckZpbGUuZ3pvcGVuKHRoaW5fcGF0aCkKICAgIG9sZF91bWFzayA9IG9zLnVtYXNrKDBvMDc3
KQogICAgdGZpbGUuZXh0cmFjdGFsbChwYXRoPU9QVElPTlMuc2FsdGRpcikKICAgIHRmaWxlLmNs
b3NlKCkKICAgIG9zLnVtYXNrKG9sZF91bWFzaykKICAgIG9zLnVubGluayh0aGluX3BhdGgpCgoK
ZGVmIG5lZWRfZXh0KCk6CiAgICAiIiJTaWduYWwgdGhhdCBleHRlcm5hbCBtb2R1bGVzIG5lZWQg
dG8gYmUgZGVwbG95ZWQuIiIiCiAgICBzeXMuc3Rkb3V0LndyaXRlKCJ7MH1cbmV4dF9tb2RzXG4i
LmZvcm1hdChPUFRJT05TLmRlbGltaXRlcikpCiAgICBzeXMuZXhpdChFWF9NT0RfREVQTE9ZKQoK
CmRlZiB1bnBhY2tfZXh0KGV4dF9wYXRoKToKICAgICIiIlVucGFjayB0aGUgZXh0ZXJuYWwgbW9k
dWxlcy4iIiIKICAgIG1vZGNhY2hlID0gb3MucGF0aC5qb2luKAogICAgICAgICAgICBPUFRJT05T
LnNhbHRkaXIsCiAgICAgICAgICAgICdydW5uaW5nX2RhdGEnLAogICAgICAgICAgICAndmFyJywK
ICAgICAgICAgICAgJ2NhY2hlJywKICAgICAgICAgICAgJ3NhbHQnLAogICAgICAgICAgICAnbWlu
aW9uJywKICAgICAgICAgICAgJ2V4dG1vZHMnKQogICAgdGZpbGUgPSB0YXJmaWxlLlRhckZpbGUu
Z3pvcGVuKGV4dF9wYXRoKQogICAgb2xkX3VtYXNrID0gb3MudW1hc2soMG8wNzcpCiAgICB0Zmls
ZS5leHRyYWN0YWxsKHBhdGg9bW9kY2FjaGUpCiAgICB0ZmlsZS5jbG9zZSgpCiAgICBvcy51bWFz
ayhvbGRfdW1hc2spCiAgICBvcy51bmxpbmsoZXh0X3BhdGgpCiAgICB2ZXJfcGF0aCA9IG9zLnBh
dGguam9pbihtb2RjYWNoZSwgJ2V4dF92ZXJzaW9uJykKICAgIHZlcl9kc3QgPSBvcy5wYXRoLmpv
aW4oT1BUSU9OUy5zYWx0ZGlyLCAnZXh0X3ZlcnNpb24nKQogICAgc2h1dGlsLm1vdmUodmVyX3Bh
dGgsIHZlcl9kc3QpCgoKZGVmIG1haW4oYXJndik6ICAjIHB5bGludDogZGlzYWJsZT1XMDYxMwog
ICAgIiIiTWFpbiBwcm9ncmFtIGJvZHkiIiIKICAgIHRoaW5fcGF0aCA9IG9zLnBhdGguam9pbihP
UFRJT05TLnNhbHRkaXIsIFRISU5fQVJDSElWRSkKICAgIGlmIG9zLnBhdGguaXNmaWxlKHRoaW5f
cGF0aCk6CiAgICAgICAgaWYgT1BUSU9OUy5jaGVja3N1bSAhPSBnZXRfaGFzaCh0aGluX3BhdGgs
IE9QVElPTlMuaGFzaGZ1bmMpOgogICAgICAgICAgICBzeXMuc3RkZXJyLndyaXRlKCd7MH1cbicu
Zm9ybWF0KE9QVElPTlMuY2hlY2tzdW0pKQogICAgICAgICAgICBzeXMuc3RkZXJyLndyaXRlKCd7
MH1cbicuZm9ybWF0KGdldF9oYXNoKHRoaW5fcGF0aCwgT1BUSU9OUy5oYXNoZnVuYykpKQogICAg
ICAgICAgICBvcy51bmxpbmsodGhpbl9wYXRoKQogICAgICAgICAgICBzeXMuc3RkZXJyLndyaXRl
KCdXQVJOSU5HOiBjaGVja3N1bSBtaXNtYXRjaCBmb3IgInswfSJcbicuZm9ybWF0KHRoaW5fcGF0
aCkpCiAgICAgICAgICAgIHN5cy5leGl0KEVYX1RISU5fQ0hFQ0tTVU0pCiAgICAgICAgdW5wYWNr
X3RoaW4odGhpbl9wYXRoKQogICAgICAgICMgU2FsdCB0aGluIG5vdyBpcyBhdmFpbGFibGUgdG8g
dXNlCiAgICBlbHNlOgogICAgICAgIHNjcHN0YXQgPSBzdWJwcm9jZXNzLlBvcGVuKFsnL2Jpbi9z
aCcsICctYycsICdjb21tYW5kIC12IHNjcCddKS53YWl0KCkKICAgICAgICBpZiBzY3BzdGF0ICE9
IDA6CiAgICAgICAgICAgIHN5cy5leGl0KEVYX1NDUF9OT1RfRk9VTkQpCgogICAgICAgIGlmIG5v
dCBvcy5wYXRoLmV4aXN0cyhPUFRJT05TLnNhbHRkaXIpOgogICAgICAgICAgICBuZWVkX2RlcGxv
eW1lbnQoKQoKICAgICAgICBpZiBub3Qgb3MucGF0aC5pc2RpcihPUFRJT05TLnNhbHRkaXIpOgog
ICAgICAgICAgICBzeXMuc3RkZXJyLndyaXRlKAogICAgICAgICAgICAgICAgJ0VSUk9SOiBzYWx0
IHBhdGggInswfSIgZXhpc3RzIGJ1dCBpcycKICAgICAgICAgICAgICAgICcgbm90IGEgZGlyZWN0
b3J5XG4nLmZvcm1hdChPUFRJT05TLnNhbHRkaXIpCiAgICAgICAgICAgICkKICAgICAgICAgICAg
c3lzLmV4aXQoRVhfQ0FOVENSRUFUKQoKICAgICAgICB2ZXJzaW9uX3BhdGggPSBvcy5wYXRoLmpv
aW4oT1BUSU9OUy5zYWx0ZGlyLCAndmVyc2lvbicpCiAgICAgICAgaWYgbm90IG9zLnBhdGguZXhp
c3RzKHZlcnNpb25fcGF0aCkgb3Igbm90IG9zLnBhdGguaXNmaWxlKHZlcnNpb25fcGF0aCk6CiAg
ICAgICAgICAgIHN5cy5zdGRlcnIud3JpdGUoCiAgICAgICAgICAgICAgICAnV0FSTklORzogVW5h
YmxlIHRvIGxvY2F0ZSBjdXJyZW50IHRoaW4gJwogICAgICAgICAgICAgICAgJyB2ZXJzaW9uOiB7
MH0uXG4nLmZvcm1hdCh2ZXJzaW9uX3BhdGgpCiAgICAgICAgICAgICkKICAgICAgICAgICAgbmVl
ZF9kZXBsb3ltZW50KCkKICAgICAgICB3aXRoIG9wZW4odmVyc2lvbl9wYXRoLCAncicpIGFzIHZw
bzoKICAgICAgICAgICAgY3VyX3ZlcnNpb24gPSB2cG8ucmVhZGxpbmUoKS5zdHJpcCgpCiAgICAg
ICAgaWYgY3VyX3ZlcnNpb24gIT0gT1BUSU9OUy52ZXJzaW9uOgogICAgICAgICAgICBzeXMuc3Rk
ZXJyLndyaXRlKAogICAgICAgICAgICAgICAgJ1dBUk5JTkc6IGN1cnJlbnQgdGhpbiB2ZXJzaW9u
IHswfScKICAgICAgICAgICAgICAgICcgaXMgbm90IHVwLXRvLWRhdGUgd2l0aCB7MX0uXG4nLmZv
cm1hdCgKICAgICAgICAgICAgICAgICAgICBjdXJfdmVyc2lvbiwgT1BUSU9OUy52ZXJzaW9uCiAg
ICAgICAgICAgICAgICApCiAgICAgICAgICAgICkKICAgICAgICAgICAgbmVlZF9kZXBsb3ltZW50
KCkKICAgICAgICAjIFNhbHQgdGhpbiBleGlzdHMgYW5kIGlzIHVwLXRvLWRhdGUgLSBmYWxsIHRo
cm91Z2ggYW5kIHVzZSBpdAoKICAgIHNhbHRfY2FsbF9wYXRoID0gb3MucGF0aC5qb2luKE9QVElP
TlMuc2FsdGRpciwgJ3NhbHQtY2FsbCcpCiAgICBpZiBub3Qgb3MucGF0aC5pc2ZpbGUoc2FsdF9j
YWxsX3BhdGgpOgogICAgICAgIHN5cy5zdGRlcnIud3JpdGUoJ0VSUk9SOiB0aGluIGlzIG1pc3Np
bmcgInswfSJcbicuZm9ybWF0KHNhbHRfY2FsbF9wYXRoKSkKICAgICAgICBuZWVkX2RlcGxveW1l
bnQoKQoKICAgIHdpdGggb3Blbihvcy5wYXRoLmpvaW4oT1BUSU9OUy5zYWx0ZGlyLCAnbWluaW9u
JyksICd3JykgYXMgY29uZmlnOgogICAgICAgIGNvbmZpZy53cml0ZShPUFRJT05TLmNvbmZpZyAr
ICdcbicpCiAgICBpZiBPUFRJT05TLmV4dF9tb2RzOgogICAgICAgIGV4dF9wYXRoID0gb3MucGF0
aC5qb2luKE9QVElPTlMuc2FsdGRpciwgRVhUX0FSQ0hJVkUpCiAgICAgICAgaWYgb3MucGF0aC5l
eGlzdHMoZXh0X3BhdGgpOgogICAgICAgICAgICB1bnBhY2tfZXh0KGV4dF9wYXRoKQogICAgICAg
IGVsc2U6CiAgICAgICAgICAgIHZlcnNpb25fcGF0aCA9IG9zLnBhdGguam9pbihPUFRJT05TLnNh
bHRkaXIsICdleHRfdmVyc2lvbicpCiAgICAgICAgICAgIGlmIG5vdCBvcy5wYXRoLmV4aXN0cyh2
ZXJzaW9uX3BhdGgpIG9yIG5vdCBvcy5wYXRoLmlzZmlsZSh2ZXJzaW9uX3BhdGgpOgogICAgICAg
ICAgICAgICAgbmVlZF9leHQoKQogICAgICAgICAgICB3aXRoIG9wZW4odmVyc2lvbl9wYXRoLCAn
cicpIGFzIHZwbzoKICAgICAgICAgICAgICAgIGN1cl92ZXJzaW9uID0gdnBvLnJlYWRsaW5lKCku
c3RyaXAoKQogICAgICAgICAgICBpZiBjdXJfdmVyc2lvbiAhPSBPUFRJT05TLmV4dF9tb2RzOgog
ICAgICAgICAgICAgICAgbmVlZF9leHQoKQogICAgIyBGaXggcGFyYW1ldGVyIHBhc3NpbmcgaXNz
dWUKICAgIGlmIGxlbihBUkdTKSA9PSAxOgogICAgICAgIGFyZ3ZfcHJlcGFyZWQgPSBBUkdTWzBd
LnNwbGl0KCkKICAgIGVsc2U6CiAgICAgICAgYXJndl9wcmVwYXJlZCA9IEFSR1MKCiAgICBzYWx0
X2FyZ3YgPSBbCiAgICAgICAgc3lzLmV4ZWN1dGFibGUsCiAgICAgICAgc2FsdF9jYWxsX3BhdGgs
CiAgICAgICAgJy0tcmV0Y29kZS1wYXNzdGhyb3VnaCcsCiAgICAgICAgJy0tbG9jYWwnLAogICAg
ICAgICctLW1ldGFkYXRhJywKICAgICAgICAnLS1vdXQnLCAnanNvbicsCiAgICAgICAgJy1sJywg
J3F1aWV0JywKICAgICAgICAnLWMnLCBPUFRJT05TLnNhbHRkaXIsCiAgICAgICAgJy0tJywKICAg
IF0gKyBhcmd2X3ByZXBhcmVkCgogICAgc3lzLnN0ZGVyci53cml0ZSgnU0FMVF9BUkdWOiB7MH1c
bicuZm9ybWF0KHNhbHRfYXJndikpCgogICAgIyBPbmx5IGVtaXQgdGhlIGRlbGltaXRlciBvbiAq
Ym90aCogc3Rkb3V0IGFuZCBzdGRlcnIgd2hlbiBjb21wbGV0ZWx5IHN1Y2Nlc3NmdWwuCiAgICAj
IFllcywgdGhlIGZsdXNoKCkgaXMgbmVjZXNzYXJ5LgogICAgc3lzLnN0ZG91dC53cml0ZShPUFRJ
T05TLmRlbGltaXRlciArICdcbicpCiAgICBzeXMuc3Rkb3V0LmZsdXNoKCkKICAgIGlmIG5vdCBP
UFRJT05TLnR0eToKICAgICAgICBzeXMuc3RkZXJyLndyaXRlKE9QVElPTlMuZGVsaW1pdGVyICsg
J1xuJykKICAgICAgICBzeXMuc3RkZXJyLmZsdXNoKCkKICAgIGlmIE9QVElPTlMuY21kX3VtYXNr
IGlzIG5vdCBOb25lOgogICAgICAgIG9sZF91bWFzayA9IG9zLnVtYXNrKE9QVElPTlMuY21kX3Vt
YXNrKQogICAgaWYgT1BUSU9OUy50dHk6CiAgICAgICAgc3Rkb3V0LCBfID0gc3VicHJvY2Vzcy5Q
b3BlbihzYWx0X2FyZ3YsIHN0ZG91dD1zdWJwcm9jZXNzLlBJUEUsIHN0ZGVycj1zdWJwcm9jZXNz
LlBJUEUpLmNvbW11bmljYXRlKCkKICAgICAgICBzeXMuc3Rkb3V0LndyaXRlKHN0ZG91dCkKICAg
ICAgICBzeXMuc3Rkb3V0LmZsdXNoKCkKICAgICAgICBpZiBPUFRJT05TLndpcGU6CiAgICAgICAg
ICAgIHNodXRpbC5ybXRyZWUoT1BUSU9OUy5zYWx0ZGlyKQogICAgZWxpZiBPUFRJT05TLndpcGU6
CiAgICAgICAgc3VicHJvY2Vzcy5jYWxsKHNhbHRfYXJndikKICAgICAgICBzaHV0aWwucm10cmVl
KE9QVElPTlMuc2FsdGRpcikKICAgIGVsc2U6CiAgICAgICAgb3MuZXhlY3Yoc3lzLmV4ZWN1dGFi
bGUsIHNhbHRfYXJndikKICAgIGlmIE9QVElPTlMuY21kX3VtYXNrIGlzIG5vdCBOb25lOgogICAg
ICAgIG9zLnVtYXNrKG9sZF91bWFzaykKCmlmIF9fbmFtZV9fID09ICdfX21haW5fXyc6CiAgICBz
eXMuZXhpdChtYWluKHN5cy5hcmd2KSkK
""").decode("utf-8"))'
else
exec $SUDO "$py_cmd_path" -c \
'import base64;
exec(base64.b64decode("""IyBweWxpbnQ6IGRpc2FibGU9Vzk5MDMKJycnClRoaXMgaXMgYSBzaGltIHRoYXQgaGFuZGxlcyBj
aGVja2luZyBhbmQgdXBkYXRpbmcgc2FsdCB0aGluIGFuZAp0aGVuIGludm9raW5nIHRoaW4uCgpU
aGlzIGlzIG5vdCBpbnRlbmRlZCB0byBiZSBpbnN0YW50aWF0ZWQgYXMgYSBtb2R1bGUsIHJhdGhl
ciBpdCBpcyBhCmhlbHBlciBzY3JpcHQgdXNlZCBieSBzYWx0LmNsaWVudC5zc2guU2luZ2xlLiAg
SXQgaXMgaGVyZSwgaW4gYQpzZXBhcmF0ZSBmaWxlLCBmb3IgY29udmVuaWVuY2Ugb2YgZGV2ZWxv
cG1lbnQuCicnJwoKZnJvbSBfX2Z1dHVyZV9fIGltcG9ydCBhYnNvbHV0ZV9pbXBvcnQKCmltcG9y
dCBoYXNobGliCmltcG9ydCB0YXJmaWxlCmltcG9ydCBzaHV0aWwKaW1wb3J0IHN5cwppbXBvcnQg
b3MKaW1wb3J0IHN0YXQKaW1wb3J0IHN1YnByb2Nlc3MKClRISU5fQVJDSElWRSA9ICdzYWx0LXRo
aW4udGd6JwpFWFRfQVJDSElWRSA9ICdzYWx0LWV4dF9tb2RzLnRneicKCiMgS2VlcCB0aGVzZSBp
biBzeW5jIHdpdGggc2FsdC9kZWZhdWx0cy9leGl0Y29kZXMucHkKRVhfVEhJTl9ERVBMT1kgPSAx
MQpFWF9USElOX0NIRUNLU1VNID0gMTIKRVhfTU9EX0RFUExPWSA9IDEzCkVYX1NDUF9OT1RfRk9V
TkQgPSAxNApFWF9DQU5UQ1JFQVQgPSA3MwoKCmNsYXNzIE9CSihvYmplY3QpOgogICAgIiIiQW4g
ZW1wdHkgY2xhc3MgZm9yIGhvbGRpbmcgaW5zdGFuY2UgYXR0cmlidXRlIHZhbHVlcy4iIiIKICAg
IHBhc3MKCgpPUFRJT05TID0gTm9uZQpBUkdTID0gTm9uZQojIFRoZSBiZWxvdyBsaW5lIGlzIHdo
ZXJlIE9QVElPTlMgY2FuIGJlIHJlZGVmaW5lZCB3aXRoIGludGVybmFsIG9wdGlvbnMKIyAocmF0
aGVyIHRoYW4gY2xpIGFyZ3VtZW50cykgd2hlbiB0aGUgc2hpbSBpcyBidW5kbGVkIGJ5CiMgY2xp
ZW50LnNzaC5TaW5nbGUuX2NtZF9zdHIoKQojIHB5bGludDogZGlzYWJsZT1ibG9jay1jb21tZW50
LXNob3VsZC1zdGFydC13aXRoLWNhcmRpbmFsLXNwYWNlCgpPUFRJT05TID0gT0JKKCkKT1BUSU9O
Uy5jb25maWcgPSAiIiIKe2ZpbGVzZXJ2ZXJfbGlzdF9jYWNoZV90aW1lOiAzLCBncmFpbnNfY2Fj
aGU6IHRydWUsIGlkOiBtdW5pbiwgbG9nX2ZpbGU6IHNhbHQtY2FsbC5sb2csCiAgcm9vdF9kaXI6
IC92YXIvdG1wLy5zYWx0LW9wZV8xYTM1MzJfc2FsdC9ydW5uaW5nX2RhdGEsIHNvY2tfZGlyOiAv
fQoiIiIKT1BUSU9OUy5kZWxpbWl0ZXIgPSAnX2VkYmM3ODg1ZTRmOWFhYzliODNiMzU5OTliNjhk
MDE1MTQ4Y2FmNDY3Yjc4ZmEzOWMwNWY2NjljMGZmODk4NzgnCk9QVElPTlMuc2FsdGRpciA9ICcv
dmFyL3RtcC8uc2FsdC1vcGVfMWEzNTMyX3NhbHQnCk9QVElPTlMuY2hlY2tzdW0gPSAnOTg1MjZk
OTliMWU3YjA3OWRjZWZjZWM5ZmE1Yjg1MWZmYmY5ODEzZCcKT1BUSU9OUy5oYXNoZnVuYyA9ICdz
aGExJwpPUFRJT05TLnZlcnNpb24gPSAnMjAxNi4zLjInCk9QVElPTlMuZXh0X21vZHMgPSAnNzQx
OTZlMDExNDUyMWUyYWRjNjlkNjgxY2U2YTQ1NjNiYTBhZTFlYicKT1BUSU9OUy53aXBlID0gRmFs
c2UKT1BUSU9OUy50dHkgPSBGYWxzZQpPUFRJT05TLmNtZF91bWFzayA9IE5vbmUKQVJHUyA9IFsn
bmV0d29yay5pbnRlcmZhY2VfaXAnLCAnImV0aDAiJ10KCgoKZGVmIG5lZWRfZGVwbG95bWVudCgp
OgogICAgIiIiCiAgICBTYWx0IHRoaW4gbmVlZHMgdG8gYmUgZGVwbG95ZWQgLSBwcmVwIHRoZSB0
YXJnZXQgZGlyZWN0b3J5IGFuZCBlbWl0IHRoZQogICAgZGVsaW1ldGVyIGFuZCBleGl0IGNvZGUg
dGhhdCBzaWduYWxzIGEgcmVxdWlyZWQgZGVwbG95bWVudC4KICAgICIiIgogICAgaWYgb3MucGF0
aC5leGlzdHMoT1BUSU9OUy5zYWx0ZGlyKToKICAgICAgICBzaHV0aWwucm10cmVlKE9QVElPTlMu
c2FsdGRpcikKICAgIG9sZF91bWFzayA9IG9zLnVtYXNrKDBvMDc3KQogICAgb3MubWFrZWRpcnMo
T1BUSU9OUy5zYWx0ZGlyKQogICAgb3MudW1hc2sob2xkX3VtYXNrKQogICAgIyBWZXJpZnkgcGVy
bXMgb24gc2FsdGRpcgogICAgZXVpZCA9IG9zLmdldGV1aWQoKQogICAgZHN0YXQgPSBvcy5zdGF0
KE9QVElPTlMuc2FsdGRpcikKICAgIGlmIGRzdGF0LnN0X3VpZCAhPSBldWlkOgogICAgICAgICMg
QXR0YWNrIGRldGVjdGVkLCB0cnkgYWdhaW4KICAgICAgICBuZWVkX2RlcGxveW1lbnQoKQogICAg
aWYgZHN0YXQuc3RfbW9kZSAhPSAxNjgzMjoKICAgICAgICAjIEF0dGFjayBkZXRlY3RlZAogICAg
ICAgIG5lZWRfZGVwbG95bWVudCgpCiAgICAjIElmIFNVRE9pbmcgdGhlbiBhbHNvIGdpdmUgdGhl
IHN1cGVyIHVzZXIgZ3JvdXAgd3JpdGUgcGVybWlzc2lvbnMKICAgIHN1ZG9fZ2lkID0gb3MuZW52
aXJvbi5nZXQoJ1NVRE9fR0lEJykKICAgIGlmIHN1ZG9fZ2lkOgogICAgICAgIG9zLmNob3duKE9Q
VElPTlMuc2FsdGRpciwgLTEsIGludChzdWRvX2dpZCkpCiAgICAgICAgc3R0ID0gb3Muc3RhdChP
UFRJT05TLnNhbHRkaXIpCiAgICAgICAgb3MuY2htb2QoT1BUSU9OUy5zYWx0ZGlyLCBzdHQuc3Rf
bW9kZSB8IHN0YXQuU19JV0dSUCB8IHN0YXQuU19JUkdSUCB8IHN0YXQuU19JWEdSUCkKCiAgICAj
IERlbGltaXRlciBlbWl0dGVkIG9uIHN0ZG91dCAqb25seSogdG8gaW5kaWNhdGUgc2hpbSBtZXNz
YWdlIHRvIG1hc3Rlci4KICAgIHN5cy5zdGRvdXQud3JpdGUoInswfVxuZGVwbG95XG4iLmZvcm1h
dChPUFRJT05TLmRlbGltaXRlcikpCiAgICBzeXMuZXhpdChFWF9USElOX0RFUExPWSkKCgojIEFk
YXB0ZWQgZnJvbSBzYWx0LnV0aWxzLmdldF9oYXNoKCkKZGVmIGdldF9oYXNoKHBhdGgsIGZvcm09
J3NoYTEnLCBjaHVua19zaXplPTQwOTYpOgogICAgIiIiR2VuZXJhdGUgYSBoYXNoIGRpZ2VzdCBz
dHJpbmcgZm9yIGEgZmlsZS4iIiIKICAgIHRyeToKICAgICAgICBoYXNoX3R5cGUgPSBnZXRhdHRy
KGhhc2hsaWIsIGZvcm0pCiAgICBleGNlcHQgQXR0cmlidXRlRXJyb3I6CiAgICAgICAgcmFpc2Ug
VmFsdWVFcnJvcignSW52YWxpZCBoYXNoIHR5cGU6IHswfScuZm9ybWF0KGZvcm0pKQogICAgd2l0
aCBvcGVuKHBhdGgsICdyYicpIGFzIGlmaWxlOgogICAgICAgIGhhc2hfb2JqID0gaGFzaF90eXBl
KCkKICAgICAgICAjIHJlYWQgdGhlIGZpbGUgaW4gaW4gY2h1bmtzLCBub3QgdGhlIGVudGlyZSBm
aWxlCiAgICAgICAgZm9yIGNodW5rIGluIGl0ZXIobGFtYmRhOiBpZmlsZS5yZWFkKGNodW5rX3Np
emUpLCBiJycpOgogICAgICAgICAgICBoYXNoX29iai51cGRhdGUoY2h1bmspCiAgICAgICAgcmV0
dXJuIGhhc2hfb2JqLmhleGRpZ2VzdCgpCgoKZGVmIHVucGFja190aGluKHRoaW5fcGF0aCk6CiAg
ICAiIiJVbnBhY2sgdGhlIFNhbHQgdGhpbiBhcmNoaXZlLiIiIgogICAgdGZpbGUgPSB0YXJmaWxl
LlRhckZpbGUuZ3pvcGVuKHRoaW5fcGF0aCkKICAgIG9sZF91bWFzayA9IG9zLnVtYXNrKDBvMDc3
KQogICAgdGZpbGUuZXh0cmFjdGFsbChwYXRoPU9QVElPTlMuc2FsdGRpcikKICAgIHRmaWxlLmNs
b3NlKCkKICAgIG9zLnVtYXNrKG9sZF91bWFzaykKICAgIG9zLnVubGluayh0aGluX3BhdGgpCgoK
ZGVmIG5lZWRfZXh0KCk6CiAgICAiIiJTaWduYWwgdGhhdCBleHRlcm5hbCBtb2R1bGVzIG5lZWQg
dG8gYmUgZGVwbG95ZWQuIiIiCiAgICBzeXMuc3Rkb3V0LndyaXRlKCJ7MH1cbmV4dF9tb2RzXG4i
LmZvcm1hdChPUFRJT05TLmRlbGltaXRlcikpCiAgICBzeXMuZXhpdChFWF9NT0RfREVQTE9ZKQoK
CmRlZiB1bnBhY2tfZXh0KGV4dF9wYXRoKToKICAgICIiIlVucGFjayB0aGUgZXh0ZXJuYWwgbW9k
dWxlcy4iIiIKICAgIG1vZGNhY2hlID0gb3MucGF0aC5qb2luKAogICAgICAgICAgICBPUFRJT05T
LnNhbHRkaXIsCiAgICAgICAgICAgICdydW5uaW5nX2RhdGEnLAogICAgICAgICAgICAndmFyJywK
ICAgICAgICAgICAgJ2NhY2hlJywKICAgICAgICAgICAgJ3NhbHQnLAogICAgICAgICAgICAnbWlu
aW9uJywKICAgICAgICAgICAgJ2V4dG1vZHMnKQogICAgdGZpbGUgPSB0YXJmaWxlLlRhckZpbGUu
Z3pvcGVuKGV4dF9wYXRoKQogICAgb2xkX3VtYXNrID0gb3MudW1hc2soMG8wNzcpCiAgICB0Zmls
ZS5leHRyYWN0YWxsKHBhdGg9bW9kY2FjaGUpCiAgICB0ZmlsZS5jbG9zZSgpCiAgICBvcy51bWFz
ayhvbGRfdW1hc2spCiAgICBvcy51bmxpbmsoZXh0X3BhdGgpCiAgICB2ZXJfcGF0aCA9IG9zLnBh
dGguam9pbihtb2RjYWNoZSwgJ2V4dF92ZXJzaW9uJykKICAgIHZlcl9kc3QgPSBvcy5wYXRoLmpv
aW4oT1BUSU9OUy5zYWx0ZGlyLCAnZXh0X3ZlcnNpb24nKQogICAgc2h1dGlsLm1vdmUodmVyX3Bh
dGgsIHZlcl9kc3QpCgoKZGVmIG1haW4oYXJndik6ICAjIHB5bGludDogZGlzYWJsZT1XMDYxMwog
ICAgIiIiTWFpbiBwcm9ncmFtIGJvZHkiIiIKICAgIHRoaW5fcGF0aCA9IG9zLnBhdGguam9pbihP
UFRJT05TLnNhbHRkaXIsIFRISU5fQVJDSElWRSkKICAgIGlmIG9zLnBhdGguaXNmaWxlKHRoaW5f
cGF0aCk6CiAgICAgICAgaWYgT1BUSU9OUy5jaGVja3N1bSAhPSBnZXRfaGFzaCh0aGluX3BhdGgs
IE9QVElPTlMuaGFzaGZ1bmMpOgogICAgICAgICAgICBzeXMuc3RkZXJyLndyaXRlKCd7MH1cbicu
Zm9ybWF0KE9QVElPTlMuY2hlY2tzdW0pKQogICAgICAgICAgICBzeXMuc3RkZXJyLndyaXRlKCd7
MH1cbicuZm9ybWF0KGdldF9oYXNoKHRoaW5fcGF0aCwgT1BUSU9OUy5oYXNoZnVuYykpKQogICAg
ICAgICAgICBvcy51bmxpbmsodGhpbl9wYXRoKQogICAgICAgICAgICBzeXMuc3RkZXJyLndyaXRl
KCdXQVJOSU5HOiBjaGVja3N1bSBtaXNtYXRjaCBmb3IgInswfSJcbicuZm9ybWF0KHRoaW5fcGF0
aCkpCiAgICAgICAgICAgIHN5cy5leGl0KEVYX1RISU5fQ0hFQ0tTVU0pCiAgICAgICAgdW5wYWNr
X3RoaW4odGhpbl9wYXRoKQogICAgICAgICMgU2FsdCB0aGluIG5vdyBpcyBhdmFpbGFibGUgdG8g
dXNlCiAgICBlbHNlOgogICAgICAgIHNjcHN0YXQgPSBzdWJwcm9jZXNzLlBvcGVuKFsnL2Jpbi9z
aCcsICctYycsICdjb21tYW5kIC12IHNjcCddKS53YWl0KCkKICAgICAgICBpZiBzY3BzdGF0ICE9
IDA6CiAgICAgICAgICAgIHN5cy5leGl0KEVYX1NDUF9OT1RfRk9VTkQpCgogICAgICAgIGlmIG5v
dCBvcy5wYXRoLmV4aXN0cyhPUFRJT05TLnNhbHRkaXIpOgogICAgICAgICAgICBuZWVkX2RlcGxv
eW1lbnQoKQoKICAgICAgICBpZiBub3Qgb3MucGF0aC5pc2RpcihPUFRJT05TLnNhbHRkaXIpOgog
ICAgICAgICAgICBzeXMuc3RkZXJyLndyaXRlKAogICAgICAgICAgICAgICAgJ0VSUk9SOiBzYWx0
IHBhdGggInswfSIgZXhpc3RzIGJ1dCBpcycKICAgICAgICAgICAgICAgICcgbm90IGEgZGlyZWN0
b3J5XG4nLmZvcm1hdChPUFRJT05TLnNhbHRkaXIpCiAgICAgICAgICAgICkKICAgICAgICAgICAg
c3lzLmV4aXQoRVhfQ0FOVENSRUFUKQoKICAgICAgICB2ZXJzaW9uX3BhdGggPSBvcy5wYXRoLmpv
aW4oT1BUSU9OUy5zYWx0ZGlyLCAndmVyc2lvbicpCiAgICAgICAgaWYgbm90IG9zLnBhdGguZXhp
c3RzKHZlcnNpb25fcGF0aCkgb3Igbm90IG9zLnBhdGguaXNmaWxlKHZlcnNpb25fcGF0aCk6CiAg
ICAgICAgICAgIHN5cy5zdGRlcnIud3JpdGUoCiAgICAgICAgICAgICAgICAnV0FSTklORzogVW5h
YmxlIHRvIGxvY2F0ZSBjdXJyZW50IHRoaW4gJwogICAgICAgICAgICAgICAgJyB2ZXJzaW9uOiB7
MH0uXG4nLmZvcm1hdCh2ZXJzaW9uX3BhdGgpCiAgICAgICAgICAgICkKICAgICAgICAgICAgbmVl
ZF9kZXBsb3ltZW50KCkKICAgICAgICB3aXRoIG9wZW4odmVyc2lvbl9wYXRoLCAncicpIGFzIHZw
bzoKICAgICAgICAgICAgY3VyX3ZlcnNpb24gPSB2cG8ucmVhZGxpbmUoKS5zdHJpcCgpCiAgICAg
ICAgaWYgY3VyX3ZlcnNpb24gIT0gT1BUSU9OUy52ZXJzaW9uOgogICAgICAgICAgICBzeXMuc3Rk
ZXJyLndyaXRlKAogICAgICAgICAgICAgICAgJ1dBUk5JTkc6IGN1cnJlbnQgdGhpbiB2ZXJzaW9u
IHswfScKICAgICAgICAgICAgICAgICcgaXMgbm90IHVwLXRvLWRhdGUgd2l0aCB7MX0uXG4nLmZv
cm1hdCgKICAgICAgICAgICAgICAgICAgICBjdXJfdmVyc2lvbiwgT1BUSU9OUy52ZXJzaW9uCiAg
ICAgICAgICAgICAgICApCiAgICAgICAgICAgICkKICAgICAgICAgICAgbmVlZF9kZXBsb3ltZW50
KCkKICAgICAgICAjIFNhbHQgdGhpbiBleGlzdHMgYW5kIGlzIHVwLXRvLWRhdGUgLSBmYWxsIHRo
cm91Z2ggYW5kIHVzZSBpdAoKICAgIHNhbHRfY2FsbF9wYXRoID0gb3MucGF0aC5qb2luKE9QVElP
TlMuc2FsdGRpciwgJ3NhbHQtY2FsbCcpCiAgICBpZiBub3Qgb3MucGF0aC5pc2ZpbGUoc2FsdF9j
YWxsX3BhdGgpOgogICAgICAgIHN5cy5zdGRlcnIud3JpdGUoJ0VSUk9SOiB0aGluIGlzIG1pc3Np
bmcgInswfSJcbicuZm9ybWF0KHNhbHRfY2FsbF9wYXRoKSkKICAgICAgICBuZWVkX2RlcGxveW1l
bnQoKQoKICAgIHdpdGggb3Blbihvcy5wYXRoLmpvaW4oT1BUSU9OUy5zYWx0ZGlyLCAnbWluaW9u
JyksICd3JykgYXMgY29uZmlnOgogICAgICAgIGNvbmZpZy53cml0ZShPUFRJT05TLmNvbmZpZyAr
ICdcbicpCiAgICBpZiBPUFRJT05TLmV4dF9tb2RzOgogICAgICAgIGV4dF9wYXRoID0gb3MucGF0
aC5qb2luKE9QVElPTlMuc2FsdGRpciwgRVhUX0FSQ0hJVkUpCiAgICAgICAgaWYgb3MucGF0aC5l
eGlzdHMoZXh0X3BhdGgpOgogICAgICAgICAgICB1bnBhY2tfZXh0KGV4dF9wYXRoKQogICAgICAg
IGVsc2U6CiAgICAgICAgICAgIHZlcnNpb25fcGF0aCA9IG9zLnBhdGguam9pbihPUFRJT05TLnNh
bHRkaXIsICdleHRfdmVyc2lvbicpCiAgICAgICAgICAgIGlmIG5vdCBvcy5wYXRoLmV4aXN0cyh2
ZXJzaW9uX3BhdGgpIG9yIG5vdCBvcy5wYXRoLmlzZmlsZSh2ZXJzaW9uX3BhdGgpOgogICAgICAg
ICAgICAgICAgbmVlZF9leHQoKQogICAgICAgICAgICB3aXRoIG9wZW4odmVyc2lvbl9wYXRoLCAn
cicpIGFzIHZwbzoKICAgICAgICAgICAgICAgIGN1cl92ZXJzaW9uID0gdnBvLnJlYWRsaW5lKCku
c3RyaXAoKQogICAgICAgICAgICBpZiBjdXJfdmVyc2lvbiAhPSBPUFRJT05TLmV4dF9tb2RzOgog
ICAgICAgICAgICAgICAgbmVlZF9leHQoKQogICAgIyBGaXggcGFyYW1ldGVyIHBhc3NpbmcgaXNz
dWUKICAgIGlmIGxlbihBUkdTKSA9PSAxOgogICAgICAgIGFyZ3ZfcHJlcGFyZWQgPSBBUkdTWzBd
LnNwbGl0KCkKICAgIGVsc2U6CiAgICAgICAgYXJndl9wcmVwYXJlZCA9IEFSR1MKCiAgICBzYWx0
X2FyZ3YgPSBbCiAgICAgICAgc3lzLmV4ZWN1dGFibGUsCiAgICAgICAgc2FsdF9jYWxsX3BhdGgs
CiAgICAgICAgJy0tcmV0Y29kZS1wYXNzdGhyb3VnaCcsCiAgICAgICAgJy0tbG9jYWwnLAogICAg
ICAgICctLW1ldGFkYXRhJywKICAgICAgICAnLS1vdXQnLCAnanNvbicsCiAgICAgICAgJy1sJywg
J3F1aWV0JywKICAgICAgICAnLWMnLCBPUFRJT05TLnNhbHRkaXIsCiAgICAgICAgJy0tJywKICAg
IF0gKyBhcmd2X3ByZXBhcmVkCgogICAgc3lzLnN0ZGVyci53cml0ZSgnU0FMVF9BUkdWOiB7MH1c
bicuZm9ybWF0KHNhbHRfYXJndikpCgogICAgIyBPbmx5IGVtaXQgdGhlIGRlbGltaXRlciBvbiAq
Ym90aCogc3Rkb3V0IGFuZCBzdGRlcnIgd2hlbiBjb21wbGV0ZWx5IHN1Y2Nlc3NmdWwuCiAgICAj
IFllcywgdGhlIGZsdXNoKCkgaXMgbmVjZXNzYXJ5LgogICAgc3lzLnN0ZG91dC53cml0ZShPUFRJ
T05TLmRlbGltaXRlciArICdcbicpCiAgICBzeXMuc3Rkb3V0LmZsdXNoKCkKICAgIGlmIG5vdCBP
UFRJT05TLnR0eToKICAgICAgICBzeXMuc3RkZXJyLndyaXRlKE9QVElPTlMuZGVsaW1pdGVyICsg
J1xuJykKICAgICAgICBzeXMuc3RkZXJyLmZsdXNoKCkKICAgIGlmIE9QVElPTlMuY21kX3VtYXNr
IGlzIG5vdCBOb25lOgogICAgICAgIG9sZF91bWFzayA9IG9zLnVtYXNrKE9QVElPTlMuY21kX3Vt
YXNrKQogICAgaWYgT1BUSU9OUy50dHk6CiAgICAgICAgc3Rkb3V0LCBfID0gc3VicHJvY2Vzcy5Q
b3BlbihzYWx0X2FyZ3YsIHN0ZG91dD1zdWJwcm9jZXNzLlBJUEUsIHN0ZGVycj1zdWJwcm9jZXNz
LlBJUEUpLmNvbW11bmljYXRlKCkKICAgICAgICBzeXMuc3Rkb3V0LndyaXRlKHN0ZG91dCkKICAg
ICAgICBzeXMuc3Rkb3V0LmZsdXNoKCkKICAgICAgICBpZiBPUFRJT05TLndpcGU6CiAgICAgICAg
ICAgIHNodXRpbC5ybXRyZWUoT1BUSU9OUy5zYWx0ZGlyKQogICAgZWxpZiBPUFRJT05TLndpcGU6
CiAgICAgICAgc3VicHJvY2Vzcy5jYWxsKHNhbHRfYXJndikKICAgICAgICBzaHV0aWwucm10cmVl
KE9QVElPTlMuc2FsdGRpcikKICAgIGVsc2U6CiAgICAgICAgb3MuZXhlY3Yoc3lzLmV4ZWN1dGFi
bGUsIHNhbHRfYXJndikKICAgIGlmIE9QVElPTlMuY21kX3VtYXNrIGlzIG5vdCBOb25lOgogICAg
ICAgIG9zLnVtYXNrKG9sZF91bWFzaykKCmlmIF9fbmFtZV9fID09ICdfX21haW5fXyc6CiAgICBz
eXMuZXhpdChtYWluKHN5cy5hcmd2KSkK
""").decode("utf-8"))'
fi
exit 0
else
continue
fi
done
echo "ERROR: Unable to locate appropriate python command" >&2
exit $EX_PYTHON_INVALID
EOF
2016-10-20 00:47:59,436 [salt.utils.vt    ][DEBUG   ][2633] Child Forked! PID: 2642  STDOUT_FD: 9  STDERR_FD: 11
2016-10-20 00:47:59,437 [salt.utils.vt    ][DEBUG   ][2633] VT: Salt-SSH SHIM Terminal Command executed. Logged to TRACE
2016-10-20 00:47:59,440 [salt.utils.vt    ][TRACE   ][2633] Terminal Command: /bin/sh -c ssh 192.168.1.15  -o KbdInteractiveAuthentication=no -o PasswordAuthentication=yes -o GSSAPIAuthentication=no -o ConnectTimeout=65 -o Port=22 -o IdentityFile=/root/saltstack_master/etc/salt/pki/master/ssh/salt-ssh.rsa -o User=salt-ope  /bin/sh << 'EOF'
set -e
set -u
DEBUG=""
if [ -n "$DEBUG" ]
then set -x
fi
SUDO=""
if [ -n "sudo" ]
then SUDO="sudo "
fi
EX_PYTHON_INVALID=10
PYTHON_CMDS="python3 python27 python2.7 python26 python2.6 python2 python"
for py_cmd in $PYTHON_CMDS
do
if command -v "$py_cmd" >/dev/null 2>&1 && "$py_cmd" -c \
"import sys; sys.exit(not (sys.version_info >= (2, 6)
and sys.version_info[0] == 2));"
then
py_cmd_path=`"$py_cmd" -c \
'from __future__ import print_function;
import sys; print(sys.executable);'`
cmdpath=$(which $py_cmd 2>&1)
if file $cmdpath | grep "shell script" > /dev/null
then
ex_vars="'PATH', 'LD_LIBRARY_PATH', 'MANPATH', \
'XDG_DATA_DIRS', 'PKG_CONFIG_PATH'"
export $($py_cmd -c \
"from __future__ import print_function;
import sys;
import os;
map(sys.stdout.write, ['{0}={1} ' \
.format(x, os.environ[x]) for x in [$ex_vars]])")
exec $SUDO PATH=$PATH LD_LIBRARY_PATH=$LD_LIBRARY_PATH \
MANPATH=$MANPATH XDG_DATA_DIRS=$XDG_DATA_DIRS \
PKG_CONFIG_PATH=$PKG_CONFIG_PATH \
"$py_cmd_path" -c \
'import base64;
exec(base64.b64decode("""IyBweWxpbnQ6IGRpc2FibGU9Vzk5MDMKJycnClRoaXMgaXMgYSBzaGltIHRoYXQgaGFuZGxlcyBj
aGVja2luZyBhbmQgdXBkYXRpbmcgc2FsdCB0aGluIGFuZAp0aGVuIGludm9raW5nIHRoaW4uCgpU
aGlzIGlzIG5vdCBpbnRlbmRlZCB0byBiZSBpbnN0YW50aWF0ZWQgYXMgYSBtb2R1bGUsIHJhdGhl
ciBpdCBpcyBhCmhlbHBlciBzY3JpcHQgdXNlZCBieSBzYWx0LmNsaWVudC5zc2guU2luZ2xlLiAg
SXQgaXMgaGVyZSwgaW4gYQpzZXBhcmF0ZSBmaWxlLCBmb3IgY29udmVuaWVuY2Ugb2YgZGV2ZWxv
cG1lbnQuCicnJwoKZnJvbSBfX2Z1dHVyZV9fIGltcG9ydCBhYnNvbHV0ZV9pbXBvcnQKCmltcG9y
dCBoYXNobGliCmltcG9ydCB0YXJmaWxlCmltcG9ydCBzaHV0aWwKaW1wb3J0IHN5cwppbXBvcnQg
b3MKaW1wb3J0IHN0YXQKaW1wb3J0IHN1YnByb2Nlc3MKClRISU5fQVJDSElWRSA9ICdzYWx0LXRo
aW4udGd6JwpFWFRfQVJDSElWRSA9ICdzYWx0LWV4dF9tb2RzLnRneicKCiMgS2VlcCB0aGVzZSBp
biBzeW5jIHdpdGggc2FsdC9kZWZhdWx0cy9leGl0Y29kZXMucHkKRVhfVEhJTl9ERVBMT1kgPSAx
MQpFWF9USElOX0NIRUNLU1VNID0gMTIKRVhfTU9EX0RFUExPWSA9IDEzCkVYX1NDUF9OT1RfRk9V
TkQgPSAxNApFWF9DQU5UQ1JFQVQgPSA3MwoKCmNsYXNzIE9CSihvYmplY3QpOgogICAgIiIiQW4g
ZW1wdHkgY2xhc3MgZm9yIGhvbGRpbmcgaW5zdGFuY2UgYXR0cmlidXRlIHZhbHVlcy4iIiIKICAg
IHBhc3MKCgpPUFRJT05TID0gTm9uZQpBUkdTID0gTm9uZQojIFRoZSBiZWxvdyBsaW5lIGlzIHdo
ZXJlIE9QVElPTlMgY2FuIGJlIHJlZGVmaW5lZCB3aXRoIGludGVybmFsIG9wdGlvbnMKIyAocmF0
aGVyIHRoYW4gY2xpIGFyZ3VtZW50cykgd2hlbiB0aGUgc2hpbSBpcyBidW5kbGVkIGJ5CiMgY2xp
ZW50LnNzaC5TaW5nbGUuX2NtZF9zdHIoKQojIHB5bGludDogZGlzYWJsZT1ibG9jay1jb21tZW50
LXNob3VsZC1zdGFydC13aXRoLWNhcmRpbmFsLXNwYWNlCgpPUFRJT05TID0gT0JKKCkKT1BUSU9O
Uy5jb25maWcgPSAiIiIKe2ZpbGVzZXJ2ZXJfbGlzdF9jYWNoZV90aW1lOiAzLCBncmFpbnNfY2Fj
aGU6IHRydWUsIGlkOiBtdW5pbiwgbG9nX2ZpbGU6IHNhbHQtY2FsbC5sb2csCiAgcm9vdF9kaXI6
IC92YXIvdG1wLy5zYWx0LW9wZV8xYTM1MzJfc2FsdC9ydW5uaW5nX2RhdGEsIHNvY2tfZGlyOiAv
fQoiIiIKT1BUSU9OUy5kZWxpbWl0ZXIgPSAnX2VkYmM3ODg1ZTRmOWFhYzliODNiMzU5OTliNjhk
MDE1MTQ4Y2FmNDY3Yjc4ZmEzOWMwNWY2NjljMGZmODk4NzgnCk9QVElPTlMuc2FsdGRpciA9ICcv
dmFyL3RtcC8uc2FsdC1vcGVfMWEzNTMyX3NhbHQnCk9QVElPTlMuY2hlY2tzdW0gPSAnOTg1MjZk
OTliMWU3YjA3OWRjZWZjZWM5ZmE1Yjg1MWZmYmY5ODEzZCcKT1BUSU9OUy5oYXNoZnVuYyA9ICdz
aGExJwpPUFRJT05TLnZlcnNpb24gPSAnMjAxNi4zLjInCk9QVElPTlMuZXh0X21vZHMgPSAnNzQx
OTZlMDExNDUyMWUyYWRjNjlkNjgxY2U2YTQ1NjNiYTBhZTFlYicKT1BUSU9OUy53aXBlID0gRmFs
c2UKT1BUSU9OUy50dHkgPSBGYWxzZQpPUFRJT05TLmNtZF91bWFzayA9IE5vbmUKQVJHUyA9IFsn
bmV0d29yay5pbnRlcmZhY2VfaXAnLCAnImV0aDAiJ10KCgoKZGVmIG5lZWRfZGVwbG95bWVudCgp
OgogICAgIiIiCiAgICBTYWx0IHRoaW4gbmVlZHMgdG8gYmUgZGVwbG95ZWQgLSBwcmVwIHRoZSB0
YXJnZXQgZGlyZWN0b3J5IGFuZCBlbWl0IHRoZQogICAgZGVsaW1ldGVyIGFuZCBleGl0IGNvZGUg
dGhhdCBzaWduYWxzIGEgcmVxdWlyZWQgZGVwbG95bWVudC4KICAgICIiIgogICAgaWYgb3MucGF0
aC5leGlzdHMoT1BUSU9OUy5zYWx0ZGlyKToKICAgICAgICBzaHV0aWwucm10cmVlKE9QVElPTlMu
c2FsdGRpcikKICAgIG9sZF91bWFzayA9IG9zLnVtYXNrKDBvMDc3KQogICAgb3MubWFrZWRpcnMo
T1BUSU9OUy5zYWx0ZGlyKQogICAgb3MudW1hc2sob2xkX3VtYXNrKQogICAgIyBWZXJpZnkgcGVy
bXMgb24gc2FsdGRpcgogICAgZXVpZCA9IG9zLmdldGV1aWQoKQogICAgZHN0YXQgPSBvcy5zdGF0
KE9QVElPTlMuc2FsdGRpcikKICAgIGlmIGRzdGF0LnN0X3VpZCAhPSBldWlkOgogICAgICAgICMg
QXR0YWNrIGRldGVjdGVkLCB0cnkgYWdhaW4KICAgICAgICBuZWVkX2RlcGxveW1lbnQoKQogICAg
aWYgZHN0YXQuc3RfbW9kZSAhPSAxNjgzMjoKICAgICAgICAjIEF0dGFjayBkZXRlY3RlZAogICAg
ICAgIG5lZWRfZGVwbG95bWVudCgpCiAgICAjIElmIFNVRE9pbmcgdGhlbiBhbHNvIGdpdmUgdGhl
IHN1cGVyIHVzZXIgZ3JvdXAgd3JpdGUgcGVybWlzc2lvbnMKICAgIHN1ZG9fZ2lkID0gb3MuZW52
aXJvbi5nZXQoJ1NVRE9fR0lEJykKICAgIGlmIHN1ZG9fZ2lkOgogICAgICAgIG9zLmNob3duKE9Q
VElPTlMuc2FsdGRpciwgLTEsIGludChzdWRvX2dpZCkpCiAgICAgICAgc3R0ID0gb3Muc3RhdChP
UFRJT05TLnNhbHRkaXIpCiAgICAgICAgb3MuY2htb2QoT1BUSU9OUy5zYWx0ZGlyLCBzdHQuc3Rf
bW9kZSB8IHN0YXQuU19JV0dSUCB8IHN0YXQuU19JUkdSUCB8IHN0YXQuU19JWEdSUCkKCiAgICAj
IERlbGltaXRlciBlbWl0dGVkIG9uIHN0ZG91dCAqb25seSogdG8gaW5kaWNhdGUgc2hpbSBtZXNz
YWdlIHRvIG1hc3Rlci4KICAgIHN5cy5zdGRvdXQud3JpdGUoInswfVxuZGVwbG95XG4iLmZvcm1h
dChPUFRJT05TLmRlbGltaXRlcikpCiAgICBzeXMuZXhpdChFWF9USElOX0RFUExPWSkKCgojIEFk
YXB0ZWQgZnJvbSBzYWx0LnV0aWxzLmdldF9oYXNoKCkKZGVmIGdldF9oYXNoKHBhdGgsIGZvcm09
J3NoYTEnLCBjaHVua19zaXplPTQwOTYpOgogICAgIiIiR2VuZXJhdGUgYSBoYXNoIGRpZ2VzdCBz
dHJpbmcgZm9yIGEgZmlsZS4iIiIKICAgIHRyeToKICAgICAgICBoYXNoX3R5cGUgPSBnZXRhdHRy
KGhhc2hsaWIsIGZvcm0pCiAgICBleGNlcHQgQXR0cmlidXRlRXJyb3I6CiAgICAgICAgcmFpc2Ug
VmFsdWVFcnJvcignSW52YWxpZCBoYXNoIHR5cGU6IHswfScuZm9ybWF0KGZvcm0pKQogICAgd2l0
aCBvcGVuKHBhdGgsICdyYicpIGFzIGlmaWxlOgogICAgICAgIGhhc2hfb2JqID0gaGFzaF90eXBl
KCkKICAgICAgICAjIHJlYWQgdGhlIGZpbGUgaW4gaW4gY2h1bmtzLCBub3QgdGhlIGVudGlyZSBm
aWxlCiAgICAgICAgZm9yIGNodW5rIGluIGl0ZXIobGFtYmRhOiBpZmlsZS5yZWFkKGNodW5rX3Np
emUpLCBiJycpOgogICAgICAgICAgICBoYXNoX29iai51cGRhdGUoY2h1bmspCiAgICAgICAgcmV0
dXJuIGhhc2hfb2JqLmhleGRpZ2VzdCgpCgoKZGVmIHVucGFja190aGluKHRoaW5fcGF0aCk6CiAg
ICAiIiJVbnBhY2sgdGhlIFNhbHQgdGhpbiBhcmNoaXZlLiIiIgogICAgdGZpbGUgPSB0YXJmaWxl
LlRhckZpbGUuZ3pvcGVuKHRoaW5fcGF0aCkKICAgIG9sZF91bWFzayA9IG9zLnVtYXNrKDBvMDc3
KQogICAgdGZpbGUuZXh0cmFjdGFsbChwYXRoPU9QVElPTlMuc2FsdGRpcikKICAgIHRmaWxlLmNs
b3NlKCkKICAgIG9zLnVtYXNrKG9sZF91bWFzaykKICAgIG9zLnVubGluayh0aGluX3BhdGgpCgoK
ZGVmIG5lZWRfZXh0KCk6CiAgICAiIiJTaWduYWwgdGhhdCBleHRlcm5hbCBtb2R1bGVzIG5lZWQg
dG8gYmUgZGVwbG95ZWQuIiIiCiAgICBzeXMuc3Rkb3V0LndyaXRlKCJ7MH1cbmV4dF9tb2RzXG4i
LmZvcm1hdChPUFRJT05TLmRlbGltaXRlcikpCiAgICBzeXMuZXhpdChFWF9NT0RfREVQTE9ZKQoK
CmRlZiB1bnBhY2tfZXh0KGV4dF9wYXRoKToKICAgICIiIlVucGFjayB0aGUgZXh0ZXJuYWwgbW9k
dWxlcy4iIiIKICAgIG1vZGNhY2hlID0gb3MucGF0aC5qb2luKAogICAgICAgICAgICBPUFRJT05T
LnNhbHRkaXIsCiAgICAgICAgICAgICdydW5uaW5nX2RhdGEnLAogICAgICAgICAgICAndmFyJywK
ICAgICAgICAgICAgJ2NhY2hlJywKICAgICAgICAgICAgJ3NhbHQnLAogICAgICAgICAgICAnbWlu
aW9uJywKICAgICAgICAgICAgJ2V4dG1vZHMnKQogICAgdGZpbGUgPSB0YXJmaWxlLlRhckZpbGUu
Z3pvcGVuKGV4dF9wYXRoKQogICAgb2xkX3VtYXNrID0gb3MudW1hc2soMG8wNzcpCiAgICB0Zmls
ZS5leHRyYWN0YWxsKHBhdGg9bW9kY2FjaGUpCiAgICB0ZmlsZS5jbG9zZSgpCiAgICBvcy51bWFz
ayhvbGRfdW1hc2spCiAgICBvcy51bmxpbmsoZXh0X3BhdGgpCiAgICB2ZXJfcGF0aCA9IG9zLnBh
dGguam9pbihtb2RjYWNoZSwgJ2V4dF92ZXJzaW9uJykKICAgIHZlcl9kc3QgPSBvcy5wYXRoLmpv
aW4oT1BUSU9OUy5zYWx0ZGlyLCAnZXh0X3ZlcnNpb24nKQogICAgc2h1dGlsLm1vdmUodmVyX3Bh
dGgsIHZlcl9kc3QpCgoKZGVmIG1haW4oYXJndik6ICAjIHB5bGludDogZGlzYWJsZT1XMDYxMwog
ICAgIiIiTWFpbiBwcm9ncmFtIGJvZHkiIiIKICAgIHRoaW5fcGF0aCA9IG9zLnBhdGguam9pbihP
UFRJT05TLnNhbHRkaXIsIFRISU5fQVJDSElWRSkKICAgIGlmIG9zLnBhdGguaXNmaWxlKHRoaW5f
cGF0aCk6CiAgICAgICAgaWYgT1BUSU9OUy5jaGVja3N1bSAhPSBnZXRfaGFzaCh0aGluX3BhdGgs
IE9QVElPTlMuaGFzaGZ1bmMpOgogICAgICAgICAgICBzeXMuc3RkZXJyLndyaXRlKCd7MH1cbicu
Zm9ybWF0KE9QVElPTlMuY2hlY2tzdW0pKQogICAgICAgICAgICBzeXMuc3RkZXJyLndyaXRlKCd7
MH1cbicuZm9ybWF0KGdldF9oYXNoKHRoaW5fcGF0aCwgT1BUSU9OUy5oYXNoZnVuYykpKQogICAg
ICAgICAgICBvcy51bmxpbmsodGhpbl9wYXRoKQogICAgICAgICAgICBzeXMuc3RkZXJyLndyaXRl
KCdXQVJOSU5HOiBjaGVja3N1bSBtaXNtYXRjaCBmb3IgInswfSJcbicuZm9ybWF0KHRoaW5fcGF0
aCkpCiAgICAgICAgICAgIHN5cy5leGl0KEVYX1RISU5fQ0hFQ0tTVU0pCiAgICAgICAgdW5wYWNr
X3RoaW4odGhpbl9wYXRoKQogICAgICAgICMgU2FsdCB0aGluIG5vdyBpcyBhdmFpbGFibGUgdG8g
dXNlCiAgICBlbHNlOgogICAgICAgIHNjcHN0YXQgPSBzdWJwcm9jZXNzLlBvcGVuKFsnL2Jpbi9z
aCcsICctYycsICdjb21tYW5kIC12IHNjcCddKS53YWl0KCkKICAgICAgICBpZiBzY3BzdGF0ICE9
IDA6CiAgICAgICAgICAgIHN5cy5leGl0KEVYX1NDUF9OT1RfRk9VTkQpCgogICAgICAgIGlmIG5v
dCBvcy5wYXRoLmV4aXN0cyhPUFRJT05TLnNhbHRkaXIpOgogICAgICAgICAgICBuZWVkX2RlcGxv
eW1lbnQoKQoKICAgICAgICBpZiBub3Qgb3MucGF0aC5pc2RpcihPUFRJT05TLnNhbHRkaXIpOgog
ICAgICAgICAgICBzeXMuc3RkZXJyLndyaXRlKAogICAgICAgICAgICAgICAgJ0VSUk9SOiBzYWx0
IHBhdGggInswfSIgZXhpc3RzIGJ1dCBpcycKICAgICAgICAgICAgICAgICcgbm90IGEgZGlyZWN0
b3J5XG4nLmZvcm1hdChPUFRJT05TLnNhbHRkaXIpCiAgICAgICAgICAgICkKICAgICAgICAgICAg
c3lzLmV4aXQoRVhfQ0FOVENSRUFUKQoKICAgICAgICB2ZXJzaW9uX3BhdGggPSBvcy5wYXRoLmpv
aW4oT1BUSU9OUy5zYWx0ZGlyLCAndmVyc2lvbicpCiAgICAgICAgaWYgbm90IG9zLnBhdGguZXhp
c3RzKHZlcnNpb25fcGF0aCkgb3Igbm90IG9zLnBhdGguaXNmaWxlKHZlcnNpb25fcGF0aCk6CiAg
ICAgICAgICAgIHN5cy5zdGRlcnIud3JpdGUoCiAgICAgICAgICAgICAgICAnV0FSTklORzogVW5h
YmxlIHRvIGxvY2F0ZSBjdXJyZW50IHRoaW4gJwogICAgICAgICAgICAgICAgJyB2ZXJzaW9uOiB7
MH0uXG4nLmZvcm1hdCh2ZXJzaW9uX3BhdGgpCiAgICAgICAgICAgICkKICAgICAgICAgICAgbmVl
ZF9kZXBsb3ltZW50KCkKICAgICAgICB3aXRoIG9wZW4odmVyc2lvbl9wYXRoLCAncicpIGFzIHZw
bzoKICAgICAgICAgICAgY3VyX3ZlcnNpb24gPSB2cG8ucmVhZGxpbmUoKS5zdHJpcCgpCiAgICAg
ICAgaWYgY3VyX3ZlcnNpb24gIT0gT1BUSU9OUy52ZXJzaW9uOgogICAgICAgICAgICBzeXMuc3Rk
ZXJyLndyaXRlKAogICAgICAgICAgICAgICAgJ1dBUk5JTkc6IGN1cnJlbnQgdGhpbiB2ZXJzaW9u
IHswfScKICAgICAgICAgICAgICAgICcgaXMgbm90IHVwLXRvLWRhdGUgd2l0aCB7MX0uXG4nLmZv
cm1hdCgKICAgICAgICAgICAgICAgICAgICBjdXJfdmVyc2lvbiwgT1BUSU9OUy52ZXJzaW9uCiAg
ICAgICAgICAgICAgICApCiAgICAgICAgICAgICkKICAgICAgICAgICAgbmVlZF9kZXBsb3ltZW50
KCkKICAgICAgICAjIFNhbHQgdGhpbiBleGlzdHMgYW5kIGlzIHVwLXRvLWRhdGUgLSBmYWxsIHRo
cm91Z2ggYW5kIHVzZSBpdAoKICAgIHNhbHRfY2FsbF9wYXRoID0gb3MucGF0aC5qb2luKE9QVElP
TlMuc2FsdGRpciwgJ3NhbHQtY2FsbCcpCiAgICBpZiBub3Qgb3MucGF0aC5pc2ZpbGUoc2FsdF9j
YWxsX3BhdGgpOgogICAgICAgIHN5cy5zdGRlcnIud3JpdGUoJ0VSUk9SOiB0aGluIGlzIG1pc3Np
bmcgInswfSJcbicuZm9ybWF0KHNhbHRfY2FsbF9wYXRoKSkKICAgICAgICBuZWVkX2RlcGxveW1l
bnQoKQoKICAgIHdpdGggb3Blbihvcy5wYXRoLmpvaW4oT1BUSU9OUy5zYWx0ZGlyLCAnbWluaW9u
JyksICd3JykgYXMgY29uZmlnOgogICAgICAgIGNvbmZpZy53cml0ZShPUFRJT05TLmNvbmZpZyAr
ICdcbicpCiAgICBpZiBPUFRJT05TLmV4dF9tb2RzOgogICAgICAgIGV4dF9wYXRoID0gb3MucGF0
aC5qb2luKE9QVElPTlMuc2FsdGRpciwgRVhUX0FSQ0hJVkUpCiAgICAgICAgaWYgb3MucGF0aC5l
eGlzdHMoZXh0X3BhdGgpOgogICAgICAgICAgICB1bnBhY2tfZXh0KGV4dF9wYXRoKQogICAgICAg
IGVsc2U6CiAgICAgICAgICAgIHZlcnNpb25fcGF0aCA9IG9zLnBhdGguam9pbihPUFRJT05TLnNh
bHRkaXIsICdleHRfdmVyc2lvbicpCiAgICAgICAgICAgIGlmIG5vdCBvcy5wYXRoLmV4aXN0cyh2
ZXJzaW9uX3BhdGgpIG9yIG5vdCBvcy5wYXRoLmlzZmlsZSh2ZXJzaW9uX3BhdGgpOgogICAgICAg
ICAgICAgICAgbmVlZF9leHQoKQogICAgICAgICAgICB3aXRoIG9wZW4odmVyc2lvbl9wYXRoLCAn
cicpIGFzIHZwbzoKICAgICAgICAgICAgICAgIGN1cl92ZXJzaW9uID0gdnBvLnJlYWRsaW5lKCku
c3RyaXAoKQogICAgICAgICAgICBpZiBjdXJfdmVyc2lvbiAhPSBPUFRJT05TLmV4dF9tb2RzOgog
ICAgICAgICAgICAgICAgbmVlZF9leHQoKQogICAgIyBGaXggcGFyYW1ldGVyIHBhc3NpbmcgaXNz
dWUKICAgIGlmIGxlbihBUkdTKSA9PSAxOgogICAgICAgIGFyZ3ZfcHJlcGFyZWQgPSBBUkdTWzBd
LnNwbGl0KCkKICAgIGVsc2U6CiAgICAgICAgYXJndl9wcmVwYXJlZCA9IEFSR1MKCiAgICBzYWx0
X2FyZ3YgPSBbCiAgICAgICAgc3lzLmV4ZWN1dGFibGUsCiAgICAgICAgc2FsdF9jYWxsX3BhdGgs
CiAgICAgICAgJy0tcmV0Y29kZS1wYXNzdGhyb3VnaCcsCiAgICAgICAgJy0tbG9jYWwnLAogICAg
ICAgICctLW1ldGFkYXRhJywKICAgICAgICAnLS1vdXQnLCAnanNvbicsCiAgICAgICAgJy1sJywg
J3F1aWV0JywKICAgICAgICAnLWMnLCBPUFRJT05TLnNhbHRkaXIsCiAgICAgICAgJy0tJywKICAg
IF0gKyBhcmd2X3ByZXBhcmVkCgogICAgc3lzLnN0ZGVyci53cml0ZSgnU0FMVF9BUkdWOiB7MH1c
bicuZm9ybWF0KHNhbHRfYXJndikpCgogICAgIyBPbmx5IGVtaXQgdGhlIGRlbGltaXRlciBvbiAq
Ym90aCogc3Rkb3V0IGFuZCBzdGRlcnIgd2hlbiBjb21wbGV0ZWx5IHN1Y2Nlc3NmdWwuCiAgICAj
IFllcywgdGhlIGZsdXNoKCkgaXMgbmVjZXNzYXJ5LgogICAgc3lzLnN0ZG91dC53cml0ZShPUFRJ
T05TLmRlbGltaXRlciArICdcbicpCiAgICBzeXMuc3Rkb3V0LmZsdXNoKCkKICAgIGlmIG5vdCBP
UFRJT05TLnR0eToKICAgICAgICBzeXMuc3RkZXJyLndyaXRlKE9QVElPTlMuZGVsaW1pdGVyICsg
J1xuJykKICAgICAgICBzeXMuc3RkZXJyLmZsdXNoKCkKICAgIGlmIE9QVElPTlMuY21kX3VtYXNr
IGlzIG5vdCBOb25lOgogICAgICAgIG9sZF91bWFzayA9IG9zLnVtYXNrKE9QVElPTlMuY21kX3Vt
YXNrKQogICAgaWYgT1BUSU9OUy50dHk6CiAgICAgICAgc3Rkb3V0LCBfID0gc3VicHJvY2Vzcy5Q
b3BlbihzYWx0X2FyZ3YsIHN0ZG91dD1zdWJwcm9jZXNzLlBJUEUsIHN0ZGVycj1zdWJwcm9jZXNz
LlBJUEUpLmNvbW11bmljYXRlKCkKICAgICAgICBzeXMuc3Rkb3V0LndyaXRlKHN0ZG91dCkKICAg
ICAgICBzeXMuc3Rkb3V0LmZsdXNoKCkKICAgICAgICBpZiBPUFRJT05TLndpcGU6CiAgICAgICAg
ICAgIHNodXRpbC5ybXRyZWUoT1BUSU9OUy5zYWx0ZGlyKQogICAgZWxpZiBPUFRJT05TLndpcGU6
CiAgICAgICAgc3VicHJvY2Vzcy5jYWxsKHNhbHRfYXJndikKICAgICAgICBzaHV0aWwucm10cmVl
KE9QVElPTlMuc2FsdGRpcikKICAgIGVsc2U6CiAgICAgICAgb3MuZXhlY3Yoc3lzLmV4ZWN1dGFi
bGUsIHNhbHRfYXJndikKICAgIGlmIE9QVElPTlMuY21kX3VtYXNrIGlzIG5vdCBOb25lOgogICAg
ICAgIG9zLnVtYXNrKG9sZF91bWFzaykKCmlmIF9fbmFtZV9fID09ICdfX21haW5fXyc6CiAgICBz
eXMuZXhpdChtYWluKHN5cy5hcmd2KSkK
""").decode("utf-8"))'
else
exec $SUDO "$py_cmd_path" -c \
'import base64;
exec(base64.b64decode("""IyBweWxpbnQ6IGRpc2FibGU9Vzk5MDMKJycnClRoaXMgaXMgYSBzaGltIHRoYXQgaGFuZGxlcyBj
aGVja2luZyBhbmQgdXBkYXRpbmcgc2FsdCB0aGluIGFuZAp0aGVuIGludm9raW5nIHRoaW4uCgpU
aGlzIGlzIG5vdCBpbnRlbmRlZCB0byBiZSBpbnN0YW50aWF0ZWQgYXMgYSBtb2R1bGUsIHJhdGhl
ciBpdCBpcyBhCmhlbHBlciBzY3JpcHQgdXNlZCBieSBzYWx0LmNsaWVudC5zc2guU2luZ2xlLiAg
SXQgaXMgaGVyZSwgaW4gYQpzZXBhcmF0ZSBmaWxlLCBmb3IgY29udmVuaWVuY2Ugb2YgZGV2ZWxv
cG1lbnQuCicnJwoKZnJvbSBfX2Z1dHVyZV9fIGltcG9ydCBhYnNvbHV0ZV9pbXBvcnQKCmltcG9y
dCBoYXNobGliCmltcG9ydCB0YXJmaWxlCmltcG9ydCBzaHV0aWwKaW1wb3J0IHN5cwppbXBvcnQg
b3MKaW1wb3J0IHN0YXQKaW1wb3J0IHN1YnByb2Nlc3MKClRISU5fQVJDSElWRSA9ICdzYWx0LXRo
aW4udGd6JwpFWFRfQVJDSElWRSA9ICdzYWx0LWV4dF9tb2RzLnRneicKCiMgS2VlcCB0aGVzZSBp
biBzeW5jIHdpdGggc2FsdC9kZWZhdWx0cy9leGl0Y29kZXMucHkKRVhfVEhJTl9ERVBMT1kgPSAx
MQpFWF9USElOX0NIRUNLU1VNID0gMTIKRVhfTU9EX0RFUExPWSA9IDEzCkVYX1NDUF9OT1RfRk9V
TkQgPSAxNApFWF9DQU5UQ1JFQVQgPSA3MwoKCmNsYXNzIE9CSihvYmplY3QpOgogICAgIiIiQW4g
ZW1wdHkgY2xhc3MgZm9yIGhvbGRpbmcgaW5zdGFuY2UgYXR0cmlidXRlIHZhbHVlcy4iIiIKICAg
IHBhc3MKCgpPUFRJT05TID0gTm9uZQpBUkdTID0gTm9uZQojIFRoZSBiZWxvdyBsaW5lIGlzIHdo
ZXJlIE9QVElPTlMgY2FuIGJlIHJlZGVmaW5lZCB3aXRoIGludGVybmFsIG9wdGlvbnMKIyAocmF0
aGVyIHRoYW4gY2xpIGFyZ3VtZW50cykgd2hlbiB0aGUgc2hpbSBpcyBidW5kbGVkIGJ5CiMgY2xp
ZW50LnNzaC5TaW5nbGUuX2NtZF9zdHIoKQojIHB5bGludDogZGlzYWJsZT1ibG9jay1jb21tZW50
LXNob3VsZC1zdGFydC13aXRoLWNhcmRpbmFsLXNwYWNlCgpPUFRJT05TID0gT0JKKCkKT1BUSU9O
Uy5jb25maWcgPSAiIiIKe2ZpbGVzZXJ2ZXJfbGlzdF9jYWNoZV90aW1lOiAzLCBncmFpbnNfY2Fj
aGU6IHRydWUsIGlkOiBtdW5pbiwgbG9nX2ZpbGU6IHNhbHQtY2FsbC5sb2csCiAgcm9vdF9kaXI6
IC92YXIvdG1wLy5zYWx0LW9wZV8xYTM1MzJfc2FsdC9ydW5uaW5nX2RhdGEsIHNvY2tfZGlyOiAv
fQoiIiIKT1BUSU9OUy5kZWxpbWl0ZXIgPSAnX2VkYmM3ODg1ZTRmOWFhYzliODNiMzU5OTliNjhk
MDE1MTQ4Y2FmNDY3Yjc4ZmEzOWMwNWY2NjljMGZmODk4NzgnCk9QVElPTlMuc2FsdGRpciA9ICcv
dmFyL3RtcC8uc2FsdC1vcGVfMWEzNTMyX3NhbHQnCk9QVElPTlMuY2hlY2tzdW0gPSAnOTg1MjZk
OTliMWU3YjA3OWRjZWZjZWM5ZmE1Yjg1MWZmYmY5ODEzZCcKT1BUSU9OUy5oYXNoZnVuYyA9ICdz
aGExJwpPUFRJT05TLnZlcnNpb24gPSAnMjAxNi4zLjInCk9QVElPTlMuZXh0X21vZHMgPSAnNzQx
OTZlMDExNDUyMWUyYWRjNjlkNjgxY2U2YTQ1NjNiYTBhZTFlYicKT1BUSU9OUy53aXBlID0gRmFs
c2UKT1BUSU9OUy50dHkgPSBGYWxzZQpPUFRJT05TLmNtZF91bWFzayA9IE5vbmUKQVJHUyA9IFsn
bmV0d29yay5pbnRlcmZhY2VfaXAnLCAnImV0aDAiJ10KCgoKZGVmIG5lZWRfZGVwbG95bWVudCgp
OgogICAgIiIiCiAgICBTYWx0IHRoaW4gbmVlZHMgdG8gYmUgZGVwbG95ZWQgLSBwcmVwIHRoZSB0
YXJnZXQgZGlyZWN0b3J5IGFuZCBlbWl0IHRoZQogICAgZGVsaW1ldGVyIGFuZCBleGl0IGNvZGUg
dGhhdCBzaWduYWxzIGEgcmVxdWlyZWQgZGVwbG95bWVudC4KICAgICIiIgogICAgaWYgb3MucGF0
aC5leGlzdHMoT1BUSU9OUy5zYWx0ZGlyKToKICAgICAgICBzaHV0aWwucm10cmVlKE9QVElPTlMu
c2FsdGRpcikKICAgIG9sZF91bWFzayA9IG9zLnVtYXNrKDBvMDc3KQogICAgb3MubWFrZWRpcnMo
T1BUSU9OUy5zYWx0ZGlyKQogICAgb3MudW1hc2sob2xkX3VtYXNrKQogICAgIyBWZXJpZnkgcGVy
bXMgb24gc2FsdGRpcgogICAgZXVpZCA9IG9zLmdldGV1aWQoKQogICAgZHN0YXQgPSBvcy5zdGF0
KE9QVElPTlMuc2FsdGRpcikKICAgIGlmIGRzdGF0LnN0X3VpZCAhPSBldWlkOgogICAgICAgICMg
QXR0YWNrIGRldGVjdGVkLCB0cnkgYWdhaW4KICAgICAgICBuZWVkX2RlcGxveW1lbnQoKQogICAg
aWYgZHN0YXQuc3RfbW9kZSAhPSAxNjgzMjoKICAgICAgICAjIEF0dGFjayBkZXRlY3RlZAogICAg
ICAgIG5lZWRfZGVwbG95bWVudCgpCiAgICAjIElmIFNVRE9pbmcgdGhlbiBhbHNvIGdpdmUgdGhl
IHN1cGVyIHVzZXIgZ3JvdXAgd3JpdGUgcGVybWlzc2lvbnMKICAgIHN1ZG9fZ2lkID0gb3MuZW52
aXJvbi5nZXQoJ1NVRE9fR0lEJykKICAgIGlmIHN1ZG9fZ2lkOgogICAgICAgIG9zLmNob3duKE9Q
VElPTlMuc2FsdGRpciwgLTEsIGludChzdWRvX2dpZCkpCiAgICAgICAgc3R0ID0gb3Muc3RhdChP
UFRJT05TLnNhbHRkaXIpCiAgICAgICAgb3MuY2htb2QoT1BUSU9OUy5zYWx0ZGlyLCBzdHQuc3Rf
bW9kZSB8IHN0YXQuU19JV0dSUCB8IHN0YXQuU19JUkdSUCB8IHN0YXQuU19JWEdSUCkKCiAgICAj
IERlbGltaXRlciBlbWl0dGVkIG9uIHN0ZG91dCAqb25seSogdG8gaW5kaWNhdGUgc2hpbSBtZXNz
YWdlIHRvIG1hc3Rlci4KICAgIHN5cy5zdGRvdXQud3JpdGUoInswfVxuZGVwbG95XG4iLmZvcm1h
dChPUFRJT05TLmRlbGltaXRlcikpCiAgICBzeXMuZXhpdChFWF9USElOX0RFUExPWSkKCgojIEFk
YXB0ZWQgZnJvbSBzYWx0LnV0aWxzLmdldF9oYXNoKCkKZGVmIGdldF9oYXNoKHBhdGgsIGZvcm09
J3NoYTEnLCBjaHVua19zaXplPTQwOTYpOgogICAgIiIiR2VuZXJhdGUgYSBoYXNoIGRpZ2VzdCBz
dHJpbmcgZm9yIGEgZmlsZS4iIiIKICAgIHRyeToKICAgICAgICBoYXNoX3R5cGUgPSBnZXRhdHRy
KGhhc2hsaWIsIGZvcm0pCiAgICBleGNlcHQgQXR0cmlidXRlRXJyb3I6CiAgICAgICAgcmFpc2Ug
VmFsdWVFcnJvcignSW52YWxpZCBoYXNoIHR5cGU6IHswfScuZm9ybWF0KGZvcm0pKQogICAgd2l0
aCBvcGVuKHBhdGgsICdyYicpIGFzIGlmaWxlOgogICAgICAgIGhhc2hfb2JqID0gaGFzaF90eXBl
KCkKICAgICAgICAjIHJlYWQgdGhlIGZpbGUgaW4gaW4gY2h1bmtzLCBub3QgdGhlIGVudGlyZSBm
aWxlCiAgICAgICAgZm9yIGNodW5rIGluIGl0ZXIobGFtYmRhOiBpZmlsZS5yZWFkKGNodW5rX3Np
emUpLCBiJycpOgogICAgICAgICAgICBoYXNoX29iai51cGRhdGUoY2h1bmspCiAgICAgICAgcmV0
dXJuIGhhc2hfb2JqLmhleGRpZ2VzdCgpCgoKZGVmIHVucGFja190aGluKHRoaW5fcGF0aCk6CiAg
ICAiIiJVbnBhY2sgdGhlIFNhbHQgdGhpbiBhcmNoaXZlLiIiIgogICAgdGZpbGUgPSB0YXJmaWxl
LlRhckZpbGUuZ3pvcGVuKHRoaW5fcGF0aCkKICAgIG9sZF91bWFzayA9IG9zLnVtYXNrKDBvMDc3
KQogICAgdGZpbGUuZXh0cmFjdGFsbChwYXRoPU9QVElPTlMuc2FsdGRpcikKICAgIHRmaWxlLmNs
b3NlKCkKICAgIG9zLnVtYXNrKG9sZF91bWFzaykKICAgIG9zLnVubGluayh0aGluX3BhdGgpCgoK
ZGVmIG5lZWRfZXh0KCk6CiAgICAiIiJTaWduYWwgdGhhdCBleHRlcm5hbCBtb2R1bGVzIG5lZWQg
dG8gYmUgZGVwbG95ZWQuIiIiCiAgICBzeXMuc3Rkb3V0LndyaXRlKCJ7MH1cbmV4dF9tb2RzXG4i
LmZvcm1hdChPUFRJT05TLmRlbGltaXRlcikpCiAgICBzeXMuZXhpdChFWF9NT0RfREVQTE9ZKQoK
CmRlZiB1bnBhY2tfZXh0KGV4dF9wYXRoKToKICAgICIiIlVucGFjayB0aGUgZXh0ZXJuYWwgbW9k
dWxlcy4iIiIKICAgIG1vZGNhY2hlID0gb3MucGF0aC5qb2luKAogICAgICAgICAgICBPUFRJT05T
LnNhbHRkaXIsCiAgICAgICAgICAgICdydW5uaW5nX2RhdGEnLAogICAgICAgICAgICAndmFyJywK
ICAgICAgICAgICAgJ2NhY2hlJywKICAgICAgICAgICAgJ3NhbHQnLAogICAgICAgICAgICAnbWlu
aW9uJywKICAgICAgICAgICAgJ2V4dG1vZHMnKQogICAgdGZpbGUgPSB0YXJmaWxlLlRhckZpbGUu
Z3pvcGVuKGV4dF9wYXRoKQogICAgb2xkX3VtYXNrID0gb3MudW1hc2soMG8wNzcpCiAgICB0Zmls
ZS5leHRyYWN0YWxsKHBhdGg9bW9kY2FjaGUpCiAgICB0ZmlsZS5jbG9zZSgpCiAgICBvcy51bWFz
ayhvbGRfdW1hc2spCiAgICBvcy51bmxpbmsoZXh0X3BhdGgpCiAgICB2ZXJfcGF0aCA9IG9zLnBh
dGguam9pbihtb2RjYWNoZSwgJ2V4dF92ZXJzaW9uJykKICAgIHZlcl9kc3QgPSBvcy5wYXRoLmpv
aW4oT1BUSU9OUy5zYWx0ZGlyLCAnZXh0X3ZlcnNpb24nKQogICAgc2h1dGlsLm1vdmUodmVyX3Bh
dGgsIHZlcl9kc3QpCgoKZGVmIG1haW4oYXJndik6ICAjIHB5bGludDogZGlzYWJsZT1XMDYxMwog
ICAgIiIiTWFpbiBwcm9ncmFtIGJvZHkiIiIKICAgIHRoaW5fcGF0aCA9IG9zLnBhdGguam9pbihP
UFRJT05TLnNhbHRkaXIsIFRISU5fQVJDSElWRSkKICAgIGlmIG9zLnBhdGguaXNmaWxlKHRoaW5f
cGF0aCk6CiAgICAgICAgaWYgT1BUSU9OUy5jaGVja3N1bSAhPSBnZXRfaGFzaCh0aGluX3BhdGgs
IE9QVElPTlMuaGFzaGZ1bmMpOgogICAgICAgICAgICBzeXMuc3RkZXJyLndyaXRlKCd7MH1cbicu
Zm9ybWF0KE9QVElPTlMuY2hlY2tzdW0pKQogICAgICAgICAgICBzeXMuc3RkZXJyLndyaXRlKCd7
MH1cbicuZm9ybWF0KGdldF9oYXNoKHRoaW5fcGF0aCwgT1BUSU9OUy5oYXNoZnVuYykpKQogICAg
ICAgICAgICBvcy51bmxpbmsodGhpbl9wYXRoKQogICAgICAgICAgICBzeXMuc3RkZXJyLndyaXRl
KCdXQVJOSU5HOiBjaGVja3N1bSBtaXNtYXRjaCBmb3IgInswfSJcbicuZm9ybWF0KHRoaW5fcGF0
aCkpCiAgICAgICAgICAgIHN5cy5leGl0KEVYX1RISU5fQ0hFQ0tTVU0pCiAgICAgICAgdW5wYWNr
X3RoaW4odGhpbl9wYXRoKQogICAgICAgICMgU2FsdCB0aGluIG5vdyBpcyBhdmFpbGFibGUgdG8g
dXNlCiAgICBlbHNlOgogICAgICAgIHNjcHN0YXQgPSBzdWJwcm9jZXNzLlBvcGVuKFsnL2Jpbi9z
aCcsICctYycsICdjb21tYW5kIC12IHNjcCddKS53YWl0KCkKICAgICAgICBpZiBzY3BzdGF0ICE9
IDA6CiAgICAgICAgICAgIHN5cy5leGl0KEVYX1NDUF9OT1RfRk9VTkQpCgogICAgICAgIGlmIG5v
dCBvcy5wYXRoLmV4aXN0cyhPUFRJT05TLnNhbHRkaXIpOgogICAgICAgICAgICBuZWVkX2RlcGxv
eW1lbnQoKQoKICAgICAgICBpZiBub3Qgb3MucGF0aC5pc2RpcihPUFRJT05TLnNhbHRkaXIpOgog
ICAgICAgICAgICBzeXMuc3RkZXJyLndyaXRlKAogICAgICAgICAgICAgICAgJ0VSUk9SOiBzYWx0
IHBhdGggInswfSIgZXhpc3RzIGJ1dCBpcycKICAgICAgICAgICAgICAgICcgbm90IGEgZGlyZWN0
b3J5XG4nLmZvcm1hdChPUFRJT05TLnNhbHRkaXIpCiAgICAgICAgICAgICkKICAgICAgICAgICAg
c3lzLmV4aXQoRVhfQ0FOVENSRUFUKQoKICAgICAgICB2ZXJzaW9uX3BhdGggPSBvcy5wYXRoLmpv
aW4oT1BUSU9OUy5zYWx0ZGlyLCAndmVyc2lvbicpCiAgICAgICAgaWYgbm90IG9zLnBhdGguZXhp
c3RzKHZlcnNpb25fcGF0aCkgb3Igbm90IG9zLnBhdGguaXNmaWxlKHZlcnNpb25fcGF0aCk6CiAg
ICAgICAgICAgIHN5cy5zdGRlcnIud3JpdGUoCiAgICAgICAgICAgICAgICAnV0FSTklORzogVW5h
YmxlIHRvIGxvY2F0ZSBjdXJyZW50IHRoaW4gJwogICAgICAgICAgICAgICAgJyB2ZXJzaW9uOiB7
MH0uXG4nLmZvcm1hdCh2ZXJzaW9uX3BhdGgpCiAgICAgICAgICAgICkKICAgICAgICAgICAgbmVl
ZF9kZXBsb3ltZW50KCkKICAgICAgICB3aXRoIG9wZW4odmVyc2lvbl9wYXRoLCAncicpIGFzIHZw
bzoKICAgICAgICAgICAgY3VyX3ZlcnNpb24gPSB2cG8ucmVhZGxpbmUoKS5zdHJpcCgpCiAgICAg
ICAgaWYgY3VyX3ZlcnNpb24gIT0gT1BUSU9OUy52ZXJzaW9uOgogICAgICAgICAgICBzeXMuc3Rk
ZXJyLndyaXRlKAogICAgICAgICAgICAgICAgJ1dBUk5JTkc6IGN1cnJlbnQgdGhpbiB2ZXJzaW9u
IHswfScKICAgICAgICAgICAgICAgICcgaXMgbm90IHVwLXRvLWRhdGUgd2l0aCB7MX0uXG4nLmZv
cm1hdCgKICAgICAgICAgICAgICAgICAgICBjdXJfdmVyc2lvbiwgT1BUSU9OUy52ZXJzaW9uCiAg
ICAgICAgICAgICAgICApCiAgICAgICAgICAgICkKICAgICAgICAgICAgbmVlZF9kZXBsb3ltZW50
KCkKICAgICAgICAjIFNhbHQgdGhpbiBleGlzdHMgYW5kIGlzIHVwLXRvLWRhdGUgLSBmYWxsIHRo
cm91Z2ggYW5kIHVzZSBpdAoKICAgIHNhbHRfY2FsbF9wYXRoID0gb3MucGF0aC5qb2luKE9QVElP
TlMuc2FsdGRpciwgJ3NhbHQtY2FsbCcpCiAgICBpZiBub3Qgb3MucGF0aC5pc2ZpbGUoc2FsdF9j
YWxsX3BhdGgpOgogICAgICAgIHN5cy5zdGRlcnIud3JpdGUoJ0VSUk9SOiB0aGluIGlzIG1pc3Np
bmcgInswfSJcbicuZm9ybWF0KHNhbHRfY2FsbF9wYXRoKSkKICAgICAgICBuZWVkX2RlcGxveW1l
bnQoKQoKICAgIHdpdGggb3Blbihvcy5wYXRoLmpvaW4oT1BUSU9OUy5zYWx0ZGlyLCAnbWluaW9u
JyksICd3JykgYXMgY29uZmlnOgogICAgICAgIGNvbmZpZy53cml0ZShPUFRJT05TLmNvbmZpZyAr
ICdcbicpCiAgICBpZiBPUFRJT05TLmV4dF9tb2RzOgogICAgICAgIGV4dF9wYXRoID0gb3MucGF0
aC5qb2luKE9QVElPTlMuc2FsdGRpciwgRVhUX0FSQ0hJVkUpCiAgICAgICAgaWYgb3MucGF0aC5l
eGlzdHMoZXh0X3BhdGgpOgogICAgICAgICAgICB1bnBhY2tfZXh0KGV4dF9wYXRoKQogICAgICAg
IGVsc2U6CiAgICAgICAgICAgIHZlcnNpb25fcGF0aCA9IG9zLnBhdGguam9pbihPUFRJT05TLnNh
bHRkaXIsICdleHRfdmVyc2lvbicpCiAgICAgICAgICAgIGlmIG5vdCBvcy5wYXRoLmV4aXN0cyh2
ZXJzaW9uX3BhdGgpIG9yIG5vdCBvcy5wYXRoLmlzZmlsZSh2ZXJzaW9uX3BhdGgpOgogICAgICAg
ICAgICAgICAgbmVlZF9leHQoKQogICAgICAgICAgICB3aXRoIG9wZW4odmVyc2lvbl9wYXRoLCAn
cicpIGFzIHZwbzoKICAgICAgICAgICAgICAgIGN1cl92ZXJzaW9uID0gdnBvLnJlYWRsaW5lKCku
c3RyaXAoKQogICAgICAgICAgICBpZiBjdXJfdmVyc2lvbiAhPSBPUFRJT05TLmV4dF9tb2RzOgog
ICAgICAgICAgICAgICAgbmVlZF9leHQoKQogICAgIyBGaXggcGFyYW1ldGVyIHBhc3NpbmcgaXNz
dWUKICAgIGlmIGxlbihBUkdTKSA9PSAxOgogICAgICAgIGFyZ3ZfcHJlcGFyZWQgPSBBUkdTWzBd
LnNwbGl0KCkKICAgIGVsc2U6CiAgICAgICAgYXJndl9wcmVwYXJlZCA9IEFSR1MKCiAgICBzYWx0
X2FyZ3YgPSBbCiAgICAgICAgc3lzLmV4ZWN1dGFibGUsCiAgICAgICAgc2FsdF9jYWxsX3BhdGgs
CiAgICAgICAgJy0tcmV0Y29kZS1wYXNzdGhyb3VnaCcsCiAgICAgICAgJy0tbG9jYWwnLAogICAg
ICAgICctLW1ldGFkYXRhJywKICAgICAgICAnLS1vdXQnLCAnanNvbicsCiAgICAgICAgJy1sJywg
J3F1aWV0JywKICAgICAgICAnLWMnLCBPUFRJT05TLnNhbHRkaXIsCiAgICAgICAgJy0tJywKICAg
IF0gKyBhcmd2X3ByZXBhcmVkCgogICAgc3lzLnN0ZGVyci53cml0ZSgnU0FMVF9BUkdWOiB7MH1c
bicuZm9ybWF0KHNhbHRfYXJndikpCgogICAgIyBPbmx5IGVtaXQgdGhlIGRlbGltaXRlciBvbiAq
Ym90aCogc3Rkb3V0IGFuZCBzdGRlcnIgd2hlbiBjb21wbGV0ZWx5IHN1Y2Nlc3NmdWwuCiAgICAj
IFllcywgdGhlIGZsdXNoKCkgaXMgbmVjZXNzYXJ5LgogICAgc3lzLnN0ZG91dC53cml0ZShPUFRJ
T05TLmRlbGltaXRlciArICdcbicpCiAgICBzeXMuc3Rkb3V0LmZsdXNoKCkKICAgIGlmIG5vdCBP
UFRJT05TLnR0eToKICAgICAgICBzeXMuc3RkZXJyLndyaXRlKE9QVElPTlMuZGVsaW1pdGVyICsg
J1xuJykKICAgICAgICBzeXMuc3RkZXJyLmZsdXNoKCkKICAgIGlmIE9QVElPTlMuY21kX3VtYXNr
IGlzIG5vdCBOb25lOgogICAgICAgIG9sZF91bWFzayA9IG9zLnVtYXNrKE9QVElPTlMuY21kX3Vt
YXNrKQogICAgaWYgT1BUSU9OUy50dHk6CiAgICAgICAgc3Rkb3V0LCBfID0gc3VicHJvY2Vzcy5Q
b3BlbihzYWx0X2FyZ3YsIHN0ZG91dD1zdWJwcm9jZXNzLlBJUEUsIHN0ZGVycj1zdWJwcm9jZXNz
LlBJUEUpLmNvbW11bmljYXRlKCkKICAgICAgICBzeXMuc3Rkb3V0LndyaXRlKHN0ZG91dCkKICAg
ICAgICBzeXMuc3Rkb3V0LmZsdXNoKCkKICAgICAgICBpZiBPUFRJT05TLndpcGU6CiAgICAgICAg
ICAgIHNodXRpbC5ybXRyZWUoT1BUSU9OUy5zYWx0ZGlyKQogICAgZWxpZiBPUFRJT05TLndpcGU6
CiAgICAgICAgc3VicHJvY2Vzcy5jYWxsKHNhbHRfYXJndikKICAgICAgICBzaHV0aWwucm10cmVl
KE9QVElPTlMuc2FsdGRpcikKICAgIGVsc2U6CiAgICAgICAgb3MuZXhlY3Yoc3lzLmV4ZWN1dGFi
bGUsIHNhbHRfYXJndikKICAgIGlmIE9QVElPTlMuY21kX3VtYXNrIGlzIG5vdCBOb25lOgogICAg
ICAgIG9zLnVtYXNrKG9sZF91bWFzaykKCmlmIF9fbmFtZV9fID09ICdfX21haW5fXyc6CiAgICBz
eXMuZXhpdChtYWluKHN5cy5hcmd2KSkK
""").decode("utf-8"))'
fi
exit 0
else
continue
fi
done
echo "ERROR: Unable to locate appropriate python command" >&2
exit $EX_PYTHON_INVALID
EOF
2016-10-20 00:47:59,538 [salt.utils.vt.Terminal.PID-2642.STDOUT][TRACE   ][2633] salt-ope@192.168.1.15's password:
2016-10-20 00:47:59,701 [salt.utils.vt.Terminal.PID-2642.STDERR][TRACE   ][2633] SALT_ARGV: ['/usr/bin/python2.7', '/var/tmp/.salt-ope_1a3532_salt/salt-call', '--retcode-passthrough', '--local', '--metadata', '--out', 'json', '-l', 'quiet', '-c', '/var/tmp/.salt-ope_1a3532_salt', '--', 'network.interface_ip', '"eth0"']
_edbc7885e4f9aac9b83b35999b68d015148caf467b78fa39c05f669c0ff89878
2016-10-20 00:47:59,702 [salt.utils.vt.Terminal.PID-2642.STDOUT][TRACE   ][2633] /bin/scp
_edbc7885e4f9aac9b83b35999b68d015148caf467b78fa39c05f669c0ff89878
2016-10-20 00:47:59,998 [salt.utils.vt.Terminal.PID-2642.STDOUT][TRACE   ][2633] {
    "local": {
        "fun_args": [
            "\"eth0\""
        ], 
        "jid": "20161020004800890107", 
        "return": "192.168.1.15", 
        "retcode": 0, 
        "fun": "network.interface_ip", 
        "id": "munin"
    }
}
2016-10-20 00:48:00,220 [salt.client.ssh  ][TRACE   ][2633] STDOUT 192.168.1.15
salt-ope@192.168.1.15's password: 
/bin/scp
_edbc7885e4f9aac9b83b35999b68d015148caf467b78fa39c05f669c0ff89878
{
    "local": {
        "fun_args": [
            "\"eth0\""
        ], 
        "jid": "20161020004800890107", 
        "return": "192.168.1.15", 
        "retcode": 0, 
        "fun": "network.interface_ip", 
        "id": "munin"
    }
}

2016-10-20 00:48:00,220 [salt.client.ssh  ][TRACE   ][2633] STDERR 192.168.1.15
SALT_ARGV: ['/usr/bin/python2.7', '/var/tmp/.salt-ope_1a3532_salt/salt-call', '--retcode-passthrough', '--local', '--metadata', '--out', 'json', '-l', 'quiet', '-c', '/var/tmp/.salt-ope_1a3532_salt', '--', 'network.interface_ip', '"eth0"']
_edbc7885e4f9aac9b83b35999b68d015148caf467b78fa39c05f669c0ff89878

2016-10-20 00:48:00,220 [salt.client.ssh  ][DEBUG   ][2633] RETCODE 192.168.1.15: 0
2016-10-20 00:48:00,222 [salt.utils.lazy  ][DEBUG   ][2633] Could not LazyLoad network.get_hostname
2016-10-20 00:48:00,242 [salt.client.ssh  ][DEBUG   ][2633] Performing shimmed, blocking command as follows:
network.get_hostname
2016-10-20 00:48:00,262 [salt.client.ssh.shell][DEBUG   ][2633] Executed SHIM command. Command logged to TRACE
2016-10-20 00:48:00,262 [salt.client.ssh.shell][TRACE   ][2633] Executing command: ssh 192.168.1.15  -o KbdInteractiveAuthentication=no -o PasswordAuthentication=yes -o GSSAPIAuthentication=no -o ConnectTimeout=65 -o Port=22 -o IdentityFile=/root/saltstack_master/etc/salt/pki/master/ssh/salt-ssh.rsa -o User=******  /bin/sh << 'EOF'
set -e
set -u
DEBUG=""
if [ -n "$DEBUG" ]
then set -x
fi
SUDO=""
if [ -n "sudo" ]
then SUDO="sudo "
fi
EX_PYTHON_INVALID=10
PYTHON_CMDS="python3 python27 python2.7 python26 python2.6 python2 python"
for py_cmd in $PYTHON_CMDS
do
if command -v "$py_cmd" >/dev/null 2>&1 && "$py_cmd" -c \
"import sys; sys.exit(not (sys.version_info >= (2, 6)
and sys.version_info[0] == 2));"
then
py_cmd_path=`"$py_cmd" -c \
'from __future__ import print_function;
import sys; print(sys.executable);'`
cmdpath=$(which $py_cmd 2>&1)
if file $cmdpath | grep "shell script" > /dev/null
then
ex_vars="'PATH', 'LD_LIBRARY_PATH', 'MANPATH', \
'XDG_DATA_DIRS', 'PKG_CONFIG_PATH'"
export $($py_cmd -c \
"from __future__ import print_function;
import sys;
import os;
map(sys.stdout.write, ['{0}={1} ' \
.format(x, os.environ[x]) for x in [$ex_vars]])")
exec $SUDO PATH=$PATH LD_LIBRARY_PATH=$LD_LIBRARY_PATH \
MANPATH=$MANPATH XDG_DATA_DIRS=$XDG_DATA_DIRS \
PKG_CONFIG_PATH=$PKG_CONFIG_PATH \
"$py_cmd_path" -c \
'import base64;
exec(base64.b64decode("""IyBweWxpbnQ6IGRpc2FibGU9Vzk5MDMKJycnClRoaXMgaXMgYSBzaGltIHRoYXQgaGFuZGxlcyBj
aGVja2luZyBhbmQgdXBkYXRpbmcgc2FsdCB0aGluIGFuZAp0aGVuIGludm9raW5nIHRoaW4uCgpU
aGlzIGlzIG5vdCBpbnRlbmRlZCB0byBiZSBpbnN0YW50aWF0ZWQgYXMgYSBtb2R1bGUsIHJhdGhl
ciBpdCBpcyBhCmhlbHBlciBzY3JpcHQgdXNlZCBieSBzYWx0LmNsaWVudC5zc2guU2luZ2xlLiAg
SXQgaXMgaGVyZSwgaW4gYQpzZXBhcmF0ZSBmaWxlLCBmb3IgY29udmVuaWVuY2Ugb2YgZGV2ZWxv
cG1lbnQuCicnJwoKZnJvbSBfX2Z1dHVyZV9fIGltcG9ydCBhYnNvbHV0ZV9pbXBvcnQKCmltcG9y
dCBoYXNobGliCmltcG9ydCB0YXJmaWxlCmltcG9ydCBzaHV0aWwKaW1wb3J0IHN5cwppbXBvcnQg
b3MKaW1wb3J0IHN0YXQKaW1wb3J0IHN1YnByb2Nlc3MKClRISU5fQVJDSElWRSA9ICdzYWx0LXRo
aW4udGd6JwpFWFRfQVJDSElWRSA9ICdzYWx0LWV4dF9tb2RzLnRneicKCiMgS2VlcCB0aGVzZSBp
biBzeW5jIHdpdGggc2FsdC9kZWZhdWx0cy9leGl0Y29kZXMucHkKRVhfVEhJTl9ERVBMT1kgPSAx
MQpFWF9USElOX0NIRUNLU1VNID0gMTIKRVhfTU9EX0RFUExPWSA9IDEzCkVYX1NDUF9OT1RfRk9V
TkQgPSAxNApFWF9DQU5UQ1JFQVQgPSA3MwoKCmNsYXNzIE9CSihvYmplY3QpOgogICAgIiIiQW4g
ZW1wdHkgY2xhc3MgZm9yIGhvbGRpbmcgaW5zdGFuY2UgYXR0cmlidXRlIHZhbHVlcy4iIiIKICAg
IHBhc3MKCgpPUFRJT05TID0gTm9uZQpBUkdTID0gTm9uZQojIFRoZSBiZWxvdyBsaW5lIGlzIHdo
ZXJlIE9QVElPTlMgY2FuIGJlIHJlZGVmaW5lZCB3aXRoIGludGVybmFsIG9wdGlvbnMKIyAocmF0
aGVyIHRoYW4gY2xpIGFyZ3VtZW50cykgd2hlbiB0aGUgc2hpbSBpcyBidW5kbGVkIGJ5CiMgY2xp
ZW50LnNzaC5TaW5nbGUuX2NtZF9zdHIoKQojIHB5bGludDogZGlzYWJsZT1ibG9jay1jb21tZW50
LXNob3VsZC1zdGFydC13aXRoLWNhcmRpbmFsLXNwYWNlCgpPUFRJT05TID0gT0JKKCkKT1BUSU9O
Uy5jb25maWcgPSAiIiIKe2ZpbGVzZXJ2ZXJfbGlzdF9jYWNoZV90aW1lOiAzLCBncmFpbnNfY2Fj
aGU6IHRydWUsIGlkOiBtdW5pbiwgbG9nX2ZpbGU6IHNhbHQtY2FsbC5sb2csCiAgcm9vdF9kaXI6
IC92YXIvdG1wLy5zYWx0LW9wZV8xYTM1MzJfc2FsdC9ydW5uaW5nX2RhdGEsIHNvY2tfZGlyOiAv
fQoiIiIKT1BUSU9OUy5kZWxpbWl0ZXIgPSAnX2VkYmM3ODg1ZTRmOWFhYzliODNiMzU5OTliNjhk
MDE1MTQ4Y2FmNDY3Yjc4ZmEzOWMwNWY2NjljMGZmODk4NzgnCk9QVElPTlMuc2FsdGRpciA9ICcv
dmFyL3RtcC8uc2FsdC1vcGVfMWEzNTMyX3NhbHQnCk9QVElPTlMuY2hlY2tzdW0gPSAnOTg1MjZk
OTliMWU3YjA3OWRjZWZjZWM5ZmE1Yjg1MWZmYmY5ODEzZCcKT1BUSU9OUy5oYXNoZnVuYyA9ICdz
aGExJwpPUFRJT05TLnZlcnNpb24gPSAnMjAxNi4zLjInCk9QVElPTlMuZXh0X21vZHMgPSAnNzQx
OTZlMDExNDUyMWUyYWRjNjlkNjgxY2U2YTQ1NjNiYTBhZTFlYicKT1BUSU9OUy53aXBlID0gRmFs
c2UKT1BUSU9OUy50dHkgPSBGYWxzZQpPUFRJT05TLmNtZF91bWFzayA9IE5vbmUKQVJHUyA9IFsn
bmV0d29yay5nZXRfaG9zdG5hbWUnXQoKCgpkZWYgbmVlZF9kZXBsb3ltZW50KCk6CiAgICAiIiIK
ICAgIFNhbHQgdGhpbiBuZWVkcyB0byBiZSBkZXBsb3llZCAtIHByZXAgdGhlIHRhcmdldCBkaXJl
Y3RvcnkgYW5kIGVtaXQgdGhlCiAgICBkZWxpbWV0ZXIgYW5kIGV4aXQgY29kZSB0aGF0IHNpZ25h
bHMgYSByZXF1aXJlZCBkZXBsb3ltZW50LgogICAgIiIiCiAgICBpZiBvcy5wYXRoLmV4aXN0cyhP
UFRJT05TLnNhbHRkaXIpOgogICAgICAgIHNodXRpbC5ybXRyZWUoT1BUSU9OUy5zYWx0ZGlyKQog
ICAgb2xkX3VtYXNrID0gb3MudW1hc2soMG8wNzcpCiAgICBvcy5tYWtlZGlycyhPUFRJT05TLnNh
bHRkaXIpCiAgICBvcy51bWFzayhvbGRfdW1hc2spCiAgICAjIFZlcmlmeSBwZXJtcyBvbiBzYWx0
ZGlyCiAgICBldWlkID0gb3MuZ2V0ZXVpZCgpCiAgICBkc3RhdCA9IG9zLnN0YXQoT1BUSU9OUy5z
YWx0ZGlyKQogICAgaWYgZHN0YXQuc3RfdWlkICE9IGV1aWQ6CiAgICAgICAgIyBBdHRhY2sgZGV0
ZWN0ZWQsIHRyeSBhZ2FpbgogICAgICAgIG5lZWRfZGVwbG95bWVudCgpCiAgICBpZiBkc3RhdC5z
dF9tb2RlICE9IDE2ODMyOgogICAgICAgICMgQXR0YWNrIGRldGVjdGVkCiAgICAgICAgbmVlZF9k
ZXBsb3ltZW50KCkKICAgICMgSWYgU1VET2luZyB0aGVuIGFsc28gZ2l2ZSB0aGUgc3VwZXIgdXNl
ciBncm91cCB3cml0ZSBwZXJtaXNzaW9ucwogICAgc3Vkb19naWQgPSBvcy5lbnZpcm9uLmdldCgn
U1VET19HSUQnKQogICAgaWYgc3Vkb19naWQ6CiAgICAgICAgb3MuY2hvd24oT1BUSU9OUy5zYWx0
ZGlyLCAtMSwgaW50KHN1ZG9fZ2lkKSkKICAgICAgICBzdHQgPSBvcy5zdGF0KE9QVElPTlMuc2Fs
dGRpcikKICAgICAgICBvcy5jaG1vZChPUFRJT05TLnNhbHRkaXIsIHN0dC5zdF9tb2RlIHwgc3Rh
dC5TX0lXR1JQIHwgc3RhdC5TX0lSR1JQIHwgc3RhdC5TX0lYR1JQKQoKICAgICMgRGVsaW1pdGVy
IGVtaXR0ZWQgb24gc3Rkb3V0ICpvbmx5KiB0byBpbmRpY2F0ZSBzaGltIG1lc3NhZ2UgdG8gbWFz
dGVyLgogICAgc3lzLnN0ZG91dC53cml0ZSgiezB9XG5kZXBsb3lcbiIuZm9ybWF0KE9QVElPTlMu
ZGVsaW1pdGVyKSkKICAgIHN5cy5leGl0KEVYX1RISU5fREVQTE9ZKQoKCiMgQWRhcHRlZCBmcm9t
IHNhbHQudXRpbHMuZ2V0X2hhc2goKQpkZWYgZ2V0X2hhc2gocGF0aCwgZm9ybT0nc2hhMScsIGNo
dW5rX3NpemU9NDA5Nik6CiAgICAiIiJHZW5lcmF0ZSBhIGhhc2ggZGlnZXN0IHN0cmluZyBmb3Ig
YSBmaWxlLiIiIgogICAgdHJ5OgogICAgICAgIGhhc2hfdHlwZSA9IGdldGF0dHIoaGFzaGxpYiwg
Zm9ybSkKICAgIGV4Y2VwdCBBdHRyaWJ1dGVFcnJvcjoKICAgICAgICByYWlzZSBWYWx1ZUVycm9y
KCdJbnZhbGlkIGhhc2ggdHlwZTogezB9Jy5mb3JtYXQoZm9ybSkpCiAgICB3aXRoIG9wZW4ocGF0
aCwgJ3JiJykgYXMgaWZpbGU6CiAgICAgICAgaGFzaF9vYmogPSBoYXNoX3R5cGUoKQogICAgICAg
ICMgcmVhZCB0aGUgZmlsZSBpbiBpbiBjaHVua3MsIG5vdCB0aGUgZW50aXJlIGZpbGUKICAgICAg
ICBmb3IgY2h1bmsgaW4gaXRlcihsYW1iZGE6IGlmaWxlLnJlYWQoY2h1bmtfc2l6ZSksIGInJyk6
CiAgICAgICAgICAgIGhhc2hfb2JqLnVwZGF0ZShjaHVuaykKICAgICAgICByZXR1cm4gaGFzaF9v
YmouaGV4ZGlnZXN0KCkKCgpkZWYgdW5wYWNrX3RoaW4odGhpbl9wYXRoKToKICAgICIiIlVucGFj
ayB0aGUgU2FsdCB0aGluIGFyY2hpdmUuIiIiCiAgICB0ZmlsZSA9IHRhcmZpbGUuVGFyRmlsZS5n
em9wZW4odGhpbl9wYXRoKQogICAgb2xkX3VtYXNrID0gb3MudW1hc2soMG8wNzcpCiAgICB0Zmls
ZS5leHRyYWN0YWxsKHBhdGg9T1BUSU9OUy5zYWx0ZGlyKQogICAgdGZpbGUuY2xvc2UoKQogICAg
b3MudW1hc2sob2xkX3VtYXNrKQogICAgb3MudW5saW5rKHRoaW5fcGF0aCkKCgpkZWYgbmVlZF9l
eHQoKToKICAgICIiIlNpZ25hbCB0aGF0IGV4dGVybmFsIG1vZHVsZXMgbmVlZCB0byBiZSBkZXBs
b3llZC4iIiIKICAgIHN5cy5zdGRvdXQud3JpdGUoInswfVxuZXh0X21vZHNcbiIuZm9ybWF0KE9Q
VElPTlMuZGVsaW1pdGVyKSkKICAgIHN5cy5leGl0KEVYX01PRF9ERVBMT1kpCgoKZGVmIHVucGFj
a19leHQoZXh0X3BhdGgpOgogICAgIiIiVW5wYWNrIHRoZSBleHRlcm5hbCBtb2R1bGVzLiIiIgog
ICAgbW9kY2FjaGUgPSBvcy5wYXRoLmpvaW4oCiAgICAgICAgICAgIE9QVElPTlMuc2FsdGRpciwK
ICAgICAgICAgICAgJ3J1bm5pbmdfZGF0YScsCiAgICAgICAgICAgICd2YXInLAogICAgICAgICAg
ICAnY2FjaGUnLAogICAgICAgICAgICAnc2FsdCcsCiAgICAgICAgICAgICdtaW5pb24nLAogICAg
ICAgICAgICAnZXh0bW9kcycpCiAgICB0ZmlsZSA9IHRhcmZpbGUuVGFyRmlsZS5nem9wZW4oZXh0
X3BhdGgpCiAgICBvbGRfdW1hc2sgPSBvcy51bWFzaygwbzA3NykKICAgIHRmaWxlLmV4dHJhY3Rh
bGwocGF0aD1tb2RjYWNoZSkKICAgIHRmaWxlLmNsb3NlKCkKICAgIG9zLnVtYXNrKG9sZF91bWFz
aykKICAgIG9zLnVubGluayhleHRfcGF0aCkKICAgIHZlcl9wYXRoID0gb3MucGF0aC5qb2luKG1v
ZGNhY2hlLCAnZXh0X3ZlcnNpb24nKQogICAgdmVyX2RzdCA9IG9zLnBhdGguam9pbihPUFRJT05T
LnNhbHRkaXIsICdleHRfdmVyc2lvbicpCiAgICBzaHV0aWwubW92ZSh2ZXJfcGF0aCwgdmVyX2Rz
dCkKCgpkZWYgbWFpbihhcmd2KTogICMgcHlsaW50OiBkaXNhYmxlPVcwNjEzCiAgICAiIiJNYWlu
IHByb2dyYW0gYm9keSIiIgogICAgdGhpbl9wYXRoID0gb3MucGF0aC5qb2luKE9QVElPTlMuc2Fs
dGRpciwgVEhJTl9BUkNISVZFKQogICAgaWYgb3MucGF0aC5pc2ZpbGUodGhpbl9wYXRoKToKICAg
ICAgICBpZiBPUFRJT05TLmNoZWNrc3VtICE9IGdldF9oYXNoKHRoaW5fcGF0aCwgT1BUSU9OUy5o
YXNoZnVuYyk6CiAgICAgICAgICAgIHN5cy5zdGRlcnIud3JpdGUoJ3swfVxuJy5mb3JtYXQoT1BU
SU9OUy5jaGVja3N1bSkpCiAgICAgICAgICAgIHN5cy5zdGRlcnIud3JpdGUoJ3swfVxuJy5mb3Jt
YXQoZ2V0X2hhc2godGhpbl9wYXRoLCBPUFRJT05TLmhhc2hmdW5jKSkpCiAgICAgICAgICAgIG9z
LnVubGluayh0aGluX3BhdGgpCiAgICAgICAgICAgIHN5cy5zdGRlcnIud3JpdGUoJ1dBUk5JTkc6
IGNoZWNrc3VtIG1pc21hdGNoIGZvciAiezB9IlxuJy5mb3JtYXQodGhpbl9wYXRoKSkKICAgICAg
ICAgICAgc3lzLmV4aXQoRVhfVEhJTl9DSEVDS1NVTSkKICAgICAgICB1bnBhY2tfdGhpbih0aGlu
X3BhdGgpCiAgICAgICAgIyBTYWx0IHRoaW4gbm93IGlzIGF2YWlsYWJsZSB0byB1c2UKICAgIGVs
c2U6CiAgICAgICAgc2Nwc3RhdCA9IHN1YnByb2Nlc3MuUG9wZW4oWycvYmluL3NoJywgJy1jJywg
J2NvbW1hbmQgLXYgc2NwJ10pLndhaXQoKQogICAgICAgIGlmIHNjcHN0YXQgIT0gMDoKICAgICAg
ICAgICAgc3lzLmV4aXQoRVhfU0NQX05PVF9GT1VORCkKCiAgICAgICAgaWYgbm90IG9zLnBhdGgu
ZXhpc3RzKE9QVElPTlMuc2FsdGRpcik6CiAgICAgICAgICAgIG5lZWRfZGVwbG95bWVudCgpCgog
ICAgICAgIGlmIG5vdCBvcy5wYXRoLmlzZGlyKE9QVElPTlMuc2FsdGRpcik6CiAgICAgICAgICAg
IHN5cy5zdGRlcnIud3JpdGUoCiAgICAgICAgICAgICAgICAnRVJST1I6IHNhbHQgcGF0aCAiezB9
IiBleGlzdHMgYnV0IGlzJwogICAgICAgICAgICAgICAgJyBub3QgYSBkaXJlY3RvcnlcbicuZm9y
bWF0KE9QVElPTlMuc2FsdGRpcikKICAgICAgICAgICAgKQogICAgICAgICAgICBzeXMuZXhpdChF
WF9DQU5UQ1JFQVQpCgogICAgICAgIHZlcnNpb25fcGF0aCA9IG9zLnBhdGguam9pbihPUFRJT05T
LnNhbHRkaXIsICd2ZXJzaW9uJykKICAgICAgICBpZiBub3Qgb3MucGF0aC5leGlzdHModmVyc2lv
bl9wYXRoKSBvciBub3Qgb3MucGF0aC5pc2ZpbGUodmVyc2lvbl9wYXRoKToKICAgICAgICAgICAg
c3lzLnN0ZGVyci53cml0ZSgKICAgICAgICAgICAgICAgICdXQVJOSU5HOiBVbmFibGUgdG8gbG9j
YXRlIGN1cnJlbnQgdGhpbiAnCiAgICAgICAgICAgICAgICAnIHZlcnNpb246IHswfS5cbicuZm9y
bWF0KHZlcnNpb25fcGF0aCkKICAgICAgICAgICAgKQogICAgICAgICAgICBuZWVkX2RlcGxveW1l
bnQoKQogICAgICAgIHdpdGggb3Blbih2ZXJzaW9uX3BhdGgsICdyJykgYXMgdnBvOgogICAgICAg
ICAgICBjdXJfdmVyc2lvbiA9IHZwby5yZWFkbGluZSgpLnN0cmlwKCkKICAgICAgICBpZiBjdXJf
dmVyc2lvbiAhPSBPUFRJT05TLnZlcnNpb246CiAgICAgICAgICAgIHN5cy5zdGRlcnIud3JpdGUo
CiAgICAgICAgICAgICAgICAnV0FSTklORzogY3VycmVudCB0aGluIHZlcnNpb24gezB9JwogICAg
ICAgICAgICAgICAgJyBpcyBub3QgdXAtdG8tZGF0ZSB3aXRoIHsxfS5cbicuZm9ybWF0KAogICAg
ICAgICAgICAgICAgICAgIGN1cl92ZXJzaW9uLCBPUFRJT05TLnZlcnNpb24KICAgICAgICAgICAg
ICAgICkKICAgICAgICAgICAgKQogICAgICAgICAgICBuZWVkX2RlcGxveW1lbnQoKQogICAgICAg
ICMgU2FsdCB0aGluIGV4aXN0cyBhbmQgaXMgdXAtdG8tZGF0ZSAtIGZhbGwgdGhyb3VnaCBhbmQg
dXNlIGl0CgogICAgc2FsdF9jYWxsX3BhdGggPSBvcy5wYXRoLmpvaW4oT1BUSU9OUy5zYWx0ZGly
LCAnc2FsdC1jYWxsJykKICAgIGlmIG5vdCBvcy5wYXRoLmlzZmlsZShzYWx0X2NhbGxfcGF0aCk6
CiAgICAgICAgc3lzLnN0ZGVyci53cml0ZSgnRVJST1I6IHRoaW4gaXMgbWlzc2luZyAiezB9Ilxu
Jy5mb3JtYXQoc2FsdF9jYWxsX3BhdGgpKQogICAgICAgIG5lZWRfZGVwbG95bWVudCgpCgogICAg
d2l0aCBvcGVuKG9zLnBhdGguam9pbihPUFRJT05TLnNhbHRkaXIsICdtaW5pb24nKSwgJ3cnKSBh
cyBjb25maWc6CiAgICAgICAgY29uZmlnLndyaXRlKE9QVElPTlMuY29uZmlnICsgJ1xuJykKICAg
IGlmIE9QVElPTlMuZXh0X21vZHM6CiAgICAgICAgZXh0X3BhdGggPSBvcy5wYXRoLmpvaW4oT1BU
SU9OUy5zYWx0ZGlyLCBFWFRfQVJDSElWRSkKICAgICAgICBpZiBvcy5wYXRoLmV4aXN0cyhleHRf
cGF0aCk6CiAgICAgICAgICAgIHVucGFja19leHQoZXh0X3BhdGgpCiAgICAgICAgZWxzZToKICAg
ICAgICAgICAgdmVyc2lvbl9wYXRoID0gb3MucGF0aC5qb2luKE9QVElPTlMuc2FsdGRpciwgJ2V4
dF92ZXJzaW9uJykKICAgICAgICAgICAgaWYgbm90IG9zLnBhdGguZXhpc3RzKHZlcnNpb25fcGF0
aCkgb3Igbm90IG9zLnBhdGguaXNmaWxlKHZlcnNpb25fcGF0aCk6CiAgICAgICAgICAgICAgICBu
ZWVkX2V4dCgpCiAgICAgICAgICAgIHdpdGggb3Blbih2ZXJzaW9uX3BhdGgsICdyJykgYXMgdnBv
OgogICAgICAgICAgICAgICAgY3VyX3ZlcnNpb24gPSB2cG8ucmVhZGxpbmUoKS5zdHJpcCgpCiAg
ICAgICAgICAgIGlmIGN1cl92ZXJzaW9uICE9IE9QVElPTlMuZXh0X21vZHM6CiAgICAgICAgICAg
ICAgICBuZWVkX2V4dCgpCiAgICAjIEZpeCBwYXJhbWV0ZXIgcGFzc2luZyBpc3N1ZQogICAgaWYg
bGVuKEFSR1MpID09IDE6CiAgICAgICAgYXJndl9wcmVwYXJlZCA9IEFSR1NbMF0uc3BsaXQoKQog
ICAgZWxzZToKICAgICAgICBhcmd2X3ByZXBhcmVkID0gQVJHUwoKICAgIHNhbHRfYXJndiA9IFsK
ICAgICAgICBzeXMuZXhlY3V0YWJsZSwKICAgICAgICBzYWx0X2NhbGxfcGF0aCwKICAgICAgICAn
LS1yZXRjb2RlLXBhc3N0aHJvdWdoJywKICAgICAgICAnLS1sb2NhbCcsCiAgICAgICAgJy0tbWV0
YWRhdGEnLAogICAgICAgICctLW91dCcsICdqc29uJywKICAgICAgICAnLWwnLCAncXVpZXQnLAog
ICAgICAgICctYycsIE9QVElPTlMuc2FsdGRpciwKICAgICAgICAnLS0nLAogICAgXSArIGFyZ3Zf
cHJlcGFyZWQKCiAgICBzeXMuc3RkZXJyLndyaXRlKCdTQUxUX0FSR1Y6IHswfVxuJy5mb3JtYXQo
c2FsdF9hcmd2KSkKCiAgICAjIE9ubHkgZW1pdCB0aGUgZGVsaW1pdGVyIG9uICpib3RoKiBzdGRv
dXQgYW5kIHN0ZGVyciB3aGVuIGNvbXBsZXRlbHkgc3VjY2Vzc2Z1bC4KICAgICMgWWVzLCB0aGUg
Zmx1c2goKSBpcyBuZWNlc3NhcnkuCiAgICBzeXMuc3Rkb3V0LndyaXRlKE9QVElPTlMuZGVsaW1p
dGVyICsgJ1xuJykKICAgIHN5cy5zdGRvdXQuZmx1c2goKQogICAgaWYgbm90IE9QVElPTlMudHR5
OgogICAgICAgIHN5cy5zdGRlcnIud3JpdGUoT1BUSU9OUy5kZWxpbWl0ZXIgKyAnXG4nKQogICAg
ICAgIHN5cy5zdGRlcnIuZmx1c2goKQogICAgaWYgT1BUSU9OUy5jbWRfdW1hc2sgaXMgbm90IE5v
bmU6CiAgICAgICAgb2xkX3VtYXNrID0gb3MudW1hc2soT1BUSU9OUy5jbWRfdW1hc2spCiAgICBp
ZiBPUFRJT05TLnR0eToKICAgICAgICBzdGRvdXQsIF8gPSBzdWJwcm9jZXNzLlBvcGVuKHNhbHRf
YXJndiwgc3Rkb3V0PXN1YnByb2Nlc3MuUElQRSwgc3RkZXJyPXN1YnByb2Nlc3MuUElQRSkuY29t
bXVuaWNhdGUoKQogICAgICAgIHN5cy5zdGRvdXQud3JpdGUoc3Rkb3V0KQogICAgICAgIHN5cy5z
dGRvdXQuZmx1c2goKQogICAgICAgIGlmIE9QVElPTlMud2lwZToKICAgICAgICAgICAgc2h1dGls
LnJtdHJlZShPUFRJT05TLnNhbHRkaXIpCiAgICBlbGlmIE9QVElPTlMud2lwZToKICAgICAgICBz
dWJwcm9jZXNzLmNhbGwoc2FsdF9hcmd2KQogICAgICAgIHNodXRpbC5ybXRyZWUoT1BUSU9OUy5z
YWx0ZGlyKQogICAgZWxzZToKICAgICAgICBvcy5leGVjdihzeXMuZXhlY3V0YWJsZSwgc2FsdF9h
cmd2KQogICAgaWYgT1BUSU9OUy5jbWRfdW1hc2sgaXMgbm90IE5vbmU6CiAgICAgICAgb3MudW1h
c2sob2xkX3VtYXNrKQoKaWYgX19uYW1lX18gPT0gJ19fbWFpbl9fJzoKICAgIHN5cy5leGl0KG1h
aW4oc3lzLmFyZ3YpKQo=
""").decode("utf-8"))'
else
exec $SUDO "$py_cmd_path" -c \
'import base64;
exec(base64.b64decode("""IyBweWxpbnQ6IGRpc2FibGU9Vzk5MDMKJycnClRoaXMgaXMgYSBzaGltIHRoYXQgaGFuZGxlcyBj
aGVja2luZyBhbmQgdXBkYXRpbmcgc2FsdCB0aGluIGFuZAp0aGVuIGludm9raW5nIHRoaW4uCgpU
aGlzIGlzIG5vdCBpbnRlbmRlZCB0byBiZSBpbnN0YW50aWF0ZWQgYXMgYSBtb2R1bGUsIHJhdGhl
ciBpdCBpcyBhCmhlbHBlciBzY3JpcHQgdXNlZCBieSBzYWx0LmNsaWVudC5zc2guU2luZ2xlLiAg
SXQgaXMgaGVyZSwgaW4gYQpzZXBhcmF0ZSBmaWxlLCBmb3IgY29udmVuaWVuY2Ugb2YgZGV2ZWxv
cG1lbnQuCicnJwoKZnJvbSBfX2Z1dHVyZV9fIGltcG9ydCBhYnNvbHV0ZV9pbXBvcnQKCmltcG9y
dCBoYXNobGliCmltcG9ydCB0YXJmaWxlCmltcG9ydCBzaHV0aWwKaW1wb3J0IHN5cwppbXBvcnQg
b3MKaW1wb3J0IHN0YXQKaW1wb3J0IHN1YnByb2Nlc3MKClRISU5fQVJDSElWRSA9ICdzYWx0LXRo
aW4udGd6JwpFWFRfQVJDSElWRSA9ICdzYWx0LWV4dF9tb2RzLnRneicKCiMgS2VlcCB0aGVzZSBp
biBzeW5jIHdpdGggc2FsdC9kZWZhdWx0cy9leGl0Y29kZXMucHkKRVhfVEhJTl9ERVBMT1kgPSAx
MQpFWF9USElOX0NIRUNLU1VNID0gMTIKRVhfTU9EX0RFUExPWSA9IDEzCkVYX1NDUF9OT1RfRk9V
TkQgPSAxNApFWF9DQU5UQ1JFQVQgPSA3MwoKCmNsYXNzIE9CSihvYmplY3QpOgogICAgIiIiQW4g
ZW1wdHkgY2xhc3MgZm9yIGhvbGRpbmcgaW5zdGFuY2UgYXR0cmlidXRlIHZhbHVlcy4iIiIKICAg
IHBhc3MKCgpPUFRJT05TID0gTm9uZQpBUkdTID0gTm9uZQojIFRoZSBiZWxvdyBsaW5lIGlzIHdo
ZXJlIE9QVElPTlMgY2FuIGJlIHJlZGVmaW5lZCB3aXRoIGludGVybmFsIG9wdGlvbnMKIyAocmF0
aGVyIHRoYW4gY2xpIGFyZ3VtZW50cykgd2hlbiB0aGUgc2hpbSBpcyBidW5kbGVkIGJ5CiMgY2xp
ZW50LnNzaC5TaW5nbGUuX2NtZF9zdHIoKQojIHB5bGludDogZGlzYWJsZT1ibG9jay1jb21tZW50
LXNob3VsZC1zdGFydC13aXRoLWNhcmRpbmFsLXNwYWNlCgpPUFRJT05TID0gT0JKKCkKT1BUSU9O
Uy5jb25maWcgPSAiIiIKe2ZpbGVzZXJ2ZXJfbGlzdF9jYWNoZV90aW1lOiAzLCBncmFpbnNfY2Fj
aGU6IHRydWUsIGlkOiBtdW5pbiwgbG9nX2ZpbGU6IHNhbHQtY2FsbC5sb2csCiAgcm9vdF9kaXI6
IC92YXIvdG1wLy5zYWx0LW9wZV8xYTM1MzJfc2FsdC9ydW5uaW5nX2RhdGEsIHNvY2tfZGlyOiAv
fQoiIiIKT1BUSU9OUy5kZWxpbWl0ZXIgPSAnX2VkYmM3ODg1ZTRmOWFhYzliODNiMzU5OTliNjhk
MDE1MTQ4Y2FmNDY3Yjc4ZmEzOWMwNWY2NjljMGZmODk4NzgnCk9QVElPTlMuc2FsdGRpciA9ICcv
dmFyL3RtcC8uc2FsdC1vcGVfMWEzNTMyX3NhbHQnCk9QVElPTlMuY2hlY2tzdW0gPSAnOTg1MjZk
OTliMWU3YjA3OWRjZWZjZWM5ZmE1Yjg1MWZmYmY5ODEzZCcKT1BUSU9OUy5oYXNoZnVuYyA9ICdz
aGExJwpPUFRJT05TLnZlcnNpb24gPSAnMjAxNi4zLjInCk9QVElPTlMuZXh0X21vZHMgPSAnNzQx
OTZlMDExNDUyMWUyYWRjNjlkNjgxY2U2YTQ1NjNiYTBhZTFlYicKT1BUSU9OUy53aXBlID0gRmFs
c2UKT1BUSU9OUy50dHkgPSBGYWxzZQpPUFRJT05TLmNtZF91bWFzayA9IE5vbmUKQVJHUyA9IFsn
bmV0d29yay5nZXRfaG9zdG5hbWUnXQoKCgpkZWYgbmVlZF9kZXBsb3ltZW50KCk6CiAgICAiIiIK
ICAgIFNhbHQgdGhpbiBuZWVkcyB0byBiZSBkZXBsb3llZCAtIHByZXAgdGhlIHRhcmdldCBkaXJl
Y3RvcnkgYW5kIGVtaXQgdGhlCiAgICBkZWxpbWV0ZXIgYW5kIGV4aXQgY29kZSB0aGF0IHNpZ25h
bHMgYSByZXF1aXJlZCBkZXBsb3ltZW50LgogICAgIiIiCiAgICBpZiBvcy5wYXRoLmV4aXN0cyhP
UFRJT05TLnNhbHRkaXIpOgogICAgICAgIHNodXRpbC5ybXRyZWUoT1BUSU9OUy5zYWx0ZGlyKQog
ICAgb2xkX3VtYXNrID0gb3MudW1hc2soMG8wNzcpCiAgICBvcy5tYWtlZGlycyhPUFRJT05TLnNh
bHRkaXIpCiAgICBvcy51bWFzayhvbGRfdW1hc2spCiAgICAjIFZlcmlmeSBwZXJtcyBvbiBzYWx0
ZGlyCiAgICBldWlkID0gb3MuZ2V0ZXVpZCgpCiAgICBkc3RhdCA9IG9zLnN0YXQoT1BUSU9OUy5z
YWx0ZGlyKQogICAgaWYgZHN0YXQuc3RfdWlkICE9IGV1aWQ6CiAgICAgICAgIyBBdHRhY2sgZGV0
ZWN0ZWQsIHRyeSBhZ2FpbgogICAgICAgIG5lZWRfZGVwbG95bWVudCgpCiAgICBpZiBkc3RhdC5z
dF9tb2RlICE9IDE2ODMyOgogICAgICAgICMgQXR0YWNrIGRldGVjdGVkCiAgICAgICAgbmVlZF9k
ZXBsb3ltZW50KCkKICAgICMgSWYgU1VET2luZyB0aGVuIGFsc28gZ2l2ZSB0aGUgc3VwZXIgdXNl
ciBncm91cCB3cml0ZSBwZXJtaXNzaW9ucwogICAgc3Vkb19naWQgPSBvcy5lbnZpcm9uLmdldCgn
U1VET19HSUQnKQogICAgaWYgc3Vkb19naWQ6CiAgICAgICAgb3MuY2hvd24oT1BUSU9OUy5zYWx0
ZGlyLCAtMSwgaW50KHN1ZG9fZ2lkKSkKICAgICAgICBzdHQgPSBvcy5zdGF0KE9QVElPTlMuc2Fs
dGRpcikKICAgICAgICBvcy5jaG1vZChPUFRJT05TLnNhbHRkaXIsIHN0dC5zdF9tb2RlIHwgc3Rh
dC5TX0lXR1JQIHwgc3RhdC5TX0lSR1JQIHwgc3RhdC5TX0lYR1JQKQoKICAgICMgRGVsaW1pdGVy
IGVtaXR0ZWQgb24gc3Rkb3V0ICpvbmx5KiB0byBpbmRpY2F0ZSBzaGltIG1lc3NhZ2UgdG8gbWFz
dGVyLgogICAgc3lzLnN0ZG91dC53cml0ZSgiezB9XG5kZXBsb3lcbiIuZm9ybWF0KE9QVElPTlMu
ZGVsaW1pdGVyKSkKICAgIHN5cy5leGl0KEVYX1RISU5fREVQTE9ZKQoKCiMgQWRhcHRlZCBmcm9t
IHNhbHQudXRpbHMuZ2V0X2hhc2goKQpkZWYgZ2V0X2hhc2gocGF0aCwgZm9ybT0nc2hhMScsIGNo
dW5rX3NpemU9NDA5Nik6CiAgICAiIiJHZW5lcmF0ZSBhIGhhc2ggZGlnZXN0IHN0cmluZyBmb3Ig
YSBmaWxlLiIiIgogICAgdHJ5OgogICAgICAgIGhhc2hfdHlwZSA9IGdldGF0dHIoaGFzaGxpYiwg
Zm9ybSkKICAgIGV4Y2VwdCBBdHRyaWJ1dGVFcnJvcjoKICAgICAgICByYWlzZSBWYWx1ZUVycm9y
KCdJbnZhbGlkIGhhc2ggdHlwZTogezB9Jy5mb3JtYXQoZm9ybSkpCiAgICB3aXRoIG9wZW4ocGF0
aCwgJ3JiJykgYXMgaWZpbGU6CiAgICAgICAgaGFzaF9vYmogPSBoYXNoX3R5cGUoKQogICAgICAg
ICMgcmVhZCB0aGUgZmlsZSBpbiBpbiBjaHVua3MsIG5vdCB0aGUgZW50aXJlIGZpbGUKICAgICAg
ICBmb3IgY2h1bmsgaW4gaXRlcihsYW1iZGE6IGlmaWxlLnJlYWQoY2h1bmtfc2l6ZSksIGInJyk6
CiAgICAgICAgICAgIGhhc2hfb2JqLnVwZGF0ZShjaHVuaykKICAgICAgICByZXR1cm4gaGFzaF9v
YmouaGV4ZGlnZXN0KCkKCgpkZWYgdW5wYWNrX3RoaW4odGhpbl9wYXRoKToKICAgICIiIlVucGFj
ayB0aGUgU2FsdCB0aGluIGFyY2hpdmUuIiIiCiAgICB0ZmlsZSA9IHRhcmZpbGUuVGFyRmlsZS5n
em9wZW4odGhpbl9wYXRoKQogICAgb2xkX3VtYXNrID0gb3MudW1hc2soMG8wNzcpCiAgICB0Zmls
ZS5leHRyYWN0YWxsKHBhdGg9T1BUSU9OUy5zYWx0ZGlyKQogICAgdGZpbGUuY2xvc2UoKQogICAg
b3MudW1hc2sob2xkX3VtYXNrKQogICAgb3MudW5saW5rKHRoaW5fcGF0aCkKCgpkZWYgbmVlZF9l
eHQoKToKICAgICIiIlNpZ25hbCB0aGF0IGV4dGVybmFsIG1vZHVsZXMgbmVlZCB0byBiZSBkZXBs
b3llZC4iIiIKICAgIHN5cy5zdGRvdXQud3JpdGUoInswfVxuZXh0X21vZHNcbiIuZm9ybWF0KE9Q
VElPTlMuZGVsaW1pdGVyKSkKICAgIHN5cy5leGl0KEVYX01PRF9ERVBMT1kpCgoKZGVmIHVucGFj
a19leHQoZXh0X3BhdGgpOgogICAgIiIiVW5wYWNrIHRoZSBleHRlcm5hbCBtb2R1bGVzLiIiIgog
ICAgbW9kY2FjaGUgPSBvcy5wYXRoLmpvaW4oCiAgICAgICAgICAgIE9QVElPTlMuc2FsdGRpciwK
ICAgICAgICAgICAgJ3J1bm5pbmdfZGF0YScsCiAgICAgICAgICAgICd2YXInLAogICAgICAgICAg
ICAnY2FjaGUnLAogICAgICAgICAgICAnc2FsdCcsCiAgICAgICAgICAgICdtaW5pb24nLAogICAg
ICAgICAgICAnZXh0bW9kcycpCiAgICB0ZmlsZSA9IHRhcmZpbGUuVGFyRmlsZS5nem9wZW4oZXh0
X3BhdGgpCiAgICBvbGRfdW1hc2sgPSBvcy51bWFzaygwbzA3NykKICAgIHRmaWxlLmV4dHJhY3Rh
bGwocGF0aD1tb2RjYWNoZSkKICAgIHRmaWxlLmNsb3NlKCkKICAgIG9zLnVtYXNrKG9sZF91bWFz
aykKICAgIG9zLnVubGluayhleHRfcGF0aCkKICAgIHZlcl9wYXRoID0gb3MucGF0aC5qb2luKG1v
ZGNhY2hlLCAnZXh0X3ZlcnNpb24nKQogICAgdmVyX2RzdCA9IG9zLnBhdGguam9pbihPUFRJT05T
LnNhbHRkaXIsICdleHRfdmVyc2lvbicpCiAgICBzaHV0aWwubW92ZSh2ZXJfcGF0aCwgdmVyX2Rz
dCkKCgpkZWYgbWFpbihhcmd2KTogICMgcHlsaW50OiBkaXNhYmxlPVcwNjEzCiAgICAiIiJNYWlu
IHByb2dyYW0gYm9keSIiIgogICAgdGhpbl9wYXRoID0gb3MucGF0aC5qb2luKE9QVElPTlMuc2Fs
dGRpciwgVEhJTl9BUkNISVZFKQogICAgaWYgb3MucGF0aC5pc2ZpbGUodGhpbl9wYXRoKToKICAg
ICAgICBpZiBPUFRJT05TLmNoZWNrc3VtICE9IGdldF9oYXNoKHRoaW5fcGF0aCwgT1BUSU9OUy5o
YXNoZnVuYyk6CiAgICAgICAgICAgIHN5cy5zdGRlcnIud3JpdGUoJ3swfVxuJy5mb3JtYXQoT1BU
SU9OUy5jaGVja3N1bSkpCiAgICAgICAgICAgIHN5cy5zdGRlcnIud3JpdGUoJ3swfVxuJy5mb3Jt
YXQoZ2V0X2hhc2godGhpbl9wYXRoLCBPUFRJT05TLmhhc2hmdW5jKSkpCiAgICAgICAgICAgIG9z
LnVubGluayh0aGluX3BhdGgpCiAgICAgICAgICAgIHN5cy5zdGRlcnIud3JpdGUoJ1dBUk5JTkc6
IGNoZWNrc3VtIG1pc21hdGNoIGZvciAiezB9IlxuJy5mb3JtYXQodGhpbl9wYXRoKSkKICAgICAg
ICAgICAgc3lzLmV4aXQoRVhfVEhJTl9DSEVDS1NVTSkKICAgICAgICB1bnBhY2tfdGhpbih0aGlu
X3BhdGgpCiAgICAgICAgIyBTYWx0IHRoaW4gbm93IGlzIGF2YWlsYWJsZSB0byB1c2UKICAgIGVs
c2U6CiAgICAgICAgc2Nwc3RhdCA9IHN1YnByb2Nlc3MuUG9wZW4oWycvYmluL3NoJywgJy1jJywg
J2NvbW1hbmQgLXYgc2NwJ10pLndhaXQoKQogICAgICAgIGlmIHNjcHN0YXQgIT0gMDoKICAgICAg
ICAgICAgc3lzLmV4aXQoRVhfU0NQX05PVF9GT1VORCkKCiAgICAgICAgaWYgbm90IG9zLnBhdGgu
ZXhpc3RzKE9QVElPTlMuc2FsdGRpcik6CiAgICAgICAgICAgIG5lZWRfZGVwbG95bWVudCgpCgog
ICAgICAgIGlmIG5vdCBvcy5wYXRoLmlzZGlyKE9QVElPTlMuc2FsdGRpcik6CiAgICAgICAgICAg
IHN5cy5zdGRlcnIud3JpdGUoCiAgICAgICAgICAgICAgICAnRVJST1I6IHNhbHQgcGF0aCAiezB9
IiBleGlzdHMgYnV0IGlzJwogICAgICAgICAgICAgICAgJyBub3QgYSBkaXJlY3RvcnlcbicuZm9y
bWF0KE9QVElPTlMuc2FsdGRpcikKICAgICAgICAgICAgKQogICAgICAgICAgICBzeXMuZXhpdChF
WF9DQU5UQ1JFQVQpCgogICAgICAgIHZlcnNpb25fcGF0aCA9IG9zLnBhdGguam9pbihPUFRJT05T
LnNhbHRkaXIsICd2ZXJzaW9uJykKICAgICAgICBpZiBub3Qgb3MucGF0aC5leGlzdHModmVyc2lv
bl9wYXRoKSBvciBub3Qgb3MucGF0aC5pc2ZpbGUodmVyc2lvbl9wYXRoKToKICAgICAgICAgICAg
c3lzLnN0ZGVyci53cml0ZSgKICAgICAgICAgICAgICAgICdXQVJOSU5HOiBVbmFibGUgdG8gbG9j
YXRlIGN1cnJlbnQgdGhpbiAnCiAgICAgICAgICAgICAgICAnIHZlcnNpb246IHswfS5cbicuZm9y
bWF0KHZlcnNpb25fcGF0aCkKICAgICAgICAgICAgKQogICAgICAgICAgICBuZWVkX2RlcGxveW1l
bnQoKQogICAgICAgIHdpdGggb3Blbih2ZXJzaW9uX3BhdGgsICdyJykgYXMgdnBvOgogICAgICAg
ICAgICBjdXJfdmVyc2lvbiA9IHZwby5yZWFkbGluZSgpLnN0cmlwKCkKICAgICAgICBpZiBjdXJf
dmVyc2lvbiAhPSBPUFRJT05TLnZlcnNpb246CiAgICAgICAgICAgIHN5cy5zdGRlcnIud3JpdGUo
CiAgICAgICAgICAgICAgICAnV0FSTklORzogY3VycmVudCB0aGluIHZlcnNpb24gezB9JwogICAg
ICAgICAgICAgICAgJyBpcyBub3QgdXAtdG8tZGF0ZSB3aXRoIHsxfS5cbicuZm9ybWF0KAogICAg
ICAgICAgICAgICAgICAgIGN1cl92ZXJzaW9uLCBPUFRJT05TLnZlcnNpb24KICAgICAgICAgICAg
ICAgICkKICAgICAgICAgICAgKQogICAgICAgICAgICBuZWVkX2RlcGxveW1lbnQoKQogICAgICAg
ICMgU2FsdCB0aGluIGV4aXN0cyBhbmQgaXMgdXAtdG8tZGF0ZSAtIGZhbGwgdGhyb3VnaCBhbmQg
dXNlIGl0CgogICAgc2FsdF9jYWxsX3BhdGggPSBvcy5wYXRoLmpvaW4oT1BUSU9OUy5zYWx0ZGly
LCAnc2FsdC1jYWxsJykKICAgIGlmIG5vdCBvcy5wYXRoLmlzZmlsZShzYWx0X2NhbGxfcGF0aCk6
CiAgICAgICAgc3lzLnN0ZGVyci53cml0ZSgnRVJST1I6IHRoaW4gaXMgbWlzc2luZyAiezB9Ilxu
Jy5mb3JtYXQoc2FsdF9jYWxsX3BhdGgpKQogICAgICAgIG5lZWRfZGVwbG95bWVudCgpCgogICAg
d2l0aCBvcGVuKG9zLnBhdGguam9pbihPUFRJT05TLnNhbHRkaXIsICdtaW5pb24nKSwgJ3cnKSBh
cyBjb25maWc6CiAgICAgICAgY29uZmlnLndyaXRlKE9QVElPTlMuY29uZmlnICsgJ1xuJykKICAg
IGlmIE9QVElPTlMuZXh0X21vZHM6CiAgICAgICAgZXh0X3BhdGggPSBvcy5wYXRoLmpvaW4oT1BU
SU9OUy5zYWx0ZGlyLCBFWFRfQVJDSElWRSkKICAgICAgICBpZiBvcy5wYXRoLmV4aXN0cyhleHRf
cGF0aCk6CiAgICAgICAgICAgIHVucGFja19leHQoZXh0X3BhdGgpCiAgICAgICAgZWxzZToKICAg
ICAgICAgICAgdmVyc2lvbl9wYXRoID0gb3MucGF0aC5qb2luKE9QVElPTlMuc2FsdGRpciwgJ2V4
dF92ZXJzaW9uJykKICAgICAgICAgICAgaWYgbm90IG9zLnBhdGguZXhpc3RzKHZlcnNpb25fcGF0
aCkgb3Igbm90IG9zLnBhdGguaXNmaWxlKHZlcnNpb25fcGF0aCk6CiAgICAgICAgICAgICAgICBu
ZWVkX2V4dCgpCiAgICAgICAgICAgIHdpdGggb3Blbih2ZXJzaW9uX3BhdGgsICdyJykgYXMgdnBv
OgogICAgICAgICAgICAgICAgY3VyX3ZlcnNpb24gPSB2cG8ucmVhZGxpbmUoKS5zdHJpcCgpCiAg
ICAgICAgICAgIGlmIGN1cl92ZXJzaW9uICE9IE9QVElPTlMuZXh0X21vZHM6CiAgICAgICAgICAg
ICAgICBuZWVkX2V4dCgpCiAgICAjIEZpeCBwYXJhbWV0ZXIgcGFzc2luZyBpc3N1ZQogICAgaWYg
bGVuKEFSR1MpID09IDE6CiAgICAgICAgYXJndl9wcmVwYXJlZCA9IEFSR1NbMF0uc3BsaXQoKQog
ICAgZWxzZToKICAgICAgICBhcmd2X3ByZXBhcmVkID0gQVJHUwoKICAgIHNhbHRfYXJndiA9IFsK
ICAgICAgICBzeXMuZXhlY3V0YWJsZSwKICAgICAgICBzYWx0X2NhbGxfcGF0aCwKICAgICAgICAn
LS1yZXRjb2RlLXBhc3N0aHJvdWdoJywKICAgICAgICAnLS1sb2NhbCcsCiAgICAgICAgJy0tbWV0
YWRhdGEnLAogICAgICAgICctLW91dCcsICdqc29uJywKICAgICAgICAnLWwnLCAncXVpZXQnLAog
ICAgICAgICctYycsIE9QVElPTlMuc2FsdGRpciwKICAgICAgICAnLS0nLAogICAgXSArIGFyZ3Zf
cHJlcGFyZWQKCiAgICBzeXMuc3RkZXJyLndyaXRlKCdTQUxUX0FSR1Y6IHswfVxuJy5mb3JtYXQo
c2FsdF9hcmd2KSkKCiAgICAjIE9ubHkgZW1pdCB0aGUgZGVsaW1pdGVyIG9uICpib3RoKiBzdGRv
dXQgYW5kIHN0ZGVyciB3aGVuIGNvbXBsZXRlbHkgc3VjY2Vzc2Z1bC4KICAgICMgWWVzLCB0aGUg
Zmx1c2goKSBpcyBuZWNlc3NhcnkuCiAgICBzeXMuc3Rkb3V0LndyaXRlKE9QVElPTlMuZGVsaW1p
dGVyICsgJ1xuJykKICAgIHN5cy5zdGRvdXQuZmx1c2goKQogICAgaWYgbm90IE9QVElPTlMudHR5
OgogICAgICAgIHN5cy5zdGRlcnIud3JpdGUoT1BUSU9OUy5kZWxpbWl0ZXIgKyAnXG4nKQogICAg
ICAgIHN5cy5zdGRlcnIuZmx1c2goKQogICAgaWYgT1BUSU9OUy5jbWRfdW1hc2sgaXMgbm90IE5v
bmU6CiAgICAgICAgb2xkX3VtYXNrID0gb3MudW1hc2soT1BUSU9OUy5jbWRfdW1hc2spCiAgICBp
ZiBPUFRJT05TLnR0eToKICAgICAgICBzdGRvdXQsIF8gPSBzdWJwcm9jZXNzLlBvcGVuKHNhbHRf
YXJndiwgc3Rkb3V0PXN1YnByb2Nlc3MuUElQRSwgc3RkZXJyPXN1YnByb2Nlc3MuUElQRSkuY29t
bXVuaWNhdGUoKQogICAgICAgIHN5cy5zdGRvdXQud3JpdGUoc3Rkb3V0KQogICAgICAgIHN5cy5z
dGRvdXQuZmx1c2goKQogICAgICAgIGlmIE9QVElPTlMud2lwZToKICAgICAgICAgICAgc2h1dGls
LnJtdHJlZShPUFRJT05TLnNhbHRkaXIpCiAgICBlbGlmIE9QVElPTlMud2lwZToKICAgICAgICBz
dWJwcm9jZXNzLmNhbGwoc2FsdF9hcmd2KQogICAgICAgIHNodXRpbC5ybXRyZWUoT1BUSU9OUy5z
YWx0ZGlyKQogICAgZWxzZToKICAgICAgICBvcy5leGVjdihzeXMuZXhlY3V0YWJsZSwgc2FsdF9h
cmd2KQogICAgaWYgT1BUSU9OUy5jbWRfdW1hc2sgaXMgbm90IE5vbmU6CiAgICAgICAgb3MudW1h
c2sob2xkX3VtYXNrKQoKaWYgX19uYW1lX18gPT0gJ19fbWFpbl9fJzoKICAgIHN5cy5leGl0KG1h
aW4oc3lzLmFyZ3YpKQo=
""").decode("utf-8"))'
fi
exit 0
else
continue
fi
done
echo "ERROR: Unable to locate appropriate python command" >&2
exit $EX_PYTHON_INVALID
EOF
2016-10-20 00:48:00,270 [salt.utils.vt    ][DEBUG   ][2633] Child Forked! PID: 2644  STDOUT_FD: 9  STDERR_FD: 11
2016-10-20 00:48:00,274 [salt.utils.vt    ][DEBUG   ][2633] VT: Salt-SSH SHIM Terminal Command executed. Logged to TRACE
2016-10-20 00:48:00,275 [salt.utils.vt    ][TRACE   ][2633] Terminal Command: /bin/sh -c ssh 192.168.1.15  -o KbdInteractiveAuthentication=no -o PasswordAuthentication=yes -o GSSAPIAuthentication=no -o ConnectTimeout=65 -o Port=22 -o IdentityFile=/root/saltstack_master/etc/salt/pki/master/ssh/salt-ssh.rsa -o User=salt-ope  /bin/sh << 'EOF'
set -e
set -u
DEBUG=""
if [ -n "$DEBUG" ]
then set -x
fi
SUDO=""
if [ -n "sudo" ]
then SUDO="sudo "
fi
EX_PYTHON_INVALID=10
PYTHON_CMDS="python3 python27 python2.7 python26 python2.6 python2 python"
for py_cmd in $PYTHON_CMDS
do
if command -v "$py_cmd" >/dev/null 2>&1 && "$py_cmd" -c \
"import sys; sys.exit(not (sys.version_info >= (2, 6)
and sys.version_info[0] == 2));"
then
py_cmd_path=`"$py_cmd" -c \
'from __future__ import print_function;
import sys; print(sys.executable);'`
cmdpath=$(which $py_cmd 2>&1)
if file $cmdpath | grep "shell script" > /dev/null
then
ex_vars="'PATH', 'LD_LIBRARY_PATH', 'MANPATH', \
'XDG_DATA_DIRS', 'PKG_CONFIG_PATH'"
export $($py_cmd -c \
"from __future__ import print_function;
import sys;
import os;
map(sys.stdout.write, ['{0}={1} ' \
.format(x, os.environ[x]) for x in [$ex_vars]])")
exec $SUDO PATH=$PATH LD_LIBRARY_PATH=$LD_LIBRARY_PATH \
MANPATH=$MANPATH XDG_DATA_DIRS=$XDG_DATA_DIRS \
PKG_CONFIG_PATH=$PKG_CONFIG_PATH \
"$py_cmd_path" -c \
'import base64;
exec(base64.b64decode("""IyBweWxpbnQ6IGRpc2FibGU9Vzk5MDMKJycnClRoaXMgaXMgYSBzaGltIHRoYXQgaGFuZGxlcyBj
aGVja2luZyBhbmQgdXBkYXRpbmcgc2FsdCB0aGluIGFuZAp0aGVuIGludm9raW5nIHRoaW4uCgpU
aGlzIGlzIG5vdCBpbnRlbmRlZCB0byBiZSBpbnN0YW50aWF0ZWQgYXMgYSBtb2R1bGUsIHJhdGhl
ciBpdCBpcyBhCmhlbHBlciBzY3JpcHQgdXNlZCBieSBzYWx0LmNsaWVudC5zc2guU2luZ2xlLiAg
SXQgaXMgaGVyZSwgaW4gYQpzZXBhcmF0ZSBmaWxlLCBmb3IgY29udmVuaWVuY2Ugb2YgZGV2ZWxv
cG1lbnQuCicnJwoKZnJvbSBfX2Z1dHVyZV9fIGltcG9ydCBhYnNvbHV0ZV9pbXBvcnQKCmltcG9y
dCBoYXNobGliCmltcG9ydCB0YXJmaWxlCmltcG9ydCBzaHV0aWwKaW1wb3J0IHN5cwppbXBvcnQg
b3MKaW1wb3J0IHN0YXQKaW1wb3J0IHN1YnByb2Nlc3MKClRISU5fQVJDSElWRSA9ICdzYWx0LXRo
aW4udGd6JwpFWFRfQVJDSElWRSA9ICdzYWx0LWV4dF9tb2RzLnRneicKCiMgS2VlcCB0aGVzZSBp
biBzeW5jIHdpdGggc2FsdC9kZWZhdWx0cy9leGl0Y29kZXMucHkKRVhfVEhJTl9ERVBMT1kgPSAx
MQpFWF9USElOX0NIRUNLU1VNID0gMTIKRVhfTU9EX0RFUExPWSA9IDEzCkVYX1NDUF9OT1RfRk9V
TkQgPSAxNApFWF9DQU5UQ1JFQVQgPSA3MwoKCmNsYXNzIE9CSihvYmplY3QpOgogICAgIiIiQW4g
ZW1wdHkgY2xhc3MgZm9yIGhvbGRpbmcgaW5zdGFuY2UgYXR0cmlidXRlIHZhbHVlcy4iIiIKICAg
IHBhc3MKCgpPUFRJT05TID0gTm9uZQpBUkdTID0gTm9uZQojIFRoZSBiZWxvdyBsaW5lIGlzIHdo
ZXJlIE9QVElPTlMgY2FuIGJlIHJlZGVmaW5lZCB3aXRoIGludGVybmFsIG9wdGlvbnMKIyAocmF0
aGVyIHRoYW4gY2xpIGFyZ3VtZW50cykgd2hlbiB0aGUgc2hpbSBpcyBidW5kbGVkIGJ5CiMgY2xp
ZW50LnNzaC5TaW5nbGUuX2NtZF9zdHIoKQojIHB5bGludDogZGlzYWJsZT1ibG9jay1jb21tZW50
LXNob3VsZC1zdGFydC13aXRoLWNhcmRpbmFsLXNwYWNlCgpPUFRJT05TID0gT0JKKCkKT1BUSU9O
Uy5jb25maWcgPSAiIiIKe2ZpbGVzZXJ2ZXJfbGlzdF9jYWNoZV90aW1lOiAzLCBncmFpbnNfY2Fj
aGU6IHRydWUsIGlkOiBtdW5pbiwgbG9nX2ZpbGU6IHNhbHQtY2FsbC5sb2csCiAgcm9vdF9kaXI6
IC92YXIvdG1wLy5zYWx0LW9wZV8xYTM1MzJfc2FsdC9ydW5uaW5nX2RhdGEsIHNvY2tfZGlyOiAv
fQoiIiIKT1BUSU9OUy5kZWxpbWl0ZXIgPSAnX2VkYmM3ODg1ZTRmOWFhYzliODNiMzU5OTliNjhk
MDE1MTQ4Y2FmNDY3Yjc4ZmEzOWMwNWY2NjljMGZmODk4NzgnCk9QVElPTlMuc2FsdGRpciA9ICcv
dmFyL3RtcC8uc2FsdC1vcGVfMWEzNTMyX3NhbHQnCk9QVElPTlMuY2hlY2tzdW0gPSAnOTg1MjZk
OTliMWU3YjA3OWRjZWZjZWM5ZmE1Yjg1MWZmYmY5ODEzZCcKT1BUSU9OUy5oYXNoZnVuYyA9ICdz
aGExJwpPUFRJT05TLnZlcnNpb24gPSAnMjAxNi4zLjInCk9QVElPTlMuZXh0X21vZHMgPSAnNzQx
OTZlMDExNDUyMWUyYWRjNjlkNjgxY2U2YTQ1NjNiYTBhZTFlYicKT1BUSU9OUy53aXBlID0gRmFs
c2UKT1BUSU9OUy50dHkgPSBGYWxzZQpPUFRJT05TLmNtZF91bWFzayA9IE5vbmUKQVJHUyA9IFsn
bmV0d29yay5nZXRfaG9zdG5hbWUnXQoKCgpkZWYgbmVlZF9kZXBsb3ltZW50KCk6CiAgICAiIiIK
ICAgIFNhbHQgdGhpbiBuZWVkcyB0byBiZSBkZXBsb3llZCAtIHByZXAgdGhlIHRhcmdldCBkaXJl
Y3RvcnkgYW5kIGVtaXQgdGhlCiAgICBkZWxpbWV0ZXIgYW5kIGV4aXQgY29kZSB0aGF0IHNpZ25h
bHMgYSByZXF1aXJlZCBkZXBsb3ltZW50LgogICAgIiIiCiAgICBpZiBvcy5wYXRoLmV4aXN0cyhP
UFRJT05TLnNhbHRkaXIpOgogICAgICAgIHNodXRpbC5ybXRyZWUoT1BUSU9OUy5zYWx0ZGlyKQog
ICAgb2xkX3VtYXNrID0gb3MudW1hc2soMG8wNzcpCiAgICBvcy5tYWtlZGlycyhPUFRJT05TLnNh
bHRkaXIpCiAgICBvcy51bWFzayhvbGRfdW1hc2spCiAgICAjIFZlcmlmeSBwZXJtcyBvbiBzYWx0
ZGlyCiAgICBldWlkID0gb3MuZ2V0ZXVpZCgpCiAgICBkc3RhdCA9IG9zLnN0YXQoT1BUSU9OUy5z
YWx0ZGlyKQogICAgaWYgZHN0YXQuc3RfdWlkICE9IGV1aWQ6CiAgICAgICAgIyBBdHRhY2sgZGV0
ZWN0ZWQsIHRyeSBhZ2FpbgogICAgICAgIG5lZWRfZGVwbG95bWVudCgpCiAgICBpZiBkc3RhdC5z
dF9tb2RlICE9IDE2ODMyOgogICAgICAgICMgQXR0YWNrIGRldGVjdGVkCiAgICAgICAgbmVlZF9k
ZXBsb3ltZW50KCkKICAgICMgSWYgU1VET2luZyB0aGVuIGFsc28gZ2l2ZSB0aGUgc3VwZXIgdXNl
ciBncm91cCB3cml0ZSBwZXJtaXNzaW9ucwogICAgc3Vkb19naWQgPSBvcy5lbnZpcm9uLmdldCgn
U1VET19HSUQnKQogICAgaWYgc3Vkb19naWQ6CiAgICAgICAgb3MuY2hvd24oT1BUSU9OUy5zYWx0
ZGlyLCAtMSwgaW50KHN1ZG9fZ2lkKSkKICAgICAgICBzdHQgPSBvcy5zdGF0KE9QVElPTlMuc2Fs
dGRpcikKICAgICAgICBvcy5jaG1vZChPUFRJT05TLnNhbHRkaXIsIHN0dC5zdF9tb2RlIHwgc3Rh
dC5TX0lXR1JQIHwgc3RhdC5TX0lSR1JQIHwgc3RhdC5TX0lYR1JQKQoKICAgICMgRGVsaW1pdGVy
IGVtaXR0ZWQgb24gc3Rkb3V0ICpvbmx5KiB0byBpbmRpY2F0ZSBzaGltIG1lc3NhZ2UgdG8gbWFz
dGVyLgogICAgc3lzLnN0ZG91dC53cml0ZSgiezB9XG5kZXBsb3lcbiIuZm9ybWF0KE9QVElPTlMu
ZGVsaW1pdGVyKSkKICAgIHN5cy5leGl0KEVYX1RISU5fREVQTE9ZKQoKCiMgQWRhcHRlZCBmcm9t
IHNhbHQudXRpbHMuZ2V0X2hhc2goKQpkZWYgZ2V0X2hhc2gocGF0aCwgZm9ybT0nc2hhMScsIGNo
dW5rX3NpemU9NDA5Nik6CiAgICAiIiJHZW5lcmF0ZSBhIGhhc2ggZGlnZXN0IHN0cmluZyBmb3Ig
YSBmaWxlLiIiIgogICAgdHJ5OgogICAgICAgIGhhc2hfdHlwZSA9IGdldGF0dHIoaGFzaGxpYiwg
Zm9ybSkKICAgIGV4Y2VwdCBBdHRyaWJ1dGVFcnJvcjoKICAgICAgICByYWlzZSBWYWx1ZUVycm9y
KCdJbnZhbGlkIGhhc2ggdHlwZTogezB9Jy5mb3JtYXQoZm9ybSkpCiAgICB3aXRoIG9wZW4ocGF0
aCwgJ3JiJykgYXMgaWZpbGU6CiAgICAgICAgaGFzaF9vYmogPSBoYXNoX3R5cGUoKQogICAgICAg
ICMgcmVhZCB0aGUgZmlsZSBpbiBpbiBjaHVua3MsIG5vdCB0aGUgZW50aXJlIGZpbGUKICAgICAg
ICBmb3IgY2h1bmsgaW4gaXRlcihsYW1iZGE6IGlmaWxlLnJlYWQoY2h1bmtfc2l6ZSksIGInJyk6
CiAgICAgICAgICAgIGhhc2hfb2JqLnVwZGF0ZShjaHVuaykKICAgICAgICByZXR1cm4gaGFzaF9v
YmouaGV4ZGlnZXN0KCkKCgpkZWYgdW5wYWNrX3RoaW4odGhpbl9wYXRoKToKICAgICIiIlVucGFj
ayB0aGUgU2FsdCB0aGluIGFyY2hpdmUuIiIiCiAgICB0ZmlsZSA9IHRhcmZpbGUuVGFyRmlsZS5n
em9wZW4odGhpbl9wYXRoKQogICAgb2xkX3VtYXNrID0gb3MudW1hc2soMG8wNzcpCiAgICB0Zmls
ZS5leHRyYWN0YWxsKHBhdGg9T1BUSU9OUy5zYWx0ZGlyKQogICAgdGZpbGUuY2xvc2UoKQogICAg
b3MudW1hc2sob2xkX3VtYXNrKQogICAgb3MudW5saW5rKHRoaW5fcGF0aCkKCgpkZWYgbmVlZF9l
eHQoKToKICAgICIiIlNpZ25hbCB0aGF0IGV4dGVybmFsIG1vZHVsZXMgbmVlZCB0byBiZSBkZXBs
b3llZC4iIiIKICAgIHN5cy5zdGRvdXQud3JpdGUoInswfVxuZXh0X21vZHNcbiIuZm9ybWF0KE9Q
VElPTlMuZGVsaW1pdGVyKSkKICAgIHN5cy5leGl0KEVYX01PRF9ERVBMT1kpCgoKZGVmIHVucGFj
a19leHQoZXh0X3BhdGgpOgogICAgIiIiVW5wYWNrIHRoZSBleHRlcm5hbCBtb2R1bGVzLiIiIgog
ICAgbW9kY2FjaGUgPSBvcy5wYXRoLmpvaW4oCiAgICAgICAgICAgIE9QVElPTlMuc2FsdGRpciwK
ICAgICAgICAgICAgJ3J1bm5pbmdfZGF0YScsCiAgICAgICAgICAgICd2YXInLAogICAgICAgICAg
ICAnY2FjaGUnLAogICAgICAgICAgICAnc2FsdCcsCiAgICAgICAgICAgICdtaW5pb24nLAogICAg
ICAgICAgICAnZXh0bW9kcycpCiAgICB0ZmlsZSA9IHRhcmZpbGUuVGFyRmlsZS5nem9wZW4oZXh0
X3BhdGgpCiAgICBvbGRfdW1hc2sgPSBvcy51bWFzaygwbzA3NykKICAgIHRmaWxlLmV4dHJhY3Rh
bGwocGF0aD1tb2RjYWNoZSkKICAgIHRmaWxlLmNsb3NlKCkKICAgIG9zLnVtYXNrKG9sZF91bWFz
aykKICAgIG9zLnVubGluayhleHRfcGF0aCkKICAgIHZlcl9wYXRoID0gb3MucGF0aC5qb2luKG1v
ZGNhY2hlLCAnZXh0X3ZlcnNpb24nKQogICAgdmVyX2RzdCA9IG9zLnBhdGguam9pbihPUFRJT05T
LnNhbHRkaXIsICdleHRfdmVyc2lvbicpCiAgICBzaHV0aWwubW92ZSh2ZXJfcGF0aCwgdmVyX2Rz
dCkKCgpkZWYgbWFpbihhcmd2KTogICMgcHlsaW50OiBkaXNhYmxlPVcwNjEzCiAgICAiIiJNYWlu
IHByb2dyYW0gYm9keSIiIgogICAgdGhpbl9wYXRoID0gb3MucGF0aC5qb2luKE9QVElPTlMuc2Fs
dGRpciwgVEhJTl9BUkNISVZFKQogICAgaWYgb3MucGF0aC5pc2ZpbGUodGhpbl9wYXRoKToKICAg
ICAgICBpZiBPUFRJT05TLmNoZWNrc3VtICE9IGdldF9oYXNoKHRoaW5fcGF0aCwgT1BUSU9OUy5o
YXNoZnVuYyk6CiAgICAgICAgICAgIHN5cy5zdGRlcnIud3JpdGUoJ3swfVxuJy5mb3JtYXQoT1BU
SU9OUy5jaGVja3N1bSkpCiAgICAgICAgICAgIHN5cy5zdGRlcnIud3JpdGUoJ3swfVxuJy5mb3Jt
YXQoZ2V0X2hhc2godGhpbl9wYXRoLCBPUFRJT05TLmhhc2hmdW5jKSkpCiAgICAgICAgICAgIG9z
LnVubGluayh0aGluX3BhdGgpCiAgICAgICAgICAgIHN5cy5zdGRlcnIud3JpdGUoJ1dBUk5JTkc6
IGNoZWNrc3VtIG1pc21hdGNoIGZvciAiezB9IlxuJy5mb3JtYXQodGhpbl9wYXRoKSkKICAgICAg
ICAgICAgc3lzLmV4aXQoRVhfVEhJTl9DSEVDS1NVTSkKICAgICAgICB1bnBhY2tfdGhpbih0aGlu
X3BhdGgpCiAgICAgICAgIyBTYWx0IHRoaW4gbm93IGlzIGF2YWlsYWJsZSB0byB1c2UKICAgIGVs
c2U6CiAgICAgICAgc2Nwc3RhdCA9IHN1YnByb2Nlc3MuUG9wZW4oWycvYmluL3NoJywgJy1jJywg
J2NvbW1hbmQgLXYgc2NwJ10pLndhaXQoKQogICAgICAgIGlmIHNjcHN0YXQgIT0gMDoKICAgICAg
ICAgICAgc3lzLmV4aXQoRVhfU0NQX05PVF9GT1VORCkKCiAgICAgICAgaWYgbm90IG9zLnBhdGgu
ZXhpc3RzKE9QVElPTlMuc2FsdGRpcik6CiAgICAgICAgICAgIG5lZWRfZGVwbG95bWVudCgpCgog
ICAgICAgIGlmIG5vdCBvcy5wYXRoLmlzZGlyKE9QVElPTlMuc2FsdGRpcik6CiAgICAgICAgICAg
IHN5cy5zdGRlcnIud3JpdGUoCiAgICAgICAgICAgICAgICAnRVJST1I6IHNhbHQgcGF0aCAiezB9
IiBleGlzdHMgYnV0IGlzJwogICAgICAgICAgICAgICAgJyBub3QgYSBkaXJlY3RvcnlcbicuZm9y
bWF0KE9QVElPTlMuc2FsdGRpcikKICAgICAgICAgICAgKQogICAgICAgICAgICBzeXMuZXhpdChF
WF9DQU5UQ1JFQVQpCgogICAgICAgIHZlcnNpb25fcGF0aCA9IG9zLnBhdGguam9pbihPUFRJT05T
LnNhbHRkaXIsICd2ZXJzaW9uJykKICAgICAgICBpZiBub3Qgb3MucGF0aC5leGlzdHModmVyc2lv
bl9wYXRoKSBvciBub3Qgb3MucGF0aC5pc2ZpbGUodmVyc2lvbl9wYXRoKToKICAgICAgICAgICAg
c3lzLnN0ZGVyci53cml0ZSgKICAgICAgICAgICAgICAgICdXQVJOSU5HOiBVbmFibGUgdG8gbG9j
YXRlIGN1cnJlbnQgdGhpbiAnCiAgICAgICAgICAgICAgICAnIHZlcnNpb246IHswfS5cbicuZm9y
bWF0KHZlcnNpb25fcGF0aCkKICAgICAgICAgICAgKQogICAgICAgICAgICBuZWVkX2RlcGxveW1l
bnQoKQogICAgICAgIHdpdGggb3Blbih2ZXJzaW9uX3BhdGgsICdyJykgYXMgdnBvOgogICAgICAg
ICAgICBjdXJfdmVyc2lvbiA9IHZwby5yZWFkbGluZSgpLnN0cmlwKCkKICAgICAgICBpZiBjdXJf
dmVyc2lvbiAhPSBPUFRJT05TLnZlcnNpb246CiAgICAgICAgICAgIHN5cy5zdGRlcnIud3JpdGUo
CiAgICAgICAgICAgICAgICAnV0FSTklORzogY3VycmVudCB0aGluIHZlcnNpb24gezB9JwogICAg
ICAgICAgICAgICAgJyBpcyBub3QgdXAtdG8tZGF0ZSB3aXRoIHsxfS5cbicuZm9ybWF0KAogICAg
ICAgICAgICAgICAgICAgIGN1cl92ZXJzaW9uLCBPUFRJT05TLnZlcnNpb24KICAgICAgICAgICAg
ICAgICkKICAgICAgICAgICAgKQogICAgICAgICAgICBuZWVkX2RlcGxveW1lbnQoKQogICAgICAg
ICMgU2FsdCB0aGluIGV4aXN0cyBhbmQgaXMgdXAtdG8tZGF0ZSAtIGZhbGwgdGhyb3VnaCBhbmQg
dXNlIGl0CgogICAgc2FsdF9jYWxsX3BhdGggPSBvcy5wYXRoLmpvaW4oT1BUSU9OUy5zYWx0ZGly
LCAnc2FsdC1jYWxsJykKICAgIGlmIG5vdCBvcy5wYXRoLmlzZmlsZShzYWx0X2NhbGxfcGF0aCk6
CiAgICAgICAgc3lzLnN0ZGVyci53cml0ZSgnRVJST1I6IHRoaW4gaXMgbWlzc2luZyAiezB9Ilxu
Jy5mb3JtYXQoc2FsdF9jYWxsX3BhdGgpKQogICAgICAgIG5lZWRfZGVwbG95bWVudCgpCgogICAg
d2l0aCBvcGVuKG9zLnBhdGguam9pbihPUFRJT05TLnNhbHRkaXIsICdtaW5pb24nKSwgJ3cnKSBh
cyBjb25maWc6CiAgICAgICAgY29uZmlnLndyaXRlKE9QVElPTlMuY29uZmlnICsgJ1xuJykKICAg
IGlmIE9QVElPTlMuZXh0X21vZHM6CiAgICAgICAgZXh0X3BhdGggPSBvcy5wYXRoLmpvaW4oT1BU
SU9OUy5zYWx0ZGlyLCBFWFRfQVJDSElWRSkKICAgICAgICBpZiBvcy5wYXRoLmV4aXN0cyhleHRf
cGF0aCk6CiAgICAgICAgICAgIHVucGFja19leHQoZXh0X3BhdGgpCiAgICAgICAgZWxzZToKICAg
ICAgICAgICAgdmVyc2lvbl9wYXRoID0gb3MucGF0aC5qb2luKE9QVElPTlMuc2FsdGRpciwgJ2V4
dF92ZXJzaW9uJykKICAgICAgICAgICAgaWYgbm90IG9zLnBhdGguZXhpc3RzKHZlcnNpb25fcGF0
aCkgb3Igbm90IG9zLnBhdGguaXNmaWxlKHZlcnNpb25fcGF0aCk6CiAgICAgICAgICAgICAgICBu
ZWVkX2V4dCgpCiAgICAgICAgICAgIHdpdGggb3Blbih2ZXJzaW9uX3BhdGgsICdyJykgYXMgdnBv
OgogICAgICAgICAgICAgICAgY3VyX3ZlcnNpb24gPSB2cG8ucmVhZGxpbmUoKS5zdHJpcCgpCiAg
ICAgICAgICAgIGlmIGN1cl92ZXJzaW9uICE9IE9QVElPTlMuZXh0X21vZHM6CiAgICAgICAgICAg
ICAgICBuZWVkX2V4dCgpCiAgICAjIEZpeCBwYXJhbWV0ZXIgcGFzc2luZyBpc3N1ZQogICAgaWYg
bGVuKEFSR1MpID09IDE6CiAgICAgICAgYXJndl9wcmVwYXJlZCA9IEFSR1NbMF0uc3BsaXQoKQog
ICAgZWxzZToKICAgICAgICBhcmd2X3ByZXBhcmVkID0gQVJHUwoKICAgIHNhbHRfYXJndiA9IFsK
ICAgICAgICBzeXMuZXhlY3V0YWJsZSwKICAgICAgICBzYWx0X2NhbGxfcGF0aCwKICAgICAgICAn
LS1yZXRjb2RlLXBhc3N0aHJvdWdoJywKICAgICAgICAnLS1sb2NhbCcsCiAgICAgICAgJy0tbWV0
YWRhdGEnLAogICAgICAgICctLW91dCcsICdqc29uJywKICAgICAgICAnLWwnLCAncXVpZXQnLAog
ICAgICAgICctYycsIE9QVElPTlMuc2FsdGRpciwKICAgICAgICAnLS0nLAogICAgXSArIGFyZ3Zf
cHJlcGFyZWQKCiAgICBzeXMuc3RkZXJyLndyaXRlKCdTQUxUX0FSR1Y6IHswfVxuJy5mb3JtYXQo
c2FsdF9hcmd2KSkKCiAgICAjIE9ubHkgZW1pdCB0aGUgZGVsaW1pdGVyIG9uICpib3RoKiBzdGRv
dXQgYW5kIHN0ZGVyciB3aGVuIGNvbXBsZXRlbHkgc3VjY2Vzc2Z1bC4KICAgICMgWWVzLCB0aGUg
Zmx1c2goKSBpcyBuZWNlc3NhcnkuCiAgICBzeXMuc3Rkb3V0LndyaXRlKE9QVElPTlMuZGVsaW1p
dGVyICsgJ1xuJykKICAgIHN5cy5zdGRvdXQuZmx1c2goKQogICAgaWYgbm90IE9QVElPTlMudHR5
OgogICAgICAgIHN5cy5zdGRlcnIud3JpdGUoT1BUSU9OUy5kZWxpbWl0ZXIgKyAnXG4nKQogICAg
ICAgIHN5cy5zdGRlcnIuZmx1c2goKQogICAgaWYgT1BUSU9OUy5jbWRfdW1hc2sgaXMgbm90IE5v
bmU6CiAgICAgICAgb2xkX3VtYXNrID0gb3MudW1hc2soT1BUSU9OUy5jbWRfdW1hc2spCiAgICBp
ZiBPUFRJT05TLnR0eToKICAgICAgICBzdGRvdXQsIF8gPSBzdWJwcm9jZXNzLlBvcGVuKHNhbHRf
YXJndiwgc3Rkb3V0PXN1YnByb2Nlc3MuUElQRSwgc3RkZXJyPXN1YnByb2Nlc3MuUElQRSkuY29t
bXVuaWNhdGUoKQogICAgICAgIHN5cy5zdGRvdXQud3JpdGUoc3Rkb3V0KQogICAgICAgIHN5cy5z
dGRvdXQuZmx1c2goKQogICAgICAgIGlmIE9QVElPTlMud2lwZToKICAgICAgICAgICAgc2h1dGls
LnJtdHJlZShPUFRJT05TLnNhbHRkaXIpCiAgICBlbGlmIE9QVElPTlMud2lwZToKICAgICAgICBz
dWJwcm9jZXNzLmNhbGwoc2FsdF9hcmd2KQogICAgICAgIHNodXRpbC5ybXRyZWUoT1BUSU9OUy5z
YWx0ZGlyKQogICAgZWxzZToKICAgICAgICBvcy5leGVjdihzeXMuZXhlY3V0YWJsZSwgc2FsdF9h
cmd2KQogICAgaWYgT1BUSU9OUy5jbWRfdW1hc2sgaXMgbm90IE5vbmU6CiAgICAgICAgb3MudW1h
c2sob2xkX3VtYXNrKQoKaWYgX19uYW1lX18gPT0gJ19fbWFpbl9fJzoKICAgIHN5cy5leGl0KG1h
aW4oc3lzLmFyZ3YpKQo=
""").decode("utf-8"))'
else
exec $SUDO "$py_cmd_path" -c \
'import base64;
exec(base64.b64decode("""IyBweWxpbnQ6IGRpc2FibGU9Vzk5MDMKJycnClRoaXMgaXMgYSBzaGltIHRoYXQgaGFuZGxlcyBj
aGVja2luZyBhbmQgdXBkYXRpbmcgc2FsdCB0aGluIGFuZAp0aGVuIGludm9raW5nIHRoaW4uCgpU
aGlzIGlzIG5vdCBpbnRlbmRlZCB0byBiZSBpbnN0YW50aWF0ZWQgYXMgYSBtb2R1bGUsIHJhdGhl
ciBpdCBpcyBhCmhlbHBlciBzY3JpcHQgdXNlZCBieSBzYWx0LmNsaWVudC5zc2guU2luZ2xlLiAg
SXQgaXMgaGVyZSwgaW4gYQpzZXBhcmF0ZSBmaWxlLCBmb3IgY29udmVuaWVuY2Ugb2YgZGV2ZWxv
cG1lbnQuCicnJwoKZnJvbSBfX2Z1dHVyZV9fIGltcG9ydCBhYnNvbHV0ZV9pbXBvcnQKCmltcG9y
dCBoYXNobGliCmltcG9ydCB0YXJmaWxlCmltcG9ydCBzaHV0aWwKaW1wb3J0IHN5cwppbXBvcnQg
b3MKaW1wb3J0IHN0YXQKaW1wb3J0IHN1YnByb2Nlc3MKClRISU5fQVJDSElWRSA9ICdzYWx0LXRo
aW4udGd6JwpFWFRfQVJDSElWRSA9ICdzYWx0LWV4dF9tb2RzLnRneicKCiMgS2VlcCB0aGVzZSBp
biBzeW5jIHdpdGggc2FsdC9kZWZhdWx0cy9leGl0Y29kZXMucHkKRVhfVEhJTl9ERVBMT1kgPSAx
MQpFWF9USElOX0NIRUNLU1VNID0gMTIKRVhfTU9EX0RFUExPWSA9IDEzCkVYX1NDUF9OT1RfRk9V
TkQgPSAxNApFWF9DQU5UQ1JFQVQgPSA3MwoKCmNsYXNzIE9CSihvYmplY3QpOgogICAgIiIiQW4g
ZW1wdHkgY2xhc3MgZm9yIGhvbGRpbmcgaW5zdGFuY2UgYXR0cmlidXRlIHZhbHVlcy4iIiIKICAg
IHBhc3MKCgpPUFRJT05TID0gTm9uZQpBUkdTID0gTm9uZQojIFRoZSBiZWxvdyBsaW5lIGlzIHdo
ZXJlIE9QVElPTlMgY2FuIGJlIHJlZGVmaW5lZCB3aXRoIGludGVybmFsIG9wdGlvbnMKIyAocmF0
aGVyIHRoYW4gY2xpIGFyZ3VtZW50cykgd2hlbiB0aGUgc2hpbSBpcyBidW5kbGVkIGJ5CiMgY2xp
ZW50LnNzaC5TaW5nbGUuX2NtZF9zdHIoKQojIHB5bGludDogZGlzYWJsZT1ibG9jay1jb21tZW50
LXNob3VsZC1zdGFydC13aXRoLWNhcmRpbmFsLXNwYWNlCgpPUFRJT05TID0gT0JKKCkKT1BUSU9O
Uy5jb25maWcgPSAiIiIKe2ZpbGVzZXJ2ZXJfbGlzdF9jYWNoZV90aW1lOiAzLCBncmFpbnNfY2Fj
aGU6IHRydWUsIGlkOiBtdW5pbiwgbG9nX2ZpbGU6IHNhbHQtY2FsbC5sb2csCiAgcm9vdF9kaXI6
IC92YXIvdG1wLy5zYWx0LW9wZV8xYTM1MzJfc2FsdC9ydW5uaW5nX2RhdGEsIHNvY2tfZGlyOiAv
fQoiIiIKT1BUSU9OUy5kZWxpbWl0ZXIgPSAnX2VkYmM3ODg1ZTRmOWFhYzliODNiMzU5OTliNjhk
MDE1MTQ4Y2FmNDY3Yjc4ZmEzOWMwNWY2NjljMGZmODk4NzgnCk9QVElPTlMuc2FsdGRpciA9ICcv
dmFyL3RtcC8uc2FsdC1vcGVfMWEzNTMyX3NhbHQnCk9QVElPTlMuY2hlY2tzdW0gPSAnOTg1MjZk
OTliMWU3YjA3OWRjZWZjZWM5ZmE1Yjg1MWZmYmY5ODEzZCcKT1BUSU9OUy5oYXNoZnVuYyA9ICdz
aGExJwpPUFRJT05TLnZlcnNpb24gPSAnMjAxNi4zLjInCk9QVElPTlMuZXh0X21vZHMgPSAnNzQx
OTZlMDExNDUyMWUyYWRjNjlkNjgxY2U2YTQ1NjNiYTBhZTFlYicKT1BUSU9OUy53aXBlID0gRmFs
c2UKT1BUSU9OUy50dHkgPSBGYWxzZQpPUFRJT05TLmNtZF91bWFzayA9IE5vbmUKQVJHUyA9IFsn
bmV0d29yay5nZXRfaG9zdG5hbWUnXQoKCgpkZWYgbmVlZF9kZXBsb3ltZW50KCk6CiAgICAiIiIK
ICAgIFNhbHQgdGhpbiBuZWVkcyB0byBiZSBkZXBsb3llZCAtIHByZXAgdGhlIHRhcmdldCBkaXJl
Y3RvcnkgYW5kIGVtaXQgdGhlCiAgICBkZWxpbWV0ZXIgYW5kIGV4aXQgY29kZSB0aGF0IHNpZ25h
bHMgYSByZXF1aXJlZCBkZXBsb3ltZW50LgogICAgIiIiCiAgICBpZiBvcy5wYXRoLmV4aXN0cyhP
UFRJT05TLnNhbHRkaXIpOgogICAgICAgIHNodXRpbC5ybXRyZWUoT1BUSU9OUy5zYWx0ZGlyKQog
ICAgb2xkX3VtYXNrID0gb3MudW1hc2soMG8wNzcpCiAgICBvcy5tYWtlZGlycyhPUFRJT05TLnNh
bHRkaXIpCiAgICBvcy51bWFzayhvbGRfdW1hc2spCiAgICAjIFZlcmlmeSBwZXJtcyBvbiBzYWx0
ZGlyCiAgICBldWlkID0gb3MuZ2V0ZXVpZCgpCiAgICBkc3RhdCA9IG9zLnN0YXQoT1BUSU9OUy5z
YWx0ZGlyKQogICAgaWYgZHN0YXQuc3RfdWlkICE9IGV1aWQ6CiAgICAgICAgIyBBdHRhY2sgZGV0
ZWN0ZWQsIHRyeSBhZ2FpbgogICAgICAgIG5lZWRfZGVwbG95bWVudCgpCiAgICBpZiBkc3RhdC5z
dF9tb2RlICE9IDE2ODMyOgogICAgICAgICMgQXR0YWNrIGRldGVjdGVkCiAgICAgICAgbmVlZF9k
ZXBsb3ltZW50KCkKICAgICMgSWYgU1VET2luZyB0aGVuIGFsc28gZ2l2ZSB0aGUgc3VwZXIgdXNl
ciBncm91cCB3cml0ZSBwZXJtaXNzaW9ucwogICAgc3Vkb19naWQgPSBvcy5lbnZpcm9uLmdldCgn
U1VET19HSUQnKQogICAgaWYgc3Vkb19naWQ6CiAgICAgICAgb3MuY2hvd24oT1BUSU9OUy5zYWx0
ZGlyLCAtMSwgaW50KHN1ZG9fZ2lkKSkKICAgICAgICBzdHQgPSBvcy5zdGF0KE9QVElPTlMuc2Fs
dGRpcikKICAgICAgICBvcy5jaG1vZChPUFRJT05TLnNhbHRkaXIsIHN0dC5zdF9tb2RlIHwgc3Rh
dC5TX0lXR1JQIHwgc3RhdC5TX0lSR1JQIHwgc3RhdC5TX0lYR1JQKQoKICAgICMgRGVsaW1pdGVy
IGVtaXR0ZWQgb24gc3Rkb3V0ICpvbmx5KiB0byBpbmRpY2F0ZSBzaGltIG1lc3NhZ2UgdG8gbWFz
dGVyLgogICAgc3lzLnN0ZG91dC53cml0ZSgiezB9XG5kZXBsb3lcbiIuZm9ybWF0KE9QVElPTlMu
ZGVsaW1pdGVyKSkKICAgIHN5cy5leGl0KEVYX1RISU5fREVQTE9ZKQoKCiMgQWRhcHRlZCBmcm9t
IHNhbHQudXRpbHMuZ2V0X2hhc2goKQpkZWYgZ2V0X2hhc2gocGF0aCwgZm9ybT0nc2hhMScsIGNo
dW5rX3NpemU9NDA5Nik6CiAgICAiIiJHZW5lcmF0ZSBhIGhhc2ggZGlnZXN0IHN0cmluZyBmb3Ig
YSBmaWxlLiIiIgogICAgdHJ5OgogICAgICAgIGhhc2hfdHlwZSA9IGdldGF0dHIoaGFzaGxpYiwg
Zm9ybSkKICAgIGV4Y2VwdCBBdHRyaWJ1dGVFcnJvcjoKICAgICAgICByYWlzZSBWYWx1ZUVycm9y
KCdJbnZhbGlkIGhhc2ggdHlwZTogezB9Jy5mb3JtYXQoZm9ybSkpCiAgICB3aXRoIG9wZW4ocGF0
aCwgJ3JiJykgYXMgaWZpbGU6CiAgICAgICAgaGFzaF9vYmogPSBoYXNoX3R5cGUoKQogICAgICAg
ICMgcmVhZCB0aGUgZmlsZSBpbiBpbiBjaHVua3MsIG5vdCB0aGUgZW50aXJlIGZpbGUKICAgICAg
ICBmb3IgY2h1bmsgaW4gaXRlcihsYW1iZGE6IGlmaWxlLnJlYWQoY2h1bmtfc2l6ZSksIGInJyk6
CiAgICAgICAgICAgIGhhc2hfb2JqLnVwZGF0ZShjaHVuaykKICAgICAgICByZXR1cm4gaGFzaF9v
YmouaGV4ZGlnZXN0KCkKCgpkZWYgdW5wYWNrX3RoaW4odGhpbl9wYXRoKToKICAgICIiIlVucGFj
ayB0aGUgU2FsdCB0aGluIGFyY2hpdmUuIiIiCiAgICB0ZmlsZSA9IHRhcmZpbGUuVGFyRmlsZS5n
em9wZW4odGhpbl9wYXRoKQogICAgb2xkX3VtYXNrID0gb3MudW1hc2soMG8wNzcpCiAgICB0Zmls
ZS5leHRyYWN0YWxsKHBhdGg9T1BUSU9OUy5zYWx0ZGlyKQogICAgdGZpbGUuY2xvc2UoKQogICAg
b3MudW1hc2sob2xkX3VtYXNrKQogICAgb3MudW5saW5rKHRoaW5fcGF0aCkKCgpkZWYgbmVlZF9l
eHQoKToKICAgICIiIlNpZ25hbCB0aGF0IGV4dGVybmFsIG1vZHVsZXMgbmVlZCB0byBiZSBkZXBs
b3llZC4iIiIKICAgIHN5cy5zdGRvdXQud3JpdGUoInswfVxuZXh0X21vZHNcbiIuZm9ybWF0KE9Q
VElPTlMuZGVsaW1pdGVyKSkKICAgIHN5cy5leGl0KEVYX01PRF9ERVBMT1kpCgoKZGVmIHVucGFj
a19leHQoZXh0X3BhdGgpOgogICAgIiIiVW5wYWNrIHRoZSBleHRlcm5hbCBtb2R1bGVzLiIiIgog
ICAgbW9kY2FjaGUgPSBvcy5wYXRoLmpvaW4oCiAgICAgICAgICAgIE9QVElPTlMuc2FsdGRpciwK
ICAgICAgICAgICAgJ3J1bm5pbmdfZGF0YScsCiAgICAgICAgICAgICd2YXInLAogICAgICAgICAg
ICAnY2FjaGUnLAogICAgICAgICAgICAnc2FsdCcsCiAgICAgICAgICAgICdtaW5pb24nLAogICAg
ICAgICAgICAnZXh0bW9kcycpCiAgICB0ZmlsZSA9IHRhcmZpbGUuVGFyRmlsZS5nem9wZW4oZXh0
X3BhdGgpCiAgICBvbGRfdW1hc2sgPSBvcy51bWFzaygwbzA3NykKICAgIHRmaWxlLmV4dHJhY3Rh
bGwocGF0aD1tb2RjYWNoZSkKICAgIHRmaWxlLmNsb3NlKCkKICAgIG9zLnVtYXNrKG9sZF91bWFz
aykKICAgIG9zLnVubGluayhleHRfcGF0aCkKICAgIHZlcl9wYXRoID0gb3MucGF0aC5qb2luKG1v
ZGNhY2hlLCAnZXh0X3ZlcnNpb24nKQogICAgdmVyX2RzdCA9IG9zLnBhdGguam9pbihPUFRJT05T
LnNhbHRkaXIsICdleHRfdmVyc2lvbicpCiAgICBzaHV0aWwubW92ZSh2ZXJfcGF0aCwgdmVyX2Rz
dCkKCgpkZWYgbWFpbihhcmd2KTogICMgcHlsaW50OiBkaXNhYmxlPVcwNjEzCiAgICAiIiJNYWlu
IHByb2dyYW0gYm9keSIiIgogICAgdGhpbl9wYXRoID0gb3MucGF0aC5qb2luKE9QVElPTlMuc2Fs
dGRpciwgVEhJTl9BUkNISVZFKQogICAgaWYgb3MucGF0aC5pc2ZpbGUodGhpbl9wYXRoKToKICAg
ICAgICBpZiBPUFRJT05TLmNoZWNrc3VtICE9IGdldF9oYXNoKHRoaW5fcGF0aCwgT1BUSU9OUy5o
YXNoZnVuYyk6CiAgICAgICAgICAgIHN5cy5zdGRlcnIud3JpdGUoJ3swfVxuJy5mb3JtYXQoT1BU
SU9OUy5jaGVja3N1bSkpCiAgICAgICAgICAgIHN5cy5zdGRlcnIud3JpdGUoJ3swfVxuJy5mb3Jt
YXQoZ2V0X2hhc2godGhpbl9wYXRoLCBPUFRJT05TLmhhc2hmdW5jKSkpCiAgICAgICAgICAgIG9z
LnVubGluayh0aGluX3BhdGgpCiAgICAgICAgICAgIHN5cy5zdGRlcnIud3JpdGUoJ1dBUk5JTkc6
IGNoZWNrc3VtIG1pc21hdGNoIGZvciAiezB9IlxuJy5mb3JtYXQodGhpbl9wYXRoKSkKICAgICAg
ICAgICAgc3lzLmV4aXQoRVhfVEhJTl9DSEVDS1NVTSkKICAgICAgICB1bnBhY2tfdGhpbih0aGlu
X3BhdGgpCiAgICAgICAgIyBTYWx0IHRoaW4gbm93IGlzIGF2YWlsYWJsZSB0byB1c2UKICAgIGVs
c2U6CiAgICAgICAgc2Nwc3RhdCA9IHN1YnByb2Nlc3MuUG9wZW4oWycvYmluL3NoJywgJy1jJywg
J2NvbW1hbmQgLXYgc2NwJ10pLndhaXQoKQogICAgICAgIGlmIHNjcHN0YXQgIT0gMDoKICAgICAg
ICAgICAgc3lzLmV4aXQoRVhfU0NQX05PVF9GT1VORCkKCiAgICAgICAgaWYgbm90IG9zLnBhdGgu
ZXhpc3RzKE9QVElPTlMuc2FsdGRpcik6CiAgICAgICAgICAgIG5lZWRfZGVwbG95bWVudCgpCgog
ICAgICAgIGlmIG5vdCBvcy5wYXRoLmlzZGlyKE9QVElPTlMuc2FsdGRpcik6CiAgICAgICAgICAg
IHN5cy5zdGRlcnIud3JpdGUoCiAgICAgICAgICAgICAgICAnRVJST1I6IHNhbHQgcGF0aCAiezB9
IiBleGlzdHMgYnV0IGlzJwogICAgICAgICAgICAgICAgJyBub3QgYSBkaXJlY3RvcnlcbicuZm9y
bWF0KE9QVElPTlMuc2FsdGRpcikKICAgICAgICAgICAgKQogICAgICAgICAgICBzeXMuZXhpdChF
WF9DQU5UQ1JFQVQpCgogICAgICAgIHZlcnNpb25fcGF0aCA9IG9zLnBhdGguam9pbihPUFRJT05T
LnNhbHRkaXIsICd2ZXJzaW9uJykKICAgICAgICBpZiBub3Qgb3MucGF0aC5leGlzdHModmVyc2lv
bl9wYXRoKSBvciBub3Qgb3MucGF0aC5pc2ZpbGUodmVyc2lvbl9wYXRoKToKICAgICAgICAgICAg
c3lzLnN0ZGVyci53cml0ZSgKICAgICAgICAgICAgICAgICdXQVJOSU5HOiBVbmFibGUgdG8gbG9j
YXRlIGN1cnJlbnQgdGhpbiAnCiAgICAgICAgICAgICAgICAnIHZlcnNpb246IHswfS5cbicuZm9y
bWF0KHZlcnNpb25fcGF0aCkKICAgICAgICAgICAgKQogICAgICAgICAgICBuZWVkX2RlcGxveW1l
bnQoKQogICAgICAgIHdpdGggb3Blbih2ZXJzaW9uX3BhdGgsICdyJykgYXMgdnBvOgogICAgICAg
ICAgICBjdXJfdmVyc2lvbiA9IHZwby5yZWFkbGluZSgpLnN0cmlwKCkKICAgICAgICBpZiBjdXJf
dmVyc2lvbiAhPSBPUFRJT05TLnZlcnNpb246CiAgICAgICAgICAgIHN5cy5zdGRlcnIud3JpdGUo
CiAgICAgICAgICAgICAgICAnV0FSTklORzogY3VycmVudCB0aGluIHZlcnNpb24gezB9JwogICAg
ICAgICAgICAgICAgJyBpcyBub3QgdXAtdG8tZGF0ZSB3aXRoIHsxfS5cbicuZm9ybWF0KAogICAg
ICAgICAgICAgICAgICAgIGN1cl92ZXJzaW9uLCBPUFRJT05TLnZlcnNpb24KICAgICAgICAgICAg
ICAgICkKICAgICAgICAgICAgKQogICAgICAgICAgICBuZWVkX2RlcGxveW1lbnQoKQogICAgICAg
ICMgU2FsdCB0aGluIGV4aXN0cyBhbmQgaXMgdXAtdG8tZGF0ZSAtIGZhbGwgdGhyb3VnaCBhbmQg
dXNlIGl0CgogICAgc2FsdF9jYWxsX3BhdGggPSBvcy5wYXRoLmpvaW4oT1BUSU9OUy5zYWx0ZGly
LCAnc2FsdC1jYWxsJykKICAgIGlmIG5vdCBvcy5wYXRoLmlzZmlsZShzYWx0X2NhbGxfcGF0aCk6
CiAgICAgICAgc3lzLnN0ZGVyci53cml0ZSgnRVJST1I6IHRoaW4gaXMgbWlzc2luZyAiezB9Ilxu
Jy5mb3JtYXQoc2FsdF9jYWxsX3BhdGgpKQogICAgICAgIG5lZWRfZGVwbG95bWVudCgpCgogICAg
d2l0aCBvcGVuKG9zLnBhdGguam9pbihPUFRJT05TLnNhbHRkaXIsICdtaW5pb24nKSwgJ3cnKSBh
cyBjb25maWc6CiAgICAgICAgY29uZmlnLndyaXRlKE9QVElPTlMuY29uZmlnICsgJ1xuJykKICAg
IGlmIE9QVElPTlMuZXh0X21vZHM6CiAgICAgICAgZXh0X3BhdGggPSBvcy5wYXRoLmpvaW4oT1BU
SU9OUy5zYWx0ZGlyLCBFWFRfQVJDSElWRSkKICAgICAgICBpZiBvcy5wYXRoLmV4aXN0cyhleHRf
cGF0aCk6CiAgICAgICAgICAgIHVucGFja19leHQoZXh0X3BhdGgpCiAgICAgICAgZWxzZToKICAg
ICAgICAgICAgdmVyc2lvbl9wYXRoID0gb3MucGF0aC5qb2luKE9QVElPTlMuc2FsdGRpciwgJ2V4
dF92ZXJzaW9uJykKICAgICAgICAgICAgaWYgbm90IG9zLnBhdGguZXhpc3RzKHZlcnNpb25fcGF0
aCkgb3Igbm90IG9zLnBhdGguaXNmaWxlKHZlcnNpb25fcGF0aCk6CiAgICAgICAgICAgICAgICBu
ZWVkX2V4dCgpCiAgICAgICAgICAgIHdpdGggb3Blbih2ZXJzaW9uX3BhdGgsICdyJykgYXMgdnBv
OgogICAgICAgICAgICAgICAgY3VyX3ZlcnNpb24gPSB2cG8ucmVhZGxpbmUoKS5zdHJpcCgpCiAg
ICAgICAgICAgIGlmIGN1cl92ZXJzaW9uICE9IE9QVElPTlMuZXh0X21vZHM6CiAgICAgICAgICAg
ICAgICBuZWVkX2V4dCgpCiAgICAjIEZpeCBwYXJhbWV0ZXIgcGFzc2luZyBpc3N1ZQogICAgaWYg
bGVuKEFSR1MpID09IDE6CiAgICAgICAgYXJndl9wcmVwYXJlZCA9IEFSR1NbMF0uc3BsaXQoKQog
ICAgZWxzZToKICAgICAgICBhcmd2X3ByZXBhcmVkID0gQVJHUwoKICAgIHNhbHRfYXJndiA9IFsK
ICAgICAgICBzeXMuZXhlY3V0YWJsZSwKICAgICAgICBzYWx0X2NhbGxfcGF0aCwKICAgICAgICAn
LS1yZXRjb2RlLXBhc3N0aHJvdWdoJywKICAgICAgICAnLS1sb2NhbCcsCiAgICAgICAgJy0tbWV0
YWRhdGEnLAogICAgICAgICctLW91dCcsICdqc29uJywKICAgICAgICAnLWwnLCAncXVpZXQnLAog
ICAgICAgICctYycsIE9QVElPTlMuc2FsdGRpciwKICAgICAgICAnLS0nLAogICAgXSArIGFyZ3Zf
cHJlcGFyZWQKCiAgICBzeXMuc3RkZXJyLndyaXRlKCdTQUxUX0FSR1Y6IHswfVxuJy5mb3JtYXQo
c2FsdF9hcmd2KSkKCiAgICAjIE9ubHkgZW1pdCB0aGUgZGVsaW1pdGVyIG9uICpib3RoKiBzdGRv
dXQgYW5kIHN0ZGVyciB3aGVuIGNvbXBsZXRlbHkgc3VjY2Vzc2Z1bC4KICAgICMgWWVzLCB0aGUg
Zmx1c2goKSBpcyBuZWNlc3NhcnkuCiAgICBzeXMuc3Rkb3V0LndyaXRlKE9QVElPTlMuZGVsaW1p
dGVyICsgJ1xuJykKICAgIHN5cy5zdGRvdXQuZmx1c2goKQogICAgaWYgbm90IE9QVElPTlMudHR5
OgogICAgICAgIHN5cy5zdGRlcnIud3JpdGUoT1BUSU9OUy5kZWxpbWl0ZXIgKyAnXG4nKQogICAg
ICAgIHN5cy5zdGRlcnIuZmx1c2goKQogICAgaWYgT1BUSU9OUy5jbWRfdW1hc2sgaXMgbm90IE5v
bmU6CiAgICAgICAgb2xkX3VtYXNrID0gb3MudW1hc2soT1BUSU9OUy5jbWRfdW1hc2spCiAgICBp
ZiBPUFRJT05TLnR0eToKICAgICAgICBzdGRvdXQsIF8gPSBzdWJwcm9jZXNzLlBvcGVuKHNhbHRf
YXJndiwgc3Rkb3V0PXN1YnByb2Nlc3MuUElQRSwgc3RkZXJyPXN1YnByb2Nlc3MuUElQRSkuY29t
bXVuaWNhdGUoKQogICAgICAgIHN5cy5zdGRvdXQud3JpdGUoc3Rkb3V0KQogICAgICAgIHN5cy5z
dGRvdXQuZmx1c2goKQogICAgICAgIGlmIE9QVElPTlMud2lwZToKICAgICAgICAgICAgc2h1dGls
LnJtdHJlZShPUFRJT05TLnNhbHRkaXIpCiAgICBlbGlmIE9QVElPTlMud2lwZToKICAgICAgICBz
dWJwcm9jZXNzLmNhbGwoc2FsdF9hcmd2KQogICAgICAgIHNodXRpbC5ybXRyZWUoT1BUSU9OUy5z
YWx0ZGlyKQogICAgZWxzZToKICAgICAgICBvcy5leGVjdihzeXMuZXhlY3V0YWJsZSwgc2FsdF9h
cmd2KQogICAgaWYgT1BUSU9OUy5jbWRfdW1hc2sgaXMgbm90IE5vbmU6CiAgICAgICAgb3MudW1h
c2sob2xkX3VtYXNrKQoKaWYgX19uYW1lX18gPT0gJ19fbWFpbl9fJzoKICAgIHN5cy5leGl0KG1h
aW4oc3lzLmFyZ3YpKQo=
""").decode("utf-8"))'
fi
exit 0
else
continue
fi
done
echo "ERROR: Unable to locate appropriate python command" >&2
exit $EX_PYTHON_INVALID
EOF
2016-10-20 00:48:00,374 [salt.utils.vt.Terminal.PID-2644.STDOUT][TRACE   ][2633] salt-ope@192.168.1.15's password:
2016-10-20 00:48:00,517 [salt.utils.vt.Terminal.PID-2644.STDOUT][TRACE   ][2633] /bin/scp
2016-10-20 00:48:00,528 [salt.utils.vt.Terminal.PID-2644.STDERR][TRACE   ][2633] SALT_ARGV: ['/usr/bin/python2.7', '/var/tmp/.salt-ope_1a3532_salt/salt-call', '--retcode-passthrough', '--local', '--metadata', '--out', 'json', '-l', 'quiet', '-c', '/var/tmp/.salt-ope_1a3532_salt', '--', 'network.get_hostname']
_edbc7885e4f9aac9b83b35999b68d015148caf467b78fa39c05f669c0ff89878
2016-10-20 00:48:00,528 [salt.utils.vt.Terminal.PID-2644.STDOUT][TRACE   ][2633] _edbc7885e4f9aac9b83b35999b68d015148caf467b78fa39c05f669c0ff89878
2016-10-20 00:48:00,783 [salt.utils.vt.Terminal.PID-2644.STDOUT][TRACE   ][2633] {
    "local": {
        "fun_args": [], 
        "jid": "20161020004801693701", 
        "return": "munin", 
        "retcode": 0, 
        "fun": "network.get_hostname", 
        "id": "munin"
    }
}
2016-10-20 00:48:01,004 [salt.client.ssh  ][TRACE   ][2633] STDOUT 192.168.1.15
salt-ope@192.168.1.15's password: 
/bin/scp
_edbc7885e4f9aac9b83b35999b68d015148caf467b78fa39c05f669c0ff89878
{
    "local": {
        "fun_args": [], 
        "jid": "20161020004801693701", 
        "return": "munin", 
        "retcode": 0, 
        "fun": "network.get_hostname", 
        "id": "munin"
    }
}

2016-10-20 00:48:01,005 [salt.client.ssh  ][TRACE   ][2633] STDERR 192.168.1.15
SALT_ARGV: ['/usr/bin/python2.7', '/var/tmp/.salt-ope_1a3532_salt/salt-call', '--retcode-passthrough', '--local', '--metadata', '--out', 'json', '-l', 'quiet', '-c', '/var/tmp/.salt-ope_1a3532_salt', '--', 'network.get_hostname']
_edbc7885e4f9aac9b83b35999b68d015148caf467b78fa39c05f669c0ff89878

2016-10-20 00:48:01,005 [salt.client.ssh  ][DEBUG   ][2633] RETCODE 192.168.1.15: 0
2016-10-20 00:48:01,009 [salt.template    ][PROFILE ][2633] Time (in seconds) to render '/root/saltstack_master/var/cache/salt/master/files/base/munin.sls' using 'jinja' renderer: 1.65950608253
2016-10-20 00:48:01,009 [salt.template    ][DEBUG   ][2633] Rendered data from file: /root/saltstack_master/var/cache/salt/master/files/base/munin.sls:







/etc/yum.repos.d/epel.repo:
  file.managed:
  - source: salt://files/shared/etc/yum.repos.d/epel.repo_v7
  - mode: 0644
  - user: root
  - group: root



/etc/pki/rpm-gpg/RPM-GPG-KEY-EPEL-7:
  file.managed:
  - source: salt://files/shared/etc/pki/rpm-gpg/RPM-GPG-KEY-EPEL-7
  - mode: 0644
  - user: root
  - group: root


munin-pkgs:
  pkg.installed:
  - pkgs:
    - munin
    - munin-async

    - httpd
    - mod_fcgid



/etc/munin/munin-node.conf:
  file.managed:
  - source: salt://files/munin/etc/munin/munin-node.conf
  - template: jinja
  - context:
    munin_server_list: ['192.168.1.15', '192.168.1.14']
  - mode: 0644
  - user: root
  - group: root

/etc/munin/munin-htpasswd:
  file.managed:
  - source: salt://files/munin/etc/munin/munin-htpasswd
  - mode: 0644
  - user: root
  - group: root

/etc/munin/munin.conf:
  file.managed:
  - source: salt://files/munin/etc/munin/munin.conf
  - template: jinja
  - context:
    munin_master: 192.168.1.15
    munin_server_namelist: {'munin-async01': {'ip': '192.168.1.14'}, 'munin': {'ip': '192.168.1.15'}} 
    munin_node_list: {'munin-async01': {'hostname': 'munin-async01', 'ip': '192.168.1.14', 'munin_server': 'munin-async01'}, 'kibana4': {'hostname': 'kibana4', 'ip': '192.168.1.37', 'group': 'Dev', 'alarm_rules': ['df._dev_vda1.warning 75', 'df._dev_vda1.critical 80', 'df_inode._dev_vda1.warning 75', 'df_inode._dev_vda1.critical 80', 'load.load.warning 8', 'load.load.critical 15'], 'munin_server': 'munin-async01'}, 'nagioslog': {'hostname': 'nagioslog', 'ip': '192.168.1.12', 'group': 'Dev', 'alarm_rules': ['df._dev_vda1.warning 75', 'df._dev_vda1.critical 80', 'df_inode._dev_vda1.warning 75', 'df_inode._dev_vda1.critical 80', 'load.load.warning 8', 'load.load.critical 15'], 'munin_server': 'munin-async01'}, 'ceph-node01': {'hostname': 'ceph-node01', 'ip': '192.168.1.6', 'group': 'Dev', 'alarm_rules': ['df._dev_vda1.warning 75', 'df._dev_vda1.critical 80', 'df_inode._dev_vda1.warning 75', 'df_inode._dev_vda1.critical 80', 'load.load.warning 1', 'load.load.critical 2'], 'munin_server': 'munin-async01'}, 'ceph-node02': {'hostname': 'ceph-node02', 'ip': '192.168.1.16', 'group': 'Dev', 'alarm_rules': ['df._dev_vda1.warning 75', 'df._dev_vda1.critical 80', 'df_inode._dev_vda1.warning 75', 'df_inode._dev_vda1.critical 80', 'load.load.warning 1', 'load.load.critical 2'], 'munin_server': 'munin-async01'}, 'ceph-node03': {'hostname': 'ceph-node03', 'ip': '192.168.1.18', 'group': 'Dev', 'alarm_rules': ['df._dev_vda1.warning 75', 'df._dev_vda1.critical 80', 'df_inode._dev_vda1.warning 75', 'df_inode._dev_vda1.critical 80', 'load.load.warning 1', 'load.load.critical 2'], 'munin_server': 'munin-async01'}, 'ceph-admin': {'hostname': 'ceph-admin', 'ip': '192.168.1.20', 'group': 'Dev', 'alarm_rules': ['df._dev_vda1.warning 75', 'df._dev_vda1.critical 80', 'df_inode._dev_vda1.warning 75', 'df_inode._dev_vda1.critical 80', 'load.load.warning 1', 'load.load.critical 2'], 'munin_server': 'munin-async01'}} 
    munin_async_client: {'munin-async01': {'ip': '192.168.1.14'}}
  - mode: 0644
  - user: root
  - group: root

/etc/httpd/conf/httpd.conf:
  file.managed:

  - source: salt://files/munin/etc/httpd/conf/httpd.conf_v7

  - template: jinja
  - mode: 0644
  - user: root
  - group: root

/etc/httpd/conf.d/munin.conf:
  file.managed:
  - source: salt://files/munin/etc/httpd/conf.d/munin.conf
  - template: jinja
  - mode: 0644
  - user: root
  - group: root

/etc/httpd/conf.d/fcgid.conf:
  file.managed:

  - source: salt://files/munin/etc/httpd/conf.d/fcgid.conf_v7

  - mode: 0644
  - user: root
  - group: root

/var/cache/munin:
  file.directory:
  - user: apache
  - group: apache
  - mode: 755
  - makedirs: True




httpd:
  service.running:
  - enable: True
  - watch:
    - file: /etc/httpd/conf/httpd.conf
    - file: /etc/httpd/conf.d/munin.conf
    - file: /etc/httpd/conf.d/fcgid.conf


munin-node:
  service.running:
  - enable: True
  - watch:
    - file: /etc/munin/munin-node.conf
    - file: /etc/munin/munin.conf

    - file: /etc/munin/munin-htpasswd





2016-10-20 00:48:01,069 [salt.loaded.int.render.yaml][DEBUG   ][2633] Results of YAML rendering: 
OrderedDict([('/etc/yum.repos.d/epel.repo', OrderedDict([('file.managed', [OrderedDict([('source', 'salt://files/shared/etc/yum.repos.d/epel.repo_v7')]), OrderedDict([('mode', 644)]), OrderedDict([('user', 'root')]), OrderedDict([('group', 'root')])])])), ('/etc/pki/rpm-gpg/RPM-GPG-KEY-EPEL-7', OrderedDict([('file.managed', [OrderedDict([('source', 'salt://files/shared/etc/pki/rpm-gpg/RPM-GPG-KEY-EPEL-7')]), OrderedDict([('mode', 644)]), OrderedDict([('user', 'root')]), OrderedDict([('group', 'root')])])])), ('munin-pkgs', OrderedDict([('pkg.installed', [OrderedDict([('pkgs', ['munin', 'munin-async', 'httpd', 'mod_fcgid'])])])])), ('/etc/munin/munin-node.conf', OrderedDict([('file.managed', [OrderedDict([('source', 'salt://files/munin/etc/munin/munin-node.conf')]), OrderedDict([('template', 'jinja')]), OrderedDict([('context', None), ('munin_server_list', ['192.168.1.15', '192.168.1.14'])]), OrderedDict([('mode', 644)]), OrderedDict([('user', 'root')]), OrderedDict([('group', 'root')])])])), ('/etc/munin/munin-htpasswd', OrderedDict([('file.managed', [OrderedDict([('source', 'salt://files/munin/etc/munin/munin-htpasswd')]), OrderedDict([('mode', 644)]), OrderedDict([('user', 'root')]), OrderedDict([('group', 'root')])])])), ('/etc/munin/munin.conf', OrderedDict([('file.managed', [OrderedDict([('source', 'salt://files/munin/etc/munin/munin.conf')]), OrderedDict([('template', 'jinja')]), OrderedDict([('context', None), ('munin_master', '192.168.1.15'), ('munin_server_namelist', OrderedDict([('munin-async01', OrderedDict([('ip', '192.168.1.14')])), ('munin', OrderedDict([('ip', '192.168.1.15')]))])), ('munin_node_list', OrderedDict([('munin-async01', OrderedDict([('hostname', 'munin-async01'), ('ip', '192.168.1.14'), ('munin_server', 'munin-async01')])), ('kibana4', OrderedDict([('hostname', 'kibana4'), ('ip', '192.168.1.37'), ('group', 'Dev'), ('alarm_rules', ['df._dev_vda1.warning 75', 'df._dev_vda1.critical 80', 'df_inode._dev_vda1.warning 75', 'df_inode._dev_vda1.critical 80', 'load.load.warning 8', 'load.load.critical 15']), ('munin_server', 'munin-async01')])), ('nagioslog', OrderedDict([('hostname', 'nagioslog'), ('ip', '192.168.1.12'), ('group', 'Dev'), ('alarm_rules', ['df._dev_vda1.warning 75', 'df._dev_vda1.critical 80', 'df_inode._dev_vda1.warning 75', 'df_inode._dev_vda1.critical 80', 'load.load.warning 8', 'load.load.critical 15']), ('munin_server', 'munin-async01')])), ('ceph-node01', OrderedDict([('hostname', 'ceph-node01'), ('ip', '192.168.1.6'), ('group', 'Dev'), ('alarm_rules', ['df._dev_vda1.warning 75', 'df._dev_vda1.critical 80', 'df_inode._dev_vda1.warning 75', 'df_inode._dev_vda1.critical 80', 'load.load.warning 1', 'load.load.critical 2']), ('munin_server', 'munin-async01')])), ('ceph-node02', OrderedDict([('hostname', 'ceph-node02'), ('ip', '192.168.1.16'), ('group', 'Dev'), ('alarm_rules', ['df._dev_vda1.warning 75', 'df._dev_vda1.critical 80', 'df_inode._dev_vda1.warning 75', 'df_inode._dev_vda1.critical 80', 'load.load.warning 1', 'load.load.critical 2']), ('munin_server', 'munin-async01')])), ('ceph-node03', OrderedDict([('hostname', 'ceph-node03'), ('ip', '192.168.1.18'), ('group', 'Dev'), ('alarm_rules', ['df._dev_vda1.warning 75', 'df._dev_vda1.critical 80', 'df_inode._dev_vda1.warning 75', 'df_inode._dev_vda1.critical 80', 'load.load.warning 1', 'load.load.critical 2']), ('munin_server', 'munin-async01')])), ('ceph-admin', OrderedDict([('hostname', 'ceph-admin'), ('ip', '192.168.1.20'), ('group', 'Dev'), ('alarm_rules', ['df._dev_vda1.warning 75', 'df._dev_vda1.critical 80', 'df_inode._dev_vda1.warning 75', 'df_inode._dev_vda1.critical 80', 'load.load.warning 1', 'load.load.critical 2']), ('munin_server', 'munin-async01')]))])), ('munin_async_client', OrderedDict([('munin-async01', OrderedDict([('ip', '192.168.1.14')]))]))]), OrderedDict([('mode', 644)]), OrderedDict([('user', 'root')]), OrderedDict([('group', 'root')])])])), ('/etc/httpd/conf/httpd.conf', OrderedDict([('file.managed', [OrderedDict([('source', 'salt://files/munin/etc/httpd/conf/httpd.conf_v7')]), OrderedDict([('template', 'jinja')]), OrderedDict([('mode', 644)]), OrderedDict([('user', 'root')]), OrderedDict([('group', 'root')])])])), ('/etc/httpd/conf.d/munin.conf', OrderedDict([('file.managed', [OrderedDict([('source', 'salt://files/munin/etc/httpd/conf.d/munin.conf')]), OrderedDict([('template', 'jinja')]), OrderedDict([('mode', 644)]), OrderedDict([('user', 'root')]), OrderedDict([('group', 'root')])])])), ('/etc/httpd/conf.d/fcgid.conf', OrderedDict([('file.managed', [OrderedDict([('source', 'salt://files/munin/etc/httpd/conf.d/fcgid.conf_v7')]), OrderedDict([('mode', 644)]), OrderedDict([('user', 'root')]), OrderedDict([('group', 'root')])])])), ('/var/cache/munin', OrderedDict([('file.directory', [OrderedDict([('user', 'apache')]), OrderedDict([('group', 'apache')]), OrderedDict([('mode', 755)]), OrderedDict([('makedirs', True)])])])), ('httpd', OrderedDict([('service.running', [OrderedDict([('enable', True)]), OrderedDict([('watch', [OrderedDict([('file', '/etc/httpd/conf/httpd.conf')]), OrderedDict([('file', '/etc/httpd/conf.d/munin.conf')]), OrderedDict([('file', '/etc/httpd/conf.d/fcgid.conf')])])])])])), ('munin-node', OrderedDict([('service.running', [OrderedDict([('enable', True)]), OrderedDict([('watch', [OrderedDict([('file', '/etc/munin/munin-node.conf')]), OrderedDict([('file', '/etc/munin/munin.conf')]), OrderedDict([('file', '/etc/munin/munin-htpasswd')])])])])]))])
2016-10-20 00:48:01,070 [salt.template    ][PROFILE ][2633] Time (in seconds) to render '/root/saltstack_master/var/cache/salt/master/files/base/munin.sls' using 'yaml' renderer: 0.0604948997498
2016-10-20 00:48:01,079 [salt.fileclient  ][DEBUG   ][2633] In saltenv 'base', looking at rel_path 'files/shared/etc/yum.repos.d/epel.repo_v7' to resolve 'salt://files/shared/etc/yum.repos.d/epel.repo_v7'
2016-10-20 00:48:01,079 [salt.fileclient  ][DEBUG   ][2633] In saltenv 'base', ** considering ** path '/root/saltstack_master/var/cache/salt/master/salt-ssh/munin/files/base/files/shared/etc/yum.repos.d/epel.repo_v7' to resolve 'salt://files/shared/etc/yum.repos.d/epel.repo_v7'
2016-10-20 00:48:01,080 [salt.fileclient  ][INFO    ][2633] Fetching file from saltenv 'base', ** skipped ** latest already in cache 'salt://files/shared/etc/yum.repos.d/epel.repo_v7'
2016-10-20 00:48:01,081 [salt.fileclient  ][DEBUG   ][2633] In saltenv 'base', looking at rel_path 'files/shared/etc/pki/rpm-gpg/RPM-GPG-KEY-EPEL-7' to resolve 'salt://files/shared/etc/pki/rpm-gpg/RPM-GPG-KEY-EPEL-7'
2016-10-20 00:48:01,082 [salt.fileclient  ][DEBUG   ][2633] In saltenv 'base', ** considering ** path '/root/saltstack_master/var/cache/salt/master/salt-ssh/munin/files/base/files/shared/etc/pki/rpm-gpg/RPM-GPG-KEY-EPEL-7' to resolve 'salt://files/shared/etc/pki/rpm-gpg/RPM-GPG-KEY-EPEL-7'
2016-10-20 00:48:01,082 [salt.fileclient  ][INFO    ][2633] Fetching file from saltenv 'base', ** skipped ** latest already in cache 'salt://files/shared/etc/pki/rpm-gpg/RPM-GPG-KEY-EPEL-7'
2016-10-20 00:48:01,084 [salt.fileclient  ][DEBUG   ][2633] In saltenv 'base', looking at rel_path 'files/munin/etc/munin/munin-node.conf' to resolve 'salt://files/munin/etc/munin/munin-node.conf'
2016-10-20 00:48:01,084 [salt.fileclient  ][DEBUG   ][2633] In saltenv 'base', ** considering ** path '/root/saltstack_master/var/cache/salt/master/salt-ssh/munin/files/base/files/munin/etc/munin/munin-node.conf' to resolve 'salt://files/munin/etc/munin/munin-node.conf'
2016-10-20 00:48:01,084 [salt.fileclient  ][INFO    ][2633] Fetching file from saltenv 'base', ** skipped ** latest already in cache 'salt://files/munin/etc/munin/munin-node.conf'
2016-10-20 00:48:01,086 [salt.fileclient  ][DEBUG   ][2633] In saltenv 'base', looking at rel_path 'files/munin/etc/munin/munin-htpasswd' to resolve 'salt://files/munin/etc/munin/munin-htpasswd'
2016-10-20 00:48:01,086 [salt.fileclient  ][DEBUG   ][2633] In saltenv 'base', ** considering ** path '/root/saltstack_master/var/cache/salt/master/salt-ssh/munin/files/base/files/munin/etc/munin/munin-htpasswd' to resolve 'salt://files/munin/etc/munin/munin-htpasswd'
2016-10-20 00:48:01,086 [salt.fileclient  ][INFO    ][2633] Fetching file from saltenv 'base', ** skipped ** latest already in cache 'salt://files/munin/etc/munin/munin-htpasswd'
2016-10-20 00:48:01,088 [salt.fileclient  ][DEBUG   ][2633] In saltenv 'base', looking at rel_path 'files/munin/etc/munin/munin.conf' to resolve 'salt://files/munin/etc/munin/munin.conf'
2016-10-20 00:48:01,088 [salt.fileclient  ][DEBUG   ][2633] In saltenv 'base', ** considering ** path '/root/saltstack_master/var/cache/salt/master/salt-ssh/munin/files/base/files/munin/etc/munin/munin.conf' to resolve 'salt://files/munin/etc/munin/munin.conf'
2016-10-20 00:48:01,088 [salt.fileclient  ][INFO    ][2633] Fetching file from saltenv 'base', ** skipped ** latest already in cache 'salt://files/munin/etc/munin/munin.conf'
2016-10-20 00:48:01,089 [salt.fileclient  ][DEBUG   ][2633] In saltenv 'base', looking at rel_path 'files/munin/etc/httpd/conf/httpd.conf_v7' to resolve 'salt://files/munin/etc/httpd/conf/httpd.conf_v7'
2016-10-20 00:48:01,090 [salt.fileclient  ][DEBUG   ][2633] In saltenv 'base', ** considering ** path '/root/saltstack_master/var/cache/salt/master/salt-ssh/munin/files/base/files/munin/etc/httpd/conf/httpd.conf_v7' to resolve 'salt://files/munin/etc/httpd/conf/httpd.conf_v7'
2016-10-20 00:48:01,090 [salt.fileclient  ][INFO    ][2633] Fetching file from saltenv 'base', ** skipped ** latest already in cache 'salt://files/munin/etc/httpd/conf/httpd.conf_v7'
2016-10-20 00:48:01,091 [salt.fileclient  ][DEBUG   ][2633] In saltenv 'base', looking at rel_path 'files/munin/etc/httpd/conf.d/munin.conf' to resolve 'salt://files/munin/etc/httpd/conf.d/munin.conf'
2016-10-20 00:48:01,092 [salt.fileclient  ][DEBUG   ][2633] In saltenv 'base', ** considering ** path '/root/saltstack_master/var/cache/salt/master/salt-ssh/munin/files/base/files/munin/etc/httpd/conf.d/munin.conf' to resolve 'salt://files/munin/etc/httpd/conf.d/munin.conf'
2016-10-20 00:48:01,092 [salt.fileclient  ][INFO    ][2633] Fetching file from saltenv 'base', ** skipped ** latest already in cache 'salt://files/munin/etc/httpd/conf.d/munin.conf'
2016-10-20 00:48:01,093 [salt.fileclient  ][DEBUG   ][2633] In saltenv 'base', looking at rel_path 'files/munin/etc/httpd/conf.d/fcgid.conf_v7' to resolve 'salt://files/munin/etc/httpd/conf.d/fcgid.conf_v7'
2016-10-20 00:48:01,094 [salt.fileclient  ][DEBUG   ][2633] In saltenv 'base', ** considering ** path '/root/saltstack_master/var/cache/salt/master/salt-ssh/munin/files/base/files/munin/etc/httpd/conf.d/fcgid.conf_v7' to resolve 'salt://files/munin/etc/httpd/conf.d/fcgid.conf_v7'
2016-10-20 00:48:01,094 [salt.fileclient  ][INFO    ][2633] Fetching file from saltenv 'base', ** skipped ** latest already in cache 'salt://files/munin/etc/httpd/conf.d/fcgid.conf_v7'
2016-10-20 00:48:01,095 [salt.fileclient  ][DEBUG   ][2633] Could not find file from saltenv 'base', 'salt://_modules'
2016-10-20 00:48:01,095 [salt.fileclient  ][INFO    ][2633] Caching directory '_modules/' for environment 'base'
2016-10-20 00:48:01,095 [salt.fileserver  ][TRACE   ][2633] Lockfile /root/saltstack_master/var/cache/salt/master/file_lists/roots/.base.w created
2016-10-20 00:48:01,100 [salt.fileserver  ][TRACE   ][2633] Lockfile /root/saltstack_master/var/cache/salt/master/file_lists/roots/.base.w removed
2016-10-20 00:48:01,101 [salt.fileclient  ][DEBUG   ][2633] In saltenv 'base', looking at rel_path '_modules/custom_munin.py' to resolve 'salt://_modules/custom_munin.py'
2016-10-20 00:48:01,102 [salt.fileclient  ][DEBUG   ][2633] In saltenv 'base', ** considering ** path '/root/saltstack_master/var/cache/salt/master/salt-ssh/munin/files/base/_modules/custom_munin.py' to resolve 'salt://_modules/custom_munin.py'
2016-10-20 00:48:01,102 [salt.fileclient  ][INFO    ][2633] Fetching file from saltenv 'base', ** skipped ** latest already in cache 'salt://_modules/custom_munin.py'
2016-10-20 00:48:01,103 [salt.fileclient  ][DEBUG   ][2633] Could not find file from saltenv 'base', 'salt://_states'
2016-10-20 00:48:01,103 [salt.fileclient  ][INFO    ][2633] Caching directory '_states/' for environment 'base'
2016-10-20 00:48:01,103 [salt.fileserver  ][TRACE   ][2633] Returning file_lists cache data from /root/saltstack_master/var/cache/salt/master/file_lists/roots/base.p
2016-10-20 00:48:01,104 [salt.fileclient  ][DEBUG   ][2633] Could not find file from saltenv 'base', 'salt://_grains'
2016-10-20 00:48:01,104 [salt.fileclient  ][INFO    ][2633] Caching directory '_grains/' for environment 'base'
2016-10-20 00:48:01,105 [salt.fileserver  ][TRACE   ][2633] Returning file_lists cache data from /root/saltstack_master/var/cache/salt/master/file_lists/roots/base.p
2016-10-20 00:48:01,106 [salt.fileclient  ][DEBUG   ][2633] Could not find file from saltenv 'base', 'salt://_renderers'
2016-10-20 00:48:01,106 [salt.fileclient  ][INFO    ][2633] Caching directory '_renderers/' for environment 'base'
2016-10-20 00:48:01,106 [salt.fileserver  ][TRACE   ][2633] Returning file_lists cache data from /root/saltstack_master/var/cache/salt/master/file_lists/roots/base.p
2016-10-20 00:48:01,107 [salt.fileclient  ][DEBUG   ][2633] Could not find file from saltenv 'base', 'salt://_returners'
2016-10-20 00:48:01,107 [salt.fileclient  ][INFO    ][2633] Caching directory '_returners/' for environment 'base'
2016-10-20 00:48:01,108 [salt.fileserver  ][TRACE   ][2633] Returning file_lists cache data from /root/saltstack_master/var/cache/salt/master/file_lists/roots/base.p
2016-10-20 00:48:01,108 [salt.fileclient  ][DEBUG   ][2633] Could not find file from saltenv 'base', 'salt://_output'
2016-10-20 00:48:01,109 [salt.fileclient  ][INFO    ][2633] Caching directory '_output/' for environment 'base'
2016-10-20 00:48:01,109 [salt.fileserver  ][TRACE   ][2633] Returning file_lists cache data from /root/saltstack_master/var/cache/salt/master/file_lists/roots/base.p
2016-10-20 00:48:01,110 [salt.fileclient  ][DEBUG   ][2633] Could not find file from saltenv 'base', 'salt://_utils'
2016-10-20 00:48:01,110 [salt.fileclient  ][INFO    ][2633] Caching directory '_utils/' for environment 'base'
2016-10-20 00:48:01,110 [salt.fileserver  ][TRACE   ][2633] Returning file_lists cache data from /root/saltstack_master/var/cache/salt/master/file_lists/roots/base.p
2016-10-20 00:48:01,151 [salt.client.ssh.shell][DEBUG   ][2633] Executing command: scp   -o KbdInteractiveAuthentication=no -o PasswordAuthentication=yes -o GSSAPIAuthentication=no -o ConnectTimeout=65 -o Port=22 -o IdentityFile=/root/saltstack_master/etc/salt/pki/master/ssh/salt-ssh.rsa -o User=******  /tmp/tmpTYfrnr 192.168.1.15:/var/tmp/.******_1a3532_salt/salt_state.tgz
2016-10-20 00:48:01,156 [salt.utils.vt    ][DEBUG   ][2633] Child Forked! PID: 2646  STDOUT_FD: 9  STDERR_FD: 11
2016-10-20 00:48:01,157 [salt.utils.vt    ][DEBUG   ][2633] Terminal Command: /bin/sh -c scp   -o KbdInteractiveAuthentication=no -o PasswordAuthentication=yes -o GSSAPIAuthentication=no -o ConnectTimeout=65 -o Port=22 -o IdentityFile=/root/saltstack_master/etc/salt/pki/master/ssh/salt-ssh.rsa -o User=salt-ope  /tmp/tmpTYfrnr 192.168.1.15:/var/tmp/.salt-ope_1a3532_salt/salt_state.tgz
2016-10-20 00:48:01,264 [salt.utils.vt.Terminal.PID-2646.STDOUT][TRACE   ][2633] salt-ope@192.168.1.15's password:
2016-10-20 00:48:01,326 [salt.utils.vt.Terminal.PID-2646.STDOUT][TRACE   ][2633] tmpTYfrnr                                       0%    0     0.0KB/s   --:-- ETAtmpTYfrnr                                     100% 5396     5.3KB/s   00:00
2016-10-20 00:48:01,548 [salt.client.ssh  ][DEBUG   ][2633] Performing shimmed, blocking command as follows:
state.pkg /var/tmp/.salt-ope_1a3532_salt/salt_state.tgz test=True pkg_sum=4e46b346d59f6b064e4a586525d38440 hash_type=md5
2016-10-20 00:48:01,570 [salt.client.ssh.shell][DEBUG   ][2633] Executed SHIM command. Command logged to TRACE
2016-10-20 00:48:01,571 [salt.client.ssh.shell][TRACE   ][2633] Executing command: ssh 192.168.1.15  -o KbdInteractiveAuthentication=no -o PasswordAuthentication=yes -o GSSAPIAuthentication=no -o ConnectTimeout=65 -o Port=22 -o IdentityFile=/root/saltstack_master/etc/salt/pki/master/ssh/salt-ssh.rsa -o User=******  /bin/sh << 'EOF'
set -e
set -u
DEBUG=""
if [ -n "$DEBUG" ]
then set -x
fi
SUDO=""
if [ -n "sudo" ]
then SUDO="sudo "
fi
EX_PYTHON_INVALID=10
PYTHON_CMDS="python3 python27 python2.7 python26 python2.6 python2 python"
for py_cmd in $PYTHON_CMDS
do
if command -v "$py_cmd" >/dev/null 2>&1 && "$py_cmd" -c \
"import sys; sys.exit(not (sys.version_info >= (2, 6)
and sys.version_info[0] == 2));"
then
py_cmd_path=`"$py_cmd" -c \
'from __future__ import print_function;
import sys; print(sys.executable);'`
cmdpath=$(which $py_cmd 2>&1)
if file $cmdpath | grep "shell script" > /dev/null
then
ex_vars="'PATH', 'LD_LIBRARY_PATH', 'MANPATH', \
'XDG_DATA_DIRS', 'PKG_CONFIG_PATH'"
export $($py_cmd -c \
"from __future__ import print_function;
import sys;
import os;
map(sys.stdout.write, ['{0}={1} ' \
.format(x, os.environ[x]) for x in [$ex_vars]])")
exec $SUDO PATH=$PATH LD_LIBRARY_PATH=$LD_LIBRARY_PATH \
MANPATH=$MANPATH XDG_DATA_DIRS=$XDG_DATA_DIRS \
PKG_CONFIG_PATH=$PKG_CONFIG_PATH \
"$py_cmd_path" -c \
'import base64;
exec(base64.b64decode("""IyBweWxpbnQ6IGRpc2FibGU9Vzk5MDMKJycnClRoaXMgaXMgYSBzaGltIHRoYXQgaGFuZGxlcyBj
aGVja2luZyBhbmQgdXBkYXRpbmcgc2FsdCB0aGluIGFuZAp0aGVuIGludm9raW5nIHRoaW4uCgpU
aGlzIGlzIG5vdCBpbnRlbmRlZCB0byBiZSBpbnN0YW50aWF0ZWQgYXMgYSBtb2R1bGUsIHJhdGhl
ciBpdCBpcyBhCmhlbHBlciBzY3JpcHQgdXNlZCBieSBzYWx0LmNsaWVudC5zc2guU2luZ2xlLiAg
SXQgaXMgaGVyZSwgaW4gYQpzZXBhcmF0ZSBmaWxlLCBmb3IgY29udmVuaWVuY2Ugb2YgZGV2ZWxv
cG1lbnQuCicnJwoKZnJvbSBfX2Z1dHVyZV9fIGltcG9ydCBhYnNvbHV0ZV9pbXBvcnQKCmltcG9y
dCBoYXNobGliCmltcG9ydCB0YXJmaWxlCmltcG9ydCBzaHV0aWwKaW1wb3J0IHN5cwppbXBvcnQg
b3MKaW1wb3J0IHN0YXQKaW1wb3J0IHN1YnByb2Nlc3MKClRISU5fQVJDSElWRSA9ICdzYWx0LXRo
aW4udGd6JwpFWFRfQVJDSElWRSA9ICdzYWx0LWV4dF9tb2RzLnRneicKCiMgS2VlcCB0aGVzZSBp
biBzeW5jIHdpdGggc2FsdC9kZWZhdWx0cy9leGl0Y29kZXMucHkKRVhfVEhJTl9ERVBMT1kgPSAx
MQpFWF9USElOX0NIRUNLU1VNID0gMTIKRVhfTU9EX0RFUExPWSA9IDEzCkVYX1NDUF9OT1RfRk9V
TkQgPSAxNApFWF9DQU5UQ1JFQVQgPSA3MwoKCmNsYXNzIE9CSihvYmplY3QpOgogICAgIiIiQW4g
ZW1wdHkgY2xhc3MgZm9yIGhvbGRpbmcgaW5zdGFuY2UgYXR0cmlidXRlIHZhbHVlcy4iIiIKICAg
IHBhc3MKCgpPUFRJT05TID0gTm9uZQpBUkdTID0gTm9uZQojIFRoZSBiZWxvdyBsaW5lIGlzIHdo
ZXJlIE9QVElPTlMgY2FuIGJlIHJlZGVmaW5lZCB3aXRoIGludGVybmFsIG9wdGlvbnMKIyAocmF0
aGVyIHRoYW4gY2xpIGFyZ3VtZW50cykgd2hlbiB0aGUgc2hpbSBpcyBidW5kbGVkIGJ5CiMgY2xp
ZW50LnNzaC5TaW5nbGUuX2NtZF9zdHIoKQojIHB5bGludDogZGlzYWJsZT1ibG9jay1jb21tZW50
LXNob3VsZC1zdGFydC13aXRoLWNhcmRpbmFsLXNwYWNlCgpPUFRJT05TID0gT0JKKCkKT1BUSU9O
Uy5jb25maWcgPSAiIiIKe2ZpbGVzZXJ2ZXJfbGlzdF9jYWNoZV90aW1lOiAzLCBncmFpbnNfY2Fj
aGU6IHRydWUsIGlkOiBtdW5pbiwgbG9nX2ZpbGU6IHNhbHQtY2FsbC5sb2csCiAgcm9vdF9kaXI6
IC92YXIvdG1wLy5zYWx0LW9wZV8xYTM1MzJfc2FsdC9ydW5uaW5nX2RhdGEsIHNvY2tfZGlyOiAv
fQoiIiIKT1BUSU9OUy5kZWxpbWl0ZXIgPSAnX2VkYmM3ODg1ZTRmOWFhYzliODNiMzU5OTliNjhk
MDE1MTQ4Y2FmNDY3Yjc4ZmEzOWMwNWY2NjljMGZmODk4NzgnCk9QVElPTlMuc2FsdGRpciA9ICcv
dmFyL3RtcC8uc2FsdC1vcGVfMWEzNTMyX3NhbHQnCk9QVElPTlMuY2hlY2tzdW0gPSAnOTg1MjZk
OTliMWU3YjA3OWRjZWZjZWM5ZmE1Yjg1MWZmYmY5ODEzZCcKT1BUSU9OUy5oYXNoZnVuYyA9ICdz
aGExJwpPUFRJT05TLnZlcnNpb24gPSAnMjAxNi4zLjInCk9QVElPTlMuZXh0X21vZHMgPSAnJwpP
UFRJT05TLndpcGUgPSBUcnVlCk9QVElPTlMudHR5ID0gRmFsc2UKT1BUSU9OUy5jbWRfdW1hc2sg
PSBOb25lCkFSR1MgPSBbJ3N0YXRlLnBrZyAvdmFyL3RtcC8uc2FsdC1vcGVfMWEzNTMyX3NhbHQv
c2FsdF9zdGF0ZS50Z3ogdGVzdD1UcnVlIHBrZ19zdW09NGU0NmIzNDZkNTlmNmIwNjRlNGE1ODY1
MjVkMzg0NDAgaGFzaF90eXBlPW1kNSddCgoKCmRlZiBuZWVkX2RlcGxveW1lbnQoKToKICAgICIi
IgogICAgU2FsdCB0aGluIG5lZWRzIHRvIGJlIGRlcGxveWVkIC0gcHJlcCB0aGUgdGFyZ2V0IGRp
cmVjdG9yeSBhbmQgZW1pdCB0aGUKICAgIGRlbGltZXRlciBhbmQgZXhpdCBjb2RlIHRoYXQgc2ln
bmFscyBhIHJlcXVpcmVkIGRlcGxveW1lbnQuCiAgICAiIiIKICAgIGlmIG9zLnBhdGguZXhpc3Rz
KE9QVElPTlMuc2FsdGRpcik6CiAgICAgICAgc2h1dGlsLnJtdHJlZShPUFRJT05TLnNhbHRkaXIp
CiAgICBvbGRfdW1hc2sgPSBvcy51bWFzaygwbzA3NykKICAgIG9zLm1ha2VkaXJzKE9QVElPTlMu
c2FsdGRpcikKICAgIG9zLnVtYXNrKG9sZF91bWFzaykKICAgICMgVmVyaWZ5IHBlcm1zIG9uIHNh
bHRkaXIKICAgIGV1aWQgPSBvcy5nZXRldWlkKCkKICAgIGRzdGF0ID0gb3Muc3RhdChPUFRJT05T
LnNhbHRkaXIpCiAgICBpZiBkc3RhdC5zdF91aWQgIT0gZXVpZDoKICAgICAgICAjIEF0dGFjayBk
ZXRlY3RlZCwgdHJ5IGFnYWluCiAgICAgICAgbmVlZF9kZXBsb3ltZW50KCkKICAgIGlmIGRzdGF0
LnN0X21vZGUgIT0gMTY4MzI6CiAgICAgICAgIyBBdHRhY2sgZGV0ZWN0ZWQKICAgICAgICBuZWVk
X2RlcGxveW1lbnQoKQogICAgIyBJZiBTVURPaW5nIHRoZW4gYWxzbyBnaXZlIHRoZSBzdXBlciB1
c2VyIGdyb3VwIHdyaXRlIHBlcm1pc3Npb25zCiAgICBzdWRvX2dpZCA9IG9zLmVudmlyb24uZ2V0
KCdTVURPX0dJRCcpCiAgICBpZiBzdWRvX2dpZDoKICAgICAgICBvcy5jaG93bihPUFRJT05TLnNh
bHRkaXIsIC0xLCBpbnQoc3Vkb19naWQpKQogICAgICAgIHN0dCA9IG9zLnN0YXQoT1BUSU9OUy5z
YWx0ZGlyKQogICAgICAgIG9zLmNobW9kKE9QVElPTlMuc2FsdGRpciwgc3R0LnN0X21vZGUgfCBz
dGF0LlNfSVdHUlAgfCBzdGF0LlNfSVJHUlAgfCBzdGF0LlNfSVhHUlApCgogICAgIyBEZWxpbWl0
ZXIgZW1pdHRlZCBvbiBzdGRvdXQgKm9ubHkqIHRvIGluZGljYXRlIHNoaW0gbWVzc2FnZSB0byBt
YXN0ZXIuCiAgICBzeXMuc3Rkb3V0LndyaXRlKCJ7MH1cbmRlcGxveVxuIi5mb3JtYXQoT1BUSU9O
Uy5kZWxpbWl0ZXIpKQogICAgc3lzLmV4aXQoRVhfVEhJTl9ERVBMT1kpCgoKIyBBZGFwdGVkIGZy
b20gc2FsdC51dGlscy5nZXRfaGFzaCgpCmRlZiBnZXRfaGFzaChwYXRoLCBmb3JtPSdzaGExJywg
Y2h1bmtfc2l6ZT00MDk2KToKICAgICIiIkdlbmVyYXRlIGEgaGFzaCBkaWdlc3Qgc3RyaW5nIGZv
ciBhIGZpbGUuIiIiCiAgICB0cnk6CiAgICAgICAgaGFzaF90eXBlID0gZ2V0YXR0cihoYXNobGli
LCBmb3JtKQogICAgZXhjZXB0IEF0dHJpYnV0ZUVycm9yOgogICAgICAgIHJhaXNlIFZhbHVlRXJy
b3IoJ0ludmFsaWQgaGFzaCB0eXBlOiB7MH0nLmZvcm1hdChmb3JtKSkKICAgIHdpdGggb3Blbihw
YXRoLCAncmInKSBhcyBpZmlsZToKICAgICAgICBoYXNoX29iaiA9IGhhc2hfdHlwZSgpCiAgICAg
ICAgIyByZWFkIHRoZSBmaWxlIGluIGluIGNodW5rcywgbm90IHRoZSBlbnRpcmUgZmlsZQogICAg
ICAgIGZvciBjaHVuayBpbiBpdGVyKGxhbWJkYTogaWZpbGUucmVhZChjaHVua19zaXplKSwgYicn
KToKICAgICAgICAgICAgaGFzaF9vYmoudXBkYXRlKGNodW5rKQogICAgICAgIHJldHVybiBoYXNo
X29iai5oZXhkaWdlc3QoKQoKCmRlZiB1bnBhY2tfdGhpbih0aGluX3BhdGgpOgogICAgIiIiVW5w
YWNrIHRoZSBTYWx0IHRoaW4gYXJjaGl2ZS4iIiIKICAgIHRmaWxlID0gdGFyZmlsZS5UYXJGaWxl
Lmd6b3Blbih0aGluX3BhdGgpCiAgICBvbGRfdW1hc2sgPSBvcy51bWFzaygwbzA3NykKICAgIHRm
aWxlLmV4dHJhY3RhbGwocGF0aD1PUFRJT05TLnNhbHRkaXIpCiAgICB0ZmlsZS5jbG9zZSgpCiAg
ICBvcy51bWFzayhvbGRfdW1hc2spCiAgICBvcy51bmxpbmsodGhpbl9wYXRoKQoKCmRlZiBuZWVk
X2V4dCgpOgogICAgIiIiU2lnbmFsIHRoYXQgZXh0ZXJuYWwgbW9kdWxlcyBuZWVkIHRvIGJlIGRl
cGxveWVkLiIiIgogICAgc3lzLnN0ZG91dC53cml0ZSgiezB9XG5leHRfbW9kc1xuIi5mb3JtYXQo
T1BUSU9OUy5kZWxpbWl0ZXIpKQogICAgc3lzLmV4aXQoRVhfTU9EX0RFUExPWSkKCgpkZWYgdW5w
YWNrX2V4dChleHRfcGF0aCk6CiAgICAiIiJVbnBhY2sgdGhlIGV4dGVybmFsIG1vZHVsZXMuIiIi
CiAgICBtb2RjYWNoZSA9IG9zLnBhdGguam9pbigKICAgICAgICAgICAgT1BUSU9OUy5zYWx0ZGly
LAogICAgICAgICAgICAncnVubmluZ19kYXRhJywKICAgICAgICAgICAgJ3ZhcicsCiAgICAgICAg
ICAgICdjYWNoZScsCiAgICAgICAgICAgICdzYWx0JywKICAgICAgICAgICAgJ21pbmlvbicsCiAg
ICAgICAgICAgICdleHRtb2RzJykKICAgIHRmaWxlID0gdGFyZmlsZS5UYXJGaWxlLmd6b3Blbihl
eHRfcGF0aCkKICAgIG9sZF91bWFzayA9IG9zLnVtYXNrKDBvMDc3KQogICAgdGZpbGUuZXh0cmFj
dGFsbChwYXRoPW1vZGNhY2hlKQogICAgdGZpbGUuY2xvc2UoKQogICAgb3MudW1hc2sob2xkX3Vt
YXNrKQogICAgb3MudW5saW5rKGV4dF9wYXRoKQogICAgdmVyX3BhdGggPSBvcy5wYXRoLmpvaW4o
bW9kY2FjaGUsICdleHRfdmVyc2lvbicpCiAgICB2ZXJfZHN0ID0gb3MucGF0aC5qb2luKE9QVElP
TlMuc2FsdGRpciwgJ2V4dF92ZXJzaW9uJykKICAgIHNodXRpbC5tb3ZlKHZlcl9wYXRoLCB2ZXJf
ZHN0KQoKCmRlZiBtYWluKGFyZ3YpOiAgIyBweWxpbnQ6IGRpc2FibGU9VzA2MTMKICAgICIiIk1h
aW4gcHJvZ3JhbSBib2R5IiIiCiAgICB0aGluX3BhdGggPSBvcy5wYXRoLmpvaW4oT1BUSU9OUy5z
YWx0ZGlyLCBUSElOX0FSQ0hJVkUpCiAgICBpZiBvcy5wYXRoLmlzZmlsZSh0aGluX3BhdGgpOgog
ICAgICAgIGlmIE9QVElPTlMuY2hlY2tzdW0gIT0gZ2V0X2hhc2godGhpbl9wYXRoLCBPUFRJT05T
Lmhhc2hmdW5jKToKICAgICAgICAgICAgc3lzLnN0ZGVyci53cml0ZSgnezB9XG4nLmZvcm1hdChP
UFRJT05TLmNoZWNrc3VtKSkKICAgICAgICAgICAgc3lzLnN0ZGVyci53cml0ZSgnezB9XG4nLmZv
cm1hdChnZXRfaGFzaCh0aGluX3BhdGgsIE9QVElPTlMuaGFzaGZ1bmMpKSkKICAgICAgICAgICAg
b3MudW5saW5rKHRoaW5fcGF0aCkKICAgICAgICAgICAgc3lzLnN0ZGVyci53cml0ZSgnV0FSTklO
RzogY2hlY2tzdW0gbWlzbWF0Y2ggZm9yICJ7MH0iXG4nLmZvcm1hdCh0aGluX3BhdGgpKQogICAg
ICAgICAgICBzeXMuZXhpdChFWF9USElOX0NIRUNLU1VNKQogICAgICAgIHVucGFja190aGluKHRo
aW5fcGF0aCkKICAgICAgICAjIFNhbHQgdGhpbiBub3cgaXMgYXZhaWxhYmxlIHRvIHVzZQogICAg
ZWxzZToKICAgICAgICBzY3BzdGF0ID0gc3VicHJvY2Vzcy5Qb3BlbihbJy9iaW4vc2gnLCAnLWMn
LCAnY29tbWFuZCAtdiBzY3AnXSkud2FpdCgpCiAgICAgICAgaWYgc2Nwc3RhdCAhPSAwOgogICAg
ICAgICAgICBzeXMuZXhpdChFWF9TQ1BfTk9UX0ZPVU5EKQoKICAgICAgICBpZiBub3Qgb3MucGF0
aC5leGlzdHMoT1BUSU9OUy5zYWx0ZGlyKToKICAgICAgICAgICAgbmVlZF9kZXBsb3ltZW50KCkK
CiAgICAgICAgaWYgbm90IG9zLnBhdGguaXNkaXIoT1BUSU9OUy5zYWx0ZGlyKToKICAgICAgICAg
ICAgc3lzLnN0ZGVyci53cml0ZSgKICAgICAgICAgICAgICAgICdFUlJPUjogc2FsdCBwYXRoICJ7
MH0iIGV4aXN0cyBidXQgaXMnCiAgICAgICAgICAgICAgICAnIG5vdCBhIGRpcmVjdG9yeVxuJy5m
b3JtYXQoT1BUSU9OUy5zYWx0ZGlyKQogICAgICAgICAgICApCiAgICAgICAgICAgIHN5cy5leGl0
KEVYX0NBTlRDUkVBVCkKCiAgICAgICAgdmVyc2lvbl9wYXRoID0gb3MucGF0aC5qb2luKE9QVElP
TlMuc2FsdGRpciwgJ3ZlcnNpb24nKQogICAgICAgIGlmIG5vdCBvcy5wYXRoLmV4aXN0cyh2ZXJz
aW9uX3BhdGgpIG9yIG5vdCBvcy5wYXRoLmlzZmlsZSh2ZXJzaW9uX3BhdGgpOgogICAgICAgICAg
ICBzeXMuc3RkZXJyLndyaXRlKAogICAgICAgICAgICAgICAgJ1dBUk5JTkc6IFVuYWJsZSB0byBs
b2NhdGUgY3VycmVudCB0aGluICcKICAgICAgICAgICAgICAgICcgdmVyc2lvbjogezB9LlxuJy5m
b3JtYXQodmVyc2lvbl9wYXRoKQogICAgICAgICAgICApCiAgICAgICAgICAgIG5lZWRfZGVwbG95
bWVudCgpCiAgICAgICAgd2l0aCBvcGVuKHZlcnNpb25fcGF0aCwgJ3InKSBhcyB2cG86CiAgICAg
ICAgICAgIGN1cl92ZXJzaW9uID0gdnBvLnJlYWRsaW5lKCkuc3RyaXAoKQogICAgICAgIGlmIGN1
cl92ZXJzaW9uICE9IE9QVElPTlMudmVyc2lvbjoKICAgICAgICAgICAgc3lzLnN0ZGVyci53cml0
ZSgKICAgICAgICAgICAgICAgICdXQVJOSU5HOiBjdXJyZW50IHRoaW4gdmVyc2lvbiB7MH0nCiAg
ICAgICAgICAgICAgICAnIGlzIG5vdCB1cC10by1kYXRlIHdpdGggezF9LlxuJy5mb3JtYXQoCiAg
ICAgICAgICAgICAgICAgICAgY3VyX3ZlcnNpb24sIE9QVElPTlMudmVyc2lvbgogICAgICAgICAg
ICAgICAgKQogICAgICAgICAgICApCiAgICAgICAgICAgIG5lZWRfZGVwbG95bWVudCgpCiAgICAg
ICAgIyBTYWx0IHRoaW4gZXhpc3RzIGFuZCBpcyB1cC10by1kYXRlIC0gZmFsbCB0aHJvdWdoIGFu
ZCB1c2UgaXQKCiAgICBzYWx0X2NhbGxfcGF0aCA9IG9zLnBhdGguam9pbihPUFRJT05TLnNhbHRk
aXIsICdzYWx0LWNhbGwnKQogICAgaWYgbm90IG9zLnBhdGguaXNmaWxlKHNhbHRfY2FsbF9wYXRo
KToKICAgICAgICBzeXMuc3RkZXJyLndyaXRlKCdFUlJPUjogdGhpbiBpcyBtaXNzaW5nICJ7MH0i
XG4nLmZvcm1hdChzYWx0X2NhbGxfcGF0aCkpCiAgICAgICAgbmVlZF9kZXBsb3ltZW50KCkKCiAg
ICB3aXRoIG9wZW4ob3MucGF0aC5qb2luKE9QVElPTlMuc2FsdGRpciwgJ21pbmlvbicpLCAndycp
IGFzIGNvbmZpZzoKICAgICAgICBjb25maWcud3JpdGUoT1BUSU9OUy5jb25maWcgKyAnXG4nKQog
ICAgaWYgT1BUSU9OUy5leHRfbW9kczoKICAgICAgICBleHRfcGF0aCA9IG9zLnBhdGguam9pbihP
UFRJT05TLnNhbHRkaXIsIEVYVF9BUkNISVZFKQogICAgICAgIGlmIG9zLnBhdGguZXhpc3RzKGV4
dF9wYXRoKToKICAgICAgICAgICAgdW5wYWNrX2V4dChleHRfcGF0aCkKICAgICAgICBlbHNlOgog
ICAgICAgICAgICB2ZXJzaW9uX3BhdGggPSBvcy5wYXRoLmpvaW4oT1BUSU9OUy5zYWx0ZGlyLCAn
ZXh0X3ZlcnNpb24nKQogICAgICAgICAgICBpZiBub3Qgb3MucGF0aC5leGlzdHModmVyc2lvbl9w
YXRoKSBvciBub3Qgb3MucGF0aC5pc2ZpbGUodmVyc2lvbl9wYXRoKToKICAgICAgICAgICAgICAg
IG5lZWRfZXh0KCkKICAgICAgICAgICAgd2l0aCBvcGVuKHZlcnNpb25fcGF0aCwgJ3InKSBhcyB2
cG86CiAgICAgICAgICAgICAgICBjdXJfdmVyc2lvbiA9IHZwby5yZWFkbGluZSgpLnN0cmlwKCkK
ICAgICAgICAgICAgaWYgY3VyX3ZlcnNpb24gIT0gT1BUSU9OUy5leHRfbW9kczoKICAgICAgICAg
ICAgICAgIG5lZWRfZXh0KCkKICAgICMgRml4IHBhcmFtZXRlciBwYXNzaW5nIGlzc3VlCiAgICBp
ZiBsZW4oQVJHUykgPT0gMToKICAgICAgICBhcmd2X3ByZXBhcmVkID0gQVJHU1swXS5zcGxpdCgp
CiAgICBlbHNlOgogICAgICAgIGFyZ3ZfcHJlcGFyZWQgPSBBUkdTCgogICAgc2FsdF9hcmd2ID0g
WwogICAgICAgIHN5cy5leGVjdXRhYmxlLAogICAgICAgIHNhbHRfY2FsbF9wYXRoLAogICAgICAg
ICctLXJldGNvZGUtcGFzc3Rocm91Z2gnLAogICAgICAgICctLWxvY2FsJywKICAgICAgICAnLS1t
ZXRhZGF0YScsCiAgICAgICAgJy0tb3V0JywgJ2pzb24nLAogICAgICAgICctbCcsICdxdWlldCcs
CiAgICAgICAgJy1jJywgT1BUSU9OUy5zYWx0ZGlyLAogICAgICAgICctLScsCiAgICBdICsgYXJn
dl9wcmVwYXJlZAoKICAgIHN5cy5zdGRlcnIud3JpdGUoJ1NBTFRfQVJHVjogezB9XG4nLmZvcm1h
dChzYWx0X2FyZ3YpKQoKICAgICMgT25seSBlbWl0IHRoZSBkZWxpbWl0ZXIgb24gKmJvdGgqIHN0
ZG91dCBhbmQgc3RkZXJyIHdoZW4gY29tcGxldGVseSBzdWNjZXNzZnVsLgogICAgIyBZZXMsIHRo
ZSBmbHVzaCgpIGlzIG5lY2Vzc2FyeS4KICAgIHN5cy5zdGRvdXQud3JpdGUoT1BUSU9OUy5kZWxp
bWl0ZXIgKyAnXG4nKQogICAgc3lzLnN0ZG91dC5mbHVzaCgpCiAgICBpZiBub3QgT1BUSU9OUy50
dHk6CiAgICAgICAgc3lzLnN0ZGVyci53cml0ZShPUFRJT05TLmRlbGltaXRlciArICdcbicpCiAg
ICAgICAgc3lzLnN0ZGVyci5mbHVzaCgpCiAgICBpZiBPUFRJT05TLmNtZF91bWFzayBpcyBub3Qg
Tm9uZToKICAgICAgICBvbGRfdW1hc2sgPSBvcy51bWFzayhPUFRJT05TLmNtZF91bWFzaykKICAg
IGlmIE9QVElPTlMudHR5OgogICAgICAgIHN0ZG91dCwgXyA9IHN1YnByb2Nlc3MuUG9wZW4oc2Fs
dF9hcmd2LCBzdGRvdXQ9c3VicHJvY2Vzcy5QSVBFLCBzdGRlcnI9c3VicHJvY2Vzcy5QSVBFKS5j
b21tdW5pY2F0ZSgpCiAgICAgICAgc3lzLnN0ZG91dC53cml0ZShzdGRvdXQpCiAgICAgICAgc3lz
LnN0ZG91dC5mbHVzaCgpCiAgICAgICAgaWYgT1BUSU9OUy53aXBlOgogICAgICAgICAgICBzaHV0
aWwucm10cmVlKE9QVElPTlMuc2FsdGRpcikKICAgIGVsaWYgT1BUSU9OUy53aXBlOgogICAgICAg
IHN1YnByb2Nlc3MuY2FsbChzYWx0X2FyZ3YpCiAgICAgICAgc2h1dGlsLnJtdHJlZShPUFRJT05T
LnNhbHRkaXIpCiAgICBlbHNlOgogICAgICAgIG9zLmV4ZWN2KHN5cy5leGVjdXRhYmxlLCBzYWx0
X2FyZ3YpCiAgICBpZiBPUFRJT05TLmNtZF91bWFzayBpcyBub3QgTm9uZToKICAgICAgICBvcy51
bWFzayhvbGRfdW1hc2spCgppZiBfX25hbWVfXyA9PSAnX19tYWluX18nOgogICAgc3lzLmV4aXQo
bWFpbihzeXMuYXJndikpCg==
""").decode("utf-8"))'
else
exec $SUDO "$py_cmd_path" -c \
'import base64;
exec(base64.b64decode("""IyBweWxpbnQ6IGRpc2FibGU9Vzk5MDMKJycnClRoaXMgaXMgYSBzaGltIHRoYXQgaGFuZGxlcyBj
aGVja2luZyBhbmQgdXBkYXRpbmcgc2FsdCB0aGluIGFuZAp0aGVuIGludm9raW5nIHRoaW4uCgpU
aGlzIGlzIG5vdCBpbnRlbmRlZCB0byBiZSBpbnN0YW50aWF0ZWQgYXMgYSBtb2R1bGUsIHJhdGhl
ciBpdCBpcyBhCmhlbHBlciBzY3JpcHQgdXNlZCBieSBzYWx0LmNsaWVudC5zc2guU2luZ2xlLiAg
SXQgaXMgaGVyZSwgaW4gYQpzZXBhcmF0ZSBmaWxlLCBmb3IgY29udmVuaWVuY2Ugb2YgZGV2ZWxv
cG1lbnQuCicnJwoKZnJvbSBfX2Z1dHVyZV9fIGltcG9ydCBhYnNvbHV0ZV9pbXBvcnQKCmltcG9y
dCBoYXNobGliCmltcG9ydCB0YXJmaWxlCmltcG9ydCBzaHV0aWwKaW1wb3J0IHN5cwppbXBvcnQg
b3MKaW1wb3J0IHN0YXQKaW1wb3J0IHN1YnByb2Nlc3MKClRISU5fQVJDSElWRSA9ICdzYWx0LXRo
aW4udGd6JwpFWFRfQVJDSElWRSA9ICdzYWx0LWV4dF9tb2RzLnRneicKCiMgS2VlcCB0aGVzZSBp
biBzeW5jIHdpdGggc2FsdC9kZWZhdWx0cy9leGl0Y29kZXMucHkKRVhfVEhJTl9ERVBMT1kgPSAx
MQpFWF9USElOX0NIRUNLU1VNID0gMTIKRVhfTU9EX0RFUExPWSA9IDEzCkVYX1NDUF9OT1RfRk9V
TkQgPSAxNApFWF9DQU5UQ1JFQVQgPSA3MwoKCmNsYXNzIE9CSihvYmplY3QpOgogICAgIiIiQW4g
ZW1wdHkgY2xhc3MgZm9yIGhvbGRpbmcgaW5zdGFuY2UgYXR0cmlidXRlIHZhbHVlcy4iIiIKICAg
IHBhc3MKCgpPUFRJT05TID0gTm9uZQpBUkdTID0gTm9uZQojIFRoZSBiZWxvdyBsaW5lIGlzIHdo
ZXJlIE9QVElPTlMgY2FuIGJlIHJlZGVmaW5lZCB3aXRoIGludGVybmFsIG9wdGlvbnMKIyAocmF0
aGVyIHRoYW4gY2xpIGFyZ3VtZW50cykgd2hlbiB0aGUgc2hpbSBpcyBidW5kbGVkIGJ5CiMgY2xp
ZW50LnNzaC5TaW5nbGUuX2NtZF9zdHIoKQojIHB5bGludDogZGlzYWJsZT1ibG9jay1jb21tZW50
LXNob3VsZC1zdGFydC13aXRoLWNhcmRpbmFsLXNwYWNlCgpPUFRJT05TID0gT0JKKCkKT1BUSU9O
Uy5jb25maWcgPSAiIiIKe2ZpbGVzZXJ2ZXJfbGlzdF9jYWNoZV90aW1lOiAzLCBncmFpbnNfY2Fj
aGU6IHRydWUsIGlkOiBtdW5pbiwgbG9nX2ZpbGU6IHNhbHQtY2FsbC5sb2csCiAgcm9vdF9kaXI6
IC92YXIvdG1wLy5zYWx0LW9wZV8xYTM1MzJfc2FsdC9ydW5uaW5nX2RhdGEsIHNvY2tfZGlyOiAv
fQoiIiIKT1BUSU9OUy5kZWxpbWl0ZXIgPSAnX2VkYmM3ODg1ZTRmOWFhYzliODNiMzU5OTliNjhk
MDE1MTQ4Y2FmNDY3Yjc4ZmEzOWMwNWY2NjljMGZmODk4NzgnCk9QVElPTlMuc2FsdGRpciA9ICcv
dmFyL3RtcC8uc2FsdC1vcGVfMWEzNTMyX3NhbHQnCk9QVElPTlMuY2hlY2tzdW0gPSAnOTg1MjZk
OTliMWU3YjA3OWRjZWZjZWM5ZmE1Yjg1MWZmYmY5ODEzZCcKT1BUSU9OUy5oYXNoZnVuYyA9ICdz
aGExJwpPUFRJT05TLnZlcnNpb24gPSAnMjAxNi4zLjInCk9QVElPTlMuZXh0X21vZHMgPSAnJwpP
UFRJT05TLndpcGUgPSBUcnVlCk9QVElPTlMudHR5ID0gRmFsc2UKT1BUSU9OUy5jbWRfdW1hc2sg
PSBOb25lCkFSR1MgPSBbJ3N0YXRlLnBrZyAvdmFyL3RtcC8uc2FsdC1vcGVfMWEzNTMyX3NhbHQv
c2FsdF9zdGF0ZS50Z3ogdGVzdD1UcnVlIHBrZ19zdW09NGU0NmIzNDZkNTlmNmIwNjRlNGE1ODY1
MjVkMzg0NDAgaGFzaF90eXBlPW1kNSddCgoKCmRlZiBuZWVkX2RlcGxveW1lbnQoKToKICAgICIi
IgogICAgU2FsdCB0aGluIG5lZWRzIHRvIGJlIGRlcGxveWVkIC0gcHJlcCB0aGUgdGFyZ2V0IGRp
cmVjdG9yeSBhbmQgZW1pdCB0aGUKICAgIGRlbGltZXRlciBhbmQgZXhpdCBjb2RlIHRoYXQgc2ln
bmFscyBhIHJlcXVpcmVkIGRlcGxveW1lbnQuCiAgICAiIiIKICAgIGlmIG9zLnBhdGguZXhpc3Rz
KE9QVElPTlMuc2FsdGRpcik6CiAgICAgICAgc2h1dGlsLnJtdHJlZShPUFRJT05TLnNhbHRkaXIp
CiAgICBvbGRfdW1hc2sgPSBvcy51bWFzaygwbzA3NykKICAgIG9zLm1ha2VkaXJzKE9QVElPTlMu
c2FsdGRpcikKICAgIG9zLnVtYXNrKG9sZF91bWFzaykKICAgICMgVmVyaWZ5IHBlcm1zIG9uIHNh
bHRkaXIKICAgIGV1aWQgPSBvcy5nZXRldWlkKCkKICAgIGRzdGF0ID0gb3Muc3RhdChPUFRJT05T
LnNhbHRkaXIpCiAgICBpZiBkc3RhdC5zdF91aWQgIT0gZXVpZDoKICAgICAgICAjIEF0dGFjayBk
ZXRlY3RlZCwgdHJ5IGFnYWluCiAgICAgICAgbmVlZF9kZXBsb3ltZW50KCkKICAgIGlmIGRzdGF0
LnN0X21vZGUgIT0gMTY4MzI6CiAgICAgICAgIyBBdHRhY2sgZGV0ZWN0ZWQKICAgICAgICBuZWVk
X2RlcGxveW1lbnQoKQogICAgIyBJZiBTVURPaW5nIHRoZW4gYWxzbyBnaXZlIHRoZSBzdXBlciB1
c2VyIGdyb3VwIHdyaXRlIHBlcm1pc3Npb25zCiAgICBzdWRvX2dpZCA9IG9zLmVudmlyb24uZ2V0
KCdTVURPX0dJRCcpCiAgICBpZiBzdWRvX2dpZDoKICAgICAgICBvcy5jaG93bihPUFRJT05TLnNh
bHRkaXIsIC0xLCBpbnQoc3Vkb19naWQpKQogICAgICAgIHN0dCA9IG9zLnN0YXQoT1BUSU9OUy5z
YWx0ZGlyKQogICAgICAgIG9zLmNobW9kKE9QVElPTlMuc2FsdGRpciwgc3R0LnN0X21vZGUgfCBz
dGF0LlNfSVdHUlAgfCBzdGF0LlNfSVJHUlAgfCBzdGF0LlNfSVhHUlApCgogICAgIyBEZWxpbWl0
ZXIgZW1pdHRlZCBvbiBzdGRvdXQgKm9ubHkqIHRvIGluZGljYXRlIHNoaW0gbWVzc2FnZSB0byBt
YXN0ZXIuCiAgICBzeXMuc3Rkb3V0LndyaXRlKCJ7MH1cbmRlcGxveVxuIi5mb3JtYXQoT1BUSU9O
Uy5kZWxpbWl0ZXIpKQogICAgc3lzLmV4aXQoRVhfVEhJTl9ERVBMT1kpCgoKIyBBZGFwdGVkIGZy
b20gc2FsdC51dGlscy5nZXRfaGFzaCgpCmRlZiBnZXRfaGFzaChwYXRoLCBmb3JtPSdzaGExJywg
Y2h1bmtfc2l6ZT00MDk2KToKICAgICIiIkdlbmVyYXRlIGEgaGFzaCBkaWdlc3Qgc3RyaW5nIGZv
ciBhIGZpbGUuIiIiCiAgICB0cnk6CiAgICAgICAgaGFzaF90eXBlID0gZ2V0YXR0cihoYXNobGli
LCBmb3JtKQogICAgZXhjZXB0IEF0dHJpYnV0ZUVycm9yOgogICAgICAgIHJhaXNlIFZhbHVlRXJy
b3IoJ0ludmFsaWQgaGFzaCB0eXBlOiB7MH0nLmZvcm1hdChmb3JtKSkKICAgIHdpdGggb3Blbihw
YXRoLCAncmInKSBhcyBpZmlsZToKICAgICAgICBoYXNoX29iaiA9IGhhc2hfdHlwZSgpCiAgICAg
ICAgIyByZWFkIHRoZSBmaWxlIGluIGluIGNodW5rcywgbm90IHRoZSBlbnRpcmUgZmlsZQogICAg
ICAgIGZvciBjaHVuayBpbiBpdGVyKGxhbWJkYTogaWZpbGUucmVhZChjaHVua19zaXplKSwgYicn
KToKICAgICAgICAgICAgaGFzaF9vYmoudXBkYXRlKGNodW5rKQogICAgICAgIHJldHVybiBoYXNo
X29iai5oZXhkaWdlc3QoKQoKCmRlZiB1bnBhY2tfdGhpbih0aGluX3BhdGgpOgogICAgIiIiVW5w
YWNrIHRoZSBTYWx0IHRoaW4gYXJjaGl2ZS4iIiIKICAgIHRmaWxlID0gdGFyZmlsZS5UYXJGaWxl
Lmd6b3Blbih0aGluX3BhdGgpCiAgICBvbGRfdW1hc2sgPSBvcy51bWFzaygwbzA3NykKICAgIHRm
aWxlLmV4dHJhY3RhbGwocGF0aD1PUFRJT05TLnNhbHRkaXIpCiAgICB0ZmlsZS5jbG9zZSgpCiAg
ICBvcy51bWFzayhvbGRfdW1hc2spCiAgICBvcy51bmxpbmsodGhpbl9wYXRoKQoKCmRlZiBuZWVk
X2V4dCgpOgogICAgIiIiU2lnbmFsIHRoYXQgZXh0ZXJuYWwgbW9kdWxlcyBuZWVkIHRvIGJlIGRl
cGxveWVkLiIiIgogICAgc3lzLnN0ZG91dC53cml0ZSgiezB9XG5leHRfbW9kc1xuIi5mb3JtYXQo
T1BUSU9OUy5kZWxpbWl0ZXIpKQogICAgc3lzLmV4aXQoRVhfTU9EX0RFUExPWSkKCgpkZWYgdW5w
YWNrX2V4dChleHRfcGF0aCk6CiAgICAiIiJVbnBhY2sgdGhlIGV4dGVybmFsIG1vZHVsZXMuIiIi
CiAgICBtb2RjYWNoZSA9IG9zLnBhdGguam9pbigKICAgICAgICAgICAgT1BUSU9OUy5zYWx0ZGly
LAogICAgICAgICAgICAncnVubmluZ19kYXRhJywKICAgICAgICAgICAgJ3ZhcicsCiAgICAgICAg
ICAgICdjYWNoZScsCiAgICAgICAgICAgICdzYWx0JywKICAgICAgICAgICAgJ21pbmlvbicsCiAg
ICAgICAgICAgICdleHRtb2RzJykKICAgIHRmaWxlID0gdGFyZmlsZS5UYXJGaWxlLmd6b3Blbihl
eHRfcGF0aCkKICAgIG9sZF91bWFzayA9IG9zLnVtYXNrKDBvMDc3KQogICAgdGZpbGUuZXh0cmFj
dGFsbChwYXRoPW1vZGNhY2hlKQogICAgdGZpbGUuY2xvc2UoKQogICAgb3MudW1hc2sob2xkX3Vt
YXNrKQogICAgb3MudW5saW5rKGV4dF9wYXRoKQogICAgdmVyX3BhdGggPSBvcy5wYXRoLmpvaW4o
bW9kY2FjaGUsICdleHRfdmVyc2lvbicpCiAgICB2ZXJfZHN0ID0gb3MucGF0aC5qb2luKE9QVElP
TlMuc2FsdGRpciwgJ2V4dF92ZXJzaW9uJykKICAgIHNodXRpbC5tb3ZlKHZlcl9wYXRoLCB2ZXJf
ZHN0KQoKCmRlZiBtYWluKGFyZ3YpOiAgIyBweWxpbnQ6IGRpc2FibGU9VzA2MTMKICAgICIiIk1h
aW4gcHJvZ3JhbSBib2R5IiIiCiAgICB0aGluX3BhdGggPSBvcy5wYXRoLmpvaW4oT1BUSU9OUy5z
YWx0ZGlyLCBUSElOX0FSQ0hJVkUpCiAgICBpZiBvcy5wYXRoLmlzZmlsZSh0aGluX3BhdGgpOgog
ICAgICAgIGlmIE9QVElPTlMuY2hlY2tzdW0gIT0gZ2V0X2hhc2godGhpbl9wYXRoLCBPUFRJT05T
Lmhhc2hmdW5jKToKICAgICAgICAgICAgc3lzLnN0ZGVyci53cml0ZSgnezB9XG4nLmZvcm1hdChP
UFRJT05TLmNoZWNrc3VtKSkKICAgICAgICAgICAgc3lzLnN0ZGVyci53cml0ZSgnezB9XG4nLmZv
cm1hdChnZXRfaGFzaCh0aGluX3BhdGgsIE9QVElPTlMuaGFzaGZ1bmMpKSkKICAgICAgICAgICAg
b3MudW5saW5rKHRoaW5fcGF0aCkKICAgICAgICAgICAgc3lzLnN0ZGVyci53cml0ZSgnV0FSTklO
RzogY2hlY2tzdW0gbWlzbWF0Y2ggZm9yICJ7MH0iXG4nLmZvcm1hdCh0aGluX3BhdGgpKQogICAg
ICAgICAgICBzeXMuZXhpdChFWF9USElOX0NIRUNLU1VNKQogICAgICAgIHVucGFja190aGluKHRo
aW5fcGF0aCkKICAgICAgICAjIFNhbHQgdGhpbiBub3cgaXMgYXZhaWxhYmxlIHRvIHVzZQogICAg
ZWxzZToKICAgICAgICBzY3BzdGF0ID0gc3VicHJvY2Vzcy5Qb3BlbihbJy9iaW4vc2gnLCAnLWMn
LCAnY29tbWFuZCAtdiBzY3AnXSkud2FpdCgpCiAgICAgICAgaWYgc2Nwc3RhdCAhPSAwOgogICAg
ICAgICAgICBzeXMuZXhpdChFWF9TQ1BfTk9UX0ZPVU5EKQoKICAgICAgICBpZiBub3Qgb3MucGF0
aC5leGlzdHMoT1BUSU9OUy5zYWx0ZGlyKToKICAgICAgICAgICAgbmVlZF9kZXBsb3ltZW50KCkK
CiAgICAgICAgaWYgbm90IG9zLnBhdGguaXNkaXIoT1BUSU9OUy5zYWx0ZGlyKToKICAgICAgICAg
ICAgc3lzLnN0ZGVyci53cml0ZSgKICAgICAgICAgICAgICAgICdFUlJPUjogc2FsdCBwYXRoICJ7
MH0iIGV4aXN0cyBidXQgaXMnCiAgICAgICAgICAgICAgICAnIG5vdCBhIGRpcmVjdG9yeVxuJy5m
b3JtYXQoT1BUSU9OUy5zYWx0ZGlyKQogICAgICAgICAgICApCiAgICAgICAgICAgIHN5cy5leGl0
KEVYX0NBTlRDUkVBVCkKCiAgICAgICAgdmVyc2lvbl9wYXRoID0gb3MucGF0aC5qb2luKE9QVElP
TlMuc2FsdGRpciwgJ3ZlcnNpb24nKQogICAgICAgIGlmIG5vdCBvcy5wYXRoLmV4aXN0cyh2ZXJz
aW9uX3BhdGgpIG9yIG5vdCBvcy5wYXRoLmlzZmlsZSh2ZXJzaW9uX3BhdGgpOgogICAgICAgICAg
ICBzeXMuc3RkZXJyLndyaXRlKAogICAgICAgICAgICAgICAgJ1dBUk5JTkc6IFVuYWJsZSB0byBs
b2NhdGUgY3VycmVudCB0aGluICcKICAgICAgICAgICAgICAgICcgdmVyc2lvbjogezB9LlxuJy5m
b3JtYXQodmVyc2lvbl9wYXRoKQogICAgICAgICAgICApCiAgICAgICAgICAgIG5lZWRfZGVwbG95
bWVudCgpCiAgICAgICAgd2l0aCBvcGVuKHZlcnNpb25fcGF0aCwgJ3InKSBhcyB2cG86CiAgICAg
ICAgICAgIGN1cl92ZXJzaW9uID0gdnBvLnJlYWRsaW5lKCkuc3RyaXAoKQogICAgICAgIGlmIGN1
cl92ZXJzaW9uICE9IE9QVElPTlMudmVyc2lvbjoKICAgICAgICAgICAgc3lzLnN0ZGVyci53cml0
ZSgKICAgICAgICAgICAgICAgICdXQVJOSU5HOiBjdXJyZW50IHRoaW4gdmVyc2lvbiB7MH0nCiAg
ICAgICAgICAgICAgICAnIGlzIG5vdCB1cC10by1kYXRlIHdpdGggezF9LlxuJy5mb3JtYXQoCiAg
ICAgICAgICAgICAgICAgICAgY3VyX3ZlcnNpb24sIE9QVElPTlMudmVyc2lvbgogICAgICAgICAg
ICAgICAgKQogICAgICAgICAgICApCiAgICAgICAgICAgIG5lZWRfZGVwbG95bWVudCgpCiAgICAg
ICAgIyBTYWx0IHRoaW4gZXhpc3RzIGFuZCBpcyB1cC10by1kYXRlIC0gZmFsbCB0aHJvdWdoIGFu
ZCB1c2UgaXQKCiAgICBzYWx0X2NhbGxfcGF0aCA9IG9zLnBhdGguam9pbihPUFRJT05TLnNhbHRk
aXIsICdzYWx0LWNhbGwnKQogICAgaWYgbm90IG9zLnBhdGguaXNmaWxlKHNhbHRfY2FsbF9wYXRo
KToKICAgICAgICBzeXMuc3RkZXJyLndyaXRlKCdFUlJPUjogdGhpbiBpcyBtaXNzaW5nICJ7MH0i
XG4nLmZvcm1hdChzYWx0X2NhbGxfcGF0aCkpCiAgICAgICAgbmVlZF9kZXBsb3ltZW50KCkKCiAg
ICB3aXRoIG9wZW4ob3MucGF0aC5qb2luKE9QVElPTlMuc2FsdGRpciwgJ21pbmlvbicpLCAndycp
IGFzIGNvbmZpZzoKICAgICAgICBjb25maWcud3JpdGUoT1BUSU9OUy5jb25maWcgKyAnXG4nKQog
ICAgaWYgT1BUSU9OUy5leHRfbW9kczoKICAgICAgICBleHRfcGF0aCA9IG9zLnBhdGguam9pbihP
UFRJT05TLnNhbHRkaXIsIEVYVF9BUkNISVZFKQogICAgICAgIGlmIG9zLnBhdGguZXhpc3RzKGV4
dF9wYXRoKToKICAgICAgICAgICAgdW5wYWNrX2V4dChleHRfcGF0aCkKICAgICAgICBlbHNlOgog
ICAgICAgICAgICB2ZXJzaW9uX3BhdGggPSBvcy5wYXRoLmpvaW4oT1BUSU9OUy5zYWx0ZGlyLCAn
ZXh0X3ZlcnNpb24nKQogICAgICAgICAgICBpZiBub3Qgb3MucGF0aC5leGlzdHModmVyc2lvbl9w
YXRoKSBvciBub3Qgb3MucGF0aC5pc2ZpbGUodmVyc2lvbl9wYXRoKToKICAgICAgICAgICAgICAg
IG5lZWRfZXh0KCkKICAgICAgICAgICAgd2l0aCBvcGVuKHZlcnNpb25fcGF0aCwgJ3InKSBhcyB2
cG86CiAgICAgICAgICAgICAgICBjdXJfdmVyc2lvbiA9IHZwby5yZWFkbGluZSgpLnN0cmlwKCkK
ICAgICAgICAgICAgaWYgY3VyX3ZlcnNpb24gIT0gT1BUSU9OUy5leHRfbW9kczoKICAgICAgICAg
ICAgICAgIG5lZWRfZXh0KCkKICAgICMgRml4IHBhcmFtZXRlciBwYXNzaW5nIGlzc3VlCiAgICBp
ZiBsZW4oQVJHUykgPT0gMToKICAgICAgICBhcmd2X3ByZXBhcmVkID0gQVJHU1swXS5zcGxpdCgp
CiAgICBlbHNlOgogICAgICAgIGFyZ3ZfcHJlcGFyZWQgPSBBUkdTCgogICAgc2FsdF9hcmd2ID0g
WwogICAgICAgIHN5cy5leGVjdXRhYmxlLAogICAgICAgIHNhbHRfY2FsbF9wYXRoLAogICAgICAg
ICctLXJldGNvZGUtcGFzc3Rocm91Z2gnLAogICAgICAgICctLWxvY2FsJywKICAgICAgICAnLS1t
ZXRhZGF0YScsCiAgICAgICAgJy0tb3V0JywgJ2pzb24nLAogICAgICAgICctbCcsICdxdWlldCcs
CiAgICAgICAgJy1jJywgT1BUSU9OUy5zYWx0ZGlyLAogICAgICAgICctLScsCiAgICBdICsgYXJn
dl9wcmVwYXJlZAoKICAgIHN5cy5zdGRlcnIud3JpdGUoJ1NBTFRfQVJHVjogezB9XG4nLmZvcm1h
dChzYWx0X2FyZ3YpKQoKICAgICMgT25seSBlbWl0IHRoZSBkZWxpbWl0ZXIgb24gKmJvdGgqIHN0
ZG91dCBhbmQgc3RkZXJyIHdoZW4gY29tcGxldGVseSBzdWNjZXNzZnVsLgogICAgIyBZZXMsIHRo
ZSBmbHVzaCgpIGlzIG5lY2Vzc2FyeS4KICAgIHN5cy5zdGRvdXQud3JpdGUoT1BUSU9OUy5kZWxp
bWl0ZXIgKyAnXG4nKQogICAgc3lzLnN0ZG91dC5mbHVzaCgpCiAgICBpZiBub3QgT1BUSU9OUy50
dHk6CiAgICAgICAgc3lzLnN0ZGVyci53cml0ZShPUFRJT05TLmRlbGltaXRlciArICdcbicpCiAg
ICAgICAgc3lzLnN0ZGVyci5mbHVzaCgpCiAgICBpZiBPUFRJT05TLmNtZF91bWFzayBpcyBub3Qg
Tm9uZToKICAgICAgICBvbGRfdW1hc2sgPSBvcy51bWFzayhPUFRJT05TLmNtZF91bWFzaykKICAg
IGlmIE9QVElPTlMudHR5OgogICAgICAgIHN0ZG91dCwgXyA9IHN1YnByb2Nlc3MuUG9wZW4oc2Fs
dF9hcmd2LCBzdGRvdXQ9c3VicHJvY2Vzcy5QSVBFLCBzdGRlcnI9c3VicHJvY2Vzcy5QSVBFKS5j
b21tdW5pY2F0ZSgpCiAgICAgICAgc3lzLnN0ZG91dC53cml0ZShzdGRvdXQpCiAgICAgICAgc3lz
LnN0ZG91dC5mbHVzaCgpCiAgICAgICAgaWYgT1BUSU9OUy53aXBlOgogICAgICAgICAgICBzaHV0
aWwucm10cmVlKE9QVElPTlMuc2FsdGRpcikKICAgIGVsaWYgT1BUSU9OUy53aXBlOgogICAgICAg
IHN1YnByb2Nlc3MuY2FsbChzYWx0X2FyZ3YpCiAgICAgICAgc2h1dGlsLnJtdHJlZShPUFRJT05T
LnNhbHRkaXIpCiAgICBlbHNlOgogICAgICAgIG9zLmV4ZWN2KHN5cy5leGVjdXRhYmxlLCBzYWx0
X2FyZ3YpCiAgICBpZiBPUFRJT05TLmNtZF91bWFzayBpcyBub3QgTm9uZToKICAgICAgICBvcy51
bWFzayhvbGRfdW1hc2spCgppZiBfX25hbWVfXyA9PSAnX19tYWluX18nOgogICAgc3lzLmV4aXQo
bWFpbihzeXMuYXJndikpCg==
""").decode("utf-8"))'
fi
exit 0
else
continue
fi
done
echo "ERROR: Unable to locate appropriate python command" >&2
exit $EX_PYTHON_INVALID
EOF
2016-10-20 00:48:01,579 [salt.utils.vt    ][DEBUG   ][2633] Child Forked! PID: 2648  STDOUT_FD: 9  STDERR_FD: 11
2016-10-20 00:48:01,580 [salt.utils.vt    ][DEBUG   ][2633] VT: Salt-SSH SHIM Terminal Command executed. Logged to TRACE
2016-10-20 00:48:01,584 [salt.utils.vt    ][TRACE   ][2633] Terminal Command: /bin/sh -c ssh 192.168.1.15  -o KbdInteractiveAuthentication=no -o PasswordAuthentication=yes -o GSSAPIAuthentication=no -o ConnectTimeout=65 -o Port=22 -o IdentityFile=/root/saltstack_master/etc/salt/pki/master/ssh/salt-ssh.rsa -o User=salt-ope  /bin/sh << 'EOF'
set -e
set -u
DEBUG=""
if [ -n "$DEBUG" ]
then set -x
fi
SUDO=""
if [ -n "sudo" ]
then SUDO="sudo "
fi
EX_PYTHON_INVALID=10
PYTHON_CMDS="python3 python27 python2.7 python26 python2.6 python2 python"
for py_cmd in $PYTHON_CMDS
do
if command -v "$py_cmd" >/dev/null 2>&1 && "$py_cmd" -c \
"import sys; sys.exit(not (sys.version_info >= (2, 6)
and sys.version_info[0] == 2));"
then
py_cmd_path=`"$py_cmd" -c \
'from __future__ import print_function;
import sys; print(sys.executable);'`
cmdpath=$(which $py_cmd 2>&1)
if file $cmdpath | grep "shell script" > /dev/null
then
ex_vars="'PATH', 'LD_LIBRARY_PATH', 'MANPATH', \
'XDG_DATA_DIRS', 'PKG_CONFIG_PATH'"
export $($py_cmd -c \
"from __future__ import print_function;
import sys;
import os;
map(sys.stdout.write, ['{0}={1} ' \
.format(x, os.environ[x]) for x in [$ex_vars]])")
exec $SUDO PATH=$PATH LD_LIBRARY_PATH=$LD_LIBRARY_PATH \
MANPATH=$MANPATH XDG_DATA_DIRS=$XDG_DATA_DIRS \
PKG_CONFIG_PATH=$PKG_CONFIG_PATH \
"$py_cmd_path" -c \
'import base64;
exec(base64.b64decode("""IyBweWxpbnQ6IGRpc2FibGU9Vzk5MDMKJycnClRoaXMgaXMgYSBzaGltIHRoYXQgaGFuZGxlcyBj
aGVja2luZyBhbmQgdXBkYXRpbmcgc2FsdCB0aGluIGFuZAp0aGVuIGludm9raW5nIHRoaW4uCgpU
aGlzIGlzIG5vdCBpbnRlbmRlZCB0byBiZSBpbnN0YW50aWF0ZWQgYXMgYSBtb2R1bGUsIHJhdGhl
ciBpdCBpcyBhCmhlbHBlciBzY3JpcHQgdXNlZCBieSBzYWx0LmNsaWVudC5zc2guU2luZ2xlLiAg
SXQgaXMgaGVyZSwgaW4gYQpzZXBhcmF0ZSBmaWxlLCBmb3IgY29udmVuaWVuY2Ugb2YgZGV2ZWxv
cG1lbnQuCicnJwoKZnJvbSBfX2Z1dHVyZV9fIGltcG9ydCBhYnNvbHV0ZV9pbXBvcnQKCmltcG9y
dCBoYXNobGliCmltcG9ydCB0YXJmaWxlCmltcG9ydCBzaHV0aWwKaW1wb3J0IHN5cwppbXBvcnQg
b3MKaW1wb3J0IHN0YXQKaW1wb3J0IHN1YnByb2Nlc3MKClRISU5fQVJDSElWRSA9ICdzYWx0LXRo
aW4udGd6JwpFWFRfQVJDSElWRSA9ICdzYWx0LWV4dF9tb2RzLnRneicKCiMgS2VlcCB0aGVzZSBp
biBzeW5jIHdpdGggc2FsdC9kZWZhdWx0cy9leGl0Y29kZXMucHkKRVhfVEhJTl9ERVBMT1kgPSAx
MQpFWF9USElOX0NIRUNLU1VNID0gMTIKRVhfTU9EX0RFUExPWSA9IDEzCkVYX1NDUF9OT1RfRk9V
TkQgPSAxNApFWF9DQU5UQ1JFQVQgPSA3MwoKCmNsYXNzIE9CSihvYmplY3QpOgogICAgIiIiQW4g
ZW1wdHkgY2xhc3MgZm9yIGhvbGRpbmcgaW5zdGFuY2UgYXR0cmlidXRlIHZhbHVlcy4iIiIKICAg
IHBhc3MKCgpPUFRJT05TID0gTm9uZQpBUkdTID0gTm9uZQojIFRoZSBiZWxvdyBsaW5lIGlzIHdo
ZXJlIE9QVElPTlMgY2FuIGJlIHJlZGVmaW5lZCB3aXRoIGludGVybmFsIG9wdGlvbnMKIyAocmF0
aGVyIHRoYW4gY2xpIGFyZ3VtZW50cykgd2hlbiB0aGUgc2hpbSBpcyBidW5kbGVkIGJ5CiMgY2xp
ZW50LnNzaC5TaW5nbGUuX2NtZF9zdHIoKQojIHB5bGludDogZGlzYWJsZT1ibG9jay1jb21tZW50
LXNob3VsZC1zdGFydC13aXRoLWNhcmRpbmFsLXNwYWNlCgpPUFRJT05TID0gT0JKKCkKT1BUSU9O
Uy5jb25maWcgPSAiIiIKe2ZpbGVzZXJ2ZXJfbGlzdF9jYWNoZV90aW1lOiAzLCBncmFpbnNfY2Fj
aGU6IHRydWUsIGlkOiBtdW5pbiwgbG9nX2ZpbGU6IHNhbHQtY2FsbC5sb2csCiAgcm9vdF9kaXI6
IC92YXIvdG1wLy5zYWx0LW9wZV8xYTM1MzJfc2FsdC9ydW5uaW5nX2RhdGEsIHNvY2tfZGlyOiAv
fQoiIiIKT1BUSU9OUy5kZWxpbWl0ZXIgPSAnX2VkYmM3ODg1ZTRmOWFhYzliODNiMzU5OTliNjhk
MDE1MTQ4Y2FmNDY3Yjc4ZmEzOWMwNWY2NjljMGZmODk4NzgnCk9QVElPTlMuc2FsdGRpciA9ICcv
dmFyL3RtcC8uc2FsdC1vcGVfMWEzNTMyX3NhbHQnCk9QVElPTlMuY2hlY2tzdW0gPSAnOTg1MjZk
OTliMWU3YjA3OWRjZWZjZWM5ZmE1Yjg1MWZmYmY5ODEzZCcKT1BUSU9OUy5oYXNoZnVuYyA9ICdz
aGExJwpPUFRJT05TLnZlcnNpb24gPSAnMjAxNi4zLjInCk9QVElPTlMuZXh0X21vZHMgPSAnJwpP
UFRJT05TLndpcGUgPSBUcnVlCk9QVElPTlMudHR5ID0gRmFsc2UKT1BUSU9OUy5jbWRfdW1hc2sg
PSBOb25lCkFSR1MgPSBbJ3N0YXRlLnBrZyAvdmFyL3RtcC8uc2FsdC1vcGVfMWEzNTMyX3NhbHQv
c2FsdF9zdGF0ZS50Z3ogdGVzdD1UcnVlIHBrZ19zdW09NGU0NmIzNDZkNTlmNmIwNjRlNGE1ODY1
MjVkMzg0NDAgaGFzaF90eXBlPW1kNSddCgoKCmRlZiBuZWVkX2RlcGxveW1lbnQoKToKICAgICIi
IgogICAgU2FsdCB0aGluIG5lZWRzIHRvIGJlIGRlcGxveWVkIC0gcHJlcCB0aGUgdGFyZ2V0IGRp
cmVjdG9yeSBhbmQgZW1pdCB0aGUKICAgIGRlbGltZXRlciBhbmQgZXhpdCBjb2RlIHRoYXQgc2ln
bmFscyBhIHJlcXVpcmVkIGRlcGxveW1lbnQuCiAgICAiIiIKICAgIGlmIG9zLnBhdGguZXhpc3Rz
KE9QVElPTlMuc2FsdGRpcik6CiAgICAgICAgc2h1dGlsLnJtdHJlZShPUFRJT05TLnNhbHRkaXIp
CiAgICBvbGRfdW1hc2sgPSBvcy51bWFzaygwbzA3NykKICAgIG9zLm1ha2VkaXJzKE9QVElPTlMu
c2FsdGRpcikKICAgIG9zLnVtYXNrKG9sZF91bWFzaykKICAgICMgVmVyaWZ5IHBlcm1zIG9uIHNh
bHRkaXIKICAgIGV1aWQgPSBvcy5nZXRldWlkKCkKICAgIGRzdGF0ID0gb3Muc3RhdChPUFRJT05T
LnNhbHRkaXIpCiAgICBpZiBkc3RhdC5zdF91aWQgIT0gZXVpZDoKICAgICAgICAjIEF0dGFjayBk
ZXRlY3RlZCwgdHJ5IGFnYWluCiAgICAgICAgbmVlZF9kZXBsb3ltZW50KCkKICAgIGlmIGRzdGF0
LnN0X21vZGUgIT0gMTY4MzI6CiAgICAgICAgIyBBdHRhY2sgZGV0ZWN0ZWQKICAgICAgICBuZWVk
X2RlcGxveW1lbnQoKQogICAgIyBJZiBTVURPaW5nIHRoZW4gYWxzbyBnaXZlIHRoZSBzdXBlciB1
c2VyIGdyb3VwIHdyaXRlIHBlcm1pc3Npb25zCiAgICBzdWRvX2dpZCA9IG9zLmVudmlyb24uZ2V0
KCdTVURPX0dJRCcpCiAgICBpZiBzdWRvX2dpZDoKICAgICAgICBvcy5jaG93bihPUFRJT05TLnNh
bHRkaXIsIC0xLCBpbnQoc3Vkb19naWQpKQogICAgICAgIHN0dCA9IG9zLnN0YXQoT1BUSU9OUy5z
YWx0ZGlyKQogICAgICAgIG9zLmNobW9kKE9QVElPTlMuc2FsdGRpciwgc3R0LnN0X21vZGUgfCBz
dGF0LlNfSVdHUlAgfCBzdGF0LlNfSVJHUlAgfCBzdGF0LlNfSVhHUlApCgogICAgIyBEZWxpbWl0
ZXIgZW1pdHRlZCBvbiBzdGRvdXQgKm9ubHkqIHRvIGluZGljYXRlIHNoaW0gbWVzc2FnZSB0byBt
YXN0ZXIuCiAgICBzeXMuc3Rkb3V0LndyaXRlKCJ7MH1cbmRlcGxveVxuIi5mb3JtYXQoT1BUSU9O
Uy5kZWxpbWl0ZXIpKQogICAgc3lzLmV4aXQoRVhfVEhJTl9ERVBMT1kpCgoKIyBBZGFwdGVkIGZy
b20gc2FsdC51dGlscy5nZXRfaGFzaCgpCmRlZiBnZXRfaGFzaChwYXRoLCBmb3JtPSdzaGExJywg
Y2h1bmtfc2l6ZT00MDk2KToKICAgICIiIkdlbmVyYXRlIGEgaGFzaCBkaWdlc3Qgc3RyaW5nIGZv
ciBhIGZpbGUuIiIiCiAgICB0cnk6CiAgICAgICAgaGFzaF90eXBlID0gZ2V0YXR0cihoYXNobGli
LCBmb3JtKQogICAgZXhjZXB0IEF0dHJpYnV0ZUVycm9yOgogICAgICAgIHJhaXNlIFZhbHVlRXJy
b3IoJ0ludmFsaWQgaGFzaCB0eXBlOiB7MH0nLmZvcm1hdChmb3JtKSkKICAgIHdpdGggb3Blbihw
YXRoLCAncmInKSBhcyBpZmlsZToKICAgICAgICBoYXNoX29iaiA9IGhhc2hfdHlwZSgpCiAgICAg
ICAgIyByZWFkIHRoZSBmaWxlIGluIGluIGNodW5rcywgbm90IHRoZSBlbnRpcmUgZmlsZQogICAg
ICAgIGZvciBjaHVuayBpbiBpdGVyKGxhbWJkYTogaWZpbGUucmVhZChjaHVua19zaXplKSwgYicn
KToKICAgICAgICAgICAgaGFzaF9vYmoudXBkYXRlKGNodW5rKQogICAgICAgIHJldHVybiBoYXNo
X29iai5oZXhkaWdlc3QoKQoKCmRlZiB1bnBhY2tfdGhpbih0aGluX3BhdGgpOgogICAgIiIiVW5w
YWNrIHRoZSBTYWx0IHRoaW4gYXJjaGl2ZS4iIiIKICAgIHRmaWxlID0gdGFyZmlsZS5UYXJGaWxl
Lmd6b3Blbih0aGluX3BhdGgpCiAgICBvbGRfdW1hc2sgPSBvcy51bWFzaygwbzA3NykKICAgIHRm
aWxlLmV4dHJhY3RhbGwocGF0aD1PUFRJT05TLnNhbHRkaXIpCiAgICB0ZmlsZS5jbG9zZSgpCiAg
ICBvcy51bWFzayhvbGRfdW1hc2spCiAgICBvcy51bmxpbmsodGhpbl9wYXRoKQoKCmRlZiBuZWVk
X2V4dCgpOgogICAgIiIiU2lnbmFsIHRoYXQgZXh0ZXJuYWwgbW9kdWxlcyBuZWVkIHRvIGJlIGRl
cGxveWVkLiIiIgogICAgc3lzLnN0ZG91dC53cml0ZSgiezB9XG5leHRfbW9kc1xuIi5mb3JtYXQo
T1BUSU9OUy5kZWxpbWl0ZXIpKQogICAgc3lzLmV4aXQoRVhfTU9EX0RFUExPWSkKCgpkZWYgdW5w
YWNrX2V4dChleHRfcGF0aCk6CiAgICAiIiJVbnBhY2sgdGhlIGV4dGVybmFsIG1vZHVsZXMuIiIi
CiAgICBtb2RjYWNoZSA9IG9zLnBhdGguam9pbigKICAgICAgICAgICAgT1BUSU9OUy5zYWx0ZGly
LAogICAgICAgICAgICAncnVubmluZ19kYXRhJywKICAgICAgICAgICAgJ3ZhcicsCiAgICAgICAg
ICAgICdjYWNoZScsCiAgICAgICAgICAgICdzYWx0JywKICAgICAgICAgICAgJ21pbmlvbicsCiAg
ICAgICAgICAgICdleHRtb2RzJykKICAgIHRmaWxlID0gdGFyZmlsZS5UYXJGaWxlLmd6b3Blbihl
eHRfcGF0aCkKICAgIG9sZF91bWFzayA9IG9zLnVtYXNrKDBvMDc3KQogICAgdGZpbGUuZXh0cmFj
dGFsbChwYXRoPW1vZGNhY2hlKQogICAgdGZpbGUuY2xvc2UoKQogICAgb3MudW1hc2sob2xkX3Vt
YXNrKQogICAgb3MudW5saW5rKGV4dF9wYXRoKQogICAgdmVyX3BhdGggPSBvcy5wYXRoLmpvaW4o
bW9kY2FjaGUsICdleHRfdmVyc2lvbicpCiAgICB2ZXJfZHN0ID0gb3MucGF0aC5qb2luKE9QVElP
TlMuc2FsdGRpciwgJ2V4dF92ZXJzaW9uJykKICAgIHNodXRpbC5tb3ZlKHZlcl9wYXRoLCB2ZXJf
ZHN0KQoKCmRlZiBtYWluKGFyZ3YpOiAgIyBweWxpbnQ6IGRpc2FibGU9VzA2MTMKICAgICIiIk1h
aW4gcHJvZ3JhbSBib2R5IiIiCiAgICB0aGluX3BhdGggPSBvcy5wYXRoLmpvaW4oT1BUSU9OUy5z
YWx0ZGlyLCBUSElOX0FSQ0hJVkUpCiAgICBpZiBvcy5wYXRoLmlzZmlsZSh0aGluX3BhdGgpOgog
ICAgICAgIGlmIE9QVElPTlMuY2hlY2tzdW0gIT0gZ2V0X2hhc2godGhpbl9wYXRoLCBPUFRJT05T
Lmhhc2hmdW5jKToKICAgICAgICAgICAgc3lzLnN0ZGVyci53cml0ZSgnezB9XG4nLmZvcm1hdChP
UFRJT05TLmNoZWNrc3VtKSkKICAgICAgICAgICAgc3lzLnN0ZGVyci53cml0ZSgnezB9XG4nLmZv
cm1hdChnZXRfaGFzaCh0aGluX3BhdGgsIE9QVElPTlMuaGFzaGZ1bmMpKSkKICAgICAgICAgICAg
b3MudW5saW5rKHRoaW5fcGF0aCkKICAgICAgICAgICAgc3lzLnN0ZGVyci53cml0ZSgnV0FSTklO
RzogY2hlY2tzdW0gbWlzbWF0Y2ggZm9yICJ7MH0iXG4nLmZvcm1hdCh0aGluX3BhdGgpKQogICAg
ICAgICAgICBzeXMuZXhpdChFWF9USElOX0NIRUNLU1VNKQogICAgICAgIHVucGFja190aGluKHRo
aW5fcGF0aCkKICAgICAgICAjIFNhbHQgdGhpbiBub3cgaXMgYXZhaWxhYmxlIHRvIHVzZQogICAg
ZWxzZToKICAgICAgICBzY3BzdGF0ID0gc3VicHJvY2Vzcy5Qb3BlbihbJy9iaW4vc2gnLCAnLWMn
LCAnY29tbWFuZCAtdiBzY3AnXSkud2FpdCgpCiAgICAgICAgaWYgc2Nwc3RhdCAhPSAwOgogICAg
ICAgICAgICBzeXMuZXhpdChFWF9TQ1BfTk9UX0ZPVU5EKQoKICAgICAgICBpZiBub3Qgb3MucGF0
aC5leGlzdHMoT1BUSU9OUy5zYWx0ZGlyKToKICAgICAgICAgICAgbmVlZF9kZXBsb3ltZW50KCkK
CiAgICAgICAgaWYgbm90IG9zLnBhdGguaXNkaXIoT1BUSU9OUy5zYWx0ZGlyKToKICAgICAgICAg
ICAgc3lzLnN0ZGVyci53cml0ZSgKICAgICAgICAgICAgICAgICdFUlJPUjogc2FsdCBwYXRoICJ7
MH0iIGV4aXN0cyBidXQgaXMnCiAgICAgICAgICAgICAgICAnIG5vdCBhIGRpcmVjdG9yeVxuJy5m
b3JtYXQoT1BUSU9OUy5zYWx0ZGlyKQogICAgICAgICAgICApCiAgICAgICAgICAgIHN5cy5leGl0
KEVYX0NBTlRDUkVBVCkKCiAgICAgICAgdmVyc2lvbl9wYXRoID0gb3MucGF0aC5qb2luKE9QVElP
TlMuc2FsdGRpciwgJ3ZlcnNpb24nKQogICAgICAgIGlmIG5vdCBvcy5wYXRoLmV4aXN0cyh2ZXJz
aW9uX3BhdGgpIG9yIG5vdCBvcy5wYXRoLmlzZmlsZSh2ZXJzaW9uX3BhdGgpOgogICAgICAgICAg
ICBzeXMuc3RkZXJyLndyaXRlKAogICAgICAgICAgICAgICAgJ1dBUk5JTkc6IFVuYWJsZSB0byBs
b2NhdGUgY3VycmVudCB0aGluICcKICAgICAgICAgICAgICAgICcgdmVyc2lvbjogezB9LlxuJy5m
b3JtYXQodmVyc2lvbl9wYXRoKQogICAgICAgICAgICApCiAgICAgICAgICAgIG5lZWRfZGVwbG95
bWVudCgpCiAgICAgICAgd2l0aCBvcGVuKHZlcnNpb25fcGF0aCwgJ3InKSBhcyB2cG86CiAgICAg
ICAgICAgIGN1cl92ZXJzaW9uID0gdnBvLnJlYWRsaW5lKCkuc3RyaXAoKQogICAgICAgIGlmIGN1
cl92ZXJzaW9uICE9IE9QVElPTlMudmVyc2lvbjoKICAgICAgICAgICAgc3lzLnN0ZGVyci53cml0
ZSgKICAgICAgICAgICAgICAgICdXQVJOSU5HOiBjdXJyZW50IHRoaW4gdmVyc2lvbiB7MH0nCiAg
ICAgICAgICAgICAgICAnIGlzIG5vdCB1cC10by1kYXRlIHdpdGggezF9LlxuJy5mb3JtYXQoCiAg
ICAgICAgICAgICAgICAgICAgY3VyX3ZlcnNpb24sIE9QVElPTlMudmVyc2lvbgogICAgICAgICAg
ICAgICAgKQogICAgICAgICAgICApCiAgICAgICAgICAgIG5lZWRfZGVwbG95bWVudCgpCiAgICAg
ICAgIyBTYWx0IHRoaW4gZXhpc3RzIGFuZCBpcyB1cC10by1kYXRlIC0gZmFsbCB0aHJvdWdoIGFu
ZCB1c2UgaXQKCiAgICBzYWx0X2NhbGxfcGF0aCA9IG9zLnBhdGguam9pbihPUFRJT05TLnNhbHRk
aXIsICdzYWx0LWNhbGwnKQogICAgaWYgbm90IG9zLnBhdGguaXNmaWxlKHNhbHRfY2FsbF9wYXRo
KToKICAgICAgICBzeXMuc3RkZXJyLndyaXRlKCdFUlJPUjogdGhpbiBpcyBtaXNzaW5nICJ7MH0i
XG4nLmZvcm1hdChzYWx0X2NhbGxfcGF0aCkpCiAgICAgICAgbmVlZF9kZXBsb3ltZW50KCkKCiAg
ICB3aXRoIG9wZW4ob3MucGF0aC5qb2luKE9QVElPTlMuc2FsdGRpciwgJ21pbmlvbicpLCAndycp
IGFzIGNvbmZpZzoKICAgICAgICBjb25maWcud3JpdGUoT1BUSU9OUy5jb25maWcgKyAnXG4nKQog
ICAgaWYgT1BUSU9OUy5leHRfbW9kczoKICAgICAgICBleHRfcGF0aCA9IG9zLnBhdGguam9pbihP
UFRJT05TLnNhbHRkaXIsIEVYVF9BUkNISVZFKQogICAgICAgIGlmIG9zLnBhdGguZXhpc3RzKGV4
dF9wYXRoKToKICAgICAgICAgICAgdW5wYWNrX2V4dChleHRfcGF0aCkKICAgICAgICBlbHNlOgog
ICAgICAgICAgICB2ZXJzaW9uX3BhdGggPSBvcy5wYXRoLmpvaW4oT1BUSU9OUy5zYWx0ZGlyLCAn
ZXh0X3ZlcnNpb24nKQogICAgICAgICAgICBpZiBub3Qgb3MucGF0aC5leGlzdHModmVyc2lvbl9w
YXRoKSBvciBub3Qgb3MucGF0aC5pc2ZpbGUodmVyc2lvbl9wYXRoKToKICAgICAgICAgICAgICAg
IG5lZWRfZXh0KCkKICAgICAgICAgICAgd2l0aCBvcGVuKHZlcnNpb25fcGF0aCwgJ3InKSBhcyB2
cG86CiAgICAgICAgICAgICAgICBjdXJfdmVyc2lvbiA9IHZwby5yZWFkbGluZSgpLnN0cmlwKCkK
ICAgICAgICAgICAgaWYgY3VyX3ZlcnNpb24gIT0gT1BUSU9OUy5leHRfbW9kczoKICAgICAgICAg
ICAgICAgIG5lZWRfZXh0KCkKICAgICMgRml4IHBhcmFtZXRlciBwYXNzaW5nIGlzc3VlCiAgICBp
ZiBsZW4oQVJHUykgPT0gMToKICAgICAgICBhcmd2X3ByZXBhcmVkID0gQVJHU1swXS5zcGxpdCgp
CiAgICBlbHNlOgogICAgICAgIGFyZ3ZfcHJlcGFyZWQgPSBBUkdTCgogICAgc2FsdF9hcmd2ID0g
WwogICAgICAgIHN5cy5leGVjdXRhYmxlLAogICAgICAgIHNhbHRfY2FsbF9wYXRoLAogICAgICAg
ICctLXJldGNvZGUtcGFzc3Rocm91Z2gnLAogICAgICAgICctLWxvY2FsJywKICAgICAgICAnLS1t
ZXRhZGF0YScsCiAgICAgICAgJy0tb3V0JywgJ2pzb24nLAogICAgICAgICctbCcsICdxdWlldCcs
CiAgICAgICAgJy1jJywgT1BUSU9OUy5zYWx0ZGlyLAogICAgICAgICctLScsCiAgICBdICsgYXJn
dl9wcmVwYXJlZAoKICAgIHN5cy5zdGRlcnIud3JpdGUoJ1NBTFRfQVJHVjogezB9XG4nLmZvcm1h
dChzYWx0X2FyZ3YpKQoKICAgICMgT25seSBlbWl0IHRoZSBkZWxpbWl0ZXIgb24gKmJvdGgqIHN0
ZG91dCBhbmQgc3RkZXJyIHdoZW4gY29tcGxldGVseSBzdWNjZXNzZnVsLgogICAgIyBZZXMsIHRo
ZSBmbHVzaCgpIGlzIG5lY2Vzc2FyeS4KICAgIHN5cy5zdGRvdXQud3JpdGUoT1BUSU9OUy5kZWxp
bWl0ZXIgKyAnXG4nKQogICAgc3lzLnN0ZG91dC5mbHVzaCgpCiAgICBpZiBub3QgT1BUSU9OUy50
dHk6CiAgICAgICAgc3lzLnN0ZGVyci53cml0ZShPUFRJT05TLmRlbGltaXRlciArICdcbicpCiAg
ICAgICAgc3lzLnN0ZGVyci5mbHVzaCgpCiAgICBpZiBPUFRJT05TLmNtZF91bWFzayBpcyBub3Qg
Tm9uZToKICAgICAgICBvbGRfdW1hc2sgPSBvcy51bWFzayhPUFRJT05TLmNtZF91bWFzaykKICAg
IGlmIE9QVElPTlMudHR5OgogICAgICAgIHN0ZG91dCwgXyA9IHN1YnByb2Nlc3MuUG9wZW4oc2Fs
dF9hcmd2LCBzdGRvdXQ9c3VicHJvY2Vzcy5QSVBFLCBzdGRlcnI9c3VicHJvY2Vzcy5QSVBFKS5j
b21tdW5pY2F0ZSgpCiAgICAgICAgc3lzLnN0ZG91dC53cml0ZShzdGRvdXQpCiAgICAgICAgc3lz
LnN0ZG91dC5mbHVzaCgpCiAgICAgICAgaWYgT1BUSU9OUy53aXBlOgogICAgICAgICAgICBzaHV0
aWwucm10cmVlKE9QVElPTlMuc2FsdGRpcikKICAgIGVsaWYgT1BUSU9OUy53aXBlOgogICAgICAg
IHN1YnByb2Nlc3MuY2FsbChzYWx0X2FyZ3YpCiAgICAgICAgc2h1dGlsLnJtdHJlZShPUFRJT05T
LnNhbHRkaXIpCiAgICBlbHNlOgogICAgICAgIG9zLmV4ZWN2KHN5cy5leGVjdXRhYmxlLCBzYWx0
X2FyZ3YpCiAgICBpZiBPUFRJT05TLmNtZF91bWFzayBpcyBub3QgTm9uZToKICAgICAgICBvcy51
bWFzayhvbGRfdW1hc2spCgppZiBfX25hbWVfXyA9PSAnX19tYWluX18nOgogICAgc3lzLmV4aXQo
bWFpbihzeXMuYXJndikpCg==
""").decode("utf-8"))'
else
exec $SUDO "$py_cmd_path" -c \
'import base64;
exec(base64.b64decode("""IyBweWxpbnQ6IGRpc2FibGU9Vzk5MDMKJycnClRoaXMgaXMgYSBzaGltIHRoYXQgaGFuZGxlcyBj
aGVja2luZyBhbmQgdXBkYXRpbmcgc2FsdCB0aGluIGFuZAp0aGVuIGludm9raW5nIHRoaW4uCgpU
aGlzIGlzIG5vdCBpbnRlbmRlZCB0byBiZSBpbnN0YW50aWF0ZWQgYXMgYSBtb2R1bGUsIHJhdGhl
ciBpdCBpcyBhCmhlbHBlciBzY3JpcHQgdXNlZCBieSBzYWx0LmNsaWVudC5zc2guU2luZ2xlLiAg
SXQgaXMgaGVyZSwgaW4gYQpzZXBhcmF0ZSBmaWxlLCBmb3IgY29udmVuaWVuY2Ugb2YgZGV2ZWxv
cG1lbnQuCicnJwoKZnJvbSBfX2Z1dHVyZV9fIGltcG9ydCBhYnNvbHV0ZV9pbXBvcnQKCmltcG9y
dCBoYXNobGliCmltcG9ydCB0YXJmaWxlCmltcG9ydCBzaHV0aWwKaW1wb3J0IHN5cwppbXBvcnQg
b3MKaW1wb3J0IHN0YXQKaW1wb3J0IHN1YnByb2Nlc3MKClRISU5fQVJDSElWRSA9ICdzYWx0LXRo
aW4udGd6JwpFWFRfQVJDSElWRSA9ICdzYWx0LWV4dF9tb2RzLnRneicKCiMgS2VlcCB0aGVzZSBp
biBzeW5jIHdpdGggc2FsdC9kZWZhdWx0cy9leGl0Y29kZXMucHkKRVhfVEhJTl9ERVBMT1kgPSAx
MQpFWF9USElOX0NIRUNLU1VNID0gMTIKRVhfTU9EX0RFUExPWSA9IDEzCkVYX1NDUF9OT1RfRk9V
TkQgPSAxNApFWF9DQU5UQ1JFQVQgPSA3MwoKCmNsYXNzIE9CSihvYmplY3QpOgogICAgIiIiQW4g
ZW1wdHkgY2xhc3MgZm9yIGhvbGRpbmcgaW5zdGFuY2UgYXR0cmlidXRlIHZhbHVlcy4iIiIKICAg
IHBhc3MKCgpPUFRJT05TID0gTm9uZQpBUkdTID0gTm9uZQojIFRoZSBiZWxvdyBsaW5lIGlzIHdo
ZXJlIE9QVElPTlMgY2FuIGJlIHJlZGVmaW5lZCB3aXRoIGludGVybmFsIG9wdGlvbnMKIyAocmF0
aGVyIHRoYW4gY2xpIGFyZ3VtZW50cykgd2hlbiB0aGUgc2hpbSBpcyBidW5kbGVkIGJ5CiMgY2xp
ZW50LnNzaC5TaW5nbGUuX2NtZF9zdHIoKQojIHB5bGludDogZGlzYWJsZT1ibG9jay1jb21tZW50
LXNob3VsZC1zdGFydC13aXRoLWNhcmRpbmFsLXNwYWNlCgpPUFRJT05TID0gT0JKKCkKT1BUSU9O
Uy5jb25maWcgPSAiIiIKe2ZpbGVzZXJ2ZXJfbGlzdF9jYWNoZV90aW1lOiAzLCBncmFpbnNfY2Fj
aGU6IHRydWUsIGlkOiBtdW5pbiwgbG9nX2ZpbGU6IHNhbHQtY2FsbC5sb2csCiAgcm9vdF9kaXI6
IC92YXIvdG1wLy5zYWx0LW9wZV8xYTM1MzJfc2FsdC9ydW5uaW5nX2RhdGEsIHNvY2tfZGlyOiAv
fQoiIiIKT1BUSU9OUy5kZWxpbWl0ZXIgPSAnX2VkYmM3ODg1ZTRmOWFhYzliODNiMzU5OTliNjhk
MDE1MTQ4Y2FmNDY3Yjc4ZmEzOWMwNWY2NjljMGZmODk4NzgnCk9QVElPTlMuc2FsdGRpciA9ICcv
dmFyL3RtcC8uc2FsdC1vcGVfMWEzNTMyX3NhbHQnCk9QVElPTlMuY2hlY2tzdW0gPSAnOTg1MjZk
OTliMWU3YjA3OWRjZWZjZWM5ZmE1Yjg1MWZmYmY5ODEzZCcKT1BUSU9OUy5oYXNoZnVuYyA9ICdz
aGExJwpPUFRJT05TLnZlcnNpb24gPSAnMjAxNi4zLjInCk9QVElPTlMuZXh0X21vZHMgPSAnJwpP
UFRJT05TLndpcGUgPSBUcnVlCk9QVElPTlMudHR5ID0gRmFsc2UKT1BUSU9OUy5jbWRfdW1hc2sg
PSBOb25lCkFSR1MgPSBbJ3N0YXRlLnBrZyAvdmFyL3RtcC8uc2FsdC1vcGVfMWEzNTMyX3NhbHQv
c2FsdF9zdGF0ZS50Z3ogdGVzdD1UcnVlIHBrZ19zdW09NGU0NmIzNDZkNTlmNmIwNjRlNGE1ODY1
MjVkMzg0NDAgaGFzaF90eXBlPW1kNSddCgoKCmRlZiBuZWVkX2RlcGxveW1lbnQoKToKICAgICIi
IgogICAgU2FsdCB0aGluIG5lZWRzIHRvIGJlIGRlcGxveWVkIC0gcHJlcCB0aGUgdGFyZ2V0IGRp
cmVjdG9yeSBhbmQgZW1pdCB0aGUKICAgIGRlbGltZXRlciBhbmQgZXhpdCBjb2RlIHRoYXQgc2ln
bmFscyBhIHJlcXVpcmVkIGRlcGxveW1lbnQuCiAgICAiIiIKICAgIGlmIG9zLnBhdGguZXhpc3Rz
KE9QVElPTlMuc2FsdGRpcik6CiAgICAgICAgc2h1dGlsLnJtdHJlZShPUFRJT05TLnNhbHRkaXIp
CiAgICBvbGRfdW1hc2sgPSBvcy51bWFzaygwbzA3NykKICAgIG9zLm1ha2VkaXJzKE9QVElPTlMu
c2FsdGRpcikKICAgIG9zLnVtYXNrKG9sZF91bWFzaykKICAgICMgVmVyaWZ5IHBlcm1zIG9uIHNh
bHRkaXIKICAgIGV1aWQgPSBvcy5nZXRldWlkKCkKICAgIGRzdGF0ID0gb3Muc3RhdChPUFRJT05T
LnNhbHRkaXIpCiAgICBpZiBkc3RhdC5zdF91aWQgIT0gZXVpZDoKICAgICAgICAjIEF0dGFjayBk
ZXRlY3RlZCwgdHJ5IGFnYWluCiAgICAgICAgbmVlZF9kZXBsb3ltZW50KCkKICAgIGlmIGRzdGF0
LnN0X21vZGUgIT0gMTY4MzI6CiAgICAgICAgIyBBdHRhY2sgZGV0ZWN0ZWQKICAgICAgICBuZWVk
X2RlcGxveW1lbnQoKQogICAgIyBJZiBTVURPaW5nIHRoZW4gYWxzbyBnaXZlIHRoZSBzdXBlciB1
c2VyIGdyb3VwIHdyaXRlIHBlcm1pc3Npb25zCiAgICBzdWRvX2dpZCA9IG9zLmVudmlyb24uZ2V0
KCdTVURPX0dJRCcpCiAgICBpZiBzdWRvX2dpZDoKICAgICAgICBvcy5jaG93bihPUFRJT05TLnNh
bHRkaXIsIC0xLCBpbnQoc3Vkb19naWQpKQogICAgICAgIHN0dCA9IG9zLnN0YXQoT1BUSU9OUy5z
YWx0ZGlyKQogICAgICAgIG9zLmNobW9kKE9QVElPTlMuc2FsdGRpciwgc3R0LnN0X21vZGUgfCBz
dGF0LlNfSVdHUlAgfCBzdGF0LlNfSVJHUlAgfCBzdGF0LlNfSVhHUlApCgogICAgIyBEZWxpbWl0
ZXIgZW1pdHRlZCBvbiBzdGRvdXQgKm9ubHkqIHRvIGluZGljYXRlIHNoaW0gbWVzc2FnZSB0byBt
YXN0ZXIuCiAgICBzeXMuc3Rkb3V0LndyaXRlKCJ7MH1cbmRlcGxveVxuIi5mb3JtYXQoT1BUSU9O
Uy5kZWxpbWl0ZXIpKQogICAgc3lzLmV4aXQoRVhfVEhJTl9ERVBMT1kpCgoKIyBBZGFwdGVkIGZy
b20gc2FsdC51dGlscy5nZXRfaGFzaCgpCmRlZiBnZXRfaGFzaChwYXRoLCBmb3JtPSdzaGExJywg
Y2h1bmtfc2l6ZT00MDk2KToKICAgICIiIkdlbmVyYXRlIGEgaGFzaCBkaWdlc3Qgc3RyaW5nIGZv
ciBhIGZpbGUuIiIiCiAgICB0cnk6CiAgICAgICAgaGFzaF90eXBlID0gZ2V0YXR0cihoYXNobGli
LCBmb3JtKQogICAgZXhjZXB0IEF0dHJpYnV0ZUVycm9yOgogICAgICAgIHJhaXNlIFZhbHVlRXJy
b3IoJ0ludmFsaWQgaGFzaCB0eXBlOiB7MH0nLmZvcm1hdChmb3JtKSkKICAgIHdpdGggb3Blbihw
YXRoLCAncmInKSBhcyBpZmlsZToKICAgICAgICBoYXNoX29iaiA9IGhhc2hfdHlwZSgpCiAgICAg
ICAgIyByZWFkIHRoZSBmaWxlIGluIGluIGNodW5rcywgbm90IHRoZSBlbnRpcmUgZmlsZQogICAg
ICAgIGZvciBjaHVuayBpbiBpdGVyKGxhbWJkYTogaWZpbGUucmVhZChjaHVua19zaXplKSwgYicn
KToKICAgICAgICAgICAgaGFzaF9vYmoudXBkYXRlKGNodW5rKQogICAgICAgIHJldHVybiBoYXNo
X29iai5oZXhkaWdlc3QoKQoKCmRlZiB1bnBhY2tfdGhpbih0aGluX3BhdGgpOgogICAgIiIiVW5w
YWNrIHRoZSBTYWx0IHRoaW4gYXJjaGl2ZS4iIiIKICAgIHRmaWxlID0gdGFyZmlsZS5UYXJGaWxl
Lmd6b3Blbih0aGluX3BhdGgpCiAgICBvbGRfdW1hc2sgPSBvcy51bWFzaygwbzA3NykKICAgIHRm
aWxlLmV4dHJhY3RhbGwocGF0aD1PUFRJT05TLnNhbHRkaXIpCiAgICB0ZmlsZS5jbG9zZSgpCiAg
ICBvcy51bWFzayhvbGRfdW1hc2spCiAgICBvcy51bmxpbmsodGhpbl9wYXRoKQoKCmRlZiBuZWVk
X2V4dCgpOgogICAgIiIiU2lnbmFsIHRoYXQgZXh0ZXJuYWwgbW9kdWxlcyBuZWVkIHRvIGJlIGRl
cGxveWVkLiIiIgogICAgc3lzLnN0ZG91dC53cml0ZSgiezB9XG5leHRfbW9kc1xuIi5mb3JtYXQo
T1BUSU9OUy5kZWxpbWl0ZXIpKQogICAgc3lzLmV4aXQoRVhfTU9EX0RFUExPWSkKCgpkZWYgdW5w
YWNrX2V4dChleHRfcGF0aCk6CiAgICAiIiJVbnBhY2sgdGhlIGV4dGVybmFsIG1vZHVsZXMuIiIi
CiAgICBtb2RjYWNoZSA9IG9zLnBhdGguam9pbigKICAgICAgICAgICAgT1BUSU9OUy5zYWx0ZGly
LAogICAgICAgICAgICAncnVubmluZ19kYXRhJywKICAgICAgICAgICAgJ3ZhcicsCiAgICAgICAg
ICAgICdjYWNoZScsCiAgICAgICAgICAgICdzYWx0JywKICAgICAgICAgICAgJ21pbmlvbicsCiAg
ICAgICAgICAgICdleHRtb2RzJykKICAgIHRmaWxlID0gdGFyZmlsZS5UYXJGaWxlLmd6b3Blbihl
eHRfcGF0aCkKICAgIG9sZF91bWFzayA9IG9zLnVtYXNrKDBvMDc3KQogICAgdGZpbGUuZXh0cmFj
dGFsbChwYXRoPW1vZGNhY2hlKQogICAgdGZpbGUuY2xvc2UoKQogICAgb3MudW1hc2sob2xkX3Vt
YXNrKQogICAgb3MudW5saW5rKGV4dF9wYXRoKQogICAgdmVyX3BhdGggPSBvcy5wYXRoLmpvaW4o
bW9kY2FjaGUsICdleHRfdmVyc2lvbicpCiAgICB2ZXJfZHN0ID0gb3MucGF0aC5qb2luKE9QVElP
TlMuc2FsdGRpciwgJ2V4dF92ZXJzaW9uJykKICAgIHNodXRpbC5tb3ZlKHZlcl9wYXRoLCB2ZXJf
ZHN0KQoKCmRlZiBtYWluKGFyZ3YpOiAgIyBweWxpbnQ6IGRpc2FibGU9VzA2MTMKICAgICIiIk1h
aW4gcHJvZ3JhbSBib2R5IiIiCiAgICB0aGluX3BhdGggPSBvcy5wYXRoLmpvaW4oT1BUSU9OUy5z
YWx0ZGlyLCBUSElOX0FSQ0hJVkUpCiAgICBpZiBvcy5wYXRoLmlzZmlsZSh0aGluX3BhdGgpOgog
ICAgICAgIGlmIE9QVElPTlMuY2hlY2tzdW0gIT0gZ2V0X2hhc2godGhpbl9wYXRoLCBPUFRJT05T
Lmhhc2hmdW5jKToKICAgICAgICAgICAgc3lzLnN0ZGVyci53cml0ZSgnezB9XG4nLmZvcm1hdChP
UFRJT05TLmNoZWNrc3VtKSkKICAgICAgICAgICAgc3lzLnN0ZGVyci53cml0ZSgnezB9XG4nLmZv
cm1hdChnZXRfaGFzaCh0aGluX3BhdGgsIE9QVElPTlMuaGFzaGZ1bmMpKSkKICAgICAgICAgICAg
b3MudW5saW5rKHRoaW5fcGF0aCkKICAgICAgICAgICAgc3lzLnN0ZGVyci53cml0ZSgnV0FSTklO
RzogY2hlY2tzdW0gbWlzbWF0Y2ggZm9yICJ7MH0iXG4nLmZvcm1hdCh0aGluX3BhdGgpKQogICAg
ICAgICAgICBzeXMuZXhpdChFWF9USElOX0NIRUNLU1VNKQogICAgICAgIHVucGFja190aGluKHRo
aW5fcGF0aCkKICAgICAgICAjIFNhbHQgdGhpbiBub3cgaXMgYXZhaWxhYmxlIHRvIHVzZQogICAg
ZWxzZToKICAgICAgICBzY3BzdGF0ID0gc3VicHJvY2Vzcy5Qb3BlbihbJy9iaW4vc2gnLCAnLWMn
LCAnY29tbWFuZCAtdiBzY3AnXSkud2FpdCgpCiAgICAgICAgaWYgc2Nwc3RhdCAhPSAwOgogICAg
ICAgICAgICBzeXMuZXhpdChFWF9TQ1BfTk9UX0ZPVU5EKQoKICAgICAgICBpZiBub3Qgb3MucGF0
aC5leGlzdHMoT1BUSU9OUy5zYWx0ZGlyKToKICAgICAgICAgICAgbmVlZF9kZXBsb3ltZW50KCkK
CiAgICAgICAgaWYgbm90IG9zLnBhdGguaXNkaXIoT1BUSU9OUy5zYWx0ZGlyKToKICAgICAgICAg
ICAgc3lzLnN0ZGVyci53cml0ZSgKICAgICAgICAgICAgICAgICdFUlJPUjogc2FsdCBwYXRoICJ7
MH0iIGV4aXN0cyBidXQgaXMnCiAgICAgICAgICAgICAgICAnIG5vdCBhIGRpcmVjdG9yeVxuJy5m
b3JtYXQoT1BUSU9OUy5zYWx0ZGlyKQogICAgICAgICAgICApCiAgICAgICAgICAgIHN5cy5leGl0
KEVYX0NBTlRDUkVBVCkKCiAgICAgICAgdmVyc2lvbl9wYXRoID0gb3MucGF0aC5qb2luKE9QVElP
TlMuc2FsdGRpciwgJ3ZlcnNpb24nKQogICAgICAgIGlmIG5vdCBvcy5wYXRoLmV4aXN0cyh2ZXJz
aW9uX3BhdGgpIG9yIG5vdCBvcy5wYXRoLmlzZmlsZSh2ZXJzaW9uX3BhdGgpOgogICAgICAgICAg
ICBzeXMuc3RkZXJyLndyaXRlKAogICAgICAgICAgICAgICAgJ1dBUk5JTkc6IFVuYWJsZSB0byBs
b2NhdGUgY3VycmVudCB0aGluICcKICAgICAgICAgICAgICAgICcgdmVyc2lvbjogezB9LlxuJy5m
b3JtYXQodmVyc2lvbl9wYXRoKQogICAgICAgICAgICApCiAgICAgICAgICAgIG5lZWRfZGVwbG95
bWVudCgpCiAgICAgICAgd2l0aCBvcGVuKHZlcnNpb25fcGF0aCwgJ3InKSBhcyB2cG86CiAgICAg
ICAgICAgIGN1cl92ZXJzaW9uID0gdnBvLnJlYWRsaW5lKCkuc3RyaXAoKQogICAgICAgIGlmIGN1
cl92ZXJzaW9uICE9IE9QVElPTlMudmVyc2lvbjoKICAgICAgICAgICAgc3lzLnN0ZGVyci53cml0
ZSgKICAgICAgICAgICAgICAgICdXQVJOSU5HOiBjdXJyZW50IHRoaW4gdmVyc2lvbiB7MH0nCiAg
ICAgICAgICAgICAgICAnIGlzIG5vdCB1cC10by1kYXRlIHdpdGggezF9LlxuJy5mb3JtYXQoCiAg
ICAgICAgICAgICAgICAgICAgY3VyX3ZlcnNpb24sIE9QVElPTlMudmVyc2lvbgogICAgICAgICAg
ICAgICAgKQogICAgICAgICAgICApCiAgICAgICAgICAgIG5lZWRfZGVwbG95bWVudCgpCiAgICAg
ICAgIyBTYWx0IHRoaW4gZXhpc3RzIGFuZCBpcyB1cC10by1kYXRlIC0gZmFsbCB0aHJvdWdoIGFu
ZCB1c2UgaXQKCiAgICBzYWx0X2NhbGxfcGF0aCA9IG9zLnBhdGguam9pbihPUFRJT05TLnNhbHRk
aXIsICdzYWx0LWNhbGwnKQogICAgaWYgbm90IG9zLnBhdGguaXNmaWxlKHNhbHRfY2FsbF9wYXRo
KToKICAgICAgICBzeXMuc3RkZXJyLndyaXRlKCdFUlJPUjogdGhpbiBpcyBtaXNzaW5nICJ7MH0i
XG4nLmZvcm1hdChzYWx0X2NhbGxfcGF0aCkpCiAgICAgICAgbmVlZF9kZXBsb3ltZW50KCkKCiAg
ICB3aXRoIG9wZW4ob3MucGF0aC5qb2luKE9QVElPTlMuc2FsdGRpciwgJ21pbmlvbicpLCAndycp
IGFzIGNvbmZpZzoKICAgICAgICBjb25maWcud3JpdGUoT1BUSU9OUy5jb25maWcgKyAnXG4nKQog
ICAgaWYgT1BUSU9OUy5leHRfbW9kczoKICAgICAgICBleHRfcGF0aCA9IG9zLnBhdGguam9pbihP
UFRJT05TLnNhbHRkaXIsIEVYVF9BUkNISVZFKQogICAgICAgIGlmIG9zLnBhdGguZXhpc3RzKGV4
dF9wYXRoKToKICAgICAgICAgICAgdW5wYWNrX2V4dChleHRfcGF0aCkKICAgICAgICBlbHNlOgog
ICAgICAgICAgICB2ZXJzaW9uX3BhdGggPSBvcy5wYXRoLmpvaW4oT1BUSU9OUy5zYWx0ZGlyLCAn
ZXh0X3ZlcnNpb24nKQogICAgICAgICAgICBpZiBub3Qgb3MucGF0aC5leGlzdHModmVyc2lvbl9w
YXRoKSBvciBub3Qgb3MucGF0aC5pc2ZpbGUodmVyc2lvbl9wYXRoKToKICAgICAgICAgICAgICAg
IG5lZWRfZXh0KCkKICAgICAgICAgICAgd2l0aCBvcGVuKHZlcnNpb25fcGF0aCwgJ3InKSBhcyB2
cG86CiAgICAgICAgICAgICAgICBjdXJfdmVyc2lvbiA9IHZwby5yZWFkbGluZSgpLnN0cmlwKCkK
ICAgICAgICAgICAgaWYgY3VyX3ZlcnNpb24gIT0gT1BUSU9OUy5leHRfbW9kczoKICAgICAgICAg
ICAgICAgIG5lZWRfZXh0KCkKICAgICMgRml4IHBhcmFtZXRlciBwYXNzaW5nIGlzc3VlCiAgICBp
ZiBsZW4oQVJHUykgPT0gMToKICAgICAgICBhcmd2X3ByZXBhcmVkID0gQVJHU1swXS5zcGxpdCgp
CiAgICBlbHNlOgogICAgICAgIGFyZ3ZfcHJlcGFyZWQgPSBBUkdTCgogICAgc2FsdF9hcmd2ID0g
WwogICAgICAgIHN5cy5leGVjdXRhYmxlLAogICAgICAgIHNhbHRfY2FsbF9wYXRoLAogICAgICAg
ICctLXJldGNvZGUtcGFzc3Rocm91Z2gnLAogICAgICAgICctLWxvY2FsJywKICAgICAgICAnLS1t
ZXRhZGF0YScsCiAgICAgICAgJy0tb3V0JywgJ2pzb24nLAogICAgICAgICctbCcsICdxdWlldCcs
CiAgICAgICAgJy1jJywgT1BUSU9OUy5zYWx0ZGlyLAogICAgICAgICctLScsCiAgICBdICsgYXJn
dl9wcmVwYXJlZAoKICAgIHN5cy5zdGRlcnIud3JpdGUoJ1NBTFRfQVJHVjogezB9XG4nLmZvcm1h
dChzYWx0X2FyZ3YpKQoKICAgICMgT25seSBlbWl0IHRoZSBkZWxpbWl0ZXIgb24gKmJvdGgqIHN0
ZG91dCBhbmQgc3RkZXJyIHdoZW4gY29tcGxldGVseSBzdWNjZXNzZnVsLgogICAgIyBZZXMsIHRo
ZSBmbHVzaCgpIGlzIG5lY2Vzc2FyeS4KICAgIHN5cy5zdGRvdXQud3JpdGUoT1BUSU9OUy5kZWxp
bWl0ZXIgKyAnXG4nKQogICAgc3lzLnN0ZG91dC5mbHVzaCgpCiAgICBpZiBub3QgT1BUSU9OUy50
dHk6CiAgICAgICAgc3lzLnN0ZGVyci53cml0ZShPUFRJT05TLmRlbGltaXRlciArICdcbicpCiAg
ICAgICAgc3lzLnN0ZGVyci5mbHVzaCgpCiAgICBpZiBPUFRJT05TLmNtZF91bWFzayBpcyBub3Qg
Tm9uZToKICAgICAgICBvbGRfdW1hc2sgPSBvcy51bWFzayhPUFRJT05TLmNtZF91bWFzaykKICAg
IGlmIE9QVElPTlMudHR5OgogICAgICAgIHN0ZG91dCwgXyA9IHN1YnByb2Nlc3MuUG9wZW4oc2Fs
dF9hcmd2LCBzdGRvdXQ9c3VicHJvY2Vzcy5QSVBFLCBzdGRlcnI9c3VicHJvY2Vzcy5QSVBFKS5j
b21tdW5pY2F0ZSgpCiAgICAgICAgc3lzLnN0ZG91dC53cml0ZShzdGRvdXQpCiAgICAgICAgc3lz
LnN0ZG91dC5mbHVzaCgpCiAgICAgICAgaWYgT1BUSU9OUy53aXBlOgogICAgICAgICAgICBzaHV0
aWwucm10cmVlKE9QVElPTlMuc2FsdGRpcikKICAgIGVsaWYgT1BUSU9OUy53aXBlOgogICAgICAg
IHN1YnByb2Nlc3MuY2FsbChzYWx0X2FyZ3YpCiAgICAgICAgc2h1dGlsLnJtdHJlZShPUFRJT05T
LnNhbHRkaXIpCiAgICBlbHNlOgogICAgICAgIG9zLmV4ZWN2KHN5cy5leGVjdXRhYmxlLCBzYWx0
X2FyZ3YpCiAgICBpZiBPUFRJT05TLmNtZF91bWFzayBpcyBub3QgTm9uZToKICAgICAgICBvcy51
bWFzayhvbGRfdW1hc2spCgppZiBfX25hbWVfXyA9PSAnX19tYWluX18nOgogICAgc3lzLmV4aXQo
bWFpbihzeXMuYXJndikpCg==
""").decode("utf-8"))'
fi
exit 0
else
continue
fi
done
echo "ERROR: Unable to locate appropriate python command" >&2
exit $EX_PYTHON_INVALID
EOF
2016-10-20 00:48:01,683 [salt.utils.vt.Terminal.PID-2648.STDOUT][TRACE   ][2633] salt-ope@192.168.1.15's password:
2016-10-20 00:48:01,857 [salt.utils.vt.Terminal.PID-2648.STDERR][TRACE   ][2633] SALT_ARGV: ['/usr/bin/python2.7', '/var/tmp/.salt-ope_1a3532_salt/salt-call', '--retcode-passthrough', '--local', '--metadata', '--out', 'json', '-l', 'quiet', '-c', '/var/tmp/.salt-ope_1a3532_salt', '--', 'state.pkg', '/var/tmp/.salt-ope_1a3532_salt/salt_state.tgz', 'test=True', 'pkg_sum=4e46b346d59f6b064e4a586525d38440', 'hash_type=md5']
_edbc7885e4f9aac9b83b35999b68d015148caf467b78fa39c05f669c0ff89878
2016-10-20 00:48:01,858 [salt.utils.vt.Terminal.PID-2648.STDOUT][TRACE   ][2633] /bin/scp
_edbc7885e4f9aac9b83b35999b68d015148caf467b78fa39c05f669c0ff89878
2016-10-20 00:48:04,033 [salt.utils.vt.Terminal.PID-2648.STDOUT][TRACE   ][2633] {
    "local": {
        "fun_args": [
            "/var/tmp/.salt-ope_1a3532_salt/salt_state.tgz", 
            "test=True", 
            "pkg_sum=4e46b346d59f6b064e4a586525d38440", 
            "hash_type=md5"
        ], 
        "jid": "20161020004803034858", 
        "return": {
            "file_|-/etc/httpd/conf/httpd.conf_|-/etc/httpd/conf/httpd.conf_|-managed": {
                "comment": "The file /etc/httpd/conf/httpd.conf is in the correct state", 
                "pchanges": {}, 
                "name": "/etc/httpd/conf/httpd.conf", 
                "start_time": "00:48:04.890597", 
                "result": true, 
                "duration": 4.71, 
                "__run_num__": 6, 
                "changes": {}, 
                "__id__": "/etc/httpd/conf/httpd.conf"
            }, 
            "file_|-/etc/yum.repos.d/epel.repo_|-/etc/yum.repos.d/epel.repo_|-managed": {
                "comment": "The file /etc/yum.repos.d/epel.repo is in the correct state",
2016-10-20 00:48:04,045 [salt.utils.vt.Terminal.PID-2648.STDOUT][TRACE   ][2633]      "pchanges": {}, 
                "name": "/etc/yum.repos.d/epel.repo", 
                "start_time": "00:48:03.137021", 
                "result": true, 
                "duration": 66.348, 
                "__run_num__": 0, 
                "changes": {}, 
                "__id__": "/etc/yum.repos.d/epel.repo"
            }, 
            "file_|-/etc/httpd/conf.d/munin.conf_|-/etc/httpd/conf.d/munin.conf_|-managed": {
                "comment": "The file /etc/httpd/conf.d/munin.conf is in the correct state", 
                "pchanges": {}, 
                "name": "/etc/httpd/conf.d/munin.conf", 
                "start_time": "00:48:04.895425", 
                "result": true, 
                "duration": 3.756, 
                "__run_num__": 7, 
                "changes": {}, 
                "__id__": "/etc/httpd/conf.d/munin.conf"
            }, 
            "service_|-munin-node_|-munin-node_|-running": {
                "comment": "Service is set to be restarted",
2016-10-20 00:48:04,057 [salt.utils.vt.Terminal.PID-2648.STDOUT][TRACE   ][2633]         "name": "munin-node", 
                "start_time": "00:48:04.943028", 
                "result": null, 
                "duration": 6.434, 
                "__run_num__": 12, 
                "changes": {}, 
                "__id__": "munin-node"
            }, 
            "file_|-/etc/pki/rpm-gpg/RPM-GPG-KEY-EPEL-7_|-/etc/pki/rpm-gpg/RPM-GPG-KEY-EPEL-7_|-managed": {
                "comment": "The file /etc/pki/rpm-gpg/RPM-GPG-KEY-EPEL-7 is in the correct state", 
                "pchanges": {}, 
                "name": "/etc/pki/rpm-gpg/RPM-GPG-KEY-EPEL-7", 
                "start_time": "00:48:03.203514", 
                "result": true, 
                "duration": 1.047, 
                "__run_num__": 1, 
                "changes": {}, 
                "__id__": "/etc/pki/rpm-gpg/RPM-GPG-KEY-EPEL-7"
            }, 
            "file_|-/etc/munin/munin.conf_|-/etc/munin/munin.conf_|-managed": {
                "comment": "The file /etc/munin/munin.conf is set to be changed"
2016-10-20 00:48:04,069 [salt.utils.vt.Terminal.PID-2648.STDOUT][TRACE   ][2633] , 
                "pchanges": {
                    "diff": "--- \n+++ \n@@ -71,3 +71,5 @@\n   address ssh://munin-async@192.168.1.14\n   use_node_name yes\n \n+\n+\n"
                }, 
                "name": "/etc/munin/munin.conf", 
                "start_time": "00:48:04.861452", 
                "result": null, 
                "duration": 28.975, 
                "__run_num__": 5, 
                "changes": {
                    "diff": "--- \n+++ \n@@ -71,3 +71,5 @@\n   address ssh://munin-async@192.168.1.14\n   use_node_name yes\n \n+\n+\n"
                }, 
                "__id__": "/etc/munin/munin.conf"
            }, 
            "file_|-/etc/httpd/conf.d/fcgid.conf_|-/etc/httpd/conf.d/fcgid.conf_|-managed": {
                "comment": "The file /etc/httpd/conf.d/fcgid.conf is in the correct state", 
                "pchanges": {}, 
                "name": "/etc/httpd/conf.d/fcgid.conf", 
                "start_time": "00:48:04.899296", 
                "result": true,
2016-10-20 00:48:04,081 [salt.utils.vt.Terminal.PID-2648.STDOUT][TRACE   ][2633]                 "duration": 0.997, 
                "__run_num__": 8, 
                "changes": {}, 
                "__id__": "/etc/httpd/conf.d/fcgid.conf"
            }, 
            "service_|-httpd_|-httpd_|-running": {
                "comment": "The service httpd is already running", 
                "name": "httpd", 
                "start_time": "00:48:04.905075", 
                "result": true, 
                "duration": 18.758, 
                "__run_num__": 10, 
                "changes": {}, 
                "__id__": "httpd"
            }, 
            "pkg_|-munin-pkgs_|-munin-pkgs_|-installed": {
                "comment": "All specified packages are already installed", 
                "name": "mod_fcgid", 
                "start_time": "00:48:04.314366", 
                "result": true, 
                "duration": 528.493, 
                "__run_num__": 2, 
                "changes": {}, 
                "__id__": "munin-pkgs"
            }, 
            "fi
2016-10-20 00:48:04,093 [salt.utils.vt.Terminal.PID-2648.STDOUT][TRACE   ][2633] le_|-/var/cache/munin_|-/var/cache/munin_|-directory": {
                "comment": "The directory /var/cache/munin is in the correct state", 
                "pchanges": {}, 
                "name": "/var/cache/munin", 
                "start_time": "00:48:04.900405", 
                "result": true, 
                "duration": 0.575, 
                "__run_num__": 9, 
                "changes": {}, 
                "__id__": "/var/cache/munin"
            }, 
            "file_|-/etc/munin/munin-node.conf_|-/etc/munin/munin-node.conf_|-managed": {
                "comment": "The file /etc/munin/munin-node.conf is in the correct state", 
                "pchanges": {}, 
                "name": "/etc/munin/munin-node.conf", 
                "start_time": "00:48:04.843041", 
                "result": true, 
                "duration": 16.907, 
                "__run_num__": 3, 
                "changes": {}, 
                "__id__": "/etc/munin/munin-node.conf"
            },
2016-10-20 00:48:04,105 [salt.utils.vt.Terminal.PID-2648.STDOUT][TRACE   ][2633]      "file_|-/etc/munin/munin-htpasswd_|-/etc/munin/munin-htpasswd_|-managed": {
                "comment": "The file /etc/munin/munin-htpasswd is in the correct state", 
                "pchanges": {}, 
                "name": "/etc/munin/munin-htpasswd", 
                "start_time": "00:48:04.860106", 
                "result": true, 
                "duration": 1.225, 
                "__run_num__": 4, 
                "changes": {}, 
                "__id__": "/etc/munin/munin-htpasswd"
            }
        }, 
        "retcode": 0, 
        "fun": "state.pkg", 
        "id": "munin", 
        "out": "highstate"
    }
}
2016-10-20 00:48:04,358 [salt.client.ssh  ][TRACE   ][2633] STDOUT 192.168.1.15
salt-ope@192.168.1.15's password: 
/bin/scp
_edbc7885e4f9aac9b83b35999b68d015148caf467b78fa39c05f669c0ff89878
{
    "local": {
        "fun_args": [
            "/var/tmp/.salt-ope_1a3532_salt/salt_state.tgz", 
            "test=True", 
            "pkg_sum=4e46b346d59f6b064e4a586525d38440", 
            "hash_type=md5"
        ], 
        "jid": "20161020004803034858", 
        "return": {
            "file_|-/etc/httpd/conf/httpd.conf_|-/etc/httpd/conf/httpd.conf_|-managed": {
                "comment": "The file /etc/httpd/conf/httpd.conf is in the correct state", 
                "pchanges": {}, 
                "name": "/etc/httpd/conf/httpd.conf", 
                "start_time": "00:48:04.890597", 
                "result": true, 
                "duration": 4.71, 
                "__run_num__": 6, 
                "changes": {}, 
                "__id__": "/etc/httpd/conf/httpd.conf"
            }, 
            "file_|-/etc/yum.repos.d/epel.repo_|-/etc/yum.repos.d/epel.repo_|-managed": {
                "comment": "The file /etc/yum.repos.d/epel.repo is in the correct state", 
                "pchanges": {}, 
                "name": "/etc/yum.repos.d/epel.repo", 
                "start_time": "00:48:03.137021", 
                "result": true, 
                "duration": 66.348, 
                "__run_num__": 0, 
                "changes": {}, 
                "__id__": "/etc/yum.repos.d/epel.repo"
            }, 
            "file_|-/etc/httpd/conf.d/munin.conf_|-/etc/httpd/conf.d/munin.conf_|-managed": {
                "comment": "The file /etc/httpd/conf.d/munin.conf is in the correct state", 
                "pchanges": {}, 
                "name": "/etc/httpd/conf.d/munin.conf", 
                "start_time": "00:48:04.895425", 
                "result": true, 
                "duration": 3.756, 
                "__run_num__": 7, 
                "changes": {}, 
                "__id__": "/etc/httpd/conf.d/munin.conf"
            }, 
            "service_|-munin-node_|-munin-node_|-running": {
                "comment": "Service is set to be restarted", 
                "name": "munin-node", 
                "start_time": "00:48:04.943028", 
                "result": null, 
                "duration": 6.434, 
                "__run_num__": 12, 
                "changes": {}, 
                "__id__": "munin-node"
            }, 
            "file_|-/etc/pki/rpm-gpg/RPM-GPG-KEY-EPEL-7_|-/etc/pki/rpm-gpg/RPM-GPG-KEY-EPEL-7_|-managed": {
                "comment": "The file /etc/pki/rpm-gpg/RPM-GPG-KEY-EPEL-7 is in the correct state", 
                "pchanges": {}, 
                "name": "/etc/pki/rpm-gpg/RPM-GPG-KEY-EPEL-7", 
                "start_time": "00:48:03.203514", 
                "result": true, 
                "duration": 1.047, 
                "__run_num__": 1, 
                "changes": {}, 
                "__id__": "/etc/pki/rpm-gpg/RPM-GPG-KEY-EPEL-7"
            }, 
            "file_|-/etc/munin/munin.conf_|-/etc/munin/munin.conf_|-managed": {
                "comment": "The file /etc/munin/munin.conf is set to be changed", 
                "pchanges": {
                    "diff": "--- \n+++ \n@@ -71,3 +71,5 @@\n   address ssh://munin-async@192.168.1.14\n   use_node_name yes\n \n+\n+\n"
                }, 
                "name": "/etc/munin/munin.conf", 
                "start_time": "00:48:04.861452", 
                "result": null, 
                "duration": 28.975, 
                "__run_num__": 5, 
                "changes": {
                    "diff": "--- \n+++ \n@@ -71,3 +71,5 @@\n   address ssh://munin-async@192.168.1.14\n   use_node_name yes\n \n+\n+\n"
                }, 
                "__id__": "/etc/munin/munin.conf"
            }, 
            "file_|-/etc/httpd/conf.d/fcgid.conf_|-/etc/httpd/conf.d/fcgid.conf_|-managed": {
                "comment": "The file /etc/httpd/conf.d/fcgid.conf is in the correct state", 
                "pchanges": {}, 
                "name": "/etc/httpd/conf.d/fcgid.conf", 
                "start_time": "00:48:04.899296", 
                "result": true, 
                "duration": 0.997, 
                "__run_num__": 8, 
                "changes": {}, 
                "__id__": "/etc/httpd/conf.d/fcgid.conf"
            }, 
            "service_|-httpd_|-httpd_|-running": {
                "comment": "The service httpd is already running", 
                "name": "httpd", 
                "start_time": "00:48:04.905075", 
                "result": true, 
                "duration": 18.758, 
                "__run_num__": 10, 
                "changes": {}, 
                "__id__": "httpd"
            }, 
            "pkg_|-munin-pkgs_|-munin-pkgs_|-installed": {
                "comment": "All specified packages are already installed", 
                "name": "mod_fcgid", 
                "start_time": "00:48:04.314366", 
                "result": true, 
                "duration": 528.493, 
                "__run_num__": 2, 
                "changes": {}, 
                "__id__": "munin-pkgs"
            }, 
            "file_|-/var/cache/munin_|-/var/cache/munin_|-directory": {
                "comment": "The directory /var/cache/munin is in the correct state", 
                "pchanges": {}, 
                "name": "/var/cache/munin", 
                "start_time": "00:48:04.900405", 
                "result": true, 
                "duration": 0.575, 
                "__run_num__": 9, 
                "changes": {}, 
                "__id__": "/var/cache/munin"
            }, 
            "file_|-/etc/munin/munin-node.conf_|-/etc/munin/munin-node.conf_|-managed": {
                "comment": "The file /etc/munin/munin-node.conf is in the correct state", 
                "pchanges": {}, 
                "name": "/etc/munin/munin-node.conf", 
                "start_time": "00:48:04.843041", 
                "result": true, 
                "duration": 16.907, 
                "__run_num__": 3, 
                "changes": {}, 
                "__id__": "/etc/munin/munin-node.conf"
            }, 
            "file_|-/etc/munin/munin-htpasswd_|-/etc/munin/munin-htpasswd_|-managed": {
                "comment": "The file /etc/munin/munin-htpasswd is in the correct state", 
                "pchanges": {}, 
                "name": "/etc/munin/munin-htpasswd", 
                "start_time": "00:48:04.860106", 
                "result": true, 
                "duration": 1.225, 
                "__run_num__": 4, 
                "changes": {}, 
                "__id__": "/etc/munin/munin-htpasswd"
            }
        }, 
        "retcode": 0, 
        "fun": "state.pkg", 
        "id": "munin", 
        "out": "highstate"
    }
}

2016-10-20 00:48:04,359 [salt.client.ssh  ][TRACE   ][2633] STDERR 192.168.1.15
SALT_ARGV: ['/usr/bin/python2.7', '/var/tmp/.salt-ope_1a3532_salt/salt-call', '--retcode-passthrough', '--local', '--metadata', '--out', 'json', '-l', 'quiet', '-c', '/var/tmp/.salt-ope_1a3532_salt', '--', 'state.pkg', '/var/tmp/.salt-ope_1a3532_salt/salt_state.tgz', 'test=True', 'pkg_sum=4e46b346d59f6b064e4a586525d38440', 'hash_type=md5']
_edbc7885e4f9aac9b83b35999b68d015148caf467b78fa39c05f669c0ff89878

2016-10-20 00:48:04,359 [salt.client.ssh  ][DEBUG   ][2633] RETCODE 192.168.1.15: 0
2016-10-20 00:48:04,461 [salt.utils.lazy  ][DEBUG   ][2617] LazyLoaded highstate.output
2016-10-20 00:48:04,465 [salt.utils.lazy  ][DEBUG   ][2617] LazyLoaded nested.output
2016-10-20 00:48:04,468 [salt.output      ][TRACE   ][2617] data = {'munin': {'file_|-/etc/httpd/conf/httpd.conf_|-/etc/httpd/conf/httpd.conf_|-managed': {'comment': u'The file /etc/httpd/conf/httpd.conf is in the correct state', 'pchanges': {}, 'name': '/etc/httpd/conf/httpd.conf', 'start_time': '00:48:04.890597', 'result': True, 'duration': u'4.71 ms', '__run_num__': 6, 'changes': {}, '__id__': '/etc/httpd/conf/httpd.conf'}, 'file_|-/etc/yum.repos.d/epel.repo_|-/etc/yum.repos.d/epel.repo_|-managed': {'comment': u'The file /etc/yum.repos.d/epel.repo is in the correct state', 'pchanges': {}, 'name': '/etc/yum.repos.d/epel.repo', 'start_time': '00:48:03.137021', 'result': True, 'duration': u'66.348 ms', '__run_num__': 0, 'changes': {}, '__id__': '/etc/yum.repos.d/epel.repo'}, 'file_|-/etc/httpd/conf.d/munin.conf_|-/etc/httpd/conf.d/munin.conf_|-managed': {'comment': u'The file /etc/httpd/conf.d/munin.conf is in the correct state', 'pchanges': {}, 'name': '/etc/httpd/conf.d/munin.conf', 'start_time': '00:48:04.895425', 'result': True, 'duration': u'3.756 ms', '__run_num__': 7, 'changes': {}, '__id__': '/etc/httpd/conf.d/munin.conf'}, 'file_|-/etc/pki/rpm-gpg/RPM-GPG-KEY-EPEL-7_|-/etc/pki/rpm-gpg/RPM-GPG-KEY-EPEL-7_|-managed': {'comment': u'The file /etc/pki/rpm-gpg/RPM-GPG-KEY-EPEL-7 is in the correct state', 'pchanges': {}, 'name': '/etc/pki/rpm-gpg/RPM-GPG-KEY-EPEL-7', 'start_time': '00:48:03.203514', 'result': True, 'duration': u'1.047 ms', '__run_num__': 1, 'changes': {}, '__id__': '/etc/pki/rpm-gpg/RPM-GPG-KEY-EPEL-7'}, 'service_|-munin-node_|-munin-node_|-running': {'comment': u'Service is set to be restarted', 'name': 'munin-node', 'start_time': '00:48:04.943028', 'result': None, 'duration': u'6.434 ms', '__run_num__': 12, 'changes': {}, '__id__': 'munin-node'}, 'file_|-/etc/httpd/conf.d/fcgid.conf_|-/etc/httpd/conf.d/fcgid.conf_|-managed': {'comment': u'The file /etc/httpd/conf.d/fcgid.conf is in the correct state', 'pchanges': {}, 'name': '/etc/httpd/conf.d/fcgid.conf', 'start_time': '00:48:04.899296', 'result': True, 'duration': u'0.997 ms', '__run_num__': 8, 'changes': {}, '__id__': '/etc/httpd/conf.d/fcgid.conf'}, 'service_|-httpd_|-httpd_|-running': {'comment': u'The service httpd is already running', 'name': 'httpd', 'start_time': '00:48:04.905075', 'result': True, 'duration': u'18.758 ms', '__run_num__': 10, 'changes': {}, '__id__': 'httpd'}, 'pkg_|-munin-pkgs_|-munin-pkgs_|-installed': {'comment': u'All specified packages are already installed', 'name': 'mod_fcgid', 'start_time': '00:48:04.314366', 'result': True, 'duration': u'528.493 ms', '__run_num__': 2, 'changes': {}, '__id__': 'munin-pkgs'}, 'file_|-/var/cache/munin_|-/var/cache/munin_|-directory': {'comment': u'The directory /var/cache/munin is in the correct state', 'pchanges': {}, 'name': '/var/cache/munin', 'start_time': '00:48:04.900405', 'result': True, 'duration': u'0.575 ms', '__run_num__': 9, 'changes': {}, '__id__': '/var/cache/munin'}, 'file_|-/etc/munin/munin-htpasswd_|-/etc/munin/munin-htpasswd_|-managed': {'comment': u'The file /etc/munin/munin-htpasswd is in the correct state', 'pchanges': {}, 'name': '/etc/munin/munin-htpasswd', 'start_time': '00:48:04.860106', 'result': True, 'duration': u'1.225 ms', '__run_num__': 4, 'changes': {}, '__id__': '/etc/munin/munin-htpasswd'}, 'file_|-/etc/munin/munin-node.conf_|-/etc/munin/munin-node.conf_|-managed': {'comment': u'The file /etc/munin/munin-node.conf is in the correct state', 'pchanges': {}, 'name': '/etc/munin/munin-node.conf', 'start_time': '00:48:04.843041', 'result': True, 'duration': u'16.907 ms', '__run_num__': 3, 'changes': {}, '__id__': '/etc/munin/munin-node.conf'}, 'file_|-/etc/munin/munin.conf_|-/etc/munin/munin.conf_|-managed': {'comment': u'The file /etc/munin/munin.conf is set to be changed', 'pchanges': {'diff': '--- \n+++ \n@@ -71,3 +71,5 @@\n   address ssh://munin-async@192.168.1.14\n   use_node_name yes\n \n+\n+\n'}, 'name': '/etc/munin/munin.conf', 'start_time': '00:48:04.861452', 'result': None, 'duration': u'28.975 ms', '__run_num__': 5, 'changes': {'diff': '--- \n+++ \n@@ -71,3 +71,5 @@\n   address ssh://munin-async@192.168.1.14\n   use_node_name yes\n \n+\n+\n'}, '__id__': '/etc/munin/munin.conf'}}}
2016-11-02 00:35:45,790 [salt.state       ][CRITICAL][4075] Rendering SLS 'base:disk.lvm' failed: mapping values are not allowed here; line 35

---
[...]
  cmd.run:
    - name: parted -s -- /dev/vdc mklabel gpt mkpart primary xfs 1 -1 set 1 lvm on

/dev/vdd1:
  lvm.pv_present
  - unless: ls /dev/vdd1    <======================

VolGroup3:
  lvm.vg_present:
    - devices: /dev/vdd1

[...]
---
2016-11-02 00:38:12,607 [salt.state       ][CRITICAL][4111] Rendering SLS 'base:disk.lvm' failed: mapping values are not allowed here; line 35

---
[...]
  cmd.run:
    - name: parted -s -- /dev/vdd mklabel gpt mkpart primary xfs 1 -1 set 1 lvm on

/dev/vdd1:
  lvm.pv_present
    - require:    <======================
      - cmd: parted_/dev/vdd

VolGroup3:
  lvm.vg_present:
    - devices: /dev/vdd1
[...]
---
