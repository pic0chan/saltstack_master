2016-08-27 19:19:08,497 [salt.pillar      ][CRITICAL][4044] Pillar render error: Error encountered while render pillar top file.
2016-08-27 19:19:08,524 [salt.pillar      ][CRITICAL][4044] Pillar render error: Error encountered while render pillar top file.
2016-08-27 20:02:45,436 [salt.utils.templates][ERROR   ][5649] Rendering exception occurred: Jinja variable 'network' is undefined
2016-08-27 20:02:45,436 [salt.state       ][CRITICAL][5649] Rendering SLS 'base:rsyslog' failed: Jinja variable 'network' is undefined
2016-08-27 20:05:17,200 [salt.utils.templates][ERROR   ][5719] Rendering exception occurred: Jinja variable 'network' is undefined
2016-08-27 20:05:17,201 [salt.state       ][CRITICAL][5719] Rendering SLS 'base:rsyslog' failed: Jinja variable 'network' is undefined
2016-08-27 20:05:59,785 [salt.utils.templates][ERROR   ][5755] Rendering exception occurred: Jinja variable 'dict object' has no attribute 'eth0'
2016-08-27 20:05:59,786 [salt.state       ][CRITICAL][5755] Rendering SLS 'base:rsyslog' failed: Jinja variable 'dict object' has no attribute 'eth0'
2016-08-27 20:51:12,903 [salt.utils.lazy  ][DEBUG   ][6969] LazyLoaded flat.targets
2016-08-27 20:51:12,904 [salt.utils.lazy  ][DEBUG   ][6969] LazyLoaded jinja.render
2016-08-27 20:51:12,905 [salt.utils.lazy  ][DEBUG   ][6969] LazyLoaded yaml.render
2016-08-27 20:51:12,905 [salt.template    ][DEBUG   ][6969] compile template: ./roster
2016-08-27 20:51:12,905 [salt.utils.jinja ][DEBUG   ][6969] Jinja search path: ['/root/saltstack_master/var/cache/salt/master/files/base']
2016-08-27 20:51:12,909 [salt.template    ][PROFILE ][6969] Time (in seconds) to render './roster' using 'jinja' renderer: 0.00372505187988
2016-08-27 20:51:12,909 [salt.template    ][DEBUG   ][6969] Rendered data from file: ./roster:
local:
  host: 127.0.0.1
  user: salt-ope
  passwd: salt-ope
  sudo: True
syslog:
  host: 192.168.1.12
  user: salt-ope
  passwd: salt-ope
  sudo: True


2016-08-27 20:51:12,912 [salt.loaded.int.render.yaml][DEBUG   ][6969] Results of YAML rendering: 
OrderedDict([('local', OrderedDict([('host', '127.0.0.1'), ('user', 'salt-ope'), ('passwd', 'salt-ope'), ('sudo', True)])), ('syslog', OrderedDict([('host', '192.168.1.12'), ('user', 'salt-ope'), ('passwd', 'salt-ope'), ('sudo', True)]))])
2016-08-27 20:51:12,912 [salt.template    ][PROFILE ][6969] Time (in seconds) to render './roster' using 'yaml' renderer: 0.00262904167175
2016-08-27 20:51:12,912 [salt.roster      ][DEBUG   ][6969] Matched minions: {'local': OrderedDict([('host', '127.0.0.1'), ('user', 'salt-ope'), ('passwd', 'salt-ope'), ('sudo', True)])}
2016-08-27 20:51:12,915 [salt.utils.lazy  ][DEBUG   ][6969] LazyLoaded roots.envs
2016-08-27 20:51:12,919 [salt.utils.lazy  ][DEBUG   ][6969] Could not LazyLoad roots.init
2016-08-27 20:51:12,919 [salt.fileserver  ][DEBUG   ][6969] Updating roots fileserver cache
2016-08-27 20:51:12,920 [salt.fileserver  ][TRACE   ][6969] Returning file_lists cache data from /root/saltstack_master/var/cache/salt/master/file_lists/roots/base.p
2016-08-27 20:51:12,921 [salt.utils.lazy  ][DEBUG   ][6969] LazyLoaded local_cache.prep_jid
2016-08-27 20:51:12,921 [salt.loaded.int.returner.local_cache][DEBUG   ][6969] Adding minions for job 20160827205112920990: ['local']
2016-08-27 20:51:12,951 [salt.utils.lazy  ][DEBUG   ][6985] LazyLoaded state.apply
2016-08-27 20:51:12,970 [salt.client.ssh  ][DEBUG   ][6985] Performing shimmed, blocking command as follows:
test.opts_pkg
2016-08-27 20:51:12,985 [salt.client.ssh.shell][DEBUG   ][6985] Executed SHIM command. Command logged to TRACE
2016-08-27 20:51:12,985 [salt.client.ssh.shell][TRACE   ][6985] Executing command: ssh 127.0.0.1  -o KbdInteractiveAuthentication=no -o PasswordAuthentication=yes -o GSSAPIAuthentication=no -o ConnectTimeout=65 -o Port=22 -o IdentityFile=/root/saltstack_master/etc/salt/pki/master/ssh/salt-ssh.rsa -o User=******  /bin/sh << 'EOF'
set -e
set -u
DEBUG="1"
if [ -n "$DEBUG" ]
then set -x
fi
SUDO=""
if [ -n "sudo" ]
then SUDO="sudo "
fi
EX_PYTHON_INVALID=10
PYTHON_CMDS="python3 python27 python2.7 python26 python2.6 python2 python"
for py_cmd in $PYTHON_CMDS
do
if command -v "$py_cmd" >/dev/null 2>&1 && "$py_cmd" -c \
"import sys; sys.exit(not (sys.version_info >= (2, 6)
and sys.version_info[0] == 2));"
then
py_cmd_path=`"$py_cmd" -c \
'from __future__ import print_function;
import sys; print(sys.executable);'`
cmdpath=$(which $py_cmd 2>&1)
if file $cmdpath | grep "shell script" > /dev/null
then
ex_vars="'PATH', 'LD_LIBRARY_PATH', 'MANPATH', \
'XDG_DATA_DIRS', 'PKG_CONFIG_PATH'"
export $($py_cmd -c \
"from __future__ import print_function;
import sys;
import os;
map(sys.stdout.write, ['{0}={1} ' \
.format(x, os.environ[x]) for x in [$ex_vars]])")
exec $SUDO PATH=$PATH LD_LIBRARY_PATH=$LD_LIBRARY_PATH \
MANPATH=$MANPATH XDG_DATA_DIRS=$XDG_DATA_DIRS \
PKG_CONFIG_PATH=$PKG_CONFIG_PATH \
"$py_cmd_path" -c \
'import base64;
exec(base64.b64decode("""IyBweWxpbnQ6IGRpc2FibGU9Vzk5MDMKJycnClRoaXMgaXMgYSBzaGltIHRoYXQgaGFuZGxlcyBj
aGVja2luZyBhbmQgdXBkYXRpbmcgc2FsdCB0aGluIGFuZAp0aGVuIGludm9raW5nIHRoaW4uCgpU
aGlzIGlzIG5vdCBpbnRlbmRlZCB0byBiZSBpbnN0YW50aWF0ZWQgYXMgYSBtb2R1bGUsIHJhdGhl
ciBpdCBpcyBhCmhlbHBlciBzY3JpcHQgdXNlZCBieSBzYWx0LmNsaWVudC5zc2guU2luZ2xlLiAg
SXQgaXMgaGVyZSwgaW4gYQpzZXBhcmF0ZSBmaWxlLCBmb3IgY29udmVuaWVuY2Ugb2YgZGV2ZWxv
cG1lbnQuCicnJwoKZnJvbSBfX2Z1dHVyZV9fIGltcG9ydCBhYnNvbHV0ZV9pbXBvcnQKCmltcG9y
dCBoYXNobGliCmltcG9ydCB0YXJmaWxlCmltcG9ydCBzaHV0aWwKaW1wb3J0IHN5cwppbXBvcnQg
b3MKaW1wb3J0IHN0YXQKaW1wb3J0IHN1YnByb2Nlc3MKClRISU5fQVJDSElWRSA9ICdzYWx0LXRo
aW4udGd6JwpFWFRfQVJDSElWRSA9ICdzYWx0LWV4dF9tb2RzLnRneicKCiMgS2VlcCB0aGVzZSBp
biBzeW5jIHdpdGggc2FsdC9kZWZhdWx0cy9leGl0Y29kZXMucHkKRVhfVEhJTl9ERVBMT1kgPSAx
MQpFWF9USElOX0NIRUNLU1VNID0gMTIKRVhfTU9EX0RFUExPWSA9IDEzCkVYX1NDUF9OT1RfRk9V
TkQgPSAxNApFWF9DQU5UQ1JFQVQgPSA3MwoKCmNsYXNzIE9CSihvYmplY3QpOgogICAgIiIiQW4g
ZW1wdHkgY2xhc3MgZm9yIGhvbGRpbmcgaW5zdGFuY2UgYXR0cmlidXRlIHZhbHVlcy4iIiIKICAg
IHBhc3MKCgpPUFRJT05TID0gTm9uZQpBUkdTID0gTm9uZQojIFRoZSBiZWxvdyBsaW5lIGlzIHdo
ZXJlIE9QVElPTlMgY2FuIGJlIHJlZGVmaW5lZCB3aXRoIGludGVybmFsIG9wdGlvbnMKIyAocmF0
aGVyIHRoYW4gY2xpIGFyZ3VtZW50cykgd2hlbiB0aGUgc2hpbSBpcyBidW5kbGVkIGJ5CiMgY2xp
ZW50LnNzaC5TaW5nbGUuX2NtZF9zdHIoKQojIHB5bGludDogZGlzYWJsZT1ibG9jay1jb21tZW50
LXNob3VsZC1zdGFydC13aXRoLWNhcmRpbmFsLXNwYWNlCgpPUFRJT05TID0gT0JKKCkKT1BUSU9O
Uy5jb25maWcgPSAiIiIKe2ZpbGVzZXJ2ZXJfbGlzdF9jYWNoZV90aW1lOiAzLCBncmFpbnNfY2Fj
aGU6IHRydWUsIGlkOiBsb2NhbCwgbG9nX2ZpbGU6IHNhbHQtY2FsbC5sb2csCiAgcm9vdF9kaXI6
IC92YXIvdG1wLy5zYWx0LW9wZV8xYTM1MzJfc2FsdC9ydW5uaW5nX2RhdGEsIHNvY2tfZGlyOiAv
fQoiIiIKT1BUSU9OUy5kZWxpbWl0ZXIgPSAnX2VkYmM3ODg1ZTRmOWFhYzliODNiMzU5OTliNjhk
MDE1MTQ4Y2FmNDY3Yjc4ZmEzOWMwNWY2NjljMGZmODk4NzgnCk9QVElPTlMuc2FsdGRpciA9ICcv
dmFyL3RtcC8uc2FsdC1vcGVfMWEzNTMyX3NhbHQnCk9QVElPTlMuY2hlY2tzdW0gPSAnMmUyNWZj
YmI2YWEyNTU5OWQ1MmU4OTVkZTZlMjExOTZkNWM2ZTU5NScKT1BUSU9OUy5oYXNoZnVuYyA9ICdz
aGExJwpPUFRJT05TLnZlcnNpb24gPSAnMjAxNi4zLjInCk9QVElPTlMuZXh0X21vZHMgPSAnJwpP
UFRJT05TLndpcGUgPSBGYWxzZQpPUFRJT05TLnR0eSA9IEZhbHNlCk9QVElPTlMuY21kX3VtYXNr
ID0gTm9uZQpBUkdTID0gWyd0ZXN0Lm9wdHNfcGtnJ10KCgoKZGVmIG5lZWRfZGVwbG95bWVudCgp
OgogICAgIiIiCiAgICBTYWx0IHRoaW4gbmVlZHMgdG8gYmUgZGVwbG95ZWQgLSBwcmVwIHRoZSB0
YXJnZXQgZGlyZWN0b3J5IGFuZCBlbWl0IHRoZQogICAgZGVsaW1ldGVyIGFuZCBleGl0IGNvZGUg
dGhhdCBzaWduYWxzIGEgcmVxdWlyZWQgZGVwbG95bWVudC4KICAgICIiIgogICAgaWYgb3MucGF0
aC5leGlzdHMoT1BUSU9OUy5zYWx0ZGlyKToKICAgICAgICBzaHV0aWwucm10cmVlKE9QVElPTlMu
c2FsdGRpcikKICAgIG9sZF91bWFzayA9IG9zLnVtYXNrKDBvMDc3KQogICAgb3MubWFrZWRpcnMo
T1BUSU9OUy5zYWx0ZGlyKQogICAgb3MudW1hc2sob2xkX3VtYXNrKQogICAgIyBWZXJpZnkgcGVy
bXMgb24gc2FsdGRpcgogICAgZXVpZCA9IG9zLmdldGV1aWQoKQogICAgZHN0YXQgPSBvcy5zdGF0
KE9QVElPTlMuc2FsdGRpcikKICAgIGlmIGRzdGF0LnN0X3VpZCAhPSBldWlkOgogICAgICAgICMg
QXR0YWNrIGRldGVjdGVkLCB0cnkgYWdhaW4KICAgICAgICBuZWVkX2RlcGxveW1lbnQoKQogICAg
aWYgZHN0YXQuc3RfbW9kZSAhPSAxNjgzMjoKICAgICAgICAjIEF0dGFjayBkZXRlY3RlZAogICAg
ICAgIG5lZWRfZGVwbG95bWVudCgpCiAgICAjIElmIFNVRE9pbmcgdGhlbiBhbHNvIGdpdmUgdGhl
IHN1cGVyIHVzZXIgZ3JvdXAgd3JpdGUgcGVybWlzc2lvbnMKICAgIHN1ZG9fZ2lkID0gb3MuZW52
aXJvbi5nZXQoJ1NVRE9fR0lEJykKICAgIGlmIHN1ZG9fZ2lkOgogICAgICAgIG9zLmNob3duKE9Q
VElPTlMuc2FsdGRpciwgLTEsIGludChzdWRvX2dpZCkpCiAgICAgICAgc3R0ID0gb3Muc3RhdChP
UFRJT05TLnNhbHRkaXIpCiAgICAgICAgb3MuY2htb2QoT1BUSU9OUy5zYWx0ZGlyLCBzdHQuc3Rf
bW9kZSB8IHN0YXQuU19JV0dSUCB8IHN0YXQuU19JUkdSUCB8IHN0YXQuU19JWEdSUCkKCiAgICAj
IERlbGltaXRlciBlbWl0dGVkIG9uIHN0ZG91dCAqb25seSogdG8gaW5kaWNhdGUgc2hpbSBtZXNz
YWdlIHRvIG1hc3Rlci4KICAgIHN5cy5zdGRvdXQud3JpdGUoInswfVxuZGVwbG95XG4iLmZvcm1h
dChPUFRJT05TLmRlbGltaXRlcikpCiAgICBzeXMuZXhpdChFWF9USElOX0RFUExPWSkKCgojIEFk
YXB0ZWQgZnJvbSBzYWx0LnV0aWxzLmdldF9oYXNoKCkKZGVmIGdldF9oYXNoKHBhdGgsIGZvcm09
J3NoYTEnLCBjaHVua19zaXplPTQwOTYpOgogICAgIiIiR2VuZXJhdGUgYSBoYXNoIGRpZ2VzdCBz
dHJpbmcgZm9yIGEgZmlsZS4iIiIKICAgIHRyeToKICAgICAgICBoYXNoX3R5cGUgPSBnZXRhdHRy
KGhhc2hsaWIsIGZvcm0pCiAgICBleGNlcHQgQXR0cmlidXRlRXJyb3I6CiAgICAgICAgcmFpc2Ug
VmFsdWVFcnJvcignSW52YWxpZCBoYXNoIHR5cGU6IHswfScuZm9ybWF0KGZvcm0pKQogICAgd2l0
aCBvcGVuKHBhdGgsICdyYicpIGFzIGlmaWxlOgogICAgICAgIGhhc2hfb2JqID0gaGFzaF90eXBl
KCkKICAgICAgICAjIHJlYWQgdGhlIGZpbGUgaW4gaW4gY2h1bmtzLCBub3QgdGhlIGVudGlyZSBm
aWxlCiAgICAgICAgZm9yIGNodW5rIGluIGl0ZXIobGFtYmRhOiBpZmlsZS5yZWFkKGNodW5rX3Np
emUpLCBiJycpOgogICAgICAgICAgICBoYXNoX29iai51cGRhdGUoY2h1bmspCiAgICAgICAgcmV0
dXJuIGhhc2hfb2JqLmhleGRpZ2VzdCgpCgoKZGVmIHVucGFja190aGluKHRoaW5fcGF0aCk6CiAg
ICAiIiJVbnBhY2sgdGhlIFNhbHQgdGhpbiBhcmNoaXZlLiIiIgogICAgdGZpbGUgPSB0YXJmaWxl
LlRhckZpbGUuZ3pvcGVuKHRoaW5fcGF0aCkKICAgIG9sZF91bWFzayA9IG9zLnVtYXNrKDBvMDc3
KQogICAgdGZpbGUuZXh0cmFjdGFsbChwYXRoPU9QVElPTlMuc2FsdGRpcikKICAgIHRmaWxlLmNs
b3NlKCkKICAgIG9zLnVtYXNrKG9sZF91bWFzaykKICAgIG9zLnVubGluayh0aGluX3BhdGgpCgoK
ZGVmIG5lZWRfZXh0KCk6CiAgICAiIiJTaWduYWwgdGhhdCBleHRlcm5hbCBtb2R1bGVzIG5lZWQg
dG8gYmUgZGVwbG95ZWQuIiIiCiAgICBzeXMuc3Rkb3V0LndyaXRlKCJ7MH1cbmV4dF9tb2RzXG4i
LmZvcm1hdChPUFRJT05TLmRlbGltaXRlcikpCiAgICBzeXMuZXhpdChFWF9NT0RfREVQTE9ZKQoK
CmRlZiB1bnBhY2tfZXh0KGV4dF9wYXRoKToKICAgICIiIlVucGFjayB0aGUgZXh0ZXJuYWwgbW9k
dWxlcy4iIiIKICAgIG1vZGNhY2hlID0gb3MucGF0aC5qb2luKAogICAgICAgICAgICBPUFRJT05T
LnNhbHRkaXIsCiAgICAgICAgICAgICdydW5uaW5nX2RhdGEnLAogICAgICAgICAgICAndmFyJywK
ICAgICAgICAgICAgJ2NhY2hlJywKICAgICAgICAgICAgJ3NhbHQnLAogICAgICAgICAgICAnbWlu
aW9uJywKICAgICAgICAgICAgJ2V4dG1vZHMnKQogICAgdGZpbGUgPSB0YXJmaWxlLlRhckZpbGUu
Z3pvcGVuKGV4dF9wYXRoKQogICAgb2xkX3VtYXNrID0gb3MudW1hc2soMG8wNzcpCiAgICB0Zmls
ZS5leHRyYWN0YWxsKHBhdGg9bW9kY2FjaGUpCiAgICB0ZmlsZS5jbG9zZSgpCiAgICBvcy51bWFz
ayhvbGRfdW1hc2spCiAgICBvcy51bmxpbmsoZXh0X3BhdGgpCiAgICB2ZXJfcGF0aCA9IG9zLnBh
dGguam9pbihtb2RjYWNoZSwgJ2V4dF92ZXJzaW9uJykKICAgIHZlcl9kc3QgPSBvcy5wYXRoLmpv
aW4oT1BUSU9OUy5zYWx0ZGlyLCAnZXh0X3ZlcnNpb24nKQogICAgc2h1dGlsLm1vdmUodmVyX3Bh
dGgsIHZlcl9kc3QpCgoKZGVmIG1haW4oYXJndik6ICAjIHB5bGludDogZGlzYWJsZT1XMDYxMwog
ICAgIiIiTWFpbiBwcm9ncmFtIGJvZHkiIiIKICAgIHRoaW5fcGF0aCA9IG9zLnBhdGguam9pbihP
UFRJT05TLnNhbHRkaXIsIFRISU5fQVJDSElWRSkKICAgIGlmIG9zLnBhdGguaXNmaWxlKHRoaW5f
cGF0aCk6CiAgICAgICAgaWYgT1BUSU9OUy5jaGVja3N1bSAhPSBnZXRfaGFzaCh0aGluX3BhdGgs
IE9QVElPTlMuaGFzaGZ1bmMpOgogICAgICAgICAgICBzeXMuc3RkZXJyLndyaXRlKCd7MH1cbicu
Zm9ybWF0KE9QVElPTlMuY2hlY2tzdW0pKQogICAgICAgICAgICBzeXMuc3RkZXJyLndyaXRlKCd7
MH1cbicuZm9ybWF0KGdldF9oYXNoKHRoaW5fcGF0aCwgT1BUSU9OUy5oYXNoZnVuYykpKQogICAg
ICAgICAgICBvcy51bmxpbmsodGhpbl9wYXRoKQogICAgICAgICAgICBzeXMuc3RkZXJyLndyaXRl
KCdXQVJOSU5HOiBjaGVja3N1bSBtaXNtYXRjaCBmb3IgInswfSJcbicuZm9ybWF0KHRoaW5fcGF0
aCkpCiAgICAgICAgICAgIHN5cy5leGl0KEVYX1RISU5fQ0hFQ0tTVU0pCiAgICAgICAgdW5wYWNr
X3RoaW4odGhpbl9wYXRoKQogICAgICAgICMgU2FsdCB0aGluIG5vdyBpcyBhdmFpbGFibGUgdG8g
dXNlCiAgICBlbHNlOgogICAgICAgIHNjcHN0YXQgPSBzdWJwcm9jZXNzLlBvcGVuKFsnL2Jpbi9z
aCcsICctYycsICdjb21tYW5kIC12IHNjcCddKS53YWl0KCkKICAgICAgICBpZiBzY3BzdGF0ICE9
IDA6CiAgICAgICAgICAgIHN5cy5leGl0KEVYX1NDUF9OT1RfRk9VTkQpCgogICAgICAgIGlmIG5v
dCBvcy5wYXRoLmV4aXN0cyhPUFRJT05TLnNhbHRkaXIpOgogICAgICAgICAgICBuZWVkX2RlcGxv
eW1lbnQoKQoKICAgICAgICBpZiBub3Qgb3MucGF0aC5pc2RpcihPUFRJT05TLnNhbHRkaXIpOgog
ICAgICAgICAgICBzeXMuc3RkZXJyLndyaXRlKAogICAgICAgICAgICAgICAgJ0VSUk9SOiBzYWx0
IHBhdGggInswfSIgZXhpc3RzIGJ1dCBpcycKICAgICAgICAgICAgICAgICcgbm90IGEgZGlyZWN0
b3J5XG4nLmZvcm1hdChPUFRJT05TLnNhbHRkaXIpCiAgICAgICAgICAgICkKICAgICAgICAgICAg
c3lzLmV4aXQoRVhfQ0FOVENSRUFUKQoKICAgICAgICB2ZXJzaW9uX3BhdGggPSBvcy5wYXRoLmpv
aW4oT1BUSU9OUy5zYWx0ZGlyLCAndmVyc2lvbicpCiAgICAgICAgaWYgbm90IG9zLnBhdGguZXhp
c3RzKHZlcnNpb25fcGF0aCkgb3Igbm90IG9zLnBhdGguaXNmaWxlKHZlcnNpb25fcGF0aCk6CiAg
ICAgICAgICAgIHN5cy5zdGRlcnIud3JpdGUoCiAgICAgICAgICAgICAgICAnV0FSTklORzogVW5h
YmxlIHRvIGxvY2F0ZSBjdXJyZW50IHRoaW4gJwogICAgICAgICAgICAgICAgJyB2ZXJzaW9uOiB7
MH0uXG4nLmZvcm1hdCh2ZXJzaW9uX3BhdGgpCiAgICAgICAgICAgICkKICAgICAgICAgICAgbmVl
ZF9kZXBsb3ltZW50KCkKICAgICAgICB3aXRoIG9wZW4odmVyc2lvbl9wYXRoLCAncicpIGFzIHZw
bzoKICAgICAgICAgICAgY3VyX3ZlcnNpb24gPSB2cG8ucmVhZGxpbmUoKS5zdHJpcCgpCiAgICAg
ICAgaWYgY3VyX3ZlcnNpb24gIT0gT1BUSU9OUy52ZXJzaW9uOgogICAgICAgICAgICBzeXMuc3Rk
ZXJyLndyaXRlKAogICAgICAgICAgICAgICAgJ1dBUk5JTkc6IGN1cnJlbnQgdGhpbiB2ZXJzaW9u
IHswfScKICAgICAgICAgICAgICAgICcgaXMgbm90IHVwLXRvLWRhdGUgd2l0aCB7MX0uXG4nLmZv
cm1hdCgKICAgICAgICAgICAgICAgICAgICBjdXJfdmVyc2lvbiwgT1BUSU9OUy52ZXJzaW9uCiAg
ICAgICAgICAgICAgICApCiAgICAgICAgICAgICkKICAgICAgICAgICAgbmVlZF9kZXBsb3ltZW50
KCkKICAgICAgICAjIFNhbHQgdGhpbiBleGlzdHMgYW5kIGlzIHVwLXRvLWRhdGUgLSBmYWxsIHRo
cm91Z2ggYW5kIHVzZSBpdAoKICAgIHNhbHRfY2FsbF9wYXRoID0gb3MucGF0aC5qb2luKE9QVElP
TlMuc2FsdGRpciwgJ3NhbHQtY2FsbCcpCiAgICBpZiBub3Qgb3MucGF0aC5pc2ZpbGUoc2FsdF9j
YWxsX3BhdGgpOgogICAgICAgIHN5cy5zdGRlcnIud3JpdGUoJ0VSUk9SOiB0aGluIGlzIG1pc3Np
bmcgInswfSJcbicuZm9ybWF0KHNhbHRfY2FsbF9wYXRoKSkKICAgICAgICBuZWVkX2RlcGxveW1l
bnQoKQoKICAgIHdpdGggb3Blbihvcy5wYXRoLmpvaW4oT1BUSU9OUy5zYWx0ZGlyLCAnbWluaW9u
JyksICd3JykgYXMgY29uZmlnOgogICAgICAgIGNvbmZpZy53cml0ZShPUFRJT05TLmNvbmZpZyAr
ICdcbicpCiAgICBpZiBPUFRJT05TLmV4dF9tb2RzOgogICAgICAgIGV4dF9wYXRoID0gb3MucGF0
aC5qb2luKE9QVElPTlMuc2FsdGRpciwgRVhUX0FSQ0hJVkUpCiAgICAgICAgaWYgb3MucGF0aC5l
eGlzdHMoZXh0X3BhdGgpOgogICAgICAgICAgICB1bnBhY2tfZXh0KGV4dF9wYXRoKQogICAgICAg
IGVsc2U6CiAgICAgICAgICAgIHZlcnNpb25fcGF0aCA9IG9zLnBhdGguam9pbihPUFRJT05TLnNh
bHRkaXIsICdleHRfdmVyc2lvbicpCiAgICAgICAgICAgIGlmIG5vdCBvcy5wYXRoLmV4aXN0cyh2
ZXJzaW9uX3BhdGgpIG9yIG5vdCBvcy5wYXRoLmlzZmlsZSh2ZXJzaW9uX3BhdGgpOgogICAgICAg
ICAgICAgICAgbmVlZF9leHQoKQogICAgICAgICAgICB3aXRoIG9wZW4odmVyc2lvbl9wYXRoLCAn
cicpIGFzIHZwbzoKICAgICAgICAgICAgICAgIGN1cl92ZXJzaW9uID0gdnBvLnJlYWRsaW5lKCku
c3RyaXAoKQogICAgICAgICAgICBpZiBjdXJfdmVyc2lvbiAhPSBPUFRJT05TLmV4dF9tb2RzOgog
ICAgICAgICAgICAgICAgbmVlZF9leHQoKQogICAgIyBGaXggcGFyYW1ldGVyIHBhc3NpbmcgaXNz
dWUKICAgIGlmIGxlbihBUkdTKSA9PSAxOgogICAgICAgIGFyZ3ZfcHJlcGFyZWQgPSBBUkdTWzBd
LnNwbGl0KCkKICAgIGVsc2U6CiAgICAgICAgYXJndl9wcmVwYXJlZCA9IEFSR1MKCiAgICBzYWx0
X2FyZ3YgPSBbCiAgICAgICAgc3lzLmV4ZWN1dGFibGUsCiAgICAgICAgc2FsdF9jYWxsX3BhdGgs
CiAgICAgICAgJy0tcmV0Y29kZS1wYXNzdGhyb3VnaCcsCiAgICAgICAgJy0tbG9jYWwnLAogICAg
ICAgICctLW1ldGFkYXRhJywKICAgICAgICAnLS1vdXQnLCAnanNvbicsCiAgICAgICAgJy1sJywg
J3F1aWV0JywKICAgICAgICAnLWMnLCBPUFRJT05TLnNhbHRkaXIsCiAgICAgICAgJy0tJywKICAg
IF0gKyBhcmd2X3ByZXBhcmVkCgogICAgc3lzLnN0ZGVyci53cml0ZSgnU0FMVF9BUkdWOiB7MH1c
bicuZm9ybWF0KHNhbHRfYXJndikpCgogICAgIyBPbmx5IGVtaXQgdGhlIGRlbGltaXRlciBvbiAq
Ym90aCogc3Rkb3V0IGFuZCBzdGRlcnIgd2hlbiBjb21wbGV0ZWx5IHN1Y2Nlc3NmdWwuCiAgICAj
IFllcywgdGhlIGZsdXNoKCkgaXMgbmVjZXNzYXJ5LgogICAgc3lzLnN0ZG91dC53cml0ZShPUFRJ
T05TLmRlbGltaXRlciArICdcbicpCiAgICBzeXMuc3Rkb3V0LmZsdXNoKCkKICAgIGlmIG5vdCBP
UFRJT05TLnR0eToKICAgICAgICBzeXMuc3RkZXJyLndyaXRlKE9QVElPTlMuZGVsaW1pdGVyICsg
J1xuJykKICAgICAgICBzeXMuc3RkZXJyLmZsdXNoKCkKICAgIGlmIE9QVElPTlMuY21kX3VtYXNr
IGlzIG5vdCBOb25lOgogICAgICAgIG9sZF91bWFzayA9IG9zLnVtYXNrKE9QVElPTlMuY21kX3Vt
YXNrKQogICAgaWYgT1BUSU9OUy50dHk6CiAgICAgICAgc3Rkb3V0LCBfID0gc3VicHJvY2Vzcy5Q
b3BlbihzYWx0X2FyZ3YsIHN0ZG91dD1zdWJwcm9jZXNzLlBJUEUsIHN0ZGVycj1zdWJwcm9jZXNz
LlBJUEUpLmNvbW11bmljYXRlKCkKICAgICAgICBzeXMuc3Rkb3V0LndyaXRlKHN0ZG91dCkKICAg
ICAgICBzeXMuc3Rkb3V0LmZsdXNoKCkKICAgICAgICBpZiBPUFRJT05TLndpcGU6CiAgICAgICAg
ICAgIHNodXRpbC5ybXRyZWUoT1BUSU9OUy5zYWx0ZGlyKQogICAgZWxpZiBPUFRJT05TLndpcGU6
CiAgICAgICAgc3VicHJvY2Vzcy5jYWxsKHNhbHRfYXJndikKICAgICAgICBzaHV0aWwucm10cmVl
KE9QVElPTlMuc2FsdGRpcikKICAgIGVsc2U6CiAgICAgICAgb3MuZXhlY3Yoc3lzLmV4ZWN1dGFi
bGUsIHNhbHRfYXJndikKICAgIGlmIE9QVElPTlMuY21kX3VtYXNrIGlzIG5vdCBOb25lOgogICAg
ICAgIG9zLnVtYXNrKG9sZF91bWFzaykKCmlmIF9fbmFtZV9fID09ICdfX21haW5fXyc6CiAgICBz
eXMuZXhpdChtYWluKHN5cy5hcmd2KSkK
""").decode("utf-8"))'
else
exec $SUDO "$py_cmd_path" -c \
'import base64;
exec(base64.b64decode("""IyBweWxpbnQ6IGRpc2FibGU9Vzk5MDMKJycnClRoaXMgaXMgYSBzaGltIHRoYXQgaGFuZGxlcyBj
aGVja2luZyBhbmQgdXBkYXRpbmcgc2FsdCB0aGluIGFuZAp0aGVuIGludm9raW5nIHRoaW4uCgpU
aGlzIGlzIG5vdCBpbnRlbmRlZCB0byBiZSBpbnN0YW50aWF0ZWQgYXMgYSBtb2R1bGUsIHJhdGhl
ciBpdCBpcyBhCmhlbHBlciBzY3JpcHQgdXNlZCBieSBzYWx0LmNsaWVudC5zc2guU2luZ2xlLiAg
SXQgaXMgaGVyZSwgaW4gYQpzZXBhcmF0ZSBmaWxlLCBmb3IgY29udmVuaWVuY2Ugb2YgZGV2ZWxv
cG1lbnQuCicnJwoKZnJvbSBfX2Z1dHVyZV9fIGltcG9ydCBhYnNvbHV0ZV9pbXBvcnQKCmltcG9y
dCBoYXNobGliCmltcG9ydCB0YXJmaWxlCmltcG9ydCBzaHV0aWwKaW1wb3J0IHN5cwppbXBvcnQg
b3MKaW1wb3J0IHN0YXQKaW1wb3J0IHN1YnByb2Nlc3MKClRISU5fQVJDSElWRSA9ICdzYWx0LXRo
aW4udGd6JwpFWFRfQVJDSElWRSA9ICdzYWx0LWV4dF9tb2RzLnRneicKCiMgS2VlcCB0aGVzZSBp
biBzeW5jIHdpdGggc2FsdC9kZWZhdWx0cy9leGl0Y29kZXMucHkKRVhfVEhJTl9ERVBMT1kgPSAx
MQpFWF9USElOX0NIRUNLU1VNID0gMTIKRVhfTU9EX0RFUExPWSA9IDEzCkVYX1NDUF9OT1RfRk9V
TkQgPSAxNApFWF9DQU5UQ1JFQVQgPSA3MwoKCmNsYXNzIE9CSihvYmplY3QpOgogICAgIiIiQW4g
ZW1wdHkgY2xhc3MgZm9yIGhvbGRpbmcgaW5zdGFuY2UgYXR0cmlidXRlIHZhbHVlcy4iIiIKICAg
IHBhc3MKCgpPUFRJT05TID0gTm9uZQpBUkdTID0gTm9uZQojIFRoZSBiZWxvdyBsaW5lIGlzIHdo
ZXJlIE9QVElPTlMgY2FuIGJlIHJlZGVmaW5lZCB3aXRoIGludGVybmFsIG9wdGlvbnMKIyAocmF0
aGVyIHRoYW4gY2xpIGFyZ3VtZW50cykgd2hlbiB0aGUgc2hpbSBpcyBidW5kbGVkIGJ5CiMgY2xp
ZW50LnNzaC5TaW5nbGUuX2NtZF9zdHIoKQojIHB5bGludDogZGlzYWJsZT1ibG9jay1jb21tZW50
LXNob3VsZC1zdGFydC13aXRoLWNhcmRpbmFsLXNwYWNlCgpPUFRJT05TID0gT0JKKCkKT1BUSU9O
Uy5jb25maWcgPSAiIiIKe2ZpbGVzZXJ2ZXJfbGlzdF9jYWNoZV90aW1lOiAzLCBncmFpbnNfY2Fj
aGU6IHRydWUsIGlkOiBsb2NhbCwgbG9nX2ZpbGU6IHNhbHQtY2FsbC5sb2csCiAgcm9vdF9kaXI6
IC92YXIvdG1wLy5zYWx0LW9wZV8xYTM1MzJfc2FsdC9ydW5uaW5nX2RhdGEsIHNvY2tfZGlyOiAv
fQoiIiIKT1BUSU9OUy5kZWxpbWl0ZXIgPSAnX2VkYmM3ODg1ZTRmOWFhYzliODNiMzU5OTliNjhk
MDE1MTQ4Y2FmNDY3Yjc4ZmEzOWMwNWY2NjljMGZmODk4NzgnCk9QVElPTlMuc2FsdGRpciA9ICcv
dmFyL3RtcC8uc2FsdC1vcGVfMWEzNTMyX3NhbHQnCk9QVElPTlMuY2hlY2tzdW0gPSAnMmUyNWZj
YmI2YWEyNTU5OWQ1MmU4OTVkZTZlMjExOTZkNWM2ZTU5NScKT1BUSU9OUy5oYXNoZnVuYyA9ICdz
aGExJwpPUFRJT05TLnZlcnNpb24gPSAnMjAxNi4zLjInCk9QVElPTlMuZXh0X21vZHMgPSAnJwpP
UFRJT05TLndpcGUgPSBGYWxzZQpPUFRJT05TLnR0eSA9IEZhbHNlCk9QVElPTlMuY21kX3VtYXNr
ID0gTm9uZQpBUkdTID0gWyd0ZXN0Lm9wdHNfcGtnJ10KCgoKZGVmIG5lZWRfZGVwbG95bWVudCgp
OgogICAgIiIiCiAgICBTYWx0IHRoaW4gbmVlZHMgdG8gYmUgZGVwbG95ZWQgLSBwcmVwIHRoZSB0
YXJnZXQgZGlyZWN0b3J5IGFuZCBlbWl0IHRoZQogICAgZGVsaW1ldGVyIGFuZCBleGl0IGNvZGUg
dGhhdCBzaWduYWxzIGEgcmVxdWlyZWQgZGVwbG95bWVudC4KICAgICIiIgogICAgaWYgb3MucGF0
aC5leGlzdHMoT1BUSU9OUy5zYWx0ZGlyKToKICAgICAgICBzaHV0aWwucm10cmVlKE9QVElPTlMu
c2FsdGRpcikKICAgIG9sZF91bWFzayA9IG9zLnVtYXNrKDBvMDc3KQogICAgb3MubWFrZWRpcnMo
T1BUSU9OUy5zYWx0ZGlyKQogICAgb3MudW1hc2sob2xkX3VtYXNrKQogICAgIyBWZXJpZnkgcGVy
bXMgb24gc2FsdGRpcgogICAgZXVpZCA9IG9zLmdldGV1aWQoKQogICAgZHN0YXQgPSBvcy5zdGF0
KE9QVElPTlMuc2FsdGRpcikKICAgIGlmIGRzdGF0LnN0X3VpZCAhPSBldWlkOgogICAgICAgICMg
QXR0YWNrIGRldGVjdGVkLCB0cnkgYWdhaW4KICAgICAgICBuZWVkX2RlcGxveW1lbnQoKQogICAg
aWYgZHN0YXQuc3RfbW9kZSAhPSAxNjgzMjoKICAgICAgICAjIEF0dGFjayBkZXRlY3RlZAogICAg
ICAgIG5lZWRfZGVwbG95bWVudCgpCiAgICAjIElmIFNVRE9pbmcgdGhlbiBhbHNvIGdpdmUgdGhl
IHN1cGVyIHVzZXIgZ3JvdXAgd3JpdGUgcGVybWlzc2lvbnMKICAgIHN1ZG9fZ2lkID0gb3MuZW52
aXJvbi5nZXQoJ1NVRE9fR0lEJykKICAgIGlmIHN1ZG9fZ2lkOgogICAgICAgIG9zLmNob3duKE9Q
VElPTlMuc2FsdGRpciwgLTEsIGludChzdWRvX2dpZCkpCiAgICAgICAgc3R0ID0gb3Muc3RhdChP
UFRJT05TLnNhbHRkaXIpCiAgICAgICAgb3MuY2htb2QoT1BUSU9OUy5zYWx0ZGlyLCBzdHQuc3Rf
bW9kZSB8IHN0YXQuU19JV0dSUCB8IHN0YXQuU19JUkdSUCB8IHN0YXQuU19JWEdSUCkKCiAgICAj
IERlbGltaXRlciBlbWl0dGVkIG9uIHN0ZG91dCAqb25seSogdG8gaW5kaWNhdGUgc2hpbSBtZXNz
YWdlIHRvIG1hc3Rlci4KICAgIHN5cy5zdGRvdXQud3JpdGUoInswfVxuZGVwbG95XG4iLmZvcm1h
dChPUFRJT05TLmRlbGltaXRlcikpCiAgICBzeXMuZXhpdChFWF9USElOX0RFUExPWSkKCgojIEFk
YXB0ZWQgZnJvbSBzYWx0LnV0aWxzLmdldF9oYXNoKCkKZGVmIGdldF9oYXNoKHBhdGgsIGZvcm09
J3NoYTEnLCBjaHVua19zaXplPTQwOTYpOgogICAgIiIiR2VuZXJhdGUgYSBoYXNoIGRpZ2VzdCBz
dHJpbmcgZm9yIGEgZmlsZS4iIiIKICAgIHRyeToKICAgICAgICBoYXNoX3R5cGUgPSBnZXRhdHRy
KGhhc2hsaWIsIGZvcm0pCiAgICBleGNlcHQgQXR0cmlidXRlRXJyb3I6CiAgICAgICAgcmFpc2Ug
VmFsdWVFcnJvcignSW52YWxpZCBoYXNoIHR5cGU6IHswfScuZm9ybWF0KGZvcm0pKQogICAgd2l0
aCBvcGVuKHBhdGgsICdyYicpIGFzIGlmaWxlOgogICAgICAgIGhhc2hfb2JqID0gaGFzaF90eXBl
KCkKICAgICAgICAjIHJlYWQgdGhlIGZpbGUgaW4gaW4gY2h1bmtzLCBub3QgdGhlIGVudGlyZSBm
aWxlCiAgICAgICAgZm9yIGNodW5rIGluIGl0ZXIobGFtYmRhOiBpZmlsZS5yZWFkKGNodW5rX3Np
emUpLCBiJycpOgogICAgICAgICAgICBoYXNoX29iai51cGRhdGUoY2h1bmspCiAgICAgICAgcmV0
dXJuIGhhc2hfb2JqLmhleGRpZ2VzdCgpCgoKZGVmIHVucGFja190aGluKHRoaW5fcGF0aCk6CiAg
ICAiIiJVbnBhY2sgdGhlIFNhbHQgdGhpbiBhcmNoaXZlLiIiIgogICAgdGZpbGUgPSB0YXJmaWxl
LlRhckZpbGUuZ3pvcGVuKHRoaW5fcGF0aCkKICAgIG9sZF91bWFzayA9IG9zLnVtYXNrKDBvMDc3
KQogICAgdGZpbGUuZXh0cmFjdGFsbChwYXRoPU9QVElPTlMuc2FsdGRpcikKICAgIHRmaWxlLmNs
b3NlKCkKICAgIG9zLnVtYXNrKG9sZF91bWFzaykKICAgIG9zLnVubGluayh0aGluX3BhdGgpCgoK
ZGVmIG5lZWRfZXh0KCk6CiAgICAiIiJTaWduYWwgdGhhdCBleHRlcm5hbCBtb2R1bGVzIG5lZWQg
dG8gYmUgZGVwbG95ZWQuIiIiCiAgICBzeXMuc3Rkb3V0LndyaXRlKCJ7MH1cbmV4dF9tb2RzXG4i
LmZvcm1hdChPUFRJT05TLmRlbGltaXRlcikpCiAgICBzeXMuZXhpdChFWF9NT0RfREVQTE9ZKQoK
CmRlZiB1bnBhY2tfZXh0KGV4dF9wYXRoKToKICAgICIiIlVucGFjayB0aGUgZXh0ZXJuYWwgbW9k
dWxlcy4iIiIKICAgIG1vZGNhY2hlID0gb3MucGF0aC5qb2luKAogICAgICAgICAgICBPUFRJT05T
LnNhbHRkaXIsCiAgICAgICAgICAgICdydW5uaW5nX2RhdGEnLAogICAgICAgICAgICAndmFyJywK
ICAgICAgICAgICAgJ2NhY2hlJywKICAgICAgICAgICAgJ3NhbHQnLAogICAgICAgICAgICAnbWlu
aW9uJywKICAgICAgICAgICAgJ2V4dG1vZHMnKQogICAgdGZpbGUgPSB0YXJmaWxlLlRhckZpbGUu
Z3pvcGVuKGV4dF9wYXRoKQogICAgb2xkX3VtYXNrID0gb3MudW1hc2soMG8wNzcpCiAgICB0Zmls
ZS5leHRyYWN0YWxsKHBhdGg9bW9kY2FjaGUpCiAgICB0ZmlsZS5jbG9zZSgpCiAgICBvcy51bWFz
ayhvbGRfdW1hc2spCiAgICBvcy51bmxpbmsoZXh0X3BhdGgpCiAgICB2ZXJfcGF0aCA9IG9zLnBh
dGguam9pbihtb2RjYWNoZSwgJ2V4dF92ZXJzaW9uJykKICAgIHZlcl9kc3QgPSBvcy5wYXRoLmpv
aW4oT1BUSU9OUy5zYWx0ZGlyLCAnZXh0X3ZlcnNpb24nKQogICAgc2h1dGlsLm1vdmUodmVyX3Bh
dGgsIHZlcl9kc3QpCgoKZGVmIG1haW4oYXJndik6ICAjIHB5bGludDogZGlzYWJsZT1XMDYxMwog
ICAgIiIiTWFpbiBwcm9ncmFtIGJvZHkiIiIKICAgIHRoaW5fcGF0aCA9IG9zLnBhdGguam9pbihP
UFRJT05TLnNhbHRkaXIsIFRISU5fQVJDSElWRSkKICAgIGlmIG9zLnBhdGguaXNmaWxlKHRoaW5f
cGF0aCk6CiAgICAgICAgaWYgT1BUSU9OUy5jaGVja3N1bSAhPSBnZXRfaGFzaCh0aGluX3BhdGgs
IE9QVElPTlMuaGFzaGZ1bmMpOgogICAgICAgICAgICBzeXMuc3RkZXJyLndyaXRlKCd7MH1cbicu
Zm9ybWF0KE9QVElPTlMuY2hlY2tzdW0pKQogICAgICAgICAgICBzeXMuc3RkZXJyLndyaXRlKCd7
MH1cbicuZm9ybWF0KGdldF9oYXNoKHRoaW5fcGF0aCwgT1BUSU9OUy5oYXNoZnVuYykpKQogICAg
ICAgICAgICBvcy51bmxpbmsodGhpbl9wYXRoKQogICAgICAgICAgICBzeXMuc3RkZXJyLndyaXRl
KCdXQVJOSU5HOiBjaGVja3N1bSBtaXNtYXRjaCBmb3IgInswfSJcbicuZm9ybWF0KHRoaW5fcGF0
aCkpCiAgICAgICAgICAgIHN5cy5leGl0KEVYX1RISU5fQ0hFQ0tTVU0pCiAgICAgICAgdW5wYWNr
X3RoaW4odGhpbl9wYXRoKQogICAgICAgICMgU2FsdCB0aGluIG5vdyBpcyBhdmFpbGFibGUgdG8g
dXNlCiAgICBlbHNlOgogICAgICAgIHNjcHN0YXQgPSBzdWJwcm9jZXNzLlBvcGVuKFsnL2Jpbi9z
aCcsICctYycsICdjb21tYW5kIC12IHNjcCddKS53YWl0KCkKICAgICAgICBpZiBzY3BzdGF0ICE9
IDA6CiAgICAgICAgICAgIHN5cy5leGl0KEVYX1NDUF9OT1RfRk9VTkQpCgogICAgICAgIGlmIG5v
dCBvcy5wYXRoLmV4aXN0cyhPUFRJT05TLnNhbHRkaXIpOgogICAgICAgICAgICBuZWVkX2RlcGxv
eW1lbnQoKQoKICAgICAgICBpZiBub3Qgb3MucGF0aC5pc2RpcihPUFRJT05TLnNhbHRkaXIpOgog
ICAgICAgICAgICBzeXMuc3RkZXJyLndyaXRlKAogICAgICAgICAgICAgICAgJ0VSUk9SOiBzYWx0
IHBhdGggInswfSIgZXhpc3RzIGJ1dCBpcycKICAgICAgICAgICAgICAgICcgbm90IGEgZGlyZWN0
b3J5XG4nLmZvcm1hdChPUFRJT05TLnNhbHRkaXIpCiAgICAgICAgICAgICkKICAgICAgICAgICAg
c3lzLmV4aXQoRVhfQ0FOVENSRUFUKQoKICAgICAgICB2ZXJzaW9uX3BhdGggPSBvcy5wYXRoLmpv
aW4oT1BUSU9OUy5zYWx0ZGlyLCAndmVyc2lvbicpCiAgICAgICAgaWYgbm90IG9zLnBhdGguZXhp
c3RzKHZlcnNpb25fcGF0aCkgb3Igbm90IG9zLnBhdGguaXNmaWxlKHZlcnNpb25fcGF0aCk6CiAg
ICAgICAgICAgIHN5cy5zdGRlcnIud3JpdGUoCiAgICAgICAgICAgICAgICAnV0FSTklORzogVW5h
YmxlIHRvIGxvY2F0ZSBjdXJyZW50IHRoaW4gJwogICAgICAgICAgICAgICAgJyB2ZXJzaW9uOiB7
MH0uXG4nLmZvcm1hdCh2ZXJzaW9uX3BhdGgpCiAgICAgICAgICAgICkKICAgICAgICAgICAgbmVl
ZF9kZXBsb3ltZW50KCkKICAgICAgICB3aXRoIG9wZW4odmVyc2lvbl9wYXRoLCAncicpIGFzIHZw
bzoKICAgICAgICAgICAgY3VyX3ZlcnNpb24gPSB2cG8ucmVhZGxpbmUoKS5zdHJpcCgpCiAgICAg
ICAgaWYgY3VyX3ZlcnNpb24gIT0gT1BUSU9OUy52ZXJzaW9uOgogICAgICAgICAgICBzeXMuc3Rk
ZXJyLndyaXRlKAogICAgICAgICAgICAgICAgJ1dBUk5JTkc6IGN1cnJlbnQgdGhpbiB2ZXJzaW9u
IHswfScKICAgICAgICAgICAgICAgICcgaXMgbm90IHVwLXRvLWRhdGUgd2l0aCB7MX0uXG4nLmZv
cm1hdCgKICAgICAgICAgICAgICAgICAgICBjdXJfdmVyc2lvbiwgT1BUSU9OUy52ZXJzaW9uCiAg
ICAgICAgICAgICAgICApCiAgICAgICAgICAgICkKICAgICAgICAgICAgbmVlZF9kZXBsb3ltZW50
KCkKICAgICAgICAjIFNhbHQgdGhpbiBleGlzdHMgYW5kIGlzIHVwLXRvLWRhdGUgLSBmYWxsIHRo
cm91Z2ggYW5kIHVzZSBpdAoKICAgIHNhbHRfY2FsbF9wYXRoID0gb3MucGF0aC5qb2luKE9QVElP
TlMuc2FsdGRpciwgJ3NhbHQtY2FsbCcpCiAgICBpZiBub3Qgb3MucGF0aC5pc2ZpbGUoc2FsdF9j
YWxsX3BhdGgpOgogICAgICAgIHN5cy5zdGRlcnIud3JpdGUoJ0VSUk9SOiB0aGluIGlzIG1pc3Np
bmcgInswfSJcbicuZm9ybWF0KHNhbHRfY2FsbF9wYXRoKSkKICAgICAgICBuZWVkX2RlcGxveW1l
bnQoKQoKICAgIHdpdGggb3Blbihvcy5wYXRoLmpvaW4oT1BUSU9OUy5zYWx0ZGlyLCAnbWluaW9u
JyksICd3JykgYXMgY29uZmlnOgogICAgICAgIGNvbmZpZy53cml0ZShPUFRJT05TLmNvbmZpZyAr
ICdcbicpCiAgICBpZiBPUFRJT05TLmV4dF9tb2RzOgogICAgICAgIGV4dF9wYXRoID0gb3MucGF0
aC5qb2luKE9QVElPTlMuc2FsdGRpciwgRVhUX0FSQ0hJVkUpCiAgICAgICAgaWYgb3MucGF0aC5l
eGlzdHMoZXh0X3BhdGgpOgogICAgICAgICAgICB1bnBhY2tfZXh0KGV4dF9wYXRoKQogICAgICAg
IGVsc2U6CiAgICAgICAgICAgIHZlcnNpb25fcGF0aCA9IG9zLnBhdGguam9pbihPUFRJT05TLnNh
bHRkaXIsICdleHRfdmVyc2lvbicpCiAgICAgICAgICAgIGlmIG5vdCBvcy5wYXRoLmV4aXN0cyh2
ZXJzaW9uX3BhdGgpIG9yIG5vdCBvcy5wYXRoLmlzZmlsZSh2ZXJzaW9uX3BhdGgpOgogICAgICAg
ICAgICAgICAgbmVlZF9leHQoKQogICAgICAgICAgICB3aXRoIG9wZW4odmVyc2lvbl9wYXRoLCAn
cicpIGFzIHZwbzoKICAgICAgICAgICAgICAgIGN1cl92ZXJzaW9uID0gdnBvLnJlYWRsaW5lKCku
c3RyaXAoKQogICAgICAgICAgICBpZiBjdXJfdmVyc2lvbiAhPSBPUFRJT05TLmV4dF9tb2RzOgog
ICAgICAgICAgICAgICAgbmVlZF9leHQoKQogICAgIyBGaXggcGFyYW1ldGVyIHBhc3NpbmcgaXNz
dWUKICAgIGlmIGxlbihBUkdTKSA9PSAxOgogICAgICAgIGFyZ3ZfcHJlcGFyZWQgPSBBUkdTWzBd
LnNwbGl0KCkKICAgIGVsc2U6CiAgICAgICAgYXJndl9wcmVwYXJlZCA9IEFSR1MKCiAgICBzYWx0
X2FyZ3YgPSBbCiAgICAgICAgc3lzLmV4ZWN1dGFibGUsCiAgICAgICAgc2FsdF9jYWxsX3BhdGgs
CiAgICAgICAgJy0tcmV0Y29kZS1wYXNzdGhyb3VnaCcsCiAgICAgICAgJy0tbG9jYWwnLAogICAg
ICAgICctLW1ldGFkYXRhJywKICAgICAgICAnLS1vdXQnLCAnanNvbicsCiAgICAgICAgJy1sJywg
J3F1aWV0JywKICAgICAgICAnLWMnLCBPUFRJT05TLnNhbHRkaXIsCiAgICAgICAgJy0tJywKICAg
IF0gKyBhcmd2X3ByZXBhcmVkCgogICAgc3lzLnN0ZGVyci53cml0ZSgnU0FMVF9BUkdWOiB7MH1c
bicuZm9ybWF0KHNhbHRfYXJndikpCgogICAgIyBPbmx5IGVtaXQgdGhlIGRlbGltaXRlciBvbiAq
Ym90aCogc3Rkb3V0IGFuZCBzdGRlcnIgd2hlbiBjb21wbGV0ZWx5IHN1Y2Nlc3NmdWwuCiAgICAj
IFllcywgdGhlIGZsdXNoKCkgaXMgbmVjZXNzYXJ5LgogICAgc3lzLnN0ZG91dC53cml0ZShPUFRJ
T05TLmRlbGltaXRlciArICdcbicpCiAgICBzeXMuc3Rkb3V0LmZsdXNoKCkKICAgIGlmIG5vdCBP
UFRJT05TLnR0eToKICAgICAgICBzeXMuc3RkZXJyLndyaXRlKE9QVElPTlMuZGVsaW1pdGVyICsg
J1xuJykKICAgICAgICBzeXMuc3RkZXJyLmZsdXNoKCkKICAgIGlmIE9QVElPTlMuY21kX3VtYXNr
IGlzIG5vdCBOb25lOgogICAgICAgIG9sZF91bWFzayA9IG9zLnVtYXNrKE9QVElPTlMuY21kX3Vt
YXNrKQogICAgaWYgT1BUSU9OUy50dHk6CiAgICAgICAgc3Rkb3V0LCBfID0gc3VicHJvY2Vzcy5Q
b3BlbihzYWx0X2FyZ3YsIHN0ZG91dD1zdWJwcm9jZXNzLlBJUEUsIHN0ZGVycj1zdWJwcm9jZXNz
LlBJUEUpLmNvbW11bmljYXRlKCkKICAgICAgICBzeXMuc3Rkb3V0LndyaXRlKHN0ZG91dCkKICAg
ICAgICBzeXMuc3Rkb3V0LmZsdXNoKCkKICAgICAgICBpZiBPUFRJT05TLndpcGU6CiAgICAgICAg
ICAgIHNodXRpbC5ybXRyZWUoT1BUSU9OUy5zYWx0ZGlyKQogICAgZWxpZiBPUFRJT05TLndpcGU6
CiAgICAgICAgc3VicHJvY2Vzcy5jYWxsKHNhbHRfYXJndikKICAgICAgICBzaHV0aWwucm10cmVl
KE9QVElPTlMuc2FsdGRpcikKICAgIGVsc2U6CiAgICAgICAgb3MuZXhlY3Yoc3lzLmV4ZWN1dGFi
bGUsIHNhbHRfYXJndikKICAgIGlmIE9QVElPTlMuY21kX3VtYXNrIGlzIG5vdCBOb25lOgogICAg
ICAgIG9zLnVtYXNrKG9sZF91bWFzaykKCmlmIF9fbmFtZV9fID09ICdfX21haW5fXyc6CiAgICBz
eXMuZXhpdChtYWluKHN5cy5hcmd2KSkK
""").decode("utf-8"))'
fi
exit 0
else
continue
fi
done
echo "ERROR: Unable to locate appropriate python command" >&2
exit $EX_PYTHON_INVALID
EOF
2016-08-27 20:51:12,996 [salt.utils.vt    ][DEBUG   ][6985] Child Forked! PID: 6986  STDOUT_FD: 9  STDERR_FD: 11
2016-08-27 20:51:12,997 [salt.utils.vt    ][DEBUG   ][6985] VT: Salt-SSH SHIM Terminal Command executed. Logged to TRACE
2016-08-27 20:51:12,997 [salt.utils.vt    ][TRACE   ][6985] Terminal Command: /bin/sh -c ssh 127.0.0.1  -o KbdInteractiveAuthentication=no -o PasswordAuthentication=yes -o GSSAPIAuthentication=no -o ConnectTimeout=65 -o Port=22 -o IdentityFile=/root/saltstack_master/etc/salt/pki/master/ssh/salt-ssh.rsa -o User=salt-ope  /bin/sh << 'EOF'
set -e
set -u
DEBUG="1"
if [ -n "$DEBUG" ]
then set -x
fi
SUDO=""
if [ -n "sudo" ]
then SUDO="sudo "
fi
EX_PYTHON_INVALID=10
PYTHON_CMDS="python3 python27 python2.7 python26 python2.6 python2 python"
for py_cmd in $PYTHON_CMDS
do
if command -v "$py_cmd" >/dev/null 2>&1 && "$py_cmd" -c \
"import sys; sys.exit(not (sys.version_info >= (2, 6)
and sys.version_info[0] == 2));"
then
py_cmd_path=`"$py_cmd" -c \
'from __future__ import print_function;
import sys; print(sys.executable);'`
cmdpath=$(which $py_cmd 2>&1)
if file $cmdpath | grep "shell script" > /dev/null
then
ex_vars="'PATH', 'LD_LIBRARY_PATH', 'MANPATH', \
'XDG_DATA_DIRS', 'PKG_CONFIG_PATH'"
export $($py_cmd -c \
"from __future__ import print_function;
import sys;
import os;
map(sys.stdout.write, ['{0}={1} ' \
.format(x, os.environ[x]) for x in [$ex_vars]])")
exec $SUDO PATH=$PATH LD_LIBRARY_PATH=$LD_LIBRARY_PATH \
MANPATH=$MANPATH XDG_DATA_DIRS=$XDG_DATA_DIRS \
PKG_CONFIG_PATH=$PKG_CONFIG_PATH \
"$py_cmd_path" -c \
'import base64;
exec(base64.b64decode("""IyBweWxpbnQ6IGRpc2FibGU9Vzk5MDMKJycnClRoaXMgaXMgYSBzaGltIHRoYXQgaGFuZGxlcyBj
aGVja2luZyBhbmQgdXBkYXRpbmcgc2FsdCB0aGluIGFuZAp0aGVuIGludm9raW5nIHRoaW4uCgpU
aGlzIGlzIG5vdCBpbnRlbmRlZCB0byBiZSBpbnN0YW50aWF0ZWQgYXMgYSBtb2R1bGUsIHJhdGhl
ciBpdCBpcyBhCmhlbHBlciBzY3JpcHQgdXNlZCBieSBzYWx0LmNsaWVudC5zc2guU2luZ2xlLiAg
SXQgaXMgaGVyZSwgaW4gYQpzZXBhcmF0ZSBmaWxlLCBmb3IgY29udmVuaWVuY2Ugb2YgZGV2ZWxv
cG1lbnQuCicnJwoKZnJvbSBfX2Z1dHVyZV9fIGltcG9ydCBhYnNvbHV0ZV9pbXBvcnQKCmltcG9y
dCBoYXNobGliCmltcG9ydCB0YXJmaWxlCmltcG9ydCBzaHV0aWwKaW1wb3J0IHN5cwppbXBvcnQg
b3MKaW1wb3J0IHN0YXQKaW1wb3J0IHN1YnByb2Nlc3MKClRISU5fQVJDSElWRSA9ICdzYWx0LXRo
aW4udGd6JwpFWFRfQVJDSElWRSA9ICdzYWx0LWV4dF9tb2RzLnRneicKCiMgS2VlcCB0aGVzZSBp
biBzeW5jIHdpdGggc2FsdC9kZWZhdWx0cy9leGl0Y29kZXMucHkKRVhfVEhJTl9ERVBMT1kgPSAx
MQpFWF9USElOX0NIRUNLU1VNID0gMTIKRVhfTU9EX0RFUExPWSA9IDEzCkVYX1NDUF9OT1RfRk9V
TkQgPSAxNApFWF9DQU5UQ1JFQVQgPSA3MwoKCmNsYXNzIE9CSihvYmplY3QpOgogICAgIiIiQW4g
ZW1wdHkgY2xhc3MgZm9yIGhvbGRpbmcgaW5zdGFuY2UgYXR0cmlidXRlIHZhbHVlcy4iIiIKICAg
IHBhc3MKCgpPUFRJT05TID0gTm9uZQpBUkdTID0gTm9uZQojIFRoZSBiZWxvdyBsaW5lIGlzIHdo
ZXJlIE9QVElPTlMgY2FuIGJlIHJlZGVmaW5lZCB3aXRoIGludGVybmFsIG9wdGlvbnMKIyAocmF0
aGVyIHRoYW4gY2xpIGFyZ3VtZW50cykgd2hlbiB0aGUgc2hpbSBpcyBidW5kbGVkIGJ5CiMgY2xp
ZW50LnNzaC5TaW5nbGUuX2NtZF9zdHIoKQojIHB5bGludDogZGlzYWJsZT1ibG9jay1jb21tZW50
LXNob3VsZC1zdGFydC13aXRoLWNhcmRpbmFsLXNwYWNlCgpPUFRJT05TID0gT0JKKCkKT1BUSU9O
Uy5jb25maWcgPSAiIiIKe2ZpbGVzZXJ2ZXJfbGlzdF9jYWNoZV90aW1lOiAzLCBncmFpbnNfY2Fj
aGU6IHRydWUsIGlkOiBsb2NhbCwgbG9nX2ZpbGU6IHNhbHQtY2FsbC5sb2csCiAgcm9vdF9kaXI6
IC92YXIvdG1wLy5zYWx0LW9wZV8xYTM1MzJfc2FsdC9ydW5uaW5nX2RhdGEsIHNvY2tfZGlyOiAv
fQoiIiIKT1BUSU9OUy5kZWxpbWl0ZXIgPSAnX2VkYmM3ODg1ZTRmOWFhYzliODNiMzU5OTliNjhk
MDE1MTQ4Y2FmNDY3Yjc4ZmEzOWMwNWY2NjljMGZmODk4NzgnCk9QVElPTlMuc2FsdGRpciA9ICcv
dmFyL3RtcC8uc2FsdC1vcGVfMWEzNTMyX3NhbHQnCk9QVElPTlMuY2hlY2tzdW0gPSAnMmUyNWZj
YmI2YWEyNTU5OWQ1MmU4OTVkZTZlMjExOTZkNWM2ZTU5NScKT1BUSU9OUy5oYXNoZnVuYyA9ICdz
aGExJwpPUFRJT05TLnZlcnNpb24gPSAnMjAxNi4zLjInCk9QVElPTlMuZXh0X21vZHMgPSAnJwpP
UFRJT05TLndpcGUgPSBGYWxzZQpPUFRJT05TLnR0eSA9IEZhbHNlCk9QVElPTlMuY21kX3VtYXNr
ID0gTm9uZQpBUkdTID0gWyd0ZXN0Lm9wdHNfcGtnJ10KCgoKZGVmIG5lZWRfZGVwbG95bWVudCgp
OgogICAgIiIiCiAgICBTYWx0IHRoaW4gbmVlZHMgdG8gYmUgZGVwbG95ZWQgLSBwcmVwIHRoZSB0
YXJnZXQgZGlyZWN0b3J5IGFuZCBlbWl0IHRoZQogICAgZGVsaW1ldGVyIGFuZCBleGl0IGNvZGUg
dGhhdCBzaWduYWxzIGEgcmVxdWlyZWQgZGVwbG95bWVudC4KICAgICIiIgogICAgaWYgb3MucGF0
aC5leGlzdHMoT1BUSU9OUy5zYWx0ZGlyKToKICAgICAgICBzaHV0aWwucm10cmVlKE9QVElPTlMu
c2FsdGRpcikKICAgIG9sZF91bWFzayA9IG9zLnVtYXNrKDBvMDc3KQogICAgb3MubWFrZWRpcnMo
T1BUSU9OUy5zYWx0ZGlyKQogICAgb3MudW1hc2sob2xkX3VtYXNrKQogICAgIyBWZXJpZnkgcGVy
bXMgb24gc2FsdGRpcgogICAgZXVpZCA9IG9zLmdldGV1aWQoKQogICAgZHN0YXQgPSBvcy5zdGF0
KE9QVElPTlMuc2FsdGRpcikKICAgIGlmIGRzdGF0LnN0X3VpZCAhPSBldWlkOgogICAgICAgICMg
QXR0YWNrIGRldGVjdGVkLCB0cnkgYWdhaW4KICAgICAgICBuZWVkX2RlcGxveW1lbnQoKQogICAg
aWYgZHN0YXQuc3RfbW9kZSAhPSAxNjgzMjoKICAgICAgICAjIEF0dGFjayBkZXRlY3RlZAogICAg
ICAgIG5lZWRfZGVwbG95bWVudCgpCiAgICAjIElmIFNVRE9pbmcgdGhlbiBhbHNvIGdpdmUgdGhl
IHN1cGVyIHVzZXIgZ3JvdXAgd3JpdGUgcGVybWlzc2lvbnMKICAgIHN1ZG9fZ2lkID0gb3MuZW52
aXJvbi5nZXQoJ1NVRE9fR0lEJykKICAgIGlmIHN1ZG9fZ2lkOgogICAgICAgIG9zLmNob3duKE9Q
VElPTlMuc2FsdGRpciwgLTEsIGludChzdWRvX2dpZCkpCiAgICAgICAgc3R0ID0gb3Muc3RhdChP
UFRJT05TLnNhbHRkaXIpCiAgICAgICAgb3MuY2htb2QoT1BUSU9OUy5zYWx0ZGlyLCBzdHQuc3Rf
bW9kZSB8IHN0YXQuU19JV0dSUCB8IHN0YXQuU19JUkdSUCB8IHN0YXQuU19JWEdSUCkKCiAgICAj
IERlbGltaXRlciBlbWl0dGVkIG9uIHN0ZG91dCAqb25seSogdG8gaW5kaWNhdGUgc2hpbSBtZXNz
YWdlIHRvIG1hc3Rlci4KICAgIHN5cy5zdGRvdXQud3JpdGUoInswfVxuZGVwbG95XG4iLmZvcm1h
dChPUFRJT05TLmRlbGltaXRlcikpCiAgICBzeXMuZXhpdChFWF9USElOX0RFUExPWSkKCgojIEFk
YXB0ZWQgZnJvbSBzYWx0LnV0aWxzLmdldF9oYXNoKCkKZGVmIGdldF9oYXNoKHBhdGgsIGZvcm09
J3NoYTEnLCBjaHVua19zaXplPTQwOTYpOgogICAgIiIiR2VuZXJhdGUgYSBoYXNoIGRpZ2VzdCBz
dHJpbmcgZm9yIGEgZmlsZS4iIiIKICAgIHRyeToKICAgICAgICBoYXNoX3R5cGUgPSBnZXRhdHRy
KGhhc2hsaWIsIGZvcm0pCiAgICBleGNlcHQgQXR0cmlidXRlRXJyb3I6CiAgICAgICAgcmFpc2Ug
VmFsdWVFcnJvcignSW52YWxpZCBoYXNoIHR5cGU6IHswfScuZm9ybWF0KGZvcm0pKQogICAgd2l0
aCBvcGVuKHBhdGgsICdyYicpIGFzIGlmaWxlOgogICAgICAgIGhhc2hfb2JqID0gaGFzaF90eXBl
KCkKICAgICAgICAjIHJlYWQgdGhlIGZpbGUgaW4gaW4gY2h1bmtzLCBub3QgdGhlIGVudGlyZSBm
aWxlCiAgICAgICAgZm9yIGNodW5rIGluIGl0ZXIobGFtYmRhOiBpZmlsZS5yZWFkKGNodW5rX3Np
emUpLCBiJycpOgogICAgICAgICAgICBoYXNoX29iai51cGRhdGUoY2h1bmspCiAgICAgICAgcmV0
dXJuIGhhc2hfb2JqLmhleGRpZ2VzdCgpCgoKZGVmIHVucGFja190aGluKHRoaW5fcGF0aCk6CiAg
ICAiIiJVbnBhY2sgdGhlIFNhbHQgdGhpbiBhcmNoaXZlLiIiIgogICAgdGZpbGUgPSB0YXJmaWxl
LlRhckZpbGUuZ3pvcGVuKHRoaW5fcGF0aCkKICAgIG9sZF91bWFzayA9IG9zLnVtYXNrKDBvMDc3
KQogICAgdGZpbGUuZXh0cmFjdGFsbChwYXRoPU9QVElPTlMuc2FsdGRpcikKICAgIHRmaWxlLmNs
b3NlKCkKICAgIG9zLnVtYXNrKG9sZF91bWFzaykKICAgIG9zLnVubGluayh0aGluX3BhdGgpCgoK
ZGVmIG5lZWRfZXh0KCk6CiAgICAiIiJTaWduYWwgdGhhdCBleHRlcm5hbCBtb2R1bGVzIG5lZWQg
dG8gYmUgZGVwbG95ZWQuIiIiCiAgICBzeXMuc3Rkb3V0LndyaXRlKCJ7MH1cbmV4dF9tb2RzXG4i
LmZvcm1hdChPUFRJT05TLmRlbGltaXRlcikpCiAgICBzeXMuZXhpdChFWF9NT0RfREVQTE9ZKQoK
CmRlZiB1bnBhY2tfZXh0KGV4dF9wYXRoKToKICAgICIiIlVucGFjayB0aGUgZXh0ZXJuYWwgbW9k
dWxlcy4iIiIKICAgIG1vZGNhY2hlID0gb3MucGF0aC5qb2luKAogICAgICAgICAgICBPUFRJT05T
LnNhbHRkaXIsCiAgICAgICAgICAgICdydW5uaW5nX2RhdGEnLAogICAgICAgICAgICAndmFyJywK
ICAgICAgICAgICAgJ2NhY2hlJywKICAgICAgICAgICAgJ3NhbHQnLAogICAgICAgICAgICAnbWlu
aW9uJywKICAgICAgICAgICAgJ2V4dG1vZHMnKQogICAgdGZpbGUgPSB0YXJmaWxlLlRhckZpbGUu
Z3pvcGVuKGV4dF9wYXRoKQogICAgb2xkX3VtYXNrID0gb3MudW1hc2soMG8wNzcpCiAgICB0Zmls
ZS5leHRyYWN0YWxsKHBhdGg9bW9kY2FjaGUpCiAgICB0ZmlsZS5jbG9zZSgpCiAgICBvcy51bWFz
ayhvbGRfdW1hc2spCiAgICBvcy51bmxpbmsoZXh0X3BhdGgpCiAgICB2ZXJfcGF0aCA9IG9zLnBh
dGguam9pbihtb2RjYWNoZSwgJ2V4dF92ZXJzaW9uJykKICAgIHZlcl9kc3QgPSBvcy5wYXRoLmpv
aW4oT1BUSU9OUy5zYWx0ZGlyLCAnZXh0X3ZlcnNpb24nKQogICAgc2h1dGlsLm1vdmUodmVyX3Bh
dGgsIHZlcl9kc3QpCgoKZGVmIG1haW4oYXJndik6ICAjIHB5bGludDogZGlzYWJsZT1XMDYxMwog
ICAgIiIiTWFpbiBwcm9ncmFtIGJvZHkiIiIKICAgIHRoaW5fcGF0aCA9IG9zLnBhdGguam9pbihP
UFRJT05TLnNhbHRkaXIsIFRISU5fQVJDSElWRSkKICAgIGlmIG9zLnBhdGguaXNmaWxlKHRoaW5f
cGF0aCk6CiAgICAgICAgaWYgT1BUSU9OUy5jaGVja3N1bSAhPSBnZXRfaGFzaCh0aGluX3BhdGgs
IE9QVElPTlMuaGFzaGZ1bmMpOgogICAgICAgICAgICBzeXMuc3RkZXJyLndyaXRlKCd7MH1cbicu
Zm9ybWF0KE9QVElPTlMuY2hlY2tzdW0pKQogICAgICAgICAgICBzeXMuc3RkZXJyLndyaXRlKCd7
MH1cbicuZm9ybWF0KGdldF9oYXNoKHRoaW5fcGF0aCwgT1BUSU9OUy5oYXNoZnVuYykpKQogICAg
ICAgICAgICBvcy51bmxpbmsodGhpbl9wYXRoKQogICAgICAgICAgICBzeXMuc3RkZXJyLndyaXRl
KCdXQVJOSU5HOiBjaGVja3N1bSBtaXNtYXRjaCBmb3IgInswfSJcbicuZm9ybWF0KHRoaW5fcGF0
aCkpCiAgICAgICAgICAgIHN5cy5leGl0KEVYX1RISU5fQ0hFQ0tTVU0pCiAgICAgICAgdW5wYWNr
X3RoaW4odGhpbl9wYXRoKQogICAgICAgICMgU2FsdCB0aGluIG5vdyBpcyBhdmFpbGFibGUgdG8g
dXNlCiAgICBlbHNlOgogICAgICAgIHNjcHN0YXQgPSBzdWJwcm9jZXNzLlBvcGVuKFsnL2Jpbi9z
aCcsICctYycsICdjb21tYW5kIC12IHNjcCddKS53YWl0KCkKICAgICAgICBpZiBzY3BzdGF0ICE9
IDA6CiAgICAgICAgICAgIHN5cy5leGl0KEVYX1NDUF9OT1RfRk9VTkQpCgogICAgICAgIGlmIG5v
dCBvcy5wYXRoLmV4aXN0cyhPUFRJT05TLnNhbHRkaXIpOgogICAgICAgICAgICBuZWVkX2RlcGxv
eW1lbnQoKQoKICAgICAgICBpZiBub3Qgb3MucGF0aC5pc2RpcihPUFRJT05TLnNhbHRkaXIpOgog
ICAgICAgICAgICBzeXMuc3RkZXJyLndyaXRlKAogICAgICAgICAgICAgICAgJ0VSUk9SOiBzYWx0
IHBhdGggInswfSIgZXhpc3RzIGJ1dCBpcycKICAgICAgICAgICAgICAgICcgbm90IGEgZGlyZWN0
b3J5XG4nLmZvcm1hdChPUFRJT05TLnNhbHRkaXIpCiAgICAgICAgICAgICkKICAgICAgICAgICAg
c3lzLmV4aXQoRVhfQ0FOVENSRUFUKQoKICAgICAgICB2ZXJzaW9uX3BhdGggPSBvcy5wYXRoLmpv
aW4oT1BUSU9OUy5zYWx0ZGlyLCAndmVyc2lvbicpCiAgICAgICAgaWYgbm90IG9zLnBhdGguZXhp
c3RzKHZlcnNpb25fcGF0aCkgb3Igbm90IG9zLnBhdGguaXNmaWxlKHZlcnNpb25fcGF0aCk6CiAg
ICAgICAgICAgIHN5cy5zdGRlcnIud3JpdGUoCiAgICAgICAgICAgICAgICAnV0FSTklORzogVW5h
YmxlIHRvIGxvY2F0ZSBjdXJyZW50IHRoaW4gJwogICAgICAgICAgICAgICAgJyB2ZXJzaW9uOiB7
MH0uXG4nLmZvcm1hdCh2ZXJzaW9uX3BhdGgpCiAgICAgICAgICAgICkKICAgICAgICAgICAgbmVl
ZF9kZXBsb3ltZW50KCkKICAgICAgICB3aXRoIG9wZW4odmVyc2lvbl9wYXRoLCAncicpIGFzIHZw
bzoKICAgICAgICAgICAgY3VyX3ZlcnNpb24gPSB2cG8ucmVhZGxpbmUoKS5zdHJpcCgpCiAgICAg
ICAgaWYgY3VyX3ZlcnNpb24gIT0gT1BUSU9OUy52ZXJzaW9uOgogICAgICAgICAgICBzeXMuc3Rk
ZXJyLndyaXRlKAogICAgICAgICAgICAgICAgJ1dBUk5JTkc6IGN1cnJlbnQgdGhpbiB2ZXJzaW9u
IHswfScKICAgICAgICAgICAgICAgICcgaXMgbm90IHVwLXRvLWRhdGUgd2l0aCB7MX0uXG4nLmZv
cm1hdCgKICAgICAgICAgICAgICAgICAgICBjdXJfdmVyc2lvbiwgT1BUSU9OUy52ZXJzaW9uCiAg
ICAgICAgICAgICAgICApCiAgICAgICAgICAgICkKICAgICAgICAgICAgbmVlZF9kZXBsb3ltZW50
KCkKICAgICAgICAjIFNhbHQgdGhpbiBleGlzdHMgYW5kIGlzIHVwLXRvLWRhdGUgLSBmYWxsIHRo
cm91Z2ggYW5kIHVzZSBpdAoKICAgIHNhbHRfY2FsbF9wYXRoID0gb3MucGF0aC5qb2luKE9QVElP
TlMuc2FsdGRpciwgJ3NhbHQtY2FsbCcpCiAgICBpZiBub3Qgb3MucGF0aC5pc2ZpbGUoc2FsdF9j
YWxsX3BhdGgpOgogICAgICAgIHN5cy5zdGRlcnIud3JpdGUoJ0VSUk9SOiB0aGluIGlzIG1pc3Np
bmcgInswfSJcbicuZm9ybWF0KHNhbHRfY2FsbF9wYXRoKSkKICAgICAgICBuZWVkX2RlcGxveW1l
bnQoKQoKICAgIHdpdGggb3Blbihvcy5wYXRoLmpvaW4oT1BUSU9OUy5zYWx0ZGlyLCAnbWluaW9u
JyksICd3JykgYXMgY29uZmlnOgogICAgICAgIGNvbmZpZy53cml0ZShPUFRJT05TLmNvbmZpZyAr
ICdcbicpCiAgICBpZiBPUFRJT05TLmV4dF9tb2RzOgogICAgICAgIGV4dF9wYXRoID0gb3MucGF0
aC5qb2luKE9QVElPTlMuc2FsdGRpciwgRVhUX0FSQ0hJVkUpCiAgICAgICAgaWYgb3MucGF0aC5l
eGlzdHMoZXh0X3BhdGgpOgogICAgICAgICAgICB1bnBhY2tfZXh0KGV4dF9wYXRoKQogICAgICAg
IGVsc2U6CiAgICAgICAgICAgIHZlcnNpb25fcGF0aCA9IG9zLnBhdGguam9pbihPUFRJT05TLnNh
bHRkaXIsICdleHRfdmVyc2lvbicpCiAgICAgICAgICAgIGlmIG5vdCBvcy5wYXRoLmV4aXN0cyh2
ZXJzaW9uX3BhdGgpIG9yIG5vdCBvcy5wYXRoLmlzZmlsZSh2ZXJzaW9uX3BhdGgpOgogICAgICAg
ICAgICAgICAgbmVlZF9leHQoKQogICAgICAgICAgICB3aXRoIG9wZW4odmVyc2lvbl9wYXRoLCAn
cicpIGFzIHZwbzoKICAgICAgICAgICAgICAgIGN1cl92ZXJzaW9uID0gdnBvLnJlYWRsaW5lKCku
c3RyaXAoKQogICAgICAgICAgICBpZiBjdXJfdmVyc2lvbiAhPSBPUFRJT05TLmV4dF9tb2RzOgog
ICAgICAgICAgICAgICAgbmVlZF9leHQoKQogICAgIyBGaXggcGFyYW1ldGVyIHBhc3NpbmcgaXNz
dWUKICAgIGlmIGxlbihBUkdTKSA9PSAxOgogICAgICAgIGFyZ3ZfcHJlcGFyZWQgPSBBUkdTWzBd
LnNwbGl0KCkKICAgIGVsc2U6CiAgICAgICAgYXJndl9wcmVwYXJlZCA9IEFSR1MKCiAgICBzYWx0
X2FyZ3YgPSBbCiAgICAgICAgc3lzLmV4ZWN1dGFibGUsCiAgICAgICAgc2FsdF9jYWxsX3BhdGgs
CiAgICAgICAgJy0tcmV0Y29kZS1wYXNzdGhyb3VnaCcsCiAgICAgICAgJy0tbG9jYWwnLAogICAg
ICAgICctLW1ldGFkYXRhJywKICAgICAgICAnLS1vdXQnLCAnanNvbicsCiAgICAgICAgJy1sJywg
J3F1aWV0JywKICAgICAgICAnLWMnLCBPUFRJT05TLnNhbHRkaXIsCiAgICAgICAgJy0tJywKICAg
IF0gKyBhcmd2X3ByZXBhcmVkCgogICAgc3lzLnN0ZGVyci53cml0ZSgnU0FMVF9BUkdWOiB7MH1c
bicuZm9ybWF0KHNhbHRfYXJndikpCgogICAgIyBPbmx5IGVtaXQgdGhlIGRlbGltaXRlciBvbiAq
Ym90aCogc3Rkb3V0IGFuZCBzdGRlcnIgd2hlbiBjb21wbGV0ZWx5IHN1Y2Nlc3NmdWwuCiAgICAj
IFllcywgdGhlIGZsdXNoKCkgaXMgbmVjZXNzYXJ5LgogICAgc3lzLnN0ZG91dC53cml0ZShPUFRJ
T05TLmRlbGltaXRlciArICdcbicpCiAgICBzeXMuc3Rkb3V0LmZsdXNoKCkKICAgIGlmIG5vdCBP
UFRJT05TLnR0eToKICAgICAgICBzeXMuc3RkZXJyLndyaXRlKE9QVElPTlMuZGVsaW1pdGVyICsg
J1xuJykKICAgICAgICBzeXMuc3RkZXJyLmZsdXNoKCkKICAgIGlmIE9QVElPTlMuY21kX3VtYXNr
IGlzIG5vdCBOb25lOgogICAgICAgIG9sZF91bWFzayA9IG9zLnVtYXNrKE9QVElPTlMuY21kX3Vt
YXNrKQogICAgaWYgT1BUSU9OUy50dHk6CiAgICAgICAgc3Rkb3V0LCBfID0gc3VicHJvY2Vzcy5Q
b3BlbihzYWx0X2FyZ3YsIHN0ZG91dD1zdWJwcm9jZXNzLlBJUEUsIHN0ZGVycj1zdWJwcm9jZXNz
LlBJUEUpLmNvbW11bmljYXRlKCkKICAgICAgICBzeXMuc3Rkb3V0LndyaXRlKHN0ZG91dCkKICAg
ICAgICBzeXMuc3Rkb3V0LmZsdXNoKCkKICAgICAgICBpZiBPUFRJT05TLndpcGU6CiAgICAgICAg
ICAgIHNodXRpbC5ybXRyZWUoT1BUSU9OUy5zYWx0ZGlyKQogICAgZWxpZiBPUFRJT05TLndpcGU6
CiAgICAgICAgc3VicHJvY2Vzcy5jYWxsKHNhbHRfYXJndikKICAgICAgICBzaHV0aWwucm10cmVl
KE9QVElPTlMuc2FsdGRpcikKICAgIGVsc2U6CiAgICAgICAgb3MuZXhlY3Yoc3lzLmV4ZWN1dGFi
bGUsIHNhbHRfYXJndikKICAgIGlmIE9QVElPTlMuY21kX3VtYXNrIGlzIG5vdCBOb25lOgogICAg
ICAgIG9zLnVtYXNrKG9sZF91bWFzaykKCmlmIF9fbmFtZV9fID09ICdfX21haW5fXyc6CiAgICBz
eXMuZXhpdChtYWluKHN5cy5hcmd2KSkK
""").decode("utf-8"))'
else
exec $SUDO "$py_cmd_path" -c \
'import base64;
exec(base64.b64decode("""IyBweWxpbnQ6IGRpc2FibGU9Vzk5MDMKJycnClRoaXMgaXMgYSBzaGltIHRoYXQgaGFuZGxlcyBj
aGVja2luZyBhbmQgdXBkYXRpbmcgc2FsdCB0aGluIGFuZAp0aGVuIGludm9raW5nIHRoaW4uCgpU
aGlzIGlzIG5vdCBpbnRlbmRlZCB0byBiZSBpbnN0YW50aWF0ZWQgYXMgYSBtb2R1bGUsIHJhdGhl
ciBpdCBpcyBhCmhlbHBlciBzY3JpcHQgdXNlZCBieSBzYWx0LmNsaWVudC5zc2guU2luZ2xlLiAg
SXQgaXMgaGVyZSwgaW4gYQpzZXBhcmF0ZSBmaWxlLCBmb3IgY29udmVuaWVuY2Ugb2YgZGV2ZWxv
cG1lbnQuCicnJwoKZnJvbSBfX2Z1dHVyZV9fIGltcG9ydCBhYnNvbHV0ZV9pbXBvcnQKCmltcG9y
dCBoYXNobGliCmltcG9ydCB0YXJmaWxlCmltcG9ydCBzaHV0aWwKaW1wb3J0IHN5cwppbXBvcnQg
b3MKaW1wb3J0IHN0YXQKaW1wb3J0IHN1YnByb2Nlc3MKClRISU5fQVJDSElWRSA9ICdzYWx0LXRo
aW4udGd6JwpFWFRfQVJDSElWRSA9ICdzYWx0LWV4dF9tb2RzLnRneicKCiMgS2VlcCB0aGVzZSBp
biBzeW5jIHdpdGggc2FsdC9kZWZhdWx0cy9leGl0Y29kZXMucHkKRVhfVEhJTl9ERVBMT1kgPSAx
MQpFWF9USElOX0NIRUNLU1VNID0gMTIKRVhfTU9EX0RFUExPWSA9IDEzCkVYX1NDUF9OT1RfRk9V
TkQgPSAxNApFWF9DQU5UQ1JFQVQgPSA3MwoKCmNsYXNzIE9CSihvYmplY3QpOgogICAgIiIiQW4g
ZW1wdHkgY2xhc3MgZm9yIGhvbGRpbmcgaW5zdGFuY2UgYXR0cmlidXRlIHZhbHVlcy4iIiIKICAg
IHBhc3MKCgpPUFRJT05TID0gTm9uZQpBUkdTID0gTm9uZQojIFRoZSBiZWxvdyBsaW5lIGlzIHdo
ZXJlIE9QVElPTlMgY2FuIGJlIHJlZGVmaW5lZCB3aXRoIGludGVybmFsIG9wdGlvbnMKIyAocmF0
aGVyIHRoYW4gY2xpIGFyZ3VtZW50cykgd2hlbiB0aGUgc2hpbSBpcyBidW5kbGVkIGJ5CiMgY2xp
ZW50LnNzaC5TaW5nbGUuX2NtZF9zdHIoKQojIHB5bGludDogZGlzYWJsZT1ibG9jay1jb21tZW50
LXNob3VsZC1zdGFydC13aXRoLWNhcmRpbmFsLXNwYWNlCgpPUFRJT05TID0gT0JKKCkKT1BUSU9O
Uy5jb25maWcgPSAiIiIKe2ZpbGVzZXJ2ZXJfbGlzdF9jYWNoZV90aW1lOiAzLCBncmFpbnNfY2Fj
aGU6IHRydWUsIGlkOiBsb2NhbCwgbG9nX2ZpbGU6IHNhbHQtY2FsbC5sb2csCiAgcm9vdF9kaXI6
IC92YXIvdG1wLy5zYWx0LW9wZV8xYTM1MzJfc2FsdC9ydW5uaW5nX2RhdGEsIHNvY2tfZGlyOiAv
fQoiIiIKT1BUSU9OUy5kZWxpbWl0ZXIgPSAnX2VkYmM3ODg1ZTRmOWFhYzliODNiMzU5OTliNjhk
MDE1MTQ4Y2FmNDY3Yjc4ZmEzOWMwNWY2NjljMGZmODk4NzgnCk9QVElPTlMuc2FsdGRpciA9ICcv
dmFyL3RtcC8uc2FsdC1vcGVfMWEzNTMyX3NhbHQnCk9QVElPTlMuY2hlY2tzdW0gPSAnMmUyNWZj
YmI2YWEyNTU5OWQ1MmU4OTVkZTZlMjExOTZkNWM2ZTU5NScKT1BUSU9OUy5oYXNoZnVuYyA9ICdz
aGExJwpPUFRJT05TLnZlcnNpb24gPSAnMjAxNi4zLjInCk9QVElPTlMuZXh0X21vZHMgPSAnJwpP
UFRJT05TLndpcGUgPSBGYWxzZQpPUFRJT05TLnR0eSA9IEZhbHNlCk9QVElPTlMuY21kX3VtYXNr
ID0gTm9uZQpBUkdTID0gWyd0ZXN0Lm9wdHNfcGtnJ10KCgoKZGVmIG5lZWRfZGVwbG95bWVudCgp
OgogICAgIiIiCiAgICBTYWx0IHRoaW4gbmVlZHMgdG8gYmUgZGVwbG95ZWQgLSBwcmVwIHRoZSB0
YXJnZXQgZGlyZWN0b3J5IGFuZCBlbWl0IHRoZQogICAgZGVsaW1ldGVyIGFuZCBleGl0IGNvZGUg
dGhhdCBzaWduYWxzIGEgcmVxdWlyZWQgZGVwbG95bWVudC4KICAgICIiIgogICAgaWYgb3MucGF0
aC5leGlzdHMoT1BUSU9OUy5zYWx0ZGlyKToKICAgICAgICBzaHV0aWwucm10cmVlKE9QVElPTlMu
c2FsdGRpcikKICAgIG9sZF91bWFzayA9IG9zLnVtYXNrKDBvMDc3KQogICAgb3MubWFrZWRpcnMo
T1BUSU9OUy5zYWx0ZGlyKQogICAgb3MudW1hc2sob2xkX3VtYXNrKQogICAgIyBWZXJpZnkgcGVy
bXMgb24gc2FsdGRpcgogICAgZXVpZCA9IG9zLmdldGV1aWQoKQogICAgZHN0YXQgPSBvcy5zdGF0
KE9QVElPTlMuc2FsdGRpcikKICAgIGlmIGRzdGF0LnN0X3VpZCAhPSBldWlkOgogICAgICAgICMg
QXR0YWNrIGRldGVjdGVkLCB0cnkgYWdhaW4KICAgICAgICBuZWVkX2RlcGxveW1lbnQoKQogICAg
aWYgZHN0YXQuc3RfbW9kZSAhPSAxNjgzMjoKICAgICAgICAjIEF0dGFjayBkZXRlY3RlZAogICAg
ICAgIG5lZWRfZGVwbG95bWVudCgpCiAgICAjIElmIFNVRE9pbmcgdGhlbiBhbHNvIGdpdmUgdGhl
IHN1cGVyIHVzZXIgZ3JvdXAgd3JpdGUgcGVybWlzc2lvbnMKICAgIHN1ZG9fZ2lkID0gb3MuZW52
aXJvbi5nZXQoJ1NVRE9fR0lEJykKICAgIGlmIHN1ZG9fZ2lkOgogICAgICAgIG9zLmNob3duKE9Q
VElPTlMuc2FsdGRpciwgLTEsIGludChzdWRvX2dpZCkpCiAgICAgICAgc3R0ID0gb3Muc3RhdChP
UFRJT05TLnNhbHRkaXIpCiAgICAgICAgb3MuY2htb2QoT1BUSU9OUy5zYWx0ZGlyLCBzdHQuc3Rf
bW9kZSB8IHN0YXQuU19JV0dSUCB8IHN0YXQuU19JUkdSUCB8IHN0YXQuU19JWEdSUCkKCiAgICAj
IERlbGltaXRlciBlbWl0dGVkIG9uIHN0ZG91dCAqb25seSogdG8gaW5kaWNhdGUgc2hpbSBtZXNz
YWdlIHRvIG1hc3Rlci4KICAgIHN5cy5zdGRvdXQud3JpdGUoInswfVxuZGVwbG95XG4iLmZvcm1h
dChPUFRJT05TLmRlbGltaXRlcikpCiAgICBzeXMuZXhpdChFWF9USElOX0RFUExPWSkKCgojIEFk
YXB0ZWQgZnJvbSBzYWx0LnV0aWxzLmdldF9oYXNoKCkKZGVmIGdldF9oYXNoKHBhdGgsIGZvcm09
J3NoYTEnLCBjaHVua19zaXplPTQwOTYpOgogICAgIiIiR2VuZXJhdGUgYSBoYXNoIGRpZ2VzdCBz
dHJpbmcgZm9yIGEgZmlsZS4iIiIKICAgIHRyeToKICAgICAgICBoYXNoX3R5cGUgPSBnZXRhdHRy
KGhhc2hsaWIsIGZvcm0pCiAgICBleGNlcHQgQXR0cmlidXRlRXJyb3I6CiAgICAgICAgcmFpc2Ug
VmFsdWVFcnJvcignSW52YWxpZCBoYXNoIHR5cGU6IHswfScuZm9ybWF0KGZvcm0pKQogICAgd2l0
aCBvcGVuKHBhdGgsICdyYicpIGFzIGlmaWxlOgogICAgICAgIGhhc2hfb2JqID0gaGFzaF90eXBl
KCkKICAgICAgICAjIHJlYWQgdGhlIGZpbGUgaW4gaW4gY2h1bmtzLCBub3QgdGhlIGVudGlyZSBm
aWxlCiAgICAgICAgZm9yIGNodW5rIGluIGl0ZXIobGFtYmRhOiBpZmlsZS5yZWFkKGNodW5rX3Np
emUpLCBiJycpOgogICAgICAgICAgICBoYXNoX29iai51cGRhdGUoY2h1bmspCiAgICAgICAgcmV0
dXJuIGhhc2hfb2JqLmhleGRpZ2VzdCgpCgoKZGVmIHVucGFja190aGluKHRoaW5fcGF0aCk6CiAg
ICAiIiJVbnBhY2sgdGhlIFNhbHQgdGhpbiBhcmNoaXZlLiIiIgogICAgdGZpbGUgPSB0YXJmaWxl
LlRhckZpbGUuZ3pvcGVuKHRoaW5fcGF0aCkKICAgIG9sZF91bWFzayA9IG9zLnVtYXNrKDBvMDc3
KQogICAgdGZpbGUuZXh0cmFjdGFsbChwYXRoPU9QVElPTlMuc2FsdGRpcikKICAgIHRmaWxlLmNs
b3NlKCkKICAgIG9zLnVtYXNrKG9sZF91bWFzaykKICAgIG9zLnVubGluayh0aGluX3BhdGgpCgoK
ZGVmIG5lZWRfZXh0KCk6CiAgICAiIiJTaWduYWwgdGhhdCBleHRlcm5hbCBtb2R1bGVzIG5lZWQg
dG8gYmUgZGVwbG95ZWQuIiIiCiAgICBzeXMuc3Rkb3V0LndyaXRlKCJ7MH1cbmV4dF9tb2RzXG4i
LmZvcm1hdChPUFRJT05TLmRlbGltaXRlcikpCiAgICBzeXMuZXhpdChFWF9NT0RfREVQTE9ZKQoK
CmRlZiB1bnBhY2tfZXh0KGV4dF9wYXRoKToKICAgICIiIlVucGFjayB0aGUgZXh0ZXJuYWwgbW9k
dWxlcy4iIiIKICAgIG1vZGNhY2hlID0gb3MucGF0aC5qb2luKAogICAgICAgICAgICBPUFRJT05T
LnNhbHRkaXIsCiAgICAgICAgICAgICdydW5uaW5nX2RhdGEnLAogICAgICAgICAgICAndmFyJywK
ICAgICAgICAgICAgJ2NhY2hlJywKICAgICAgICAgICAgJ3NhbHQnLAogICAgICAgICAgICAnbWlu
aW9uJywKICAgICAgICAgICAgJ2V4dG1vZHMnKQogICAgdGZpbGUgPSB0YXJmaWxlLlRhckZpbGUu
Z3pvcGVuKGV4dF9wYXRoKQogICAgb2xkX3VtYXNrID0gb3MudW1hc2soMG8wNzcpCiAgICB0Zmls
ZS5leHRyYWN0YWxsKHBhdGg9bW9kY2FjaGUpCiAgICB0ZmlsZS5jbG9zZSgpCiAgICBvcy51bWFz
ayhvbGRfdW1hc2spCiAgICBvcy51bmxpbmsoZXh0X3BhdGgpCiAgICB2ZXJfcGF0aCA9IG9zLnBh
dGguam9pbihtb2RjYWNoZSwgJ2V4dF92ZXJzaW9uJykKICAgIHZlcl9kc3QgPSBvcy5wYXRoLmpv
aW4oT1BUSU9OUy5zYWx0ZGlyLCAnZXh0X3ZlcnNpb24nKQogICAgc2h1dGlsLm1vdmUodmVyX3Bh
dGgsIHZlcl9kc3QpCgoKZGVmIG1haW4oYXJndik6ICAjIHB5bGludDogZGlzYWJsZT1XMDYxMwog
ICAgIiIiTWFpbiBwcm9ncmFtIGJvZHkiIiIKICAgIHRoaW5fcGF0aCA9IG9zLnBhdGguam9pbihP
UFRJT05TLnNhbHRkaXIsIFRISU5fQVJDSElWRSkKICAgIGlmIG9zLnBhdGguaXNmaWxlKHRoaW5f
cGF0aCk6CiAgICAgICAgaWYgT1BUSU9OUy5jaGVja3N1bSAhPSBnZXRfaGFzaCh0aGluX3BhdGgs
IE9QVElPTlMuaGFzaGZ1bmMpOgogICAgICAgICAgICBzeXMuc3RkZXJyLndyaXRlKCd7MH1cbicu
Zm9ybWF0KE9QVElPTlMuY2hlY2tzdW0pKQogICAgICAgICAgICBzeXMuc3RkZXJyLndyaXRlKCd7
MH1cbicuZm9ybWF0KGdldF9oYXNoKHRoaW5fcGF0aCwgT1BUSU9OUy5oYXNoZnVuYykpKQogICAg
ICAgICAgICBvcy51bmxpbmsodGhpbl9wYXRoKQogICAgICAgICAgICBzeXMuc3RkZXJyLndyaXRl
KCdXQVJOSU5HOiBjaGVja3N1bSBtaXNtYXRjaCBmb3IgInswfSJcbicuZm9ybWF0KHRoaW5fcGF0
aCkpCiAgICAgICAgICAgIHN5cy5leGl0KEVYX1RISU5fQ0hFQ0tTVU0pCiAgICAgICAgdW5wYWNr
X3RoaW4odGhpbl9wYXRoKQogICAgICAgICMgU2FsdCB0aGluIG5vdyBpcyBhdmFpbGFibGUgdG8g
dXNlCiAgICBlbHNlOgogICAgICAgIHNjcHN0YXQgPSBzdWJwcm9jZXNzLlBvcGVuKFsnL2Jpbi9z
aCcsICctYycsICdjb21tYW5kIC12IHNjcCddKS53YWl0KCkKICAgICAgICBpZiBzY3BzdGF0ICE9
IDA6CiAgICAgICAgICAgIHN5cy5leGl0KEVYX1NDUF9OT1RfRk9VTkQpCgogICAgICAgIGlmIG5v
dCBvcy5wYXRoLmV4aXN0cyhPUFRJT05TLnNhbHRkaXIpOgogICAgICAgICAgICBuZWVkX2RlcGxv
eW1lbnQoKQoKICAgICAgICBpZiBub3Qgb3MucGF0aC5pc2RpcihPUFRJT05TLnNhbHRkaXIpOgog
ICAgICAgICAgICBzeXMuc3RkZXJyLndyaXRlKAogICAgICAgICAgICAgICAgJ0VSUk9SOiBzYWx0
IHBhdGggInswfSIgZXhpc3RzIGJ1dCBpcycKICAgICAgICAgICAgICAgICcgbm90IGEgZGlyZWN0
b3J5XG4nLmZvcm1hdChPUFRJT05TLnNhbHRkaXIpCiAgICAgICAgICAgICkKICAgICAgICAgICAg
c3lzLmV4aXQoRVhfQ0FOVENSRUFUKQoKICAgICAgICB2ZXJzaW9uX3BhdGggPSBvcy5wYXRoLmpv
aW4oT1BUSU9OUy5zYWx0ZGlyLCAndmVyc2lvbicpCiAgICAgICAgaWYgbm90IG9zLnBhdGguZXhp
c3RzKHZlcnNpb25fcGF0aCkgb3Igbm90IG9zLnBhdGguaXNmaWxlKHZlcnNpb25fcGF0aCk6CiAg
ICAgICAgICAgIHN5cy5zdGRlcnIud3JpdGUoCiAgICAgICAgICAgICAgICAnV0FSTklORzogVW5h
YmxlIHRvIGxvY2F0ZSBjdXJyZW50IHRoaW4gJwogICAgICAgICAgICAgICAgJyB2ZXJzaW9uOiB7
MH0uXG4nLmZvcm1hdCh2ZXJzaW9uX3BhdGgpCiAgICAgICAgICAgICkKICAgICAgICAgICAgbmVl
ZF9kZXBsb3ltZW50KCkKICAgICAgICB3aXRoIG9wZW4odmVyc2lvbl9wYXRoLCAncicpIGFzIHZw
bzoKICAgICAgICAgICAgY3VyX3ZlcnNpb24gPSB2cG8ucmVhZGxpbmUoKS5zdHJpcCgpCiAgICAg
ICAgaWYgY3VyX3ZlcnNpb24gIT0gT1BUSU9OUy52ZXJzaW9uOgogICAgICAgICAgICBzeXMuc3Rk
ZXJyLndyaXRlKAogICAgICAgICAgICAgICAgJ1dBUk5JTkc6IGN1cnJlbnQgdGhpbiB2ZXJzaW9u
IHswfScKICAgICAgICAgICAgICAgICcgaXMgbm90IHVwLXRvLWRhdGUgd2l0aCB7MX0uXG4nLmZv
cm1hdCgKICAgICAgICAgICAgICAgICAgICBjdXJfdmVyc2lvbiwgT1BUSU9OUy52ZXJzaW9uCiAg
ICAgICAgICAgICAgICApCiAgICAgICAgICAgICkKICAgICAgICAgICAgbmVlZF9kZXBsb3ltZW50
KCkKICAgICAgICAjIFNhbHQgdGhpbiBleGlzdHMgYW5kIGlzIHVwLXRvLWRhdGUgLSBmYWxsIHRo
cm91Z2ggYW5kIHVzZSBpdAoKICAgIHNhbHRfY2FsbF9wYXRoID0gb3MucGF0aC5qb2luKE9QVElP
TlMuc2FsdGRpciwgJ3NhbHQtY2FsbCcpCiAgICBpZiBub3Qgb3MucGF0aC5pc2ZpbGUoc2FsdF9j
YWxsX3BhdGgpOgogICAgICAgIHN5cy5zdGRlcnIud3JpdGUoJ0VSUk9SOiB0aGluIGlzIG1pc3Np
bmcgInswfSJcbicuZm9ybWF0KHNhbHRfY2FsbF9wYXRoKSkKICAgICAgICBuZWVkX2RlcGxveW1l
bnQoKQoKICAgIHdpdGggb3Blbihvcy5wYXRoLmpvaW4oT1BUSU9OUy5zYWx0ZGlyLCAnbWluaW9u
JyksICd3JykgYXMgY29uZmlnOgogICAgICAgIGNvbmZpZy53cml0ZShPUFRJT05TLmNvbmZpZyAr
ICdcbicpCiAgICBpZiBPUFRJT05TLmV4dF9tb2RzOgogICAgICAgIGV4dF9wYXRoID0gb3MucGF0
aC5qb2luKE9QVElPTlMuc2FsdGRpciwgRVhUX0FSQ0hJVkUpCiAgICAgICAgaWYgb3MucGF0aC5l
eGlzdHMoZXh0X3BhdGgpOgogICAgICAgICAgICB1bnBhY2tfZXh0KGV4dF9wYXRoKQogICAgICAg
IGVsc2U6CiAgICAgICAgICAgIHZlcnNpb25fcGF0aCA9IG9zLnBhdGguam9pbihPUFRJT05TLnNh
bHRkaXIsICdleHRfdmVyc2lvbicpCiAgICAgICAgICAgIGlmIG5vdCBvcy5wYXRoLmV4aXN0cyh2
ZXJzaW9uX3BhdGgpIG9yIG5vdCBvcy5wYXRoLmlzZmlsZSh2ZXJzaW9uX3BhdGgpOgogICAgICAg
ICAgICAgICAgbmVlZF9leHQoKQogICAgICAgICAgICB3aXRoIG9wZW4odmVyc2lvbl9wYXRoLCAn
cicpIGFzIHZwbzoKICAgICAgICAgICAgICAgIGN1cl92ZXJzaW9uID0gdnBvLnJlYWRsaW5lKCku
c3RyaXAoKQogICAgICAgICAgICBpZiBjdXJfdmVyc2lvbiAhPSBPUFRJT05TLmV4dF9tb2RzOgog
ICAgICAgICAgICAgICAgbmVlZF9leHQoKQogICAgIyBGaXggcGFyYW1ldGVyIHBhc3NpbmcgaXNz
dWUKICAgIGlmIGxlbihBUkdTKSA9PSAxOgogICAgICAgIGFyZ3ZfcHJlcGFyZWQgPSBBUkdTWzBd
LnNwbGl0KCkKICAgIGVsc2U6CiAgICAgICAgYXJndl9wcmVwYXJlZCA9IEFSR1MKCiAgICBzYWx0
X2FyZ3YgPSBbCiAgICAgICAgc3lzLmV4ZWN1dGFibGUsCiAgICAgICAgc2FsdF9jYWxsX3BhdGgs
CiAgICAgICAgJy0tcmV0Y29kZS1wYXNzdGhyb3VnaCcsCiAgICAgICAgJy0tbG9jYWwnLAogICAg
ICAgICctLW1ldGFkYXRhJywKICAgICAgICAnLS1vdXQnLCAnanNvbicsCiAgICAgICAgJy1sJywg
J3F1aWV0JywKICAgICAgICAnLWMnLCBPUFRJT05TLnNhbHRkaXIsCiAgICAgICAgJy0tJywKICAg
IF0gKyBhcmd2X3ByZXBhcmVkCgogICAgc3lzLnN0ZGVyci53cml0ZSgnU0FMVF9BUkdWOiB7MH1c
bicuZm9ybWF0KHNhbHRfYXJndikpCgogICAgIyBPbmx5IGVtaXQgdGhlIGRlbGltaXRlciBvbiAq
Ym90aCogc3Rkb3V0IGFuZCBzdGRlcnIgd2hlbiBjb21wbGV0ZWx5IHN1Y2Nlc3NmdWwuCiAgICAj
IFllcywgdGhlIGZsdXNoKCkgaXMgbmVjZXNzYXJ5LgogICAgc3lzLnN0ZG91dC53cml0ZShPUFRJ
T05TLmRlbGltaXRlciArICdcbicpCiAgICBzeXMuc3Rkb3V0LmZsdXNoKCkKICAgIGlmIG5vdCBP
UFRJT05TLnR0eToKICAgICAgICBzeXMuc3RkZXJyLndyaXRlKE9QVElPTlMuZGVsaW1pdGVyICsg
J1xuJykKICAgICAgICBzeXMuc3RkZXJyLmZsdXNoKCkKICAgIGlmIE9QVElPTlMuY21kX3VtYXNr
IGlzIG5vdCBOb25lOgogICAgICAgIG9sZF91bWFzayA9IG9zLnVtYXNrKE9QVElPTlMuY21kX3Vt
YXNrKQogICAgaWYgT1BUSU9OUy50dHk6CiAgICAgICAgc3Rkb3V0LCBfID0gc3VicHJvY2Vzcy5Q
b3BlbihzYWx0X2FyZ3YsIHN0ZG91dD1zdWJwcm9jZXNzLlBJUEUsIHN0ZGVycj1zdWJwcm9jZXNz
LlBJUEUpLmNvbW11bmljYXRlKCkKICAgICAgICBzeXMuc3Rkb3V0LndyaXRlKHN0ZG91dCkKICAg
ICAgICBzeXMuc3Rkb3V0LmZsdXNoKCkKICAgICAgICBpZiBPUFRJT05TLndpcGU6CiAgICAgICAg
ICAgIHNodXRpbC5ybXRyZWUoT1BUSU9OUy5zYWx0ZGlyKQogICAgZWxpZiBPUFRJT05TLndpcGU6
CiAgICAgICAgc3VicHJvY2Vzcy5jYWxsKHNhbHRfYXJndikKICAgICAgICBzaHV0aWwucm10cmVl
KE9QVElPTlMuc2FsdGRpcikKICAgIGVsc2U6CiAgICAgICAgb3MuZXhlY3Yoc3lzLmV4ZWN1dGFi
bGUsIHNhbHRfYXJndikKICAgIGlmIE9QVElPTlMuY21kX3VtYXNrIGlzIG5vdCBOb25lOgogICAg
ICAgIG9zLnVtYXNrKG9sZF91bWFzaykKCmlmIF9fbmFtZV9fID09ICdfX21haW5fXyc6CiAgICBz
eXMuZXhpdChtYWluKHN5cy5hcmd2KSkK
""").decode("utf-8"))'
fi
exit 0
else
continue
fi
done
echo "ERROR: Unable to locate appropriate python command" >&2
exit $EX_PYTHON_INVALID
EOF
2016-08-27 20:51:13,064 [salt.utils.vt.Terminal.PID-6986.STDOUT][TRACE   ][6985] salt-ope@127.0.0.1's password:
2016-08-27 20:51:15,002 [salt.utils.vt.Terminal.PID-6986.STDERR][TRACE   ][6985] Permission denied, please try again.
2016-08-27 20:51:15,003 [salt.utils.vt.Terminal.PID-6986.STDOUT][TRACE   ][6985] salt-ope@127.0.0.1's password:
2016-08-27 20:51:16,880 [salt.utils.vt.Terminal.PID-6986.STDERR][TRACE   ][6985] Permission denied, please try again.
2016-08-27 20:51:16,880 [salt.utils.vt.Terminal.PID-6986.STDOUT][TRACE   ][6985] salt-ope@127.0.0.1's password:
2016-08-27 20:51:18,563 [salt.utils.vt.Terminal.PID-6986.STDERR][TRACE   ][6985] Permission denied (publickey,gssapi-keyex,gssapi-with-mic,password).
2016-08-27 20:51:18,785 [salt.client.ssh  ][TRACE   ][6985] STDOUT 127.0.0.1
salt-ope@127.0.0.1's password: 
salt-ope@127.0.0.1's password: 
salt-ope@127.0.0.1's password: 

2016-08-27 20:51:18,785 [salt.client.ssh  ][TRACE   ][6985] STDERR 127.0.0.1
Permission denied, please try again.
Permission denied, please try again.
Permission denied (publickey,gssapi-keyex,gssapi-with-mic,password).

2016-08-27 20:51:18,786 [salt.client.ssh  ][DEBUG   ][6985] RETCODE 127.0.0.1: 255
2016-08-27 20:51:18,787 [salt.client.ssh  ][DEBUG   ][6985] SHIM retcode(255) and command: salt-ope@127.0.0.1's password:
2016-08-27 20:51:18,871 [salt.utils.vt    ][DEBUG   ][6969] Child Forked! PID: 6994  STDOUT_FD: 8  STDERR_FD: 10
2016-08-27 20:51:18,875 [salt.utils.vt    ][DEBUG   ][6969] Terminal Command: /bin/sh -c ssh-copy-id -i /root/saltstack_master/etc/salt/pki/master/ssh/salt-ssh.rsa.pub '-o ControlMaster=auto -o StrictHostKeyChecking=no -o GSSAPIAuthentication=no -o ConnectTimeout=65 -o PasswordAuthentication=yes -o PubkeyAuthentication=yes -o Port=22 -o User=salt-ope  -p 22 salt-ope@127.0.0.1'
2016-08-27 20:51:18,937 [salt.utils.vt.Terminal.PID-6994.STDOUT][TRACE   ][6969] salt-ope@127.0.0.1's password:
2016-08-27 20:51:20,895 [salt.utils.vt.Terminal.PID-6994.STDERR][TRACE   ][6969] Permission denied, please try again.
2016-08-27 20:51:20,896 [salt.utils.vt.Terminal.PID-6994.STDOUT][TRACE   ][6969] salt-ope@127.0.0.1's password:
2016-08-27 20:51:22,793 [salt.utils.vt.Terminal.PID-6994.STDERR][TRACE   ][6969] Permission denied, please try again.
2016-08-27 20:51:22,794 [salt.utils.vt.Terminal.PID-6994.STDOUT][TRACE   ][6969] salt-ope@127.0.0.1's password:
2016-08-27 20:51:24,969 [salt.utils.vt.Terminal.PID-6994.STDERR][TRACE   ][6969] Permission denied (publickey,gssapi-keyex,gssapi-with-mic,password).
2016-08-27 20:51:25,193 [salt.utils.lazy  ][DEBUG   ][6969] LazyLoaded nested.output
2016-08-27 20:51:25,194 [salt.output      ][TRACE   ][6969] data = {'local': 'Failed to return clean data'}
2016-08-27 20:51:52,411 [salt.utils.lazy  ][DEBUG   ][7053] LazyLoaded flat.targets
2016-08-27 20:51:52,412 [salt.utils.lazy  ][DEBUG   ][7053] LazyLoaded jinja.render
2016-08-27 20:51:52,413 [salt.utils.lazy  ][DEBUG   ][7053] LazyLoaded yaml.render
2016-08-27 20:51:52,413 [salt.template    ][DEBUG   ][7053] compile template: ./roster
2016-08-27 20:51:52,414 [salt.utils.jinja ][DEBUG   ][7053] Jinja search path: ['/root/saltstack_master/var/cache/salt/master/files/base']
2016-08-27 20:51:52,417 [salt.template    ][PROFILE ][7053] Time (in seconds) to render './roster' using 'jinja' renderer: 0.00375699996948
2016-08-27 20:51:52,417 [salt.template    ][DEBUG   ][7053] Rendered data from file: ./roster:
local:
  host: 127.0.0.1
  user: salt-ope
  passwd: salt-ope
  sudo: True
syslog:
  host: 192.168.1.12
  user: salt-ope
  passwd: salt-ope
  sudo: True


2016-08-27 20:51:52,420 [salt.loaded.int.render.yaml][DEBUG   ][7053] Results of YAML rendering: 
OrderedDict([('local', OrderedDict([('host', '127.0.0.1'), ('user', 'salt-ope'), ('passwd', 'salt-ope'), ('sudo', True)])), ('syslog', OrderedDict([('host', '192.168.1.12'), ('user', 'salt-ope'), ('passwd', 'salt-ope'), ('sudo', True)]))])
2016-08-27 20:51:52,420 [salt.template    ][PROFILE ][7053] Time (in seconds) to render './roster' using 'yaml' renderer: 0.00263905525208
2016-08-27 20:51:52,421 [salt.roster      ][DEBUG   ][7053] Matched minions: {'local': OrderedDict([('host', '127.0.0.1'), ('user', 'salt-ope'), ('passwd', 'salt-ope'), ('sudo', True)])}
2016-08-27 20:51:52,423 [salt.utils.lazy  ][DEBUG   ][7053] LazyLoaded roots.envs
2016-08-27 20:51:52,427 [salt.utils.lazy  ][DEBUG   ][7053] Could not LazyLoad roots.init
2016-08-27 20:51:52,427 [salt.fileserver  ][DEBUG   ][7053] Updating roots fileserver cache
2016-08-27 20:51:52,428 [salt.fileserver  ][TRACE   ][7053] Lockfile /root/saltstack_master/var/cache/salt/master/file_lists/roots/.base.w created
2016-08-27 20:51:52,429 [salt.fileserver  ][TRACE   ][7053] Lockfile /root/saltstack_master/var/cache/salt/master/file_lists/roots/.base.w removed
2016-08-27 20:51:52,430 [salt.utils.lazy  ][DEBUG   ][7053] LazyLoaded local_cache.prep_jid
2016-08-27 20:51:52,431 [salt.loaded.int.returner.local_cache][DEBUG   ][7053] Adding minions for job 20160827205152430077: ['local']
2016-08-27 20:51:52,461 [salt.utils.lazy  ][DEBUG   ][7069] LazyLoaded state.apply
2016-08-27 20:51:52,483 [salt.client.ssh  ][DEBUG   ][7069] Performing shimmed, blocking command as follows:
test.opts_pkg
2016-08-27 20:51:52,499 [salt.client.ssh.shell][DEBUG   ][7069] Executed SHIM command. Command logged to TRACE
2016-08-27 20:51:52,499 [salt.client.ssh.shell][TRACE   ][7069] Executing command: ssh 127.0.0.1  -o KbdInteractiveAuthentication=no -o PasswordAuthentication=yes -o GSSAPIAuthentication=no -o ConnectTimeout=65 -o Port=22 -o IdentityFile=/root/saltstack_master/etc/salt/pki/master/ssh/salt-ssh.rsa -o User=******  /bin/sh << 'EOF'
set -e
set -u
DEBUG="1"
if [ -n "$DEBUG" ]
then set -x
fi
SUDO=""
if [ -n "sudo" ]
then SUDO="sudo "
fi
EX_PYTHON_INVALID=10
PYTHON_CMDS="python3 python27 python2.7 python26 python2.6 python2 python"
for py_cmd in $PYTHON_CMDS
do
if command -v "$py_cmd" >/dev/null 2>&1 && "$py_cmd" -c \
"import sys; sys.exit(not (sys.version_info >= (2, 6)
and sys.version_info[0] == 2));"
then
py_cmd_path=`"$py_cmd" -c \
'from __future__ import print_function;
import sys; print(sys.executable);'`
cmdpath=$(which $py_cmd 2>&1)
if file $cmdpath | grep "shell script" > /dev/null
then
ex_vars="'PATH', 'LD_LIBRARY_PATH', 'MANPATH', \
'XDG_DATA_DIRS', 'PKG_CONFIG_PATH'"
export $($py_cmd -c \
"from __future__ import print_function;
import sys;
import os;
map(sys.stdout.write, ['{0}={1} ' \
.format(x, os.environ[x]) for x in [$ex_vars]])")
exec $SUDO PATH=$PATH LD_LIBRARY_PATH=$LD_LIBRARY_PATH \
MANPATH=$MANPATH XDG_DATA_DIRS=$XDG_DATA_DIRS \
PKG_CONFIG_PATH=$PKG_CONFIG_PATH \
"$py_cmd_path" -c \
'import base64;
exec(base64.b64decode("""IyBweWxpbnQ6IGRpc2FibGU9Vzk5MDMKJycnClRoaXMgaXMgYSBzaGltIHRoYXQgaGFuZGxlcyBj
aGVja2luZyBhbmQgdXBkYXRpbmcgc2FsdCB0aGluIGFuZAp0aGVuIGludm9raW5nIHRoaW4uCgpU
aGlzIGlzIG5vdCBpbnRlbmRlZCB0byBiZSBpbnN0YW50aWF0ZWQgYXMgYSBtb2R1bGUsIHJhdGhl
ciBpdCBpcyBhCmhlbHBlciBzY3JpcHQgdXNlZCBieSBzYWx0LmNsaWVudC5zc2guU2luZ2xlLiAg
SXQgaXMgaGVyZSwgaW4gYQpzZXBhcmF0ZSBmaWxlLCBmb3IgY29udmVuaWVuY2Ugb2YgZGV2ZWxv
cG1lbnQuCicnJwoKZnJvbSBfX2Z1dHVyZV9fIGltcG9ydCBhYnNvbHV0ZV9pbXBvcnQKCmltcG9y
dCBoYXNobGliCmltcG9ydCB0YXJmaWxlCmltcG9ydCBzaHV0aWwKaW1wb3J0IHN5cwppbXBvcnQg
b3MKaW1wb3J0IHN0YXQKaW1wb3J0IHN1YnByb2Nlc3MKClRISU5fQVJDSElWRSA9ICdzYWx0LXRo
aW4udGd6JwpFWFRfQVJDSElWRSA9ICdzYWx0LWV4dF9tb2RzLnRneicKCiMgS2VlcCB0aGVzZSBp
biBzeW5jIHdpdGggc2FsdC9kZWZhdWx0cy9leGl0Y29kZXMucHkKRVhfVEhJTl9ERVBMT1kgPSAx
MQpFWF9USElOX0NIRUNLU1VNID0gMTIKRVhfTU9EX0RFUExPWSA9IDEzCkVYX1NDUF9OT1RfRk9V
TkQgPSAxNApFWF9DQU5UQ1JFQVQgPSA3MwoKCmNsYXNzIE9CSihvYmplY3QpOgogICAgIiIiQW4g
ZW1wdHkgY2xhc3MgZm9yIGhvbGRpbmcgaW5zdGFuY2UgYXR0cmlidXRlIHZhbHVlcy4iIiIKICAg
IHBhc3MKCgpPUFRJT05TID0gTm9uZQpBUkdTID0gTm9uZQojIFRoZSBiZWxvdyBsaW5lIGlzIHdo
ZXJlIE9QVElPTlMgY2FuIGJlIHJlZGVmaW5lZCB3aXRoIGludGVybmFsIG9wdGlvbnMKIyAocmF0
aGVyIHRoYW4gY2xpIGFyZ3VtZW50cykgd2hlbiB0aGUgc2hpbSBpcyBidW5kbGVkIGJ5CiMgY2xp
ZW50LnNzaC5TaW5nbGUuX2NtZF9zdHIoKQojIHB5bGludDogZGlzYWJsZT1ibG9jay1jb21tZW50
LXNob3VsZC1zdGFydC13aXRoLWNhcmRpbmFsLXNwYWNlCgpPUFRJT05TID0gT0JKKCkKT1BUSU9O
Uy5jb25maWcgPSAiIiIKe2ZpbGVzZXJ2ZXJfbGlzdF9jYWNoZV90aW1lOiAzLCBncmFpbnNfY2Fj
aGU6IHRydWUsIGlkOiBsb2NhbCwgbG9nX2ZpbGU6IHNhbHQtY2FsbC5sb2csCiAgcm9vdF9kaXI6
IC92YXIvdG1wLy5zYWx0LW9wZV8xYTM1MzJfc2FsdC9ydW5uaW5nX2RhdGEsIHNvY2tfZGlyOiAv
fQoiIiIKT1BUSU9OUy5kZWxpbWl0ZXIgPSAnX2VkYmM3ODg1ZTRmOWFhYzliODNiMzU5OTliNjhk
MDE1MTQ4Y2FmNDY3Yjc4ZmEzOWMwNWY2NjljMGZmODk4NzgnCk9QVElPTlMuc2FsdGRpciA9ICcv
dmFyL3RtcC8uc2FsdC1vcGVfMWEzNTMyX3NhbHQnCk9QVElPTlMuY2hlY2tzdW0gPSAnMmUyNWZj
YmI2YWEyNTU5OWQ1MmU4OTVkZTZlMjExOTZkNWM2ZTU5NScKT1BUSU9OUy5oYXNoZnVuYyA9ICdz
aGExJwpPUFRJT05TLnZlcnNpb24gPSAnMjAxNi4zLjInCk9QVElPTlMuZXh0X21vZHMgPSAnJwpP
UFRJT05TLndpcGUgPSBGYWxzZQpPUFRJT05TLnR0eSA9IEZhbHNlCk9QVElPTlMuY21kX3VtYXNr
ID0gTm9uZQpBUkdTID0gWyd0ZXN0Lm9wdHNfcGtnJ10KCgoKZGVmIG5lZWRfZGVwbG95bWVudCgp
OgogICAgIiIiCiAgICBTYWx0IHRoaW4gbmVlZHMgdG8gYmUgZGVwbG95ZWQgLSBwcmVwIHRoZSB0
YXJnZXQgZGlyZWN0b3J5IGFuZCBlbWl0IHRoZQogICAgZGVsaW1ldGVyIGFuZCBleGl0IGNvZGUg
dGhhdCBzaWduYWxzIGEgcmVxdWlyZWQgZGVwbG95bWVudC4KICAgICIiIgogICAgaWYgb3MucGF0
aC5leGlzdHMoT1BUSU9OUy5zYWx0ZGlyKToKICAgICAgICBzaHV0aWwucm10cmVlKE9QVElPTlMu
c2FsdGRpcikKICAgIG9sZF91bWFzayA9IG9zLnVtYXNrKDBvMDc3KQogICAgb3MubWFrZWRpcnMo
T1BUSU9OUy5zYWx0ZGlyKQogICAgb3MudW1hc2sob2xkX3VtYXNrKQogICAgIyBWZXJpZnkgcGVy
bXMgb24gc2FsdGRpcgogICAgZXVpZCA9IG9zLmdldGV1aWQoKQogICAgZHN0YXQgPSBvcy5zdGF0
KE9QVElPTlMuc2FsdGRpcikKICAgIGlmIGRzdGF0LnN0X3VpZCAhPSBldWlkOgogICAgICAgICMg
QXR0YWNrIGRldGVjdGVkLCB0cnkgYWdhaW4KICAgICAgICBuZWVkX2RlcGxveW1lbnQoKQogICAg
aWYgZHN0YXQuc3RfbW9kZSAhPSAxNjgzMjoKICAgICAgICAjIEF0dGFjayBkZXRlY3RlZAogICAg
ICAgIG5lZWRfZGVwbG95bWVudCgpCiAgICAjIElmIFNVRE9pbmcgdGhlbiBhbHNvIGdpdmUgdGhl
IHN1cGVyIHVzZXIgZ3JvdXAgd3JpdGUgcGVybWlzc2lvbnMKICAgIHN1ZG9fZ2lkID0gb3MuZW52
aXJvbi5nZXQoJ1NVRE9fR0lEJykKICAgIGlmIHN1ZG9fZ2lkOgogICAgICAgIG9zLmNob3duKE9Q
VElPTlMuc2FsdGRpciwgLTEsIGludChzdWRvX2dpZCkpCiAgICAgICAgc3R0ID0gb3Muc3RhdChP
UFRJT05TLnNhbHRkaXIpCiAgICAgICAgb3MuY2htb2QoT1BUSU9OUy5zYWx0ZGlyLCBzdHQuc3Rf
bW9kZSB8IHN0YXQuU19JV0dSUCB8IHN0YXQuU19JUkdSUCB8IHN0YXQuU19JWEdSUCkKCiAgICAj
IERlbGltaXRlciBlbWl0dGVkIG9uIHN0ZG91dCAqb25seSogdG8gaW5kaWNhdGUgc2hpbSBtZXNz
YWdlIHRvIG1hc3Rlci4KICAgIHN5cy5zdGRvdXQud3JpdGUoInswfVxuZGVwbG95XG4iLmZvcm1h
dChPUFRJT05TLmRlbGltaXRlcikpCiAgICBzeXMuZXhpdChFWF9USElOX0RFUExPWSkKCgojIEFk
YXB0ZWQgZnJvbSBzYWx0LnV0aWxzLmdldF9oYXNoKCkKZGVmIGdldF9oYXNoKHBhdGgsIGZvcm09
J3NoYTEnLCBjaHVua19zaXplPTQwOTYpOgogICAgIiIiR2VuZXJhdGUgYSBoYXNoIGRpZ2VzdCBz
dHJpbmcgZm9yIGEgZmlsZS4iIiIKICAgIHRyeToKICAgICAgICBoYXNoX3R5cGUgPSBnZXRhdHRy
KGhhc2hsaWIsIGZvcm0pCiAgICBleGNlcHQgQXR0cmlidXRlRXJyb3I6CiAgICAgICAgcmFpc2Ug
VmFsdWVFcnJvcignSW52YWxpZCBoYXNoIHR5cGU6IHswfScuZm9ybWF0KGZvcm0pKQogICAgd2l0
aCBvcGVuKHBhdGgsICdyYicpIGFzIGlmaWxlOgogICAgICAgIGhhc2hfb2JqID0gaGFzaF90eXBl
KCkKICAgICAgICAjIHJlYWQgdGhlIGZpbGUgaW4gaW4gY2h1bmtzLCBub3QgdGhlIGVudGlyZSBm
aWxlCiAgICAgICAgZm9yIGNodW5rIGluIGl0ZXIobGFtYmRhOiBpZmlsZS5yZWFkKGNodW5rX3Np
emUpLCBiJycpOgogICAgICAgICAgICBoYXNoX29iai51cGRhdGUoY2h1bmspCiAgICAgICAgcmV0
dXJuIGhhc2hfb2JqLmhleGRpZ2VzdCgpCgoKZGVmIHVucGFja190aGluKHRoaW5fcGF0aCk6CiAg
ICAiIiJVbnBhY2sgdGhlIFNhbHQgdGhpbiBhcmNoaXZlLiIiIgogICAgdGZpbGUgPSB0YXJmaWxl
LlRhckZpbGUuZ3pvcGVuKHRoaW5fcGF0aCkKICAgIG9sZF91bWFzayA9IG9zLnVtYXNrKDBvMDc3
KQogICAgdGZpbGUuZXh0cmFjdGFsbChwYXRoPU9QVElPTlMuc2FsdGRpcikKICAgIHRmaWxlLmNs
b3NlKCkKICAgIG9zLnVtYXNrKG9sZF91bWFzaykKICAgIG9zLnVubGluayh0aGluX3BhdGgpCgoK
ZGVmIG5lZWRfZXh0KCk6CiAgICAiIiJTaWduYWwgdGhhdCBleHRlcm5hbCBtb2R1bGVzIG5lZWQg
dG8gYmUgZGVwbG95ZWQuIiIiCiAgICBzeXMuc3Rkb3V0LndyaXRlKCJ7MH1cbmV4dF9tb2RzXG4i
LmZvcm1hdChPUFRJT05TLmRlbGltaXRlcikpCiAgICBzeXMuZXhpdChFWF9NT0RfREVQTE9ZKQoK
CmRlZiB1bnBhY2tfZXh0KGV4dF9wYXRoKToKICAgICIiIlVucGFjayB0aGUgZXh0ZXJuYWwgbW9k
dWxlcy4iIiIKICAgIG1vZGNhY2hlID0gb3MucGF0aC5qb2luKAogICAgICAgICAgICBPUFRJT05T
LnNhbHRkaXIsCiAgICAgICAgICAgICdydW5uaW5nX2RhdGEnLAogICAgICAgICAgICAndmFyJywK
ICAgICAgICAgICAgJ2NhY2hlJywKICAgICAgICAgICAgJ3NhbHQnLAogICAgICAgICAgICAnbWlu
aW9uJywKICAgICAgICAgICAgJ2V4dG1vZHMnKQogICAgdGZpbGUgPSB0YXJmaWxlLlRhckZpbGUu
Z3pvcGVuKGV4dF9wYXRoKQogICAgb2xkX3VtYXNrID0gb3MudW1hc2soMG8wNzcpCiAgICB0Zmls
ZS5leHRyYWN0YWxsKHBhdGg9bW9kY2FjaGUpCiAgICB0ZmlsZS5jbG9zZSgpCiAgICBvcy51bWFz
ayhvbGRfdW1hc2spCiAgICBvcy51bmxpbmsoZXh0X3BhdGgpCiAgICB2ZXJfcGF0aCA9IG9zLnBh
dGguam9pbihtb2RjYWNoZSwgJ2V4dF92ZXJzaW9uJykKICAgIHZlcl9kc3QgPSBvcy5wYXRoLmpv
aW4oT1BUSU9OUy5zYWx0ZGlyLCAnZXh0X3ZlcnNpb24nKQogICAgc2h1dGlsLm1vdmUodmVyX3Bh
dGgsIHZlcl9kc3QpCgoKZGVmIG1haW4oYXJndik6ICAjIHB5bGludDogZGlzYWJsZT1XMDYxMwog
ICAgIiIiTWFpbiBwcm9ncmFtIGJvZHkiIiIKICAgIHRoaW5fcGF0aCA9IG9zLnBhdGguam9pbihP
UFRJT05TLnNhbHRkaXIsIFRISU5fQVJDSElWRSkKICAgIGlmIG9zLnBhdGguaXNmaWxlKHRoaW5f
cGF0aCk6CiAgICAgICAgaWYgT1BUSU9OUy5jaGVja3N1bSAhPSBnZXRfaGFzaCh0aGluX3BhdGgs
IE9QVElPTlMuaGFzaGZ1bmMpOgogICAgICAgICAgICBzeXMuc3RkZXJyLndyaXRlKCd7MH1cbicu
Zm9ybWF0KE9QVElPTlMuY2hlY2tzdW0pKQogICAgICAgICAgICBzeXMuc3RkZXJyLndyaXRlKCd7
MH1cbicuZm9ybWF0KGdldF9oYXNoKHRoaW5fcGF0aCwgT1BUSU9OUy5oYXNoZnVuYykpKQogICAg
ICAgICAgICBvcy51bmxpbmsodGhpbl9wYXRoKQogICAgICAgICAgICBzeXMuc3RkZXJyLndyaXRl
KCdXQVJOSU5HOiBjaGVja3N1bSBtaXNtYXRjaCBmb3IgInswfSJcbicuZm9ybWF0KHRoaW5fcGF0
aCkpCiAgICAgICAgICAgIHN5cy5leGl0KEVYX1RISU5fQ0hFQ0tTVU0pCiAgICAgICAgdW5wYWNr
X3RoaW4odGhpbl9wYXRoKQogICAgICAgICMgU2FsdCB0aGluIG5vdyBpcyBhdmFpbGFibGUgdG8g
dXNlCiAgICBlbHNlOgogICAgICAgIHNjcHN0YXQgPSBzdWJwcm9jZXNzLlBvcGVuKFsnL2Jpbi9z
aCcsICctYycsICdjb21tYW5kIC12IHNjcCddKS53YWl0KCkKICAgICAgICBpZiBzY3BzdGF0ICE9
IDA6CiAgICAgICAgICAgIHN5cy5leGl0KEVYX1NDUF9OT1RfRk9VTkQpCgogICAgICAgIGlmIG5v
dCBvcy5wYXRoLmV4aXN0cyhPUFRJT05TLnNhbHRkaXIpOgogICAgICAgICAgICBuZWVkX2RlcGxv
eW1lbnQoKQoKICAgICAgICBpZiBub3Qgb3MucGF0aC5pc2RpcihPUFRJT05TLnNhbHRkaXIpOgog
ICAgICAgICAgICBzeXMuc3RkZXJyLndyaXRlKAogICAgICAgICAgICAgICAgJ0VSUk9SOiBzYWx0
IHBhdGggInswfSIgZXhpc3RzIGJ1dCBpcycKICAgICAgICAgICAgICAgICcgbm90IGEgZGlyZWN0
b3J5XG4nLmZvcm1hdChPUFRJT05TLnNhbHRkaXIpCiAgICAgICAgICAgICkKICAgICAgICAgICAg
c3lzLmV4aXQoRVhfQ0FOVENSRUFUKQoKICAgICAgICB2ZXJzaW9uX3BhdGggPSBvcy5wYXRoLmpv
aW4oT1BUSU9OUy5zYWx0ZGlyLCAndmVyc2lvbicpCiAgICAgICAgaWYgbm90IG9zLnBhdGguZXhp
c3RzKHZlcnNpb25fcGF0aCkgb3Igbm90IG9zLnBhdGguaXNmaWxlKHZlcnNpb25fcGF0aCk6CiAg
ICAgICAgICAgIHN5cy5zdGRlcnIud3JpdGUoCiAgICAgICAgICAgICAgICAnV0FSTklORzogVW5h
YmxlIHRvIGxvY2F0ZSBjdXJyZW50IHRoaW4gJwogICAgICAgICAgICAgICAgJyB2ZXJzaW9uOiB7
MH0uXG4nLmZvcm1hdCh2ZXJzaW9uX3BhdGgpCiAgICAgICAgICAgICkKICAgICAgICAgICAgbmVl
ZF9kZXBsb3ltZW50KCkKICAgICAgICB3aXRoIG9wZW4odmVyc2lvbl9wYXRoLCAncicpIGFzIHZw
bzoKICAgICAgICAgICAgY3VyX3ZlcnNpb24gPSB2cG8ucmVhZGxpbmUoKS5zdHJpcCgpCiAgICAg
ICAgaWYgY3VyX3ZlcnNpb24gIT0gT1BUSU9OUy52ZXJzaW9uOgogICAgICAgICAgICBzeXMuc3Rk
ZXJyLndyaXRlKAogICAgICAgICAgICAgICAgJ1dBUk5JTkc6IGN1cnJlbnQgdGhpbiB2ZXJzaW9u
IHswfScKICAgICAgICAgICAgICAgICcgaXMgbm90IHVwLXRvLWRhdGUgd2l0aCB7MX0uXG4nLmZv
cm1hdCgKICAgICAgICAgICAgICAgICAgICBjdXJfdmVyc2lvbiwgT1BUSU9OUy52ZXJzaW9uCiAg
ICAgICAgICAgICAgICApCiAgICAgICAgICAgICkKICAgICAgICAgICAgbmVlZF9kZXBsb3ltZW50
KCkKICAgICAgICAjIFNhbHQgdGhpbiBleGlzdHMgYW5kIGlzIHVwLXRvLWRhdGUgLSBmYWxsIHRo
cm91Z2ggYW5kIHVzZSBpdAoKICAgIHNhbHRfY2FsbF9wYXRoID0gb3MucGF0aC5qb2luKE9QVElP
TlMuc2FsdGRpciwgJ3NhbHQtY2FsbCcpCiAgICBpZiBub3Qgb3MucGF0aC5pc2ZpbGUoc2FsdF9j
YWxsX3BhdGgpOgogICAgICAgIHN5cy5zdGRlcnIud3JpdGUoJ0VSUk9SOiB0aGluIGlzIG1pc3Np
bmcgInswfSJcbicuZm9ybWF0KHNhbHRfY2FsbF9wYXRoKSkKICAgICAgICBuZWVkX2RlcGxveW1l
bnQoKQoKICAgIHdpdGggb3Blbihvcy5wYXRoLmpvaW4oT1BUSU9OUy5zYWx0ZGlyLCAnbWluaW9u
JyksICd3JykgYXMgY29uZmlnOgogICAgICAgIGNvbmZpZy53cml0ZShPUFRJT05TLmNvbmZpZyAr
ICdcbicpCiAgICBpZiBPUFRJT05TLmV4dF9tb2RzOgogICAgICAgIGV4dF9wYXRoID0gb3MucGF0
aC5qb2luKE9QVElPTlMuc2FsdGRpciwgRVhUX0FSQ0hJVkUpCiAgICAgICAgaWYgb3MucGF0aC5l
eGlzdHMoZXh0X3BhdGgpOgogICAgICAgICAgICB1bnBhY2tfZXh0KGV4dF9wYXRoKQogICAgICAg
IGVsc2U6CiAgICAgICAgICAgIHZlcnNpb25fcGF0aCA9IG9zLnBhdGguam9pbihPUFRJT05TLnNh
bHRkaXIsICdleHRfdmVyc2lvbicpCiAgICAgICAgICAgIGlmIG5vdCBvcy5wYXRoLmV4aXN0cyh2
ZXJzaW9uX3BhdGgpIG9yIG5vdCBvcy5wYXRoLmlzZmlsZSh2ZXJzaW9uX3BhdGgpOgogICAgICAg
ICAgICAgICAgbmVlZF9leHQoKQogICAgICAgICAgICB3aXRoIG9wZW4odmVyc2lvbl9wYXRoLCAn
cicpIGFzIHZwbzoKICAgICAgICAgICAgICAgIGN1cl92ZXJzaW9uID0gdnBvLnJlYWRsaW5lKCku
c3RyaXAoKQogICAgICAgICAgICBpZiBjdXJfdmVyc2lvbiAhPSBPUFRJT05TLmV4dF9tb2RzOgog
ICAgICAgICAgICAgICAgbmVlZF9leHQoKQogICAgIyBGaXggcGFyYW1ldGVyIHBhc3NpbmcgaXNz
dWUKICAgIGlmIGxlbihBUkdTKSA9PSAxOgogICAgICAgIGFyZ3ZfcHJlcGFyZWQgPSBBUkdTWzBd
LnNwbGl0KCkKICAgIGVsc2U6CiAgICAgICAgYXJndl9wcmVwYXJlZCA9IEFSR1MKCiAgICBzYWx0
X2FyZ3YgPSBbCiAgICAgICAgc3lzLmV4ZWN1dGFibGUsCiAgICAgICAgc2FsdF9jYWxsX3BhdGgs
CiAgICAgICAgJy0tcmV0Y29kZS1wYXNzdGhyb3VnaCcsCiAgICAgICAgJy0tbG9jYWwnLAogICAg
ICAgICctLW1ldGFkYXRhJywKICAgICAgICAnLS1vdXQnLCAnanNvbicsCiAgICAgICAgJy1sJywg
J3F1aWV0JywKICAgICAgICAnLWMnLCBPUFRJT05TLnNhbHRkaXIsCiAgICAgICAgJy0tJywKICAg
IF0gKyBhcmd2X3ByZXBhcmVkCgogICAgc3lzLnN0ZGVyci53cml0ZSgnU0FMVF9BUkdWOiB7MH1c
bicuZm9ybWF0KHNhbHRfYXJndikpCgogICAgIyBPbmx5IGVtaXQgdGhlIGRlbGltaXRlciBvbiAq
Ym90aCogc3Rkb3V0IGFuZCBzdGRlcnIgd2hlbiBjb21wbGV0ZWx5IHN1Y2Nlc3NmdWwuCiAgICAj
IFllcywgdGhlIGZsdXNoKCkgaXMgbmVjZXNzYXJ5LgogICAgc3lzLnN0ZG91dC53cml0ZShPUFRJ
T05TLmRlbGltaXRlciArICdcbicpCiAgICBzeXMuc3Rkb3V0LmZsdXNoKCkKICAgIGlmIG5vdCBP
UFRJT05TLnR0eToKICAgICAgICBzeXMuc3RkZXJyLndyaXRlKE9QVElPTlMuZGVsaW1pdGVyICsg
J1xuJykKICAgICAgICBzeXMuc3RkZXJyLmZsdXNoKCkKICAgIGlmIE9QVElPTlMuY21kX3VtYXNr
IGlzIG5vdCBOb25lOgogICAgICAgIG9sZF91bWFzayA9IG9zLnVtYXNrKE9QVElPTlMuY21kX3Vt
YXNrKQogICAgaWYgT1BUSU9OUy50dHk6CiAgICAgICAgc3Rkb3V0LCBfID0gc3VicHJvY2Vzcy5Q
b3BlbihzYWx0X2FyZ3YsIHN0ZG91dD1zdWJwcm9jZXNzLlBJUEUsIHN0ZGVycj1zdWJwcm9jZXNz
LlBJUEUpLmNvbW11bmljYXRlKCkKICAgICAgICBzeXMuc3Rkb3V0LndyaXRlKHN0ZG91dCkKICAg
ICAgICBzeXMuc3Rkb3V0LmZsdXNoKCkKICAgICAgICBpZiBPUFRJT05TLndpcGU6CiAgICAgICAg
ICAgIHNodXRpbC5ybXRyZWUoT1BUSU9OUy5zYWx0ZGlyKQogICAgZWxpZiBPUFRJT05TLndpcGU6
CiAgICAgICAgc3VicHJvY2Vzcy5jYWxsKHNhbHRfYXJndikKICAgICAgICBzaHV0aWwucm10cmVl
KE9QVElPTlMuc2FsdGRpcikKICAgIGVsc2U6CiAgICAgICAgb3MuZXhlY3Yoc3lzLmV4ZWN1dGFi
bGUsIHNhbHRfYXJndikKICAgIGlmIE9QVElPTlMuY21kX3VtYXNrIGlzIG5vdCBOb25lOgogICAg
ICAgIG9zLnVtYXNrKG9sZF91bWFzaykKCmlmIF9fbmFtZV9fID09ICdfX21haW5fXyc6CiAgICBz
eXMuZXhpdChtYWluKHN5cy5hcmd2KSkK
""").decode("utf-8"))'
else
exec $SUDO "$py_cmd_path" -c \
'import base64;
exec(base64.b64decode("""IyBweWxpbnQ6IGRpc2FibGU9Vzk5MDMKJycnClRoaXMgaXMgYSBzaGltIHRoYXQgaGFuZGxlcyBj
aGVja2luZyBhbmQgdXBkYXRpbmcgc2FsdCB0aGluIGFuZAp0aGVuIGludm9raW5nIHRoaW4uCgpU
aGlzIGlzIG5vdCBpbnRlbmRlZCB0byBiZSBpbnN0YW50aWF0ZWQgYXMgYSBtb2R1bGUsIHJhdGhl
ciBpdCBpcyBhCmhlbHBlciBzY3JpcHQgdXNlZCBieSBzYWx0LmNsaWVudC5zc2guU2luZ2xlLiAg
SXQgaXMgaGVyZSwgaW4gYQpzZXBhcmF0ZSBmaWxlLCBmb3IgY29udmVuaWVuY2Ugb2YgZGV2ZWxv
cG1lbnQuCicnJwoKZnJvbSBfX2Z1dHVyZV9fIGltcG9ydCBhYnNvbHV0ZV9pbXBvcnQKCmltcG9y
dCBoYXNobGliCmltcG9ydCB0YXJmaWxlCmltcG9ydCBzaHV0aWwKaW1wb3J0IHN5cwppbXBvcnQg
b3MKaW1wb3J0IHN0YXQKaW1wb3J0IHN1YnByb2Nlc3MKClRISU5fQVJDSElWRSA9ICdzYWx0LXRo
aW4udGd6JwpFWFRfQVJDSElWRSA9ICdzYWx0LWV4dF9tb2RzLnRneicKCiMgS2VlcCB0aGVzZSBp
biBzeW5jIHdpdGggc2FsdC9kZWZhdWx0cy9leGl0Y29kZXMucHkKRVhfVEhJTl9ERVBMT1kgPSAx
MQpFWF9USElOX0NIRUNLU1VNID0gMTIKRVhfTU9EX0RFUExPWSA9IDEzCkVYX1NDUF9OT1RfRk9V
TkQgPSAxNApFWF9DQU5UQ1JFQVQgPSA3MwoKCmNsYXNzIE9CSihvYmplY3QpOgogICAgIiIiQW4g
ZW1wdHkgY2xhc3MgZm9yIGhvbGRpbmcgaW5zdGFuY2UgYXR0cmlidXRlIHZhbHVlcy4iIiIKICAg
IHBhc3MKCgpPUFRJT05TID0gTm9uZQpBUkdTID0gTm9uZQojIFRoZSBiZWxvdyBsaW5lIGlzIHdo
ZXJlIE9QVElPTlMgY2FuIGJlIHJlZGVmaW5lZCB3aXRoIGludGVybmFsIG9wdGlvbnMKIyAocmF0
aGVyIHRoYW4gY2xpIGFyZ3VtZW50cykgd2hlbiB0aGUgc2hpbSBpcyBidW5kbGVkIGJ5CiMgY2xp
ZW50LnNzaC5TaW5nbGUuX2NtZF9zdHIoKQojIHB5bGludDogZGlzYWJsZT1ibG9jay1jb21tZW50
LXNob3VsZC1zdGFydC13aXRoLWNhcmRpbmFsLXNwYWNlCgpPUFRJT05TID0gT0JKKCkKT1BUSU9O
Uy5jb25maWcgPSAiIiIKe2ZpbGVzZXJ2ZXJfbGlzdF9jYWNoZV90aW1lOiAzLCBncmFpbnNfY2Fj
aGU6IHRydWUsIGlkOiBsb2NhbCwgbG9nX2ZpbGU6IHNhbHQtY2FsbC5sb2csCiAgcm9vdF9kaXI6
IC92YXIvdG1wLy5zYWx0LW9wZV8xYTM1MzJfc2FsdC9ydW5uaW5nX2RhdGEsIHNvY2tfZGlyOiAv
fQoiIiIKT1BUSU9OUy5kZWxpbWl0ZXIgPSAnX2VkYmM3ODg1ZTRmOWFhYzliODNiMzU5OTliNjhk
MDE1MTQ4Y2FmNDY3Yjc4ZmEzOWMwNWY2NjljMGZmODk4NzgnCk9QVElPTlMuc2FsdGRpciA9ICcv
dmFyL3RtcC8uc2FsdC1vcGVfMWEzNTMyX3NhbHQnCk9QVElPTlMuY2hlY2tzdW0gPSAnMmUyNWZj
YmI2YWEyNTU5OWQ1MmU4OTVkZTZlMjExOTZkNWM2ZTU5NScKT1BUSU9OUy5oYXNoZnVuYyA9ICdz
aGExJwpPUFRJT05TLnZlcnNpb24gPSAnMjAxNi4zLjInCk9QVElPTlMuZXh0X21vZHMgPSAnJwpP
UFRJT05TLndpcGUgPSBGYWxzZQpPUFRJT05TLnR0eSA9IEZhbHNlCk9QVElPTlMuY21kX3VtYXNr
ID0gTm9uZQpBUkdTID0gWyd0ZXN0Lm9wdHNfcGtnJ10KCgoKZGVmIG5lZWRfZGVwbG95bWVudCgp
OgogICAgIiIiCiAgICBTYWx0IHRoaW4gbmVlZHMgdG8gYmUgZGVwbG95ZWQgLSBwcmVwIHRoZSB0
YXJnZXQgZGlyZWN0b3J5IGFuZCBlbWl0IHRoZQogICAgZGVsaW1ldGVyIGFuZCBleGl0IGNvZGUg
dGhhdCBzaWduYWxzIGEgcmVxdWlyZWQgZGVwbG95bWVudC4KICAgICIiIgogICAgaWYgb3MucGF0
aC5leGlzdHMoT1BUSU9OUy5zYWx0ZGlyKToKICAgICAgICBzaHV0aWwucm10cmVlKE9QVElPTlMu
c2FsdGRpcikKICAgIG9sZF91bWFzayA9IG9zLnVtYXNrKDBvMDc3KQogICAgb3MubWFrZWRpcnMo
T1BUSU9OUy5zYWx0ZGlyKQogICAgb3MudW1hc2sob2xkX3VtYXNrKQogICAgIyBWZXJpZnkgcGVy
bXMgb24gc2FsdGRpcgogICAgZXVpZCA9IG9zLmdldGV1aWQoKQogICAgZHN0YXQgPSBvcy5zdGF0
KE9QVElPTlMuc2FsdGRpcikKICAgIGlmIGRzdGF0LnN0X3VpZCAhPSBldWlkOgogICAgICAgICMg
QXR0YWNrIGRldGVjdGVkLCB0cnkgYWdhaW4KICAgICAgICBuZWVkX2RlcGxveW1lbnQoKQogICAg
aWYgZHN0YXQuc3RfbW9kZSAhPSAxNjgzMjoKICAgICAgICAjIEF0dGFjayBkZXRlY3RlZAogICAg
ICAgIG5lZWRfZGVwbG95bWVudCgpCiAgICAjIElmIFNVRE9pbmcgdGhlbiBhbHNvIGdpdmUgdGhl
IHN1cGVyIHVzZXIgZ3JvdXAgd3JpdGUgcGVybWlzc2lvbnMKICAgIHN1ZG9fZ2lkID0gb3MuZW52
aXJvbi5nZXQoJ1NVRE9fR0lEJykKICAgIGlmIHN1ZG9fZ2lkOgogICAgICAgIG9zLmNob3duKE9Q
VElPTlMuc2FsdGRpciwgLTEsIGludChzdWRvX2dpZCkpCiAgICAgICAgc3R0ID0gb3Muc3RhdChP
UFRJT05TLnNhbHRkaXIpCiAgICAgICAgb3MuY2htb2QoT1BUSU9OUy5zYWx0ZGlyLCBzdHQuc3Rf
bW9kZSB8IHN0YXQuU19JV0dSUCB8IHN0YXQuU19JUkdSUCB8IHN0YXQuU19JWEdSUCkKCiAgICAj
IERlbGltaXRlciBlbWl0dGVkIG9uIHN0ZG91dCAqb25seSogdG8gaW5kaWNhdGUgc2hpbSBtZXNz
YWdlIHRvIG1hc3Rlci4KICAgIHN5cy5zdGRvdXQud3JpdGUoInswfVxuZGVwbG95XG4iLmZvcm1h
dChPUFRJT05TLmRlbGltaXRlcikpCiAgICBzeXMuZXhpdChFWF9USElOX0RFUExPWSkKCgojIEFk
YXB0ZWQgZnJvbSBzYWx0LnV0aWxzLmdldF9oYXNoKCkKZGVmIGdldF9oYXNoKHBhdGgsIGZvcm09
J3NoYTEnLCBjaHVua19zaXplPTQwOTYpOgogICAgIiIiR2VuZXJhdGUgYSBoYXNoIGRpZ2VzdCBz
dHJpbmcgZm9yIGEgZmlsZS4iIiIKICAgIHRyeToKICAgICAgICBoYXNoX3R5cGUgPSBnZXRhdHRy
KGhhc2hsaWIsIGZvcm0pCiAgICBleGNlcHQgQXR0cmlidXRlRXJyb3I6CiAgICAgICAgcmFpc2Ug
VmFsdWVFcnJvcignSW52YWxpZCBoYXNoIHR5cGU6IHswfScuZm9ybWF0KGZvcm0pKQogICAgd2l0
aCBvcGVuKHBhdGgsICdyYicpIGFzIGlmaWxlOgogICAgICAgIGhhc2hfb2JqID0gaGFzaF90eXBl
KCkKICAgICAgICAjIHJlYWQgdGhlIGZpbGUgaW4gaW4gY2h1bmtzLCBub3QgdGhlIGVudGlyZSBm
aWxlCiAgICAgICAgZm9yIGNodW5rIGluIGl0ZXIobGFtYmRhOiBpZmlsZS5yZWFkKGNodW5rX3Np
emUpLCBiJycpOgogICAgICAgICAgICBoYXNoX29iai51cGRhdGUoY2h1bmspCiAgICAgICAgcmV0
dXJuIGhhc2hfb2JqLmhleGRpZ2VzdCgpCgoKZGVmIHVucGFja190aGluKHRoaW5fcGF0aCk6CiAg
ICAiIiJVbnBhY2sgdGhlIFNhbHQgdGhpbiBhcmNoaXZlLiIiIgogICAgdGZpbGUgPSB0YXJmaWxl
LlRhckZpbGUuZ3pvcGVuKHRoaW5fcGF0aCkKICAgIG9sZF91bWFzayA9IG9zLnVtYXNrKDBvMDc3
KQogICAgdGZpbGUuZXh0cmFjdGFsbChwYXRoPU9QVElPTlMuc2FsdGRpcikKICAgIHRmaWxlLmNs
b3NlKCkKICAgIG9zLnVtYXNrKG9sZF91bWFzaykKICAgIG9zLnVubGluayh0aGluX3BhdGgpCgoK
ZGVmIG5lZWRfZXh0KCk6CiAgICAiIiJTaWduYWwgdGhhdCBleHRlcm5hbCBtb2R1bGVzIG5lZWQg
dG8gYmUgZGVwbG95ZWQuIiIiCiAgICBzeXMuc3Rkb3V0LndyaXRlKCJ7MH1cbmV4dF9tb2RzXG4i
LmZvcm1hdChPUFRJT05TLmRlbGltaXRlcikpCiAgICBzeXMuZXhpdChFWF9NT0RfREVQTE9ZKQoK
CmRlZiB1bnBhY2tfZXh0KGV4dF9wYXRoKToKICAgICIiIlVucGFjayB0aGUgZXh0ZXJuYWwgbW9k
dWxlcy4iIiIKICAgIG1vZGNhY2hlID0gb3MucGF0aC5qb2luKAogICAgICAgICAgICBPUFRJT05T
LnNhbHRkaXIsCiAgICAgICAgICAgICdydW5uaW5nX2RhdGEnLAogICAgICAgICAgICAndmFyJywK
ICAgICAgICAgICAgJ2NhY2hlJywKICAgICAgICAgICAgJ3NhbHQnLAogICAgICAgICAgICAnbWlu
aW9uJywKICAgICAgICAgICAgJ2V4dG1vZHMnKQogICAgdGZpbGUgPSB0YXJmaWxlLlRhckZpbGUu
Z3pvcGVuKGV4dF9wYXRoKQogICAgb2xkX3VtYXNrID0gb3MudW1hc2soMG8wNzcpCiAgICB0Zmls
ZS5leHRyYWN0YWxsKHBhdGg9bW9kY2FjaGUpCiAgICB0ZmlsZS5jbG9zZSgpCiAgICBvcy51bWFz
ayhvbGRfdW1hc2spCiAgICBvcy51bmxpbmsoZXh0X3BhdGgpCiAgICB2ZXJfcGF0aCA9IG9zLnBh
dGguam9pbihtb2RjYWNoZSwgJ2V4dF92ZXJzaW9uJykKICAgIHZlcl9kc3QgPSBvcy5wYXRoLmpv
aW4oT1BUSU9OUy5zYWx0ZGlyLCAnZXh0X3ZlcnNpb24nKQogICAgc2h1dGlsLm1vdmUodmVyX3Bh
dGgsIHZlcl9kc3QpCgoKZGVmIG1haW4oYXJndik6ICAjIHB5bGludDogZGlzYWJsZT1XMDYxMwog
ICAgIiIiTWFpbiBwcm9ncmFtIGJvZHkiIiIKICAgIHRoaW5fcGF0aCA9IG9zLnBhdGguam9pbihP
UFRJT05TLnNhbHRkaXIsIFRISU5fQVJDSElWRSkKICAgIGlmIG9zLnBhdGguaXNmaWxlKHRoaW5f
cGF0aCk6CiAgICAgICAgaWYgT1BUSU9OUy5jaGVja3N1bSAhPSBnZXRfaGFzaCh0aGluX3BhdGgs
IE9QVElPTlMuaGFzaGZ1bmMpOgogICAgICAgICAgICBzeXMuc3RkZXJyLndyaXRlKCd7MH1cbicu
Zm9ybWF0KE9QVElPTlMuY2hlY2tzdW0pKQogICAgICAgICAgICBzeXMuc3RkZXJyLndyaXRlKCd7
MH1cbicuZm9ybWF0KGdldF9oYXNoKHRoaW5fcGF0aCwgT1BUSU9OUy5oYXNoZnVuYykpKQogICAg
ICAgICAgICBvcy51bmxpbmsodGhpbl9wYXRoKQogICAgICAgICAgICBzeXMuc3RkZXJyLndyaXRl
KCdXQVJOSU5HOiBjaGVja3N1bSBtaXNtYXRjaCBmb3IgInswfSJcbicuZm9ybWF0KHRoaW5fcGF0
aCkpCiAgICAgICAgICAgIHN5cy5leGl0KEVYX1RISU5fQ0hFQ0tTVU0pCiAgICAgICAgdW5wYWNr
X3RoaW4odGhpbl9wYXRoKQogICAgICAgICMgU2FsdCB0aGluIG5vdyBpcyBhdmFpbGFibGUgdG8g
dXNlCiAgICBlbHNlOgogICAgICAgIHNjcHN0YXQgPSBzdWJwcm9jZXNzLlBvcGVuKFsnL2Jpbi9z
aCcsICctYycsICdjb21tYW5kIC12IHNjcCddKS53YWl0KCkKICAgICAgICBpZiBzY3BzdGF0ICE9
IDA6CiAgICAgICAgICAgIHN5cy5leGl0KEVYX1NDUF9OT1RfRk9VTkQpCgogICAgICAgIGlmIG5v
dCBvcy5wYXRoLmV4aXN0cyhPUFRJT05TLnNhbHRkaXIpOgogICAgICAgICAgICBuZWVkX2RlcGxv
eW1lbnQoKQoKICAgICAgICBpZiBub3Qgb3MucGF0aC5pc2RpcihPUFRJT05TLnNhbHRkaXIpOgog
ICAgICAgICAgICBzeXMuc3RkZXJyLndyaXRlKAogICAgICAgICAgICAgICAgJ0VSUk9SOiBzYWx0
IHBhdGggInswfSIgZXhpc3RzIGJ1dCBpcycKICAgICAgICAgICAgICAgICcgbm90IGEgZGlyZWN0
b3J5XG4nLmZvcm1hdChPUFRJT05TLnNhbHRkaXIpCiAgICAgICAgICAgICkKICAgICAgICAgICAg
c3lzLmV4aXQoRVhfQ0FOVENSRUFUKQoKICAgICAgICB2ZXJzaW9uX3BhdGggPSBvcy5wYXRoLmpv
aW4oT1BUSU9OUy5zYWx0ZGlyLCAndmVyc2lvbicpCiAgICAgICAgaWYgbm90IG9zLnBhdGguZXhp
c3RzKHZlcnNpb25fcGF0aCkgb3Igbm90IG9zLnBhdGguaXNmaWxlKHZlcnNpb25fcGF0aCk6CiAg
ICAgICAgICAgIHN5cy5zdGRlcnIud3JpdGUoCiAgICAgICAgICAgICAgICAnV0FSTklORzogVW5h
YmxlIHRvIGxvY2F0ZSBjdXJyZW50IHRoaW4gJwogICAgICAgICAgICAgICAgJyB2ZXJzaW9uOiB7
MH0uXG4nLmZvcm1hdCh2ZXJzaW9uX3BhdGgpCiAgICAgICAgICAgICkKICAgICAgICAgICAgbmVl
ZF9kZXBsb3ltZW50KCkKICAgICAgICB3aXRoIG9wZW4odmVyc2lvbl9wYXRoLCAncicpIGFzIHZw
bzoKICAgICAgICAgICAgY3VyX3ZlcnNpb24gPSB2cG8ucmVhZGxpbmUoKS5zdHJpcCgpCiAgICAg
ICAgaWYgY3VyX3ZlcnNpb24gIT0gT1BUSU9OUy52ZXJzaW9uOgogICAgICAgICAgICBzeXMuc3Rk
ZXJyLndyaXRlKAogICAgICAgICAgICAgICAgJ1dBUk5JTkc6IGN1cnJlbnQgdGhpbiB2ZXJzaW9u
IHswfScKICAgICAgICAgICAgICAgICcgaXMgbm90IHVwLXRvLWRhdGUgd2l0aCB7MX0uXG4nLmZv
cm1hdCgKICAgICAgICAgICAgICAgICAgICBjdXJfdmVyc2lvbiwgT1BUSU9OUy52ZXJzaW9uCiAg
ICAgICAgICAgICAgICApCiAgICAgICAgICAgICkKICAgICAgICAgICAgbmVlZF9kZXBsb3ltZW50
KCkKICAgICAgICAjIFNhbHQgdGhpbiBleGlzdHMgYW5kIGlzIHVwLXRvLWRhdGUgLSBmYWxsIHRo
cm91Z2ggYW5kIHVzZSBpdAoKICAgIHNhbHRfY2FsbF9wYXRoID0gb3MucGF0aC5qb2luKE9QVElP
TlMuc2FsdGRpciwgJ3NhbHQtY2FsbCcpCiAgICBpZiBub3Qgb3MucGF0aC5pc2ZpbGUoc2FsdF9j
YWxsX3BhdGgpOgogICAgICAgIHN5cy5zdGRlcnIud3JpdGUoJ0VSUk9SOiB0aGluIGlzIG1pc3Np
bmcgInswfSJcbicuZm9ybWF0KHNhbHRfY2FsbF9wYXRoKSkKICAgICAgICBuZWVkX2RlcGxveW1l
bnQoKQoKICAgIHdpdGggb3Blbihvcy5wYXRoLmpvaW4oT1BUSU9OUy5zYWx0ZGlyLCAnbWluaW9u
JyksICd3JykgYXMgY29uZmlnOgogICAgICAgIGNvbmZpZy53cml0ZShPUFRJT05TLmNvbmZpZyAr
ICdcbicpCiAgICBpZiBPUFRJT05TLmV4dF9tb2RzOgogICAgICAgIGV4dF9wYXRoID0gb3MucGF0
aC5qb2luKE9QVElPTlMuc2FsdGRpciwgRVhUX0FSQ0hJVkUpCiAgICAgICAgaWYgb3MucGF0aC5l
eGlzdHMoZXh0X3BhdGgpOgogICAgICAgICAgICB1bnBhY2tfZXh0KGV4dF9wYXRoKQogICAgICAg
IGVsc2U6CiAgICAgICAgICAgIHZlcnNpb25fcGF0aCA9IG9zLnBhdGguam9pbihPUFRJT05TLnNh
bHRkaXIsICdleHRfdmVyc2lvbicpCiAgICAgICAgICAgIGlmIG5vdCBvcy5wYXRoLmV4aXN0cyh2
ZXJzaW9uX3BhdGgpIG9yIG5vdCBvcy5wYXRoLmlzZmlsZSh2ZXJzaW9uX3BhdGgpOgogICAgICAg
ICAgICAgICAgbmVlZF9leHQoKQogICAgICAgICAgICB3aXRoIG9wZW4odmVyc2lvbl9wYXRoLCAn
cicpIGFzIHZwbzoKICAgICAgICAgICAgICAgIGN1cl92ZXJzaW9uID0gdnBvLnJlYWRsaW5lKCku
c3RyaXAoKQogICAgICAgICAgICBpZiBjdXJfdmVyc2lvbiAhPSBPUFRJT05TLmV4dF9tb2RzOgog
ICAgICAgICAgICAgICAgbmVlZF9leHQoKQogICAgIyBGaXggcGFyYW1ldGVyIHBhc3NpbmcgaXNz
dWUKICAgIGlmIGxlbihBUkdTKSA9PSAxOgogICAgICAgIGFyZ3ZfcHJlcGFyZWQgPSBBUkdTWzBd
LnNwbGl0KCkKICAgIGVsc2U6CiAgICAgICAgYXJndl9wcmVwYXJlZCA9IEFSR1MKCiAgICBzYWx0
X2FyZ3YgPSBbCiAgICAgICAgc3lzLmV4ZWN1dGFibGUsCiAgICAgICAgc2FsdF9jYWxsX3BhdGgs
CiAgICAgICAgJy0tcmV0Y29kZS1wYXNzdGhyb3VnaCcsCiAgICAgICAgJy0tbG9jYWwnLAogICAg
ICAgICctLW1ldGFkYXRhJywKICAgICAgICAnLS1vdXQnLCAnanNvbicsCiAgICAgICAgJy1sJywg
J3F1aWV0JywKICAgICAgICAnLWMnLCBPUFRJT05TLnNhbHRkaXIsCiAgICAgICAgJy0tJywKICAg
IF0gKyBhcmd2X3ByZXBhcmVkCgogICAgc3lzLnN0ZGVyci53cml0ZSgnU0FMVF9BUkdWOiB7MH1c
bicuZm9ybWF0KHNhbHRfYXJndikpCgogICAgIyBPbmx5IGVtaXQgdGhlIGRlbGltaXRlciBvbiAq
Ym90aCogc3Rkb3V0IGFuZCBzdGRlcnIgd2hlbiBjb21wbGV0ZWx5IHN1Y2Nlc3NmdWwuCiAgICAj
IFllcywgdGhlIGZsdXNoKCkgaXMgbmVjZXNzYXJ5LgogICAgc3lzLnN0ZG91dC53cml0ZShPUFRJ
T05TLmRlbGltaXRlciArICdcbicpCiAgICBzeXMuc3Rkb3V0LmZsdXNoKCkKICAgIGlmIG5vdCBP
UFRJT05TLnR0eToKICAgICAgICBzeXMuc3RkZXJyLndyaXRlKE9QVElPTlMuZGVsaW1pdGVyICsg
J1xuJykKICAgICAgICBzeXMuc3RkZXJyLmZsdXNoKCkKICAgIGlmIE9QVElPTlMuY21kX3VtYXNr
IGlzIG5vdCBOb25lOgogICAgICAgIG9sZF91bWFzayA9IG9zLnVtYXNrKE9QVElPTlMuY21kX3Vt
YXNrKQogICAgaWYgT1BUSU9OUy50dHk6CiAgICAgICAgc3Rkb3V0LCBfID0gc3VicHJvY2Vzcy5Q
b3BlbihzYWx0X2FyZ3YsIHN0ZG91dD1zdWJwcm9jZXNzLlBJUEUsIHN0ZGVycj1zdWJwcm9jZXNz
LlBJUEUpLmNvbW11bmljYXRlKCkKICAgICAgICBzeXMuc3Rkb3V0LndyaXRlKHN0ZG91dCkKICAg
ICAgICBzeXMuc3Rkb3V0LmZsdXNoKCkKICAgICAgICBpZiBPUFRJT05TLndpcGU6CiAgICAgICAg
ICAgIHNodXRpbC5ybXRyZWUoT1BUSU9OUy5zYWx0ZGlyKQogICAgZWxpZiBPUFRJT05TLndpcGU6
CiAgICAgICAgc3VicHJvY2Vzcy5jYWxsKHNhbHRfYXJndikKICAgICAgICBzaHV0aWwucm10cmVl
KE9QVElPTlMuc2FsdGRpcikKICAgIGVsc2U6CiAgICAgICAgb3MuZXhlY3Yoc3lzLmV4ZWN1dGFi
bGUsIHNhbHRfYXJndikKICAgIGlmIE9QVElPTlMuY21kX3VtYXNrIGlzIG5vdCBOb25lOgogICAg
ICAgIG9zLnVtYXNrKG9sZF91bWFzaykKCmlmIF9fbmFtZV9fID09ICdfX21haW5fXyc6CiAgICBz
eXMuZXhpdChtYWluKHN5cy5hcmd2KSkK
""").decode("utf-8"))'
fi
exit 0
else
continue
fi
done
echo "ERROR: Unable to locate appropriate python command" >&2
exit $EX_PYTHON_INVALID
EOF
2016-08-27 20:51:52,510 [salt.utils.vt    ][DEBUG   ][7069] Child Forked! PID: 7070  STDOUT_FD: 9  STDERR_FD: 11
2016-08-27 20:51:52,511 [salt.utils.vt    ][DEBUG   ][7069] VT: Salt-SSH SHIM Terminal Command executed. Logged to TRACE
2016-08-27 20:51:52,512 [salt.utils.vt    ][TRACE   ][7069] Terminal Command: /bin/sh -c ssh 127.0.0.1  -o KbdInteractiveAuthentication=no -o PasswordAuthentication=yes -o GSSAPIAuthentication=no -o ConnectTimeout=65 -o Port=22 -o IdentityFile=/root/saltstack_master/etc/salt/pki/master/ssh/salt-ssh.rsa -o User=salt-ope  /bin/sh << 'EOF'
set -e
set -u
DEBUG="1"
if [ -n "$DEBUG" ]
then set -x
fi
SUDO=""
if [ -n "sudo" ]
then SUDO="sudo "
fi
EX_PYTHON_INVALID=10
PYTHON_CMDS="python3 python27 python2.7 python26 python2.6 python2 python"
for py_cmd in $PYTHON_CMDS
do
if command -v "$py_cmd" >/dev/null 2>&1 && "$py_cmd" -c \
"import sys; sys.exit(not (sys.version_info >= (2, 6)
and sys.version_info[0] == 2));"
then
py_cmd_path=`"$py_cmd" -c \
'from __future__ import print_function;
import sys; print(sys.executable);'`
cmdpath=$(which $py_cmd 2>&1)
if file $cmdpath | grep "shell script" > /dev/null
then
ex_vars="'PATH', 'LD_LIBRARY_PATH', 'MANPATH', \
'XDG_DATA_DIRS', 'PKG_CONFIG_PATH'"
export $($py_cmd -c \
"from __future__ import print_function;
import sys;
import os;
map(sys.stdout.write, ['{0}={1} ' \
.format(x, os.environ[x]) for x in [$ex_vars]])")
exec $SUDO PATH=$PATH LD_LIBRARY_PATH=$LD_LIBRARY_PATH \
MANPATH=$MANPATH XDG_DATA_DIRS=$XDG_DATA_DIRS \
PKG_CONFIG_PATH=$PKG_CONFIG_PATH \
"$py_cmd_path" -c \
'import base64;
exec(base64.b64decode("""IyBweWxpbnQ6IGRpc2FibGU9Vzk5MDMKJycnClRoaXMgaXMgYSBzaGltIHRoYXQgaGFuZGxlcyBj
aGVja2luZyBhbmQgdXBkYXRpbmcgc2FsdCB0aGluIGFuZAp0aGVuIGludm9raW5nIHRoaW4uCgpU
aGlzIGlzIG5vdCBpbnRlbmRlZCB0byBiZSBpbnN0YW50aWF0ZWQgYXMgYSBtb2R1bGUsIHJhdGhl
ciBpdCBpcyBhCmhlbHBlciBzY3JpcHQgdXNlZCBieSBzYWx0LmNsaWVudC5zc2guU2luZ2xlLiAg
SXQgaXMgaGVyZSwgaW4gYQpzZXBhcmF0ZSBmaWxlLCBmb3IgY29udmVuaWVuY2Ugb2YgZGV2ZWxv
cG1lbnQuCicnJwoKZnJvbSBfX2Z1dHVyZV9fIGltcG9ydCBhYnNvbHV0ZV9pbXBvcnQKCmltcG9y
dCBoYXNobGliCmltcG9ydCB0YXJmaWxlCmltcG9ydCBzaHV0aWwKaW1wb3J0IHN5cwppbXBvcnQg
b3MKaW1wb3J0IHN0YXQKaW1wb3J0IHN1YnByb2Nlc3MKClRISU5fQVJDSElWRSA9ICdzYWx0LXRo
aW4udGd6JwpFWFRfQVJDSElWRSA9ICdzYWx0LWV4dF9tb2RzLnRneicKCiMgS2VlcCB0aGVzZSBp
biBzeW5jIHdpdGggc2FsdC9kZWZhdWx0cy9leGl0Y29kZXMucHkKRVhfVEhJTl9ERVBMT1kgPSAx
MQpFWF9USElOX0NIRUNLU1VNID0gMTIKRVhfTU9EX0RFUExPWSA9IDEzCkVYX1NDUF9OT1RfRk9V
TkQgPSAxNApFWF9DQU5UQ1JFQVQgPSA3MwoKCmNsYXNzIE9CSihvYmplY3QpOgogICAgIiIiQW4g
ZW1wdHkgY2xhc3MgZm9yIGhvbGRpbmcgaW5zdGFuY2UgYXR0cmlidXRlIHZhbHVlcy4iIiIKICAg
IHBhc3MKCgpPUFRJT05TID0gTm9uZQpBUkdTID0gTm9uZQojIFRoZSBiZWxvdyBsaW5lIGlzIHdo
ZXJlIE9QVElPTlMgY2FuIGJlIHJlZGVmaW5lZCB3aXRoIGludGVybmFsIG9wdGlvbnMKIyAocmF0
aGVyIHRoYW4gY2xpIGFyZ3VtZW50cykgd2hlbiB0aGUgc2hpbSBpcyBidW5kbGVkIGJ5CiMgY2xp
ZW50LnNzaC5TaW5nbGUuX2NtZF9zdHIoKQojIHB5bGludDogZGlzYWJsZT1ibG9jay1jb21tZW50
LXNob3VsZC1zdGFydC13aXRoLWNhcmRpbmFsLXNwYWNlCgpPUFRJT05TID0gT0JKKCkKT1BUSU9O
Uy5jb25maWcgPSAiIiIKe2ZpbGVzZXJ2ZXJfbGlzdF9jYWNoZV90aW1lOiAzLCBncmFpbnNfY2Fj
aGU6IHRydWUsIGlkOiBsb2NhbCwgbG9nX2ZpbGU6IHNhbHQtY2FsbC5sb2csCiAgcm9vdF9kaXI6
IC92YXIvdG1wLy5zYWx0LW9wZV8xYTM1MzJfc2FsdC9ydW5uaW5nX2RhdGEsIHNvY2tfZGlyOiAv
fQoiIiIKT1BUSU9OUy5kZWxpbWl0ZXIgPSAnX2VkYmM3ODg1ZTRmOWFhYzliODNiMzU5OTliNjhk
MDE1MTQ4Y2FmNDY3Yjc4ZmEzOWMwNWY2NjljMGZmODk4NzgnCk9QVElPTlMuc2FsdGRpciA9ICcv
dmFyL3RtcC8uc2FsdC1vcGVfMWEzNTMyX3NhbHQnCk9QVElPTlMuY2hlY2tzdW0gPSAnMmUyNWZj
YmI2YWEyNTU5OWQ1MmU4OTVkZTZlMjExOTZkNWM2ZTU5NScKT1BUSU9OUy5oYXNoZnVuYyA9ICdz
aGExJwpPUFRJT05TLnZlcnNpb24gPSAnMjAxNi4zLjInCk9QVElPTlMuZXh0X21vZHMgPSAnJwpP
UFRJT05TLndpcGUgPSBGYWxzZQpPUFRJT05TLnR0eSA9IEZhbHNlCk9QVElPTlMuY21kX3VtYXNr
ID0gTm9uZQpBUkdTID0gWyd0ZXN0Lm9wdHNfcGtnJ10KCgoKZGVmIG5lZWRfZGVwbG95bWVudCgp
OgogICAgIiIiCiAgICBTYWx0IHRoaW4gbmVlZHMgdG8gYmUgZGVwbG95ZWQgLSBwcmVwIHRoZSB0
YXJnZXQgZGlyZWN0b3J5IGFuZCBlbWl0IHRoZQogICAgZGVsaW1ldGVyIGFuZCBleGl0IGNvZGUg
dGhhdCBzaWduYWxzIGEgcmVxdWlyZWQgZGVwbG95bWVudC4KICAgICIiIgogICAgaWYgb3MucGF0
aC5leGlzdHMoT1BUSU9OUy5zYWx0ZGlyKToKICAgICAgICBzaHV0aWwucm10cmVlKE9QVElPTlMu
c2FsdGRpcikKICAgIG9sZF91bWFzayA9IG9zLnVtYXNrKDBvMDc3KQogICAgb3MubWFrZWRpcnMo
T1BUSU9OUy5zYWx0ZGlyKQogICAgb3MudW1hc2sob2xkX3VtYXNrKQogICAgIyBWZXJpZnkgcGVy
bXMgb24gc2FsdGRpcgogICAgZXVpZCA9IG9zLmdldGV1aWQoKQogICAgZHN0YXQgPSBvcy5zdGF0
KE9QVElPTlMuc2FsdGRpcikKICAgIGlmIGRzdGF0LnN0X3VpZCAhPSBldWlkOgogICAgICAgICMg
QXR0YWNrIGRldGVjdGVkLCB0cnkgYWdhaW4KICAgICAgICBuZWVkX2RlcGxveW1lbnQoKQogICAg
aWYgZHN0YXQuc3RfbW9kZSAhPSAxNjgzMjoKICAgICAgICAjIEF0dGFjayBkZXRlY3RlZAogICAg
ICAgIG5lZWRfZGVwbG95bWVudCgpCiAgICAjIElmIFNVRE9pbmcgdGhlbiBhbHNvIGdpdmUgdGhl
IHN1cGVyIHVzZXIgZ3JvdXAgd3JpdGUgcGVybWlzc2lvbnMKICAgIHN1ZG9fZ2lkID0gb3MuZW52
aXJvbi5nZXQoJ1NVRE9fR0lEJykKICAgIGlmIHN1ZG9fZ2lkOgogICAgICAgIG9zLmNob3duKE9Q
VElPTlMuc2FsdGRpciwgLTEsIGludChzdWRvX2dpZCkpCiAgICAgICAgc3R0ID0gb3Muc3RhdChP
UFRJT05TLnNhbHRkaXIpCiAgICAgICAgb3MuY2htb2QoT1BUSU9OUy5zYWx0ZGlyLCBzdHQuc3Rf
bW9kZSB8IHN0YXQuU19JV0dSUCB8IHN0YXQuU19JUkdSUCB8IHN0YXQuU19JWEdSUCkKCiAgICAj
IERlbGltaXRlciBlbWl0dGVkIG9uIHN0ZG91dCAqb25seSogdG8gaW5kaWNhdGUgc2hpbSBtZXNz
YWdlIHRvIG1hc3Rlci4KICAgIHN5cy5zdGRvdXQud3JpdGUoInswfVxuZGVwbG95XG4iLmZvcm1h
dChPUFRJT05TLmRlbGltaXRlcikpCiAgICBzeXMuZXhpdChFWF9USElOX0RFUExPWSkKCgojIEFk
YXB0ZWQgZnJvbSBzYWx0LnV0aWxzLmdldF9oYXNoKCkKZGVmIGdldF9oYXNoKHBhdGgsIGZvcm09
J3NoYTEnLCBjaHVua19zaXplPTQwOTYpOgogICAgIiIiR2VuZXJhdGUgYSBoYXNoIGRpZ2VzdCBz
dHJpbmcgZm9yIGEgZmlsZS4iIiIKICAgIHRyeToKICAgICAgICBoYXNoX3R5cGUgPSBnZXRhdHRy
KGhhc2hsaWIsIGZvcm0pCiAgICBleGNlcHQgQXR0cmlidXRlRXJyb3I6CiAgICAgICAgcmFpc2Ug
VmFsdWVFcnJvcignSW52YWxpZCBoYXNoIHR5cGU6IHswfScuZm9ybWF0KGZvcm0pKQogICAgd2l0
aCBvcGVuKHBhdGgsICdyYicpIGFzIGlmaWxlOgogICAgICAgIGhhc2hfb2JqID0gaGFzaF90eXBl
KCkKICAgICAgICAjIHJlYWQgdGhlIGZpbGUgaW4gaW4gY2h1bmtzLCBub3QgdGhlIGVudGlyZSBm
aWxlCiAgICAgICAgZm9yIGNodW5rIGluIGl0ZXIobGFtYmRhOiBpZmlsZS5yZWFkKGNodW5rX3Np
emUpLCBiJycpOgogICAgICAgICAgICBoYXNoX29iai51cGRhdGUoY2h1bmspCiAgICAgICAgcmV0
dXJuIGhhc2hfb2JqLmhleGRpZ2VzdCgpCgoKZGVmIHVucGFja190aGluKHRoaW5fcGF0aCk6CiAg
ICAiIiJVbnBhY2sgdGhlIFNhbHQgdGhpbiBhcmNoaXZlLiIiIgogICAgdGZpbGUgPSB0YXJmaWxl
LlRhckZpbGUuZ3pvcGVuKHRoaW5fcGF0aCkKICAgIG9sZF91bWFzayA9IG9zLnVtYXNrKDBvMDc3
KQogICAgdGZpbGUuZXh0cmFjdGFsbChwYXRoPU9QVElPTlMuc2FsdGRpcikKICAgIHRmaWxlLmNs
b3NlKCkKICAgIG9zLnVtYXNrKG9sZF91bWFzaykKICAgIG9zLnVubGluayh0aGluX3BhdGgpCgoK
ZGVmIG5lZWRfZXh0KCk6CiAgICAiIiJTaWduYWwgdGhhdCBleHRlcm5hbCBtb2R1bGVzIG5lZWQg
dG8gYmUgZGVwbG95ZWQuIiIiCiAgICBzeXMuc3Rkb3V0LndyaXRlKCJ7MH1cbmV4dF9tb2RzXG4i
LmZvcm1hdChPUFRJT05TLmRlbGltaXRlcikpCiAgICBzeXMuZXhpdChFWF9NT0RfREVQTE9ZKQoK
CmRlZiB1bnBhY2tfZXh0KGV4dF9wYXRoKToKICAgICIiIlVucGFjayB0aGUgZXh0ZXJuYWwgbW9k
dWxlcy4iIiIKICAgIG1vZGNhY2hlID0gb3MucGF0aC5qb2luKAogICAgICAgICAgICBPUFRJT05T
LnNhbHRkaXIsCiAgICAgICAgICAgICdydW5uaW5nX2RhdGEnLAogICAgICAgICAgICAndmFyJywK
ICAgICAgICAgICAgJ2NhY2hlJywKICAgICAgICAgICAgJ3NhbHQnLAogICAgICAgICAgICAnbWlu
aW9uJywKICAgICAgICAgICAgJ2V4dG1vZHMnKQogICAgdGZpbGUgPSB0YXJmaWxlLlRhckZpbGUu
Z3pvcGVuKGV4dF9wYXRoKQogICAgb2xkX3VtYXNrID0gb3MudW1hc2soMG8wNzcpCiAgICB0Zmls
ZS5leHRyYWN0YWxsKHBhdGg9bW9kY2FjaGUpCiAgICB0ZmlsZS5jbG9zZSgpCiAgICBvcy51bWFz
ayhvbGRfdW1hc2spCiAgICBvcy51bmxpbmsoZXh0X3BhdGgpCiAgICB2ZXJfcGF0aCA9IG9zLnBh
dGguam9pbihtb2RjYWNoZSwgJ2V4dF92ZXJzaW9uJykKICAgIHZlcl9kc3QgPSBvcy5wYXRoLmpv
aW4oT1BUSU9OUy5zYWx0ZGlyLCAnZXh0X3ZlcnNpb24nKQogICAgc2h1dGlsLm1vdmUodmVyX3Bh
dGgsIHZlcl9kc3QpCgoKZGVmIG1haW4oYXJndik6ICAjIHB5bGludDogZGlzYWJsZT1XMDYxMwog
ICAgIiIiTWFpbiBwcm9ncmFtIGJvZHkiIiIKICAgIHRoaW5fcGF0aCA9IG9zLnBhdGguam9pbihP
UFRJT05TLnNhbHRkaXIsIFRISU5fQVJDSElWRSkKICAgIGlmIG9zLnBhdGguaXNmaWxlKHRoaW5f
cGF0aCk6CiAgICAgICAgaWYgT1BUSU9OUy5jaGVja3N1bSAhPSBnZXRfaGFzaCh0aGluX3BhdGgs
IE9QVElPTlMuaGFzaGZ1bmMpOgogICAgICAgICAgICBzeXMuc3RkZXJyLndyaXRlKCd7MH1cbicu
Zm9ybWF0KE9QVElPTlMuY2hlY2tzdW0pKQogICAgICAgICAgICBzeXMuc3RkZXJyLndyaXRlKCd7
MH1cbicuZm9ybWF0KGdldF9oYXNoKHRoaW5fcGF0aCwgT1BUSU9OUy5oYXNoZnVuYykpKQogICAg
ICAgICAgICBvcy51bmxpbmsodGhpbl9wYXRoKQogICAgICAgICAgICBzeXMuc3RkZXJyLndyaXRl
KCdXQVJOSU5HOiBjaGVja3N1bSBtaXNtYXRjaCBmb3IgInswfSJcbicuZm9ybWF0KHRoaW5fcGF0
aCkpCiAgICAgICAgICAgIHN5cy5leGl0KEVYX1RISU5fQ0hFQ0tTVU0pCiAgICAgICAgdW5wYWNr
X3RoaW4odGhpbl9wYXRoKQogICAgICAgICMgU2FsdCB0aGluIG5vdyBpcyBhdmFpbGFibGUgdG8g
dXNlCiAgICBlbHNlOgogICAgICAgIHNjcHN0YXQgPSBzdWJwcm9jZXNzLlBvcGVuKFsnL2Jpbi9z
aCcsICctYycsICdjb21tYW5kIC12IHNjcCddKS53YWl0KCkKICAgICAgICBpZiBzY3BzdGF0ICE9
IDA6CiAgICAgICAgICAgIHN5cy5leGl0KEVYX1NDUF9OT1RfRk9VTkQpCgogICAgICAgIGlmIG5v
dCBvcy5wYXRoLmV4aXN0cyhPUFRJT05TLnNhbHRkaXIpOgogICAgICAgICAgICBuZWVkX2RlcGxv
eW1lbnQoKQoKICAgICAgICBpZiBub3Qgb3MucGF0aC5pc2RpcihPUFRJT05TLnNhbHRkaXIpOgog
ICAgICAgICAgICBzeXMuc3RkZXJyLndyaXRlKAogICAgICAgICAgICAgICAgJ0VSUk9SOiBzYWx0
IHBhdGggInswfSIgZXhpc3RzIGJ1dCBpcycKICAgICAgICAgICAgICAgICcgbm90IGEgZGlyZWN0
b3J5XG4nLmZvcm1hdChPUFRJT05TLnNhbHRkaXIpCiAgICAgICAgICAgICkKICAgICAgICAgICAg
c3lzLmV4aXQoRVhfQ0FOVENSRUFUKQoKICAgICAgICB2ZXJzaW9uX3BhdGggPSBvcy5wYXRoLmpv
aW4oT1BUSU9OUy5zYWx0ZGlyLCAndmVyc2lvbicpCiAgICAgICAgaWYgbm90IG9zLnBhdGguZXhp
c3RzKHZlcnNpb25fcGF0aCkgb3Igbm90IG9zLnBhdGguaXNmaWxlKHZlcnNpb25fcGF0aCk6CiAg
ICAgICAgICAgIHN5cy5zdGRlcnIud3JpdGUoCiAgICAgICAgICAgICAgICAnV0FSTklORzogVW5h
YmxlIHRvIGxvY2F0ZSBjdXJyZW50IHRoaW4gJwogICAgICAgICAgICAgICAgJyB2ZXJzaW9uOiB7
MH0uXG4nLmZvcm1hdCh2ZXJzaW9uX3BhdGgpCiAgICAgICAgICAgICkKICAgICAgICAgICAgbmVl
ZF9kZXBsb3ltZW50KCkKICAgICAgICB3aXRoIG9wZW4odmVyc2lvbl9wYXRoLCAncicpIGFzIHZw
bzoKICAgICAgICAgICAgY3VyX3ZlcnNpb24gPSB2cG8ucmVhZGxpbmUoKS5zdHJpcCgpCiAgICAg
ICAgaWYgY3VyX3ZlcnNpb24gIT0gT1BUSU9OUy52ZXJzaW9uOgogICAgICAgICAgICBzeXMuc3Rk
ZXJyLndyaXRlKAogICAgICAgICAgICAgICAgJ1dBUk5JTkc6IGN1cnJlbnQgdGhpbiB2ZXJzaW9u
IHswfScKICAgICAgICAgICAgICAgICcgaXMgbm90IHVwLXRvLWRhdGUgd2l0aCB7MX0uXG4nLmZv
cm1hdCgKICAgICAgICAgICAgICAgICAgICBjdXJfdmVyc2lvbiwgT1BUSU9OUy52ZXJzaW9uCiAg
ICAgICAgICAgICAgICApCiAgICAgICAgICAgICkKICAgICAgICAgICAgbmVlZF9kZXBsb3ltZW50
KCkKICAgICAgICAjIFNhbHQgdGhpbiBleGlzdHMgYW5kIGlzIHVwLXRvLWRhdGUgLSBmYWxsIHRo
cm91Z2ggYW5kIHVzZSBpdAoKICAgIHNhbHRfY2FsbF9wYXRoID0gb3MucGF0aC5qb2luKE9QVElP
TlMuc2FsdGRpciwgJ3NhbHQtY2FsbCcpCiAgICBpZiBub3Qgb3MucGF0aC5pc2ZpbGUoc2FsdF9j
YWxsX3BhdGgpOgogICAgICAgIHN5cy5zdGRlcnIud3JpdGUoJ0VSUk9SOiB0aGluIGlzIG1pc3Np
bmcgInswfSJcbicuZm9ybWF0KHNhbHRfY2FsbF9wYXRoKSkKICAgICAgICBuZWVkX2RlcGxveW1l
bnQoKQoKICAgIHdpdGggb3Blbihvcy5wYXRoLmpvaW4oT1BUSU9OUy5zYWx0ZGlyLCAnbWluaW9u
JyksICd3JykgYXMgY29uZmlnOgogICAgICAgIGNvbmZpZy53cml0ZShPUFRJT05TLmNvbmZpZyAr
ICdcbicpCiAgICBpZiBPUFRJT05TLmV4dF9tb2RzOgogICAgICAgIGV4dF9wYXRoID0gb3MucGF0
aC5qb2luKE9QVElPTlMuc2FsdGRpciwgRVhUX0FSQ0hJVkUpCiAgICAgICAgaWYgb3MucGF0aC5l
eGlzdHMoZXh0X3BhdGgpOgogICAgICAgICAgICB1bnBhY2tfZXh0KGV4dF9wYXRoKQogICAgICAg
IGVsc2U6CiAgICAgICAgICAgIHZlcnNpb25fcGF0aCA9IG9zLnBhdGguam9pbihPUFRJT05TLnNh
bHRkaXIsICdleHRfdmVyc2lvbicpCiAgICAgICAgICAgIGlmIG5vdCBvcy5wYXRoLmV4aXN0cyh2
ZXJzaW9uX3BhdGgpIG9yIG5vdCBvcy5wYXRoLmlzZmlsZSh2ZXJzaW9uX3BhdGgpOgogICAgICAg
ICAgICAgICAgbmVlZF9leHQoKQogICAgICAgICAgICB3aXRoIG9wZW4odmVyc2lvbl9wYXRoLCAn
cicpIGFzIHZwbzoKICAgICAgICAgICAgICAgIGN1cl92ZXJzaW9uID0gdnBvLnJlYWRsaW5lKCku
c3RyaXAoKQogICAgICAgICAgICBpZiBjdXJfdmVyc2lvbiAhPSBPUFRJT05TLmV4dF9tb2RzOgog
ICAgICAgICAgICAgICAgbmVlZF9leHQoKQogICAgIyBGaXggcGFyYW1ldGVyIHBhc3NpbmcgaXNz
dWUKICAgIGlmIGxlbihBUkdTKSA9PSAxOgogICAgICAgIGFyZ3ZfcHJlcGFyZWQgPSBBUkdTWzBd
LnNwbGl0KCkKICAgIGVsc2U6CiAgICAgICAgYXJndl9wcmVwYXJlZCA9IEFSR1MKCiAgICBzYWx0
X2FyZ3YgPSBbCiAgICAgICAgc3lzLmV4ZWN1dGFibGUsCiAgICAgICAgc2FsdF9jYWxsX3BhdGgs
CiAgICAgICAgJy0tcmV0Y29kZS1wYXNzdGhyb3VnaCcsCiAgICAgICAgJy0tbG9jYWwnLAogICAg
ICAgICctLW1ldGFkYXRhJywKICAgICAgICAnLS1vdXQnLCAnanNvbicsCiAgICAgICAgJy1sJywg
J3F1aWV0JywKICAgICAgICAnLWMnLCBPUFRJT05TLnNhbHRkaXIsCiAgICAgICAgJy0tJywKICAg
IF0gKyBhcmd2X3ByZXBhcmVkCgogICAgc3lzLnN0ZGVyci53cml0ZSgnU0FMVF9BUkdWOiB7MH1c
bicuZm9ybWF0KHNhbHRfYXJndikpCgogICAgIyBPbmx5IGVtaXQgdGhlIGRlbGltaXRlciBvbiAq
Ym90aCogc3Rkb3V0IGFuZCBzdGRlcnIgd2hlbiBjb21wbGV0ZWx5IHN1Y2Nlc3NmdWwuCiAgICAj
IFllcywgdGhlIGZsdXNoKCkgaXMgbmVjZXNzYXJ5LgogICAgc3lzLnN0ZG91dC53cml0ZShPUFRJ
T05TLmRlbGltaXRlciArICdcbicpCiAgICBzeXMuc3Rkb3V0LmZsdXNoKCkKICAgIGlmIG5vdCBP
UFRJT05TLnR0eToKICAgICAgICBzeXMuc3RkZXJyLndyaXRlKE9QVElPTlMuZGVsaW1pdGVyICsg
J1xuJykKICAgICAgICBzeXMuc3RkZXJyLmZsdXNoKCkKICAgIGlmIE9QVElPTlMuY21kX3VtYXNr
IGlzIG5vdCBOb25lOgogICAgICAgIG9sZF91bWFzayA9IG9zLnVtYXNrKE9QVElPTlMuY21kX3Vt
YXNrKQogICAgaWYgT1BUSU9OUy50dHk6CiAgICAgICAgc3Rkb3V0LCBfID0gc3VicHJvY2Vzcy5Q
b3BlbihzYWx0X2FyZ3YsIHN0ZG91dD1zdWJwcm9jZXNzLlBJUEUsIHN0ZGVycj1zdWJwcm9jZXNz
LlBJUEUpLmNvbW11bmljYXRlKCkKICAgICAgICBzeXMuc3Rkb3V0LndyaXRlKHN0ZG91dCkKICAg
ICAgICBzeXMuc3Rkb3V0LmZsdXNoKCkKICAgICAgICBpZiBPUFRJT05TLndpcGU6CiAgICAgICAg
ICAgIHNodXRpbC5ybXRyZWUoT1BUSU9OUy5zYWx0ZGlyKQogICAgZWxpZiBPUFRJT05TLndpcGU6
CiAgICAgICAgc3VicHJvY2Vzcy5jYWxsKHNhbHRfYXJndikKICAgICAgICBzaHV0aWwucm10cmVl
KE9QVElPTlMuc2FsdGRpcikKICAgIGVsc2U6CiAgICAgICAgb3MuZXhlY3Yoc3lzLmV4ZWN1dGFi
bGUsIHNhbHRfYXJndikKICAgIGlmIE9QVElPTlMuY21kX3VtYXNrIGlzIG5vdCBOb25lOgogICAg
ICAgIG9zLnVtYXNrKG9sZF91bWFzaykKCmlmIF9fbmFtZV9fID09ICdfX21haW5fXyc6CiAgICBz
eXMuZXhpdChtYWluKHN5cy5hcmd2KSkK
""").decode("utf-8"))'
else
exec $SUDO "$py_cmd_path" -c \
'import base64;
exec(base64.b64decode("""IyBweWxpbnQ6IGRpc2FibGU9Vzk5MDMKJycnClRoaXMgaXMgYSBzaGltIHRoYXQgaGFuZGxlcyBj
aGVja2luZyBhbmQgdXBkYXRpbmcgc2FsdCB0aGluIGFuZAp0aGVuIGludm9raW5nIHRoaW4uCgpU
aGlzIGlzIG5vdCBpbnRlbmRlZCB0byBiZSBpbnN0YW50aWF0ZWQgYXMgYSBtb2R1bGUsIHJhdGhl
ciBpdCBpcyBhCmhlbHBlciBzY3JpcHQgdXNlZCBieSBzYWx0LmNsaWVudC5zc2guU2luZ2xlLiAg
SXQgaXMgaGVyZSwgaW4gYQpzZXBhcmF0ZSBmaWxlLCBmb3IgY29udmVuaWVuY2Ugb2YgZGV2ZWxv
cG1lbnQuCicnJwoKZnJvbSBfX2Z1dHVyZV9fIGltcG9ydCBhYnNvbHV0ZV9pbXBvcnQKCmltcG9y
dCBoYXNobGliCmltcG9ydCB0YXJmaWxlCmltcG9ydCBzaHV0aWwKaW1wb3J0IHN5cwppbXBvcnQg
b3MKaW1wb3J0IHN0YXQKaW1wb3J0IHN1YnByb2Nlc3MKClRISU5fQVJDSElWRSA9ICdzYWx0LXRo
aW4udGd6JwpFWFRfQVJDSElWRSA9ICdzYWx0LWV4dF9tb2RzLnRneicKCiMgS2VlcCB0aGVzZSBp
biBzeW5jIHdpdGggc2FsdC9kZWZhdWx0cy9leGl0Y29kZXMucHkKRVhfVEhJTl9ERVBMT1kgPSAx
MQpFWF9USElOX0NIRUNLU1VNID0gMTIKRVhfTU9EX0RFUExPWSA9IDEzCkVYX1NDUF9OT1RfRk9V
TkQgPSAxNApFWF9DQU5UQ1JFQVQgPSA3MwoKCmNsYXNzIE9CSihvYmplY3QpOgogICAgIiIiQW4g
ZW1wdHkgY2xhc3MgZm9yIGhvbGRpbmcgaW5zdGFuY2UgYXR0cmlidXRlIHZhbHVlcy4iIiIKICAg
IHBhc3MKCgpPUFRJT05TID0gTm9uZQpBUkdTID0gTm9uZQojIFRoZSBiZWxvdyBsaW5lIGlzIHdo
ZXJlIE9QVElPTlMgY2FuIGJlIHJlZGVmaW5lZCB3aXRoIGludGVybmFsIG9wdGlvbnMKIyAocmF0
aGVyIHRoYW4gY2xpIGFyZ3VtZW50cykgd2hlbiB0aGUgc2hpbSBpcyBidW5kbGVkIGJ5CiMgY2xp
ZW50LnNzaC5TaW5nbGUuX2NtZF9zdHIoKQojIHB5bGludDogZGlzYWJsZT1ibG9jay1jb21tZW50
LXNob3VsZC1zdGFydC13aXRoLWNhcmRpbmFsLXNwYWNlCgpPUFRJT05TID0gT0JKKCkKT1BUSU9O
Uy5jb25maWcgPSAiIiIKe2ZpbGVzZXJ2ZXJfbGlzdF9jYWNoZV90aW1lOiAzLCBncmFpbnNfY2Fj
aGU6IHRydWUsIGlkOiBsb2NhbCwgbG9nX2ZpbGU6IHNhbHQtY2FsbC5sb2csCiAgcm9vdF9kaXI6
IC92YXIvdG1wLy5zYWx0LW9wZV8xYTM1MzJfc2FsdC9ydW5uaW5nX2RhdGEsIHNvY2tfZGlyOiAv
fQoiIiIKT1BUSU9OUy5kZWxpbWl0ZXIgPSAnX2VkYmM3ODg1ZTRmOWFhYzliODNiMzU5OTliNjhk
MDE1MTQ4Y2FmNDY3Yjc4ZmEzOWMwNWY2NjljMGZmODk4NzgnCk9QVElPTlMuc2FsdGRpciA9ICcv
dmFyL3RtcC8uc2FsdC1vcGVfMWEzNTMyX3NhbHQnCk9QVElPTlMuY2hlY2tzdW0gPSAnMmUyNWZj
YmI2YWEyNTU5OWQ1MmU4OTVkZTZlMjExOTZkNWM2ZTU5NScKT1BUSU9OUy5oYXNoZnVuYyA9ICdz
aGExJwpPUFRJT05TLnZlcnNpb24gPSAnMjAxNi4zLjInCk9QVElPTlMuZXh0X21vZHMgPSAnJwpP
UFRJT05TLndpcGUgPSBGYWxzZQpPUFRJT05TLnR0eSA9IEZhbHNlCk9QVElPTlMuY21kX3VtYXNr
ID0gTm9uZQpBUkdTID0gWyd0ZXN0Lm9wdHNfcGtnJ10KCgoKZGVmIG5lZWRfZGVwbG95bWVudCgp
OgogICAgIiIiCiAgICBTYWx0IHRoaW4gbmVlZHMgdG8gYmUgZGVwbG95ZWQgLSBwcmVwIHRoZSB0
YXJnZXQgZGlyZWN0b3J5IGFuZCBlbWl0IHRoZQogICAgZGVsaW1ldGVyIGFuZCBleGl0IGNvZGUg
dGhhdCBzaWduYWxzIGEgcmVxdWlyZWQgZGVwbG95bWVudC4KICAgICIiIgogICAgaWYgb3MucGF0
aC5leGlzdHMoT1BUSU9OUy5zYWx0ZGlyKToKICAgICAgICBzaHV0aWwucm10cmVlKE9QVElPTlMu
c2FsdGRpcikKICAgIG9sZF91bWFzayA9IG9zLnVtYXNrKDBvMDc3KQogICAgb3MubWFrZWRpcnMo
T1BUSU9OUy5zYWx0ZGlyKQogICAgb3MudW1hc2sob2xkX3VtYXNrKQogICAgIyBWZXJpZnkgcGVy
bXMgb24gc2FsdGRpcgogICAgZXVpZCA9IG9zLmdldGV1aWQoKQogICAgZHN0YXQgPSBvcy5zdGF0
KE9QVElPTlMuc2FsdGRpcikKICAgIGlmIGRzdGF0LnN0X3VpZCAhPSBldWlkOgogICAgICAgICMg
QXR0YWNrIGRldGVjdGVkLCB0cnkgYWdhaW4KICAgICAgICBuZWVkX2RlcGxveW1lbnQoKQogICAg
aWYgZHN0YXQuc3RfbW9kZSAhPSAxNjgzMjoKICAgICAgICAjIEF0dGFjayBkZXRlY3RlZAogICAg
ICAgIG5lZWRfZGVwbG95bWVudCgpCiAgICAjIElmIFNVRE9pbmcgdGhlbiBhbHNvIGdpdmUgdGhl
IHN1cGVyIHVzZXIgZ3JvdXAgd3JpdGUgcGVybWlzc2lvbnMKICAgIHN1ZG9fZ2lkID0gb3MuZW52
aXJvbi5nZXQoJ1NVRE9fR0lEJykKICAgIGlmIHN1ZG9fZ2lkOgogICAgICAgIG9zLmNob3duKE9Q
VElPTlMuc2FsdGRpciwgLTEsIGludChzdWRvX2dpZCkpCiAgICAgICAgc3R0ID0gb3Muc3RhdChP
UFRJT05TLnNhbHRkaXIpCiAgICAgICAgb3MuY2htb2QoT1BUSU9OUy5zYWx0ZGlyLCBzdHQuc3Rf
bW9kZSB8IHN0YXQuU19JV0dSUCB8IHN0YXQuU19JUkdSUCB8IHN0YXQuU19JWEdSUCkKCiAgICAj
IERlbGltaXRlciBlbWl0dGVkIG9uIHN0ZG91dCAqb25seSogdG8gaW5kaWNhdGUgc2hpbSBtZXNz
YWdlIHRvIG1hc3Rlci4KICAgIHN5cy5zdGRvdXQud3JpdGUoInswfVxuZGVwbG95XG4iLmZvcm1h
dChPUFRJT05TLmRlbGltaXRlcikpCiAgICBzeXMuZXhpdChFWF9USElOX0RFUExPWSkKCgojIEFk
YXB0ZWQgZnJvbSBzYWx0LnV0aWxzLmdldF9oYXNoKCkKZGVmIGdldF9oYXNoKHBhdGgsIGZvcm09
J3NoYTEnLCBjaHVua19zaXplPTQwOTYpOgogICAgIiIiR2VuZXJhdGUgYSBoYXNoIGRpZ2VzdCBz
dHJpbmcgZm9yIGEgZmlsZS4iIiIKICAgIHRyeToKICAgICAgICBoYXNoX3R5cGUgPSBnZXRhdHRy
KGhhc2hsaWIsIGZvcm0pCiAgICBleGNlcHQgQXR0cmlidXRlRXJyb3I6CiAgICAgICAgcmFpc2Ug
VmFsdWVFcnJvcignSW52YWxpZCBoYXNoIHR5cGU6IHswfScuZm9ybWF0KGZvcm0pKQogICAgd2l0
aCBvcGVuKHBhdGgsICdyYicpIGFzIGlmaWxlOgogICAgICAgIGhhc2hfb2JqID0gaGFzaF90eXBl
KCkKICAgICAgICAjIHJlYWQgdGhlIGZpbGUgaW4gaW4gY2h1bmtzLCBub3QgdGhlIGVudGlyZSBm
aWxlCiAgICAgICAgZm9yIGNodW5rIGluIGl0ZXIobGFtYmRhOiBpZmlsZS5yZWFkKGNodW5rX3Np
emUpLCBiJycpOgogICAgICAgICAgICBoYXNoX29iai51cGRhdGUoY2h1bmspCiAgICAgICAgcmV0
dXJuIGhhc2hfb2JqLmhleGRpZ2VzdCgpCgoKZGVmIHVucGFja190aGluKHRoaW5fcGF0aCk6CiAg
ICAiIiJVbnBhY2sgdGhlIFNhbHQgdGhpbiBhcmNoaXZlLiIiIgogICAgdGZpbGUgPSB0YXJmaWxl
LlRhckZpbGUuZ3pvcGVuKHRoaW5fcGF0aCkKICAgIG9sZF91bWFzayA9IG9zLnVtYXNrKDBvMDc3
KQogICAgdGZpbGUuZXh0cmFjdGFsbChwYXRoPU9QVElPTlMuc2FsdGRpcikKICAgIHRmaWxlLmNs
b3NlKCkKICAgIG9zLnVtYXNrKG9sZF91bWFzaykKICAgIG9zLnVubGluayh0aGluX3BhdGgpCgoK
ZGVmIG5lZWRfZXh0KCk6CiAgICAiIiJTaWduYWwgdGhhdCBleHRlcm5hbCBtb2R1bGVzIG5lZWQg
dG8gYmUgZGVwbG95ZWQuIiIiCiAgICBzeXMuc3Rkb3V0LndyaXRlKCJ7MH1cbmV4dF9tb2RzXG4i
LmZvcm1hdChPUFRJT05TLmRlbGltaXRlcikpCiAgICBzeXMuZXhpdChFWF9NT0RfREVQTE9ZKQoK
CmRlZiB1bnBhY2tfZXh0KGV4dF9wYXRoKToKICAgICIiIlVucGFjayB0aGUgZXh0ZXJuYWwgbW9k
dWxlcy4iIiIKICAgIG1vZGNhY2hlID0gb3MucGF0aC5qb2luKAogICAgICAgICAgICBPUFRJT05T
LnNhbHRkaXIsCiAgICAgICAgICAgICdydW5uaW5nX2RhdGEnLAogICAgICAgICAgICAndmFyJywK
ICAgICAgICAgICAgJ2NhY2hlJywKICAgICAgICAgICAgJ3NhbHQnLAogICAgICAgICAgICAnbWlu
aW9uJywKICAgICAgICAgICAgJ2V4dG1vZHMnKQogICAgdGZpbGUgPSB0YXJmaWxlLlRhckZpbGUu
Z3pvcGVuKGV4dF9wYXRoKQogICAgb2xkX3VtYXNrID0gb3MudW1hc2soMG8wNzcpCiAgICB0Zmls
ZS5leHRyYWN0YWxsKHBhdGg9bW9kY2FjaGUpCiAgICB0ZmlsZS5jbG9zZSgpCiAgICBvcy51bWFz
ayhvbGRfdW1hc2spCiAgICBvcy51bmxpbmsoZXh0X3BhdGgpCiAgICB2ZXJfcGF0aCA9IG9zLnBh
dGguam9pbihtb2RjYWNoZSwgJ2V4dF92ZXJzaW9uJykKICAgIHZlcl9kc3QgPSBvcy5wYXRoLmpv
aW4oT1BUSU9OUy5zYWx0ZGlyLCAnZXh0X3ZlcnNpb24nKQogICAgc2h1dGlsLm1vdmUodmVyX3Bh
dGgsIHZlcl9kc3QpCgoKZGVmIG1haW4oYXJndik6ICAjIHB5bGludDogZGlzYWJsZT1XMDYxMwog
ICAgIiIiTWFpbiBwcm9ncmFtIGJvZHkiIiIKICAgIHRoaW5fcGF0aCA9IG9zLnBhdGguam9pbihP
UFRJT05TLnNhbHRkaXIsIFRISU5fQVJDSElWRSkKICAgIGlmIG9zLnBhdGguaXNmaWxlKHRoaW5f
cGF0aCk6CiAgICAgICAgaWYgT1BUSU9OUy5jaGVja3N1bSAhPSBnZXRfaGFzaCh0aGluX3BhdGgs
IE9QVElPTlMuaGFzaGZ1bmMpOgogICAgICAgICAgICBzeXMuc3RkZXJyLndyaXRlKCd7MH1cbicu
Zm9ybWF0KE9QVElPTlMuY2hlY2tzdW0pKQogICAgICAgICAgICBzeXMuc3RkZXJyLndyaXRlKCd7
MH1cbicuZm9ybWF0KGdldF9oYXNoKHRoaW5fcGF0aCwgT1BUSU9OUy5oYXNoZnVuYykpKQogICAg
ICAgICAgICBvcy51bmxpbmsodGhpbl9wYXRoKQogICAgICAgICAgICBzeXMuc3RkZXJyLndyaXRl
KCdXQVJOSU5HOiBjaGVja3N1bSBtaXNtYXRjaCBmb3IgInswfSJcbicuZm9ybWF0KHRoaW5fcGF0
aCkpCiAgICAgICAgICAgIHN5cy5leGl0KEVYX1RISU5fQ0hFQ0tTVU0pCiAgICAgICAgdW5wYWNr
X3RoaW4odGhpbl9wYXRoKQogICAgICAgICMgU2FsdCB0aGluIG5vdyBpcyBhdmFpbGFibGUgdG8g
dXNlCiAgICBlbHNlOgogICAgICAgIHNjcHN0YXQgPSBzdWJwcm9jZXNzLlBvcGVuKFsnL2Jpbi9z
aCcsICctYycsICdjb21tYW5kIC12IHNjcCddKS53YWl0KCkKICAgICAgICBpZiBzY3BzdGF0ICE9
IDA6CiAgICAgICAgICAgIHN5cy5leGl0KEVYX1NDUF9OT1RfRk9VTkQpCgogICAgICAgIGlmIG5v
dCBvcy5wYXRoLmV4aXN0cyhPUFRJT05TLnNhbHRkaXIpOgogICAgICAgICAgICBuZWVkX2RlcGxv
eW1lbnQoKQoKICAgICAgICBpZiBub3Qgb3MucGF0aC5pc2RpcihPUFRJT05TLnNhbHRkaXIpOgog
ICAgICAgICAgICBzeXMuc3RkZXJyLndyaXRlKAogICAgICAgICAgICAgICAgJ0VSUk9SOiBzYWx0
IHBhdGggInswfSIgZXhpc3RzIGJ1dCBpcycKICAgICAgICAgICAgICAgICcgbm90IGEgZGlyZWN0
b3J5XG4nLmZvcm1hdChPUFRJT05TLnNhbHRkaXIpCiAgICAgICAgICAgICkKICAgICAgICAgICAg
c3lzLmV4aXQoRVhfQ0FOVENSRUFUKQoKICAgICAgICB2ZXJzaW9uX3BhdGggPSBvcy5wYXRoLmpv
aW4oT1BUSU9OUy5zYWx0ZGlyLCAndmVyc2lvbicpCiAgICAgICAgaWYgbm90IG9zLnBhdGguZXhp
c3RzKHZlcnNpb25fcGF0aCkgb3Igbm90IG9zLnBhdGguaXNmaWxlKHZlcnNpb25fcGF0aCk6CiAg
ICAgICAgICAgIHN5cy5zdGRlcnIud3JpdGUoCiAgICAgICAgICAgICAgICAnV0FSTklORzogVW5h
YmxlIHRvIGxvY2F0ZSBjdXJyZW50IHRoaW4gJwogICAgICAgICAgICAgICAgJyB2ZXJzaW9uOiB7
MH0uXG4nLmZvcm1hdCh2ZXJzaW9uX3BhdGgpCiAgICAgICAgICAgICkKICAgICAgICAgICAgbmVl
ZF9kZXBsb3ltZW50KCkKICAgICAgICB3aXRoIG9wZW4odmVyc2lvbl9wYXRoLCAncicpIGFzIHZw
bzoKICAgICAgICAgICAgY3VyX3ZlcnNpb24gPSB2cG8ucmVhZGxpbmUoKS5zdHJpcCgpCiAgICAg
ICAgaWYgY3VyX3ZlcnNpb24gIT0gT1BUSU9OUy52ZXJzaW9uOgogICAgICAgICAgICBzeXMuc3Rk
ZXJyLndyaXRlKAogICAgICAgICAgICAgICAgJ1dBUk5JTkc6IGN1cnJlbnQgdGhpbiB2ZXJzaW9u
IHswfScKICAgICAgICAgICAgICAgICcgaXMgbm90IHVwLXRvLWRhdGUgd2l0aCB7MX0uXG4nLmZv
cm1hdCgKICAgICAgICAgICAgICAgICAgICBjdXJfdmVyc2lvbiwgT1BUSU9OUy52ZXJzaW9uCiAg
ICAgICAgICAgICAgICApCiAgICAgICAgICAgICkKICAgICAgICAgICAgbmVlZF9kZXBsb3ltZW50
KCkKICAgICAgICAjIFNhbHQgdGhpbiBleGlzdHMgYW5kIGlzIHVwLXRvLWRhdGUgLSBmYWxsIHRo
cm91Z2ggYW5kIHVzZSBpdAoKICAgIHNhbHRfY2FsbF9wYXRoID0gb3MucGF0aC5qb2luKE9QVElP
TlMuc2FsdGRpciwgJ3NhbHQtY2FsbCcpCiAgICBpZiBub3Qgb3MucGF0aC5pc2ZpbGUoc2FsdF9j
YWxsX3BhdGgpOgogICAgICAgIHN5cy5zdGRlcnIud3JpdGUoJ0VSUk9SOiB0aGluIGlzIG1pc3Np
bmcgInswfSJcbicuZm9ybWF0KHNhbHRfY2FsbF9wYXRoKSkKICAgICAgICBuZWVkX2RlcGxveW1l
bnQoKQoKICAgIHdpdGggb3Blbihvcy5wYXRoLmpvaW4oT1BUSU9OUy5zYWx0ZGlyLCAnbWluaW9u
JyksICd3JykgYXMgY29uZmlnOgogICAgICAgIGNvbmZpZy53cml0ZShPUFRJT05TLmNvbmZpZyAr
ICdcbicpCiAgICBpZiBPUFRJT05TLmV4dF9tb2RzOgogICAgICAgIGV4dF9wYXRoID0gb3MucGF0
aC5qb2luKE9QVElPTlMuc2FsdGRpciwgRVhUX0FSQ0hJVkUpCiAgICAgICAgaWYgb3MucGF0aC5l
eGlzdHMoZXh0X3BhdGgpOgogICAgICAgICAgICB1bnBhY2tfZXh0KGV4dF9wYXRoKQogICAgICAg
IGVsc2U6CiAgICAgICAgICAgIHZlcnNpb25fcGF0aCA9IG9zLnBhdGguam9pbihPUFRJT05TLnNh
bHRkaXIsICdleHRfdmVyc2lvbicpCiAgICAgICAgICAgIGlmIG5vdCBvcy5wYXRoLmV4aXN0cyh2
ZXJzaW9uX3BhdGgpIG9yIG5vdCBvcy5wYXRoLmlzZmlsZSh2ZXJzaW9uX3BhdGgpOgogICAgICAg
ICAgICAgICAgbmVlZF9leHQoKQogICAgICAgICAgICB3aXRoIG9wZW4odmVyc2lvbl9wYXRoLCAn
cicpIGFzIHZwbzoKICAgICAgICAgICAgICAgIGN1cl92ZXJzaW9uID0gdnBvLnJlYWRsaW5lKCku
c3RyaXAoKQogICAgICAgICAgICBpZiBjdXJfdmVyc2lvbiAhPSBPUFRJT05TLmV4dF9tb2RzOgog
ICAgICAgICAgICAgICAgbmVlZF9leHQoKQogICAgIyBGaXggcGFyYW1ldGVyIHBhc3NpbmcgaXNz
dWUKICAgIGlmIGxlbihBUkdTKSA9PSAxOgogICAgICAgIGFyZ3ZfcHJlcGFyZWQgPSBBUkdTWzBd
LnNwbGl0KCkKICAgIGVsc2U6CiAgICAgICAgYXJndl9wcmVwYXJlZCA9IEFSR1MKCiAgICBzYWx0
X2FyZ3YgPSBbCiAgICAgICAgc3lzLmV4ZWN1dGFibGUsCiAgICAgICAgc2FsdF9jYWxsX3BhdGgs
CiAgICAgICAgJy0tcmV0Y29kZS1wYXNzdGhyb3VnaCcsCiAgICAgICAgJy0tbG9jYWwnLAogICAg
ICAgICctLW1ldGFkYXRhJywKICAgICAgICAnLS1vdXQnLCAnanNvbicsCiAgICAgICAgJy1sJywg
J3F1aWV0JywKICAgICAgICAnLWMnLCBPUFRJT05TLnNhbHRkaXIsCiAgICAgICAgJy0tJywKICAg
IF0gKyBhcmd2X3ByZXBhcmVkCgogICAgc3lzLnN0ZGVyci53cml0ZSgnU0FMVF9BUkdWOiB7MH1c
bicuZm9ybWF0KHNhbHRfYXJndikpCgogICAgIyBPbmx5IGVtaXQgdGhlIGRlbGltaXRlciBvbiAq
Ym90aCogc3Rkb3V0IGFuZCBzdGRlcnIgd2hlbiBjb21wbGV0ZWx5IHN1Y2Nlc3NmdWwuCiAgICAj
IFllcywgdGhlIGZsdXNoKCkgaXMgbmVjZXNzYXJ5LgogICAgc3lzLnN0ZG91dC53cml0ZShPUFRJ
T05TLmRlbGltaXRlciArICdcbicpCiAgICBzeXMuc3Rkb3V0LmZsdXNoKCkKICAgIGlmIG5vdCBP
UFRJT05TLnR0eToKICAgICAgICBzeXMuc3RkZXJyLndyaXRlKE9QVElPTlMuZGVsaW1pdGVyICsg
J1xuJykKICAgICAgICBzeXMuc3RkZXJyLmZsdXNoKCkKICAgIGlmIE9QVElPTlMuY21kX3VtYXNr
IGlzIG5vdCBOb25lOgogICAgICAgIG9sZF91bWFzayA9IG9zLnVtYXNrKE9QVElPTlMuY21kX3Vt
YXNrKQogICAgaWYgT1BUSU9OUy50dHk6CiAgICAgICAgc3Rkb3V0LCBfID0gc3VicHJvY2Vzcy5Q
b3BlbihzYWx0X2FyZ3YsIHN0ZG91dD1zdWJwcm9jZXNzLlBJUEUsIHN0ZGVycj1zdWJwcm9jZXNz
LlBJUEUpLmNvbW11bmljYXRlKCkKICAgICAgICBzeXMuc3Rkb3V0LndyaXRlKHN0ZG91dCkKICAg
ICAgICBzeXMuc3Rkb3V0LmZsdXNoKCkKICAgICAgICBpZiBPUFRJT05TLndpcGU6CiAgICAgICAg
ICAgIHNodXRpbC5ybXRyZWUoT1BUSU9OUy5zYWx0ZGlyKQogICAgZWxpZiBPUFRJT05TLndpcGU6
CiAgICAgICAgc3VicHJvY2Vzcy5jYWxsKHNhbHRfYXJndikKICAgICAgICBzaHV0aWwucm10cmVl
KE9QVElPTlMuc2FsdGRpcikKICAgIGVsc2U6CiAgICAgICAgb3MuZXhlY3Yoc3lzLmV4ZWN1dGFi
bGUsIHNhbHRfYXJndikKICAgIGlmIE9QVElPTlMuY21kX3VtYXNrIGlzIG5vdCBOb25lOgogICAg
ICAgIG9zLnVtYXNrKG9sZF91bWFzaykKCmlmIF9fbmFtZV9fID09ICdfX21haW5fXyc6CiAgICBz
eXMuZXhpdChtYWluKHN5cy5hcmd2KSkK
""").decode("utf-8"))'
fi
exit 0
else
continue
fi
done
echo "ERROR: Unable to locate appropriate python command" >&2
exit $EX_PYTHON_INVALID
EOF
2016-08-27 20:51:52,579 [salt.utils.vt.Terminal.PID-7070.STDOUT][TRACE   ][7069] salt-ope@127.0.0.1's password:
2016-08-27 20:51:52,750 [salt.utils.vt.Terminal.PID-7070.STDERR][TRACE   ][7069] + SUDO=
+ '[' -n sudo ']'
+ SUDO='sudo '
+ EX_PYTHON_INVALID=10
+ PYTHON_CMDS='python3 python27 python2.7 python26 python2.6 python2 python'
2016-08-27 20:51:52,762 [salt.utils.vt.Terminal.PID-7070.STDERR][TRACE   ][7069] + for py_cmd in '$PYTHON_CMDS'
+ command -v python3
+ continue
+ for py_cmd in '$PYTHON_CMDS'
+ command -v python27
+ continue
+ for py_cmd in '$PYTHON_CMDS'
+ command -v python2.7
+ continue
+ for py_cmd in '$PYTHON_CMDS'
+ command -v python26
+ continue
+ for py_cmd in '$PYTHON_CMDS'
+ command -v python2.6
+ python2.6 -c 'import sys; sys.exit(not (sys.version_info >= (2, 6)
and sys.version_info[0] == 2));'
2016-08-27 20:51:52,772 [salt.utils.vt.Terminal.PID-7070.STDERR][TRACE   ][7069] ++ python2.6 -c 'from __future__ import print_function;
import sys; print(sys.executable);'
2016-08-27 20:51:52,783 [salt.utils.vt.Terminal.PID-7070.STDERR][TRACE   ][7069] + py_cmd_path=/usr/bin/python2.6
++ which python2.6
+ cmdpath=/usr/bin/python2.6
+ grep 'shell script'
+ file /usr/bin/python2.6
+ exec sudo /usr/bin/python2.6 -c 'import base64;
exec(base64.b64decode("""IyBweWxpbnQ6IGRpc2FibGU9Vzk5MDMKJycnClRoaXMgaXMgYSBzaGltIHRoYXQgaGFuZGxlcyBj
aGVja2luZyBhbmQgdXBkYXRpbmcgc2FsdCB0aGluIGFuZAp0aGVuIGludm9raW5nIHRoaW4uCgpU
aGlzIGlzIG5vdCBpbnRlbmRlZCB0byBiZSBpbnN0YW50aWF0ZWQgYXMgYSBtb2R1bGUsIHJhdGhl
ciBpdCBpcyBhCmhlbHBlciBzY3JpcHQgdXNlZCBieSBzYWx0LmNsaWVudC5zc2guU2luZ2xlLiAg
SXQgaXMgaGVyZSwgaW4gYQpzZXBhcmF0ZSBmaWxlLCBmb3IgY29udmVuaWVuY2Ugb2YgZGV2ZWxv
cG1lbnQuCicnJwoKZnJvbSBfX2Z1dHVyZV9fIGltcG9ydCBhYnNvbHV0ZV9pbXBvcnQKCmltcG9y
dCBoYXNobGliCmltcG9ydCB0YXJmaWxlCmltcG9ydCBzaHV0aWwKaW1wb3J0IHN5cwppbXBvcnQg
b3MKaW1wb3J0IHN0YXQKaW1wb3J0IHN1YnByb2Nlc3MKClRISU5fQVJDSElWRSA9ICdzYWx0LXRo
aW4udGd6JwpFWFRfQVJDSElWRSA9ICdzYWx0LWV4dF9tb2RzLnRneicKCiMgS2VlcCB0aGVzZSBp
biBzeW5jIHdpdGggc2FsdC9kZWZhdWx0cy9leGl0Y29kZXMucHkKRVhfVEhJTl9ERVBMT1kgPSAx
MQpFWF9USElOX0NIRUNLU1VNID0gMTIKRV
2016-08-27 20:51:52,793 [salt.utils.vt.Terminal.PID-7070.STDERR][TRACE   ][7069] hfTU9EX0RFUExPWSA9IDEzCkVYX1NDUF9OT1RfRk9V
TkQgPSAxNApFWF9DQU5UQ1JFQVQgPSA3MwoKCmNsYXNzIE9CSihvYmplY3QpOgogICAgIiIiQW4g
ZW1wdHkgY2xhc3MgZm9yIGhvbGRpbmcgaW5zdGFuY2UgYXR0cmlidXRlIHZhbHVlcy4iIiIKICAg
IHBhc3MKCgpPUFRJT05TID0gTm9uZQpBUkdTID0gTm9uZQojIFRoZSBiZWxvdyBsaW5lIGlzIHdo
ZXJlIE9QVElPTlMgY2FuIGJlIHJlZGVmaW5lZCB3aXRoIGludGVybmFsIG9wdGlvbnMKIyAocmF0
aGVyIHRoYW4gY2xpIGFyZ3VtZW50cykgd2hlbiB0aGUgc2hpbSBpcyBidW5kbGVkIGJ5CiMgY2xp
ZW50LnNzaC5TaW5nbGUuX2NtZF9zdHIoKQojIHB5bGludDogZGlzYWJsZT1ibG9jay1jb21tZW50
LXNob3VsZC1zdGFydC13aXRoLWNhcmRpbmFsLXNwYWNlCgpPUFRJT05TID0gT0JKKCkKT1BUSU9O
Uy5jb25maWcgPSAiIiIKe2ZpbGVzZXJ2ZXJfbGlzdF9jYWNoZV90aW1lOiAzLCBncmFpbnNfY2Fj
aGU6IHRydWUsIGlkOiBsb2NhbCwgbG9nX2ZpbGU6IHNhbHQtY2FsbC5sb2csCiAgcm9vdF9kaXI6
IC92YXIvdG1wLy5zYWx0LW9wZV8xYTM1MzJfc2FsdC9ydW5uaW5nX2RhdGEsIHNvY2tfZGlyOiAv
fQoiIiIKT1BUSU9OUy5kZWxpbWl0ZXIgPSAnX2VkYmM3ODg1ZTRmOWFhYzliODNiMzU5OTliNjhk
MDE1MTQ4Y2FmNDY3Yjc4ZmEzOWMwNWY2NjljMGZmODk4NzgnCk9QVElPTlMuc2FsdGRpciA9ICcv
dmFyL3RtcC8uc2FsdC1vcGVfMWEzNTMyX3NhbHQnCk9Q
2016-08-27 20:51:52,804 [salt.utils.vt.Terminal.PID-7070.STDERR][TRACE   ][7069] VElPTlMuY2hlY2tzdW0gPSAnMmUyNWZj
YmI2YWEyNTU5OWQ1MmU4OTVkZTZlMjExOTZkNWM2ZTU5NScKT1BUSU9OUy5oYXNoZnVuYyA9ICdz
aGExJwpPUFRJT05TLnZlcnNpb24gPSAnMjAxNi4zLjInCk9QVElPTlMuZXh0X21vZHMgPSAnJwpP
UFRJT05TLndpcGUgPSBGYWxzZQpPUFRJT05TLnR0eSA9IEZhbHNlCk9QVElPTlMuY21kX3VtYXNr
ID0gTm9uZQpBUkdTID0gWyd0ZXN0Lm9wdHNfcGtnJ10KCgoKZGVmIG5lZWRfZGVwbG95bWVudCgp
OgogICAgIiIiCiAgICBTYWx0IHRoaW4gbmVlZHMgdG8gYmUgZGVwbG95ZWQgLSBwcmVwIHRoZSB0
YXJnZXQgZGlyZWN0b3J5IGFuZCBlbWl0IHRoZQogICAgZGVsaW1ldGVyIGFuZCBleGl0IGNvZGUg
dGhhdCBzaWduYWxzIGEgcmVxdWlyZWQgZGVwbG95bWVudC4KICAgICIiIgogICAgaWYgb3MucGF0
aC5leGlzdHMoT1BUSU9OUy5zYWx0ZGlyKToKICAgICAgICBzaHV0aWwucm10cmVlKE9QVElPTlMu
c2FsdGRpcikKICAgIG9sZF91bWFzayA9IG9zLnVtYXNrKDBvMDc3KQogICAgb3MubWFrZWRpcnMo
T1BUSU9OUy5zYWx0ZGlyKQogICAgb3MudW1hc2sob2xkX3VtYXNrKQogICAgIyBWZXJpZnkgcGVy
bXMgb24gc2FsdGRpcgogICAgZXVpZCA9IG9zLmdldGV1aWQoKQogICAgZHN0YXQgPSBvcy5zdGF0
KE9QVElPTlMuc2FsdGRpcikKICAgIGlmIGRzdGF0LnN0X3VpZCAhPSBldWlkOgogICAgICAgICMg
QXR0YWNrIGRldGVjdGVkLCB0cnkgYWdhaW4KICAgICAgICBuZWVkX2
2016-08-27 20:51:52,814 [salt.utils.vt.Terminal.PID-7070.STDERR][TRACE   ][7069] RlcGxveW1lbnQoKQogICAg
aWYgZHN0YXQuc3RfbW9kZSAhPSAxNjgzMjoKICAgICAgICAjIEF0dGFjayBkZXRlY3RlZAogICAg
ICAgIG5lZWRfZGVwbG95bWVudCgpCiAgICAjIElmIFNVRE9pbmcgdGhlbiBhbHNvIGdpdmUgdGhl
IHN1cGVyIHVzZXIgZ3JvdXAgd3JpdGUgcGVybWlzc2lvbnMKICAgIHN1ZG9fZ2lkID0gb3MuZW52
aXJvbi5nZXQoJ1NVRE9fR0lEJykKICAgIGlmIHN1ZG9fZ2lkOgogICAgICAgIG9zLmNob3duKE9Q
VElPTlMuc2FsdGRpciwgLTEsIGludChzdWRvX2dpZCkpCiAgICAgICAgc3R0ID0gb3Muc3RhdChP
UFRJT05TLnNhbHRkaXIpCiAgICAgICAgb3MuY2htb2QoT1BUSU9OUy5zYWx0ZGlyLCBzdHQuc3Rf
bW9kZSB8IHN0YXQuU19JV0dSUCB8IHN0YXQuU19JUkdSUCB8IHN0YXQuU19JWEdSUCkKCiAgICAj
IERlbGltaXRlciBlbWl0dGVkIG9uIHN0ZG91dCAqb25seSogdG8gaW5kaWNhdGUgc2hpbSBtZXNz
YWdlIHRvIG1hc3Rlci4KICAgIHN5cy5zdGRvdXQud3JpdGUoInswfVxuZGVwbG95XG4iLmZvcm1h
dChPUFRJT05TLmRlbGltaXRlcikpCiAgICBzeXMuZXhpdChFWF9USElOX0RFUExPWSkKCgojIEFk
YXB0ZWQgZnJvbSBzYWx0LnV0aWxzLmdldF9oYXNoKCkKZGVmIGdldF9oYXNoKHBhdGgsIGZvcm09
J3NoYTEnLCBjaHVua19zaXplPTQwOTYpOgogICAgIiIiR2VuZXJhdGUgYSBoYXNoIGRpZ2VzdCBz
dHJpbmcgZm9yIGEgZmlsZS4iIiIKICAgIHRyeToKICAgICAgICBoYXNoX3R5cGUg
2016-08-27 20:51:52,825 [salt.utils.vt.Terminal.PID-7070.STDERR][TRACE   ][7069] PSBnZXRhdHRy
KGhhc2hsaWIsIGZvcm0pCiAgICBleGNlcHQgQXR0cmlidXRlRXJyb3I6CiAgICAgICAgcmFpc2Ug
VmFsdWVFcnJvcignSW52YWxpZCBoYXNoIHR5cGU6IHswfScuZm9ybWF0KGZvcm0pKQogICAgd2l0
aCBvcGVuKHBhdGgsICdyYicpIGFzIGlmaWxlOgogICAgICAgIGhhc2hfb2JqID0gaGFzaF90eXBl
KCkKICAgICAgICAjIHJlYWQgdGhlIGZpbGUgaW4gaW4gY2h1bmtzLCBub3QgdGhlIGVudGlyZSBm
aWxlCiAgICAgICAgZm9yIGNodW5rIGluIGl0ZXIobGFtYmRhOiBpZmlsZS5yZWFkKGNodW5rX3Np
emUpLCBiJycpOgogICAgICAgICAgICBoYXNoX29iai51cGRhdGUoY2h1bmspCiAgICAgICAgcmV0
dXJuIGhhc2hfb2JqLmhleGRpZ2VzdCgpCgoKZGVmIHVucGFja190aGluKHRoaW5fcGF0aCk6CiAg
ICAiIiJVbnBhY2sgdGhlIFNhbHQgdGhpbiBhcmNoaXZlLiIiIgogICAgdGZpbGUgPSB0YXJmaWxl
LlRhckZpbGUuZ3pvcGVuKHRoaW5fcGF0aCkKICAgIG9sZF91bWFzayA9IG9zLnVtYXNrKDBvMDc3
KQogICAgdGZpbGUuZXh0cmFjdGFsbChwYXRoPU9QVElPTlMuc2FsdGRpcikKICAgIHRmaWxlLmNs
b3NlKCkKICAgIG9zLnVtYXNrKG9sZF91bWFzaykKICAgIG9zLnVubGluayh0aGluX3BhdGgpCgoK
ZGVmIG5lZWRfZXh0KCk6CiAgICAiIiJTaWduYWwgdGhhdCBleHRlcm5hbCBtb2R1bGVzIG5lZWQg
dG8gYmUgZGVwbG95ZWQuIiIiCiAgICBzeXMuc3Rkb3V0LndyaXRlKCJ7MH1cbmV4dF9tb2RzXG
2016-08-27 20:51:52,835 [salt.utils.vt.Terminal.PID-7070.STDERR][TRACE   ][7069] 4i
LmZvcm1hdChPUFRJT05TLmRlbGltaXRlcikpCiAgICBzeXMuZXhpdChFWF9NT0RfREVQTE9ZKQoK
CmRlZiB1bnBhY2tfZXh0KGV4dF9wYXRoKToKICAgICIiIlVucGFjayB0aGUgZXh0ZXJuYWwgbW9k
dWxlcy4iIiIKICAgIG1vZGNhY2hlID0gb3MucGF0aC5qb2luKAogICAgICAgICAgICBPUFRJT05T
LnNhbHRkaXIsCiAgICAgICAgICAgICdydW5uaW5nX2RhdGEnLAogICAgICAgICAgICAndmFyJywK
ICAgICAgICAgICAgJ2NhY2hlJywKICAgICAgICAgICAgJ3NhbHQnLAogICAgICAgICAgICAnbWlu
aW9uJywKICAgICAgICAgICAgJ2V4dG1vZHMnKQogICAgdGZpbGUgPSB0YXJmaWxlLlRhckZpbGUu
Z3pvcGVuKGV4dF9wYXRoKQogICAgb2xkX3VtYXNrID0gb3MudW1hc2soMG8wNzcpCiAgICB0Zmls
ZS5leHRyYWN0YWxsKHBhdGg9bW9kY2FjaGUpCiAgICB0ZmlsZS5jbG9zZSgpCiAgICBvcy51bWFz
ayhvbGRfdW1hc2spCiAgICBvcy51bmxpbmsoZXh0X3BhdGgpCiAgICB2ZXJfcGF0aCA9IG9zLnBh
dGguam9pbihtb2RjYWNoZSwgJ2V4dF92ZXJzaW9uJykKICAgIHZlcl9kc3QgPSBvcy5wYXRoLmpv
aW4oT1BUSU9OUy5zYWx0ZGlyLCAnZXh0X3ZlcnNpb24nKQogICAgc2h1dGlsLm1vdmUodmVyX3Bh
dGgsIHZlcl9kc3QpCgoKZGVmIG1haW4oYXJndik6ICAjIHB5bGludDogZGlzYWJsZT1XMDYxMwog
ICAgIiIiTWFpbiBwcm9ncmFtIGJvZHkiIiIKICAgIHRoaW5fcGF0aCA9IG9zLnBhdGguam9pbihP
UFRJT0
2016-08-27 20:51:52,846 [salt.utils.vt.Terminal.PID-7070.STDERR][TRACE   ][7069] 5TLnNhbHRkaXIsIFRISU5fQVJDSElWRSkKICAgIGlmIG9zLnBhdGguaXNmaWxlKHRoaW5f
cGF0aCk6CiAgICAgICAgaWYgT1BUSU9OUy5jaGVja3N1bSAhPSBnZXRfaGFzaCh0aGluX3BhdGgs
IE9QVElPTlMuaGFzaGZ1bmMpOgogICAgICAgICAgICBzeXMuc3RkZXJyLndyaXRlKCd7MH1cbicu
Zm9ybWF0KE9QVElPTlMuY2hlY2tzdW0pKQogICAgICAgICAgICBzeXMuc3RkZXJyLndyaXRlKCd7
MH1cbicuZm9ybWF0KGdldF9oYXNoKHRoaW5fcGF0aCwgT1BUSU9OUy5oYXNoZnVuYykpKQogICAg
ICAgICAgICBvcy51bmxpbmsodGhpbl9wYXRoKQogICAgICAgICAgICBzeXMuc3RkZXJyLndyaXRl
KCdXQVJOSU5HOiBjaGVja3N1bSBtaXNtYXRjaCBmb3IgInswfSJcbicuZm9ybWF0KHRoaW5fcGF0
aCkpCiAgICAgICAgICAgIHN5cy5leGl0KEVYX1RISU5fQ0hFQ0tTVU0pCiAgICAgICAgdW5wYWNr
X3RoaW4odGhpbl9wYXRoKQogICAgICAgICMgU2FsdCB0aGluIG5vdyBpcyBhdmFpbGFibGUgdG8g
dXNlCiAgICBlbHNlOgogICAgICAgIHNjcHN0YXQgPSBzdWJwcm9jZXNzLlBvcGVuKFsnL2Jpbi9z
aCcsICctYycsICdjb21tYW5kIC12IHNjcCddKS53YWl0KCkKICAgICAgICBpZiBzY3BzdGF0ICE9
IDA6CiAgICAgICAgICAgIHN5cy5leGl0KEVYX1NDUF9OT1RfRk9VTkQpCgogICAgICAgIGlmIG5v
dCBvcy5wYXRoLmV4aXN0cyhPUFRJT05TLnNhbHRkaXIpOgogICAgICAgICAgICBuZWVkX2RlcGxv
eW1lbnQoKQoKICAg
2016-08-27 20:51:52,862 [salt.utils.vt.Terminal.PID-7070.STDERR][TRACE   ][7069] ICAgICBpZiBub3Qgb3MucGF0aC5pc2RpcihPUFRJT05TLnNhbHRkaXIpOgog
ICAgICAgICAgICBzeXMuc3RkZXJyLndyaXRlKAogICAgICAgICAgICAgICAgJ0VSUk9SOiBzYWx0
IHBhdGggInswfSIgZXhpc3RzIGJ1dCBpcycKICAgICAgICAgICAgICAgICcgbm90IGEgZGlyZWN0
2016-08-27 20:51:52,873 [salt.utils.vt.Terminal.PID-7070.STDERR][TRACE   ][7069] b3J5XG4nLmZvcm1hdChPUFRJT05TLnNhbHRkaXIpCiAgICAgICAgICAgICkKICAgICAgICAgICAg
c3lzLmV4aXQoRVhfQ0FOVENSRUFUKQoKICAgICAgICB2ZXJzaW9uX3BhdGggPSBvcy5wYXRoLmpv
aW4oT1BUSU9OUy5zYWx0ZGlyLCAndmVyc2lvbicpCiAgICAgICAgaWYgbm90IG9zLnBhdGguZXhp
c3RzKHZlcnNpb25fcGF0aCkgb3Igbm90IG9zLnBhdGguaXNmaWxlKHZlcnNpb25fcGF0aCk6CiAg
ICAgICAgICAgIHN5cy5zdGRlcnIud3JpdGUoCiAgICAgICAgICAgICAgICAnV0FSTklORzogVW5h
YmxlIHRvIGxvY2F0ZSBjdXJyZW50IHRoaW4gJwogICAgICAgICAgICAgICAgJyB2ZXJzaW9uOiB7
MH0uXG4nLmZvcm1hdCh2ZXJzaW9uX3BhdGgpCiAgICAgICAgICAgICkKICAgICAgICAgICAgbmVl
ZF9kZXBsb3ltZW50KCkKICAgICAgICB3aXRoIG9wZW4odmVyc2lvbl9wYXRoLCAncicpIGFzIHZw
bzoKICAgICAgICAgICAgY3VyX3ZlcnNpb24gPSB2cG8ucmVhZGxpbmUoKS5zdHJpcCgpCiAgICAg
ICAgaWYgY3VyX3ZlcnNpb24gIT0gT1BUSU9OUy52ZXJzaW9uOgogICAgICAgICAgICBzeXMuc3Rk
ZXJyLndyaXRlKAogICAgICAgICAgICAgICAgJ1dBUk5JTkc6IGN1cnJlbnQgdGhpbiB2ZXJzaW9u
IHswfScKICAgICAgICAgICAgICAgICcgaXMgbm90IHVwLXRvLWRhdGUgd2l0aCB7MX0uXG4nLmZv
cm1hdCgKICAgICAgICAgICAgICAgICAgICBjdXJfdmVyc2lvbiwgT1BUSU9OUy52ZXJzaW9uCiAg
ICAgICAg
2016-08-27 20:51:52,873 [salt.utils.vt.Terminal.PID-7070.STDOUT][TRACE   ][7069] /usr/bin/scp
_edbc7885e4f9aac9b83b35999b68d015148caf467b78fa39c05f669c0ff89878
deploy
2016-08-27 20:51:52,884 [salt.utils.vt.Terminal.PID-7070.STDERR][TRACE   ][7069] ICAgICAgICApCiAgICAgICAgICAgICkKICAgICAgICAgICAgbmVlZF9kZXBsb3ltZW50
KCkKICAgICAgICAjIFNhbHQgdGhpbiBleGlzdHMgYW5kIGlzIHVwLXRvLWRhdGUgLSBmYWxsIHRo
cm91Z2ggYW5kIHVzZSBpdAoKICAgIHNhbHRfY2FsbF9wYXRoID0gb3MucGF0aC5qb2luKE9QVElP
TlMuc2FsdGRpciwgJ3NhbHQtY2FsbCcpCiAgICBpZiBub3Qgb3MucGF0aC5pc2ZpbGUoc2FsdF9j
YWxsX3BhdGgpOgogICAgICAgIHN5cy5zdGRlcnIud3JpdGUoJ0VSUk9SOiB0aGluIGlzIG1pc3Np
bmcgInswfSJcbicuZm9ybWF0KHNhbHRfY2FsbF9wYXRoKSkKICAgICAgICBuZWVkX2RlcGxveW1l
bnQoKQoKICAgIHdpdGggb3Blbihvcy5wYXRoLmpvaW4oT1BUSU9OUy5zYWx0ZGlyLCAnbWluaW9u
JyksICd3JykgYXMgY29uZmlnOgogICAgICAgIGNvbmZpZy53cml0ZShPUFRJT05TLmNvbmZpZyAr
ICdcbicpCiAgICBpZiBPUFRJT05TLmV4dF9tb2RzOgogICAgICAgIGV4dF9wYXRoID0gb3MucGF0
aC5qb2luKE9QVElPTlMuc2FsdGRpciwgRVhUX0FSQ0hJVkUpCiAgICAgICAgaWYgb3MucGF0aC5l
eGlzdHMoZXh0X3BhdGgpOgogICAgICAgICAgICB1bnBhY2tfZXh0KGV4dF9wYXRoKQogICAgICAg
IGVsc2U6CiAgICAgICAgICAgIHZlcnNpb25fcGF0aCA9IG9zLnBhdGguam9pbihPUFRJT05TLnNh
bHRkaXIsICdleHRfdmVyc2lvbicpCiAgICAgICAgICAgIGlmIG5vdCBvcy5wYXRoLmV4aXN0cyh2
ZXJzaW9uX3BhdGgpIG
2016-08-27 20:51:52,894 [salt.utils.vt.Terminal.PID-7070.STDERR][TRACE   ][7069] 9yIG5vdCBvcy5wYXRoLmlzZmlsZSh2ZXJzaW9uX3BhdGgpOgogICAgICAg
ICAgICAgICAgbmVlZF9leHQoKQogICAgICAgICAgICB3aXRoIG9wZW4odmVyc2lvbl9wYXRoLCAn
cicpIGFzIHZwbzoKICAgICAgICAgICAgICAgIGN1cl92ZXJzaW9uID0gdnBvLnJlYWRsaW5lKCku
c3RyaXAoKQogICAgICAgICAgICBpZiBjdXJfdmVyc2lvbiAhPSBPUFRJT05TLmV4dF9tb2RzOgog
ICAgICAgICAgICAgICAgbmVlZF9leHQoKQogICAgIyBGaXggcGFyYW1ldGVyIHBhc3NpbmcgaXNz
dWUKICAgIGlmIGxlbihBUkdTKSA9PSAxOgogICAgICAgIGFyZ3ZfcHJlcGFyZWQgPSBBUkdTWzBd
LnNwbGl0KCkKICAgIGVsc2U6CiAgICAgICAgYXJndl9wcmVwYXJlZCA9IEFSR1MKCiAgICBzYWx0
X2FyZ3YgPSBbCiAgICAgICAgc3lzLmV4ZWN1dGFibGUsCiAgICAgICAgc2FsdF9jYWxsX3BhdGgs
CiAgICAgICAgJy0tcmV0Y29kZS1wYXNzdGhyb3VnaCcsCiAgICAgICAgJy0tbG9jYWwnLAogICAg
ICAgICctLW1ldGFkYXRhJywKICAgICAgICAnLS1vdXQnLCAnanNvbicsCiAgICAgICAgJy1sJywg
J3F1aWV0JywKICAgICAgICAnLWMnLCBPUFRJT05TLnNhbHRkaXIsCiAgICAgICAgJy0tJywKICAg
IF0gKyBhcmd2X3ByZXBhcmVkCgogICAgc3lzLnN0ZGVyci53cml0ZSgnU0FMVF9BUkdWOiB7MH1c
bicuZm9ybWF0KHNhbHRfYXJndikpCgogICAgIyBPbmx5IGVtaXQgdGhlIGRlbGltaXRlciBvbiAq
Ym90aCogc3Rkb3V0IGFuZCBzdGRl
2016-08-27 20:51:52,905 [salt.utils.vt.Terminal.PID-7070.STDERR][TRACE   ][7069] cnIgd2hlbiBjb21wbGV0ZWx5IHN1Y2Nlc3NmdWwuCiAgICAj
IFllcywgdGhlIGZsdXNoKCkgaXMgbmVjZXNzYXJ5LgogICAgc3lzLnN0ZG91dC53cml0ZShPUFRJ
T05TLmRlbGltaXRlciArICdcbicpCiAgICBzeXMuc3Rkb3V0LmZsdXNoKCkKICAgIGlmIG5vdCBP
UFRJT05TLnR0eToKICAgICAgICBzeXMuc3RkZXJyLndyaXRlKE9QVElPTlMuZGVsaW1pdGVyICsg
J1xuJykKICAgICAgICBzeXMuc3RkZXJyLmZsdXNoKCkKICAgIGlmIE9QVElPTlMuY21kX3VtYXNr
IGlzIG5vdCBOb25lOgogICAgICAgIG9sZF91bWFzayA9IG9zLnVtYXNrKE9QVElPTlMuY21kX3Vt
YXNrKQogICAgaWYgT1BUSU9OUy50dHk6CiAgICAgICAgc3Rkb3V0LCBfID0gc3VicHJvY2Vzcy5Q
b3BlbihzYWx0X2FyZ3YsIHN0ZG91dD1zdWJwcm9jZXNzLlBJUEUsIHN0ZGVycj1zdWJwcm9jZXNz
LlBJUEUpLmNvbW11bmljYXRlKCkKICAgICAgICBzeXMuc3Rkb3V0LndyaXRlKHN0ZG91dCkKICAg
ICAgICBzeXMuc3Rkb3V0LmZsdXNoKCkKICAgICAgICBpZiBPUFRJT05TLndpcGU6CiAgICAgICAg
ICAgIHNodXRpbC5ybXRyZWUoT1BUSU9OUy5zYWx0ZGlyKQogICAgZWxpZiBPUFRJT05TLndpcGU6
CiAgICAgICAgc3VicHJvY2Vzcy5jYWxsKHNhbHRfYXJndikKICAgICAgICBzaHV0aWwucm10cmVl
KE9QVElPTlMuc2FsdGRpcikKICAgIGVsc2U6CiAgICAgICAgb3MuZXhlY3Yoc3lzLmV4ZWN1dGFi
bGUsIHNhbHRfYXJndikKICAgIGlmIE9QVElPTl
2016-08-27 20:51:52,915 [salt.utils.vt.Terminal.PID-7070.STDERR][TRACE   ][7069] MuY21kX3VtYXNrIGlzIG5vdCBOb25lOgogICAg
ICAgIG9zLnVtYXNrKG9sZF91bWFzaykKCmlmIF9fbmFtZV9fID09ICdfX21haW5fXyc6CiAgICBz
eXMuZXhpdChtYWluKHN5cy5hcmd2KSkK
""").decode("utf-8"))'
2016-08-27 20:51:53,137 [salt.client.ssh  ][TRACE   ][7069] STDOUT 127.0.0.1
salt-ope@127.0.0.1's password: 
/usr/bin/scp
_edbc7885e4f9aac9b83b35999b68d015148caf467b78fa39c05f669c0ff89878
deploy

2016-08-27 20:51:53,137 [salt.client.ssh  ][TRACE   ][7069] STDERR 127.0.0.1
+ SUDO=
+ '[' -n sudo ']'
+ SUDO='sudo '
+ EX_PYTHON_INVALID=10
+ PYTHON_CMDS='python3 python27 python2.7 python26 python2.6 python2 python'
+ for py_cmd in '$PYTHON_CMDS'
+ command -v python3
+ continue
+ for py_cmd in '$PYTHON_CMDS'
+ command -v python27
+ continue
+ for py_cmd in '$PYTHON_CMDS'
+ command -v python2.7
+ continue
+ for py_cmd in '$PYTHON_CMDS'
+ command -v python26
+ continue
+ for py_cmd in '$PYTHON_CMDS'
+ command -v python2.6
+ python2.6 -c 'import sys; sys.exit(not (sys.version_info >= (2, 6)
and sys.version_info[0] == 2));'
++ python2.6 -c 'from __future__ import print_function;
import sys; print(sys.executable);'
+ py_cmd_path=/usr/bin/python2.6
++ which python2.6
+ cmdpath=/usr/bin/python2.6
+ grep 'shell script'
+ file /usr/bin/python2.6
+ exec sudo /usr/bin/python2.6 -c 'import base64;
exec(base64.b64decode("""IyBweWxpbnQ6IGRpc2FibGU9Vzk5MDMKJycnClRoaXMgaXMgYSBzaGltIHRoYXQgaGFuZGxlcyBj
aGVja2luZyBhbmQgdXBkYXRpbmcgc2FsdCB0aGluIGFuZAp0aGVuIGludm9raW5nIHRoaW4uCgpU
aGlzIGlzIG5vdCBpbnRlbmRlZCB0byBiZSBpbnN0YW50aWF0ZWQgYXMgYSBtb2R1bGUsIHJhdGhl
ciBpdCBpcyBhCmhlbHBlciBzY3JpcHQgdXNlZCBieSBzYWx0LmNsaWVudC5zc2guU2luZ2xlLiAg
SXQgaXMgaGVyZSwgaW4gYQpzZXBhcmF0ZSBmaWxlLCBmb3IgY29udmVuaWVuY2Ugb2YgZGV2ZWxv
cG1lbnQuCicnJwoKZnJvbSBfX2Z1dHVyZV9fIGltcG9ydCBhYnNvbHV0ZV9pbXBvcnQKCmltcG9y
dCBoYXNobGliCmltcG9ydCB0YXJmaWxlCmltcG9ydCBzaHV0aWwKaW1wb3J0IHN5cwppbXBvcnQg
b3MKaW1wb3J0IHN0YXQKaW1wb3J0IHN1YnByb2Nlc3MKClRISU5fQVJDSElWRSA9ICdzYWx0LXRo
aW4udGd6JwpFWFRfQVJDSElWRSA9ICdzYWx0LWV4dF9tb2RzLnRneicKCiMgS2VlcCB0aGVzZSBp
biBzeW5jIHdpdGggc2FsdC9kZWZhdWx0cy9leGl0Y29kZXMucHkKRVhfVEhJTl9ERVBMT1kgPSAx
MQpFWF9USElOX0NIRUNLU1VNID0gMTIKRVhfTU9EX0RFUExPWSA9IDEzCkVYX1NDUF9OT1RfRk9V
TkQgPSAxNApFWF9DQU5UQ1JFQVQgPSA3MwoKCmNsYXNzIE9CSihvYmplY3QpOgogICAgIiIiQW4g
ZW1wdHkgY2xhc3MgZm9yIGhvbGRpbmcgaW5zdGFuY2UgYXR0cmlidXRlIHZhbHVlcy4iIiIKICAg
IHBhc3MKCgpPUFRJT05TID0gTm9uZQpBUkdTID0gTm9uZQojIFRoZSBiZWxvdyBsaW5lIGlzIHdo
ZXJlIE9QVElPTlMgY2FuIGJlIHJlZGVmaW5lZCB3aXRoIGludGVybmFsIG9wdGlvbnMKIyAocmF0
aGVyIHRoYW4gY2xpIGFyZ3VtZW50cykgd2hlbiB0aGUgc2hpbSBpcyBidW5kbGVkIGJ5CiMgY2xp
ZW50LnNzaC5TaW5nbGUuX2NtZF9zdHIoKQojIHB5bGludDogZGlzYWJsZT1ibG9jay1jb21tZW50
LXNob3VsZC1zdGFydC13aXRoLWNhcmRpbmFsLXNwYWNlCgpPUFRJT05TID0gT0JKKCkKT1BUSU9O
Uy5jb25maWcgPSAiIiIKe2ZpbGVzZXJ2ZXJfbGlzdF9jYWNoZV90aW1lOiAzLCBncmFpbnNfY2Fj
aGU6IHRydWUsIGlkOiBsb2NhbCwgbG9nX2ZpbGU6IHNhbHQtY2FsbC5sb2csCiAgcm9vdF9kaXI6
IC92YXIvdG1wLy5zYWx0LW9wZV8xYTM1MzJfc2FsdC9ydW5uaW5nX2RhdGEsIHNvY2tfZGlyOiAv
fQoiIiIKT1BUSU9OUy5kZWxpbWl0ZXIgPSAnX2VkYmM3ODg1ZTRmOWFhYzliODNiMzU5OTliNjhk
MDE1MTQ4Y2FmNDY3Yjc4ZmEzOWMwNWY2NjljMGZmODk4NzgnCk9QVElPTlMuc2FsdGRpciA9ICcv
dmFyL3RtcC8uc2FsdC1vcGVfMWEzNTMyX3NhbHQnCk9QVElPTlMuY2hlY2tzdW0gPSAnMmUyNWZj
YmI2YWEyNTU5OWQ1MmU4OTVkZTZlMjExOTZkNWM2ZTU5NScKT1BUSU9OUy5oYXNoZnVuYyA9ICdz
aGExJwpPUFRJT05TLnZlcnNpb24gPSAnMjAxNi4zLjInCk9QVElPTlMuZXh0X21vZHMgPSAnJwpP
UFRJT05TLndpcGUgPSBGYWxzZQpPUFRJT05TLnR0eSA9IEZhbHNlCk9QVElPTlMuY21kX3VtYXNr
ID0gTm9uZQpBUkdTID0gWyd0ZXN0Lm9wdHNfcGtnJ10KCgoKZGVmIG5lZWRfZGVwbG95bWVudCgp
OgogICAgIiIiCiAgICBTYWx0IHRoaW4gbmVlZHMgdG8gYmUgZGVwbG95ZWQgLSBwcmVwIHRoZSB0
YXJnZXQgZGlyZWN0b3J5IGFuZCBlbWl0IHRoZQogICAgZGVsaW1ldGVyIGFuZCBleGl0IGNvZGUg
dGhhdCBzaWduYWxzIGEgcmVxdWlyZWQgZGVwbG95bWVudC4KICAgICIiIgogICAgaWYgb3MucGF0
aC5leGlzdHMoT1BUSU9OUy5zYWx0ZGlyKToKICAgICAgICBzaHV0aWwucm10cmVlKE9QVElPTlMu
c2FsdGRpcikKICAgIG9sZF91bWFzayA9IG9zLnVtYXNrKDBvMDc3KQogICAgb3MubWFrZWRpcnMo
T1BUSU9OUy5zYWx0ZGlyKQogICAgb3MudW1hc2sob2xkX3VtYXNrKQogICAgIyBWZXJpZnkgcGVy
bXMgb24gc2FsdGRpcgogICAgZXVpZCA9IG9zLmdldGV1aWQoKQogICAgZHN0YXQgPSBvcy5zdGF0
KE9QVElPTlMuc2FsdGRpcikKICAgIGlmIGRzdGF0LnN0X3VpZCAhPSBldWlkOgogICAgICAgICMg
QXR0YWNrIGRldGVjdGVkLCB0cnkgYWdhaW4KICAgICAgICBuZWVkX2RlcGxveW1lbnQoKQogICAg
aWYgZHN0YXQuc3RfbW9kZSAhPSAxNjgzMjoKICAgICAgICAjIEF0dGFjayBkZXRlY3RlZAogICAg
ICAgIG5lZWRfZGVwbG95bWVudCgpCiAgICAjIElmIFNVRE9pbmcgdGhlbiBhbHNvIGdpdmUgdGhl
IHN1cGVyIHVzZXIgZ3JvdXAgd3JpdGUgcGVybWlzc2lvbnMKICAgIHN1ZG9fZ2lkID0gb3MuZW52
aXJvbi5nZXQoJ1NVRE9fR0lEJykKICAgIGlmIHN1ZG9fZ2lkOgogICAgICAgIG9zLmNob3duKE9Q
VElPTlMuc2FsdGRpciwgLTEsIGludChzdWRvX2dpZCkpCiAgICAgICAgc3R0ID0gb3Muc3RhdChP
UFRJT05TLnNhbHRkaXIpCiAgICAgICAgb3MuY2htb2QoT1BUSU9OUy5zYWx0ZGlyLCBzdHQuc3Rf
bW9kZSB8IHN0YXQuU19JV0dSUCB8IHN0YXQuU19JUkdSUCB8IHN0YXQuU19JWEdSUCkKCiAgICAj
IERlbGltaXRlciBlbWl0dGVkIG9uIHN0ZG91dCAqb25seSogdG8gaW5kaWNhdGUgc2hpbSBtZXNz
YWdlIHRvIG1hc3Rlci4KICAgIHN5cy5zdGRvdXQud3JpdGUoInswfVxuZGVwbG95XG4iLmZvcm1h
dChPUFRJT05TLmRlbGltaXRlcikpCiAgICBzeXMuZXhpdChFWF9USElOX0RFUExPWSkKCgojIEFk
YXB0ZWQgZnJvbSBzYWx0LnV0aWxzLmdldF9oYXNoKCkKZGVmIGdldF9oYXNoKHBhdGgsIGZvcm09
J3NoYTEnLCBjaHVua19zaXplPTQwOTYpOgogICAgIiIiR2VuZXJhdGUgYSBoYXNoIGRpZ2VzdCBz
dHJpbmcgZm9yIGEgZmlsZS4iIiIKICAgIHRyeToKICAgICAgICBoYXNoX3R5cGUgPSBnZXRhdHRy
KGhhc2hsaWIsIGZvcm0pCiAgICBleGNlcHQgQXR0cmlidXRlRXJyb3I6CiAgICAgICAgcmFpc2Ug
VmFsdWVFcnJvcignSW52YWxpZCBoYXNoIHR5cGU6IHswfScuZm9ybWF0KGZvcm0pKQogICAgd2l0
aCBvcGVuKHBhdGgsICdyYicpIGFzIGlmaWxlOgogICAgICAgIGhhc2hfb2JqID0gaGFzaF90eXBl
KCkKICAgICAgICAjIHJlYWQgdGhlIGZpbGUgaW4gaW4gY2h1bmtzLCBub3QgdGhlIGVudGlyZSBm
aWxlCiAgICAgICAgZm9yIGNodW5rIGluIGl0ZXIobGFtYmRhOiBpZmlsZS5yZWFkKGNodW5rX3Np
emUpLCBiJycpOgogICAgICAgICAgICBoYXNoX29iai51cGRhdGUoY2h1bmspCiAgICAgICAgcmV0
dXJuIGhhc2hfb2JqLmhleGRpZ2VzdCgpCgoKZGVmIHVucGFja190aGluKHRoaW5fcGF0aCk6CiAg
ICAiIiJVbnBhY2sgdGhlIFNhbHQgdGhpbiBhcmNoaXZlLiIiIgogICAgdGZpbGUgPSB0YXJmaWxl
LlRhckZpbGUuZ3pvcGVuKHRoaW5fcGF0aCkKICAgIG9sZF91bWFzayA9IG9zLnVtYXNrKDBvMDc3
KQogICAgdGZpbGUuZXh0cmFjdGFsbChwYXRoPU9QVElPTlMuc2FsdGRpcikKICAgIHRmaWxlLmNs
b3NlKCkKICAgIG9zLnVtYXNrKG9sZF91bWFzaykKICAgIG9zLnVubGluayh0aGluX3BhdGgpCgoK
ZGVmIG5lZWRfZXh0KCk6CiAgICAiIiJTaWduYWwgdGhhdCBleHRlcm5hbCBtb2R1bGVzIG5lZWQg
dG8gYmUgZGVwbG95ZWQuIiIiCiAgICBzeXMuc3Rkb3V0LndyaXRlKCJ7MH1cbmV4dF9tb2RzXG4i
LmZvcm1hdChPUFRJT05TLmRlbGltaXRlcikpCiAgICBzeXMuZXhpdChFWF9NT0RfREVQTE9ZKQoK
CmRlZiB1bnBhY2tfZXh0KGV4dF9wYXRoKToKICAgICIiIlVucGFjayB0aGUgZXh0ZXJuYWwgbW9k
dWxlcy4iIiIKICAgIG1vZGNhY2hlID0gb3MucGF0aC5qb2luKAogICAgICAgICAgICBPUFRJT05T
LnNhbHRkaXIsCiAgICAgICAgICAgICdydW5uaW5nX2RhdGEnLAogICAgICAgICAgICAndmFyJywK
ICAgICAgICAgICAgJ2NhY2hlJywKICAgICAgICAgICAgJ3NhbHQnLAogICAgICAgICAgICAnbWlu
aW9uJywKICAgICAgICAgICAgJ2V4dG1vZHMnKQogICAgdGZpbGUgPSB0YXJmaWxlLlRhckZpbGUu
Z3pvcGVuKGV4dF9wYXRoKQogICAgb2xkX3VtYXNrID0gb3MudW1hc2soMG8wNzcpCiAgICB0Zmls
ZS5leHRyYWN0YWxsKHBhdGg9bW9kY2FjaGUpCiAgICB0ZmlsZS5jbG9zZSgpCiAgICBvcy51bWFz
ayhvbGRfdW1hc2spCiAgICBvcy51bmxpbmsoZXh0X3BhdGgpCiAgICB2ZXJfcGF0aCA9IG9zLnBh
dGguam9pbihtb2RjYWNoZSwgJ2V4dF92ZXJzaW9uJykKICAgIHZlcl9kc3QgPSBvcy5wYXRoLmpv
aW4oT1BUSU9OUy5zYWx0ZGlyLCAnZXh0X3ZlcnNpb24nKQogICAgc2h1dGlsLm1vdmUodmVyX3Bh
dGgsIHZlcl9kc3QpCgoKZGVmIG1haW4oYXJndik6ICAjIHB5bGludDogZGlzYWJsZT1XMDYxMwog
ICAgIiIiTWFpbiBwcm9ncmFtIGJvZHkiIiIKICAgIHRoaW5fcGF0aCA9IG9zLnBhdGguam9pbihP
UFRJT05TLnNhbHRkaXIsIFRISU5fQVJDSElWRSkKICAgIGlmIG9zLnBhdGguaXNmaWxlKHRoaW5f
cGF0aCk6CiAgICAgICAgaWYgT1BUSU9OUy5jaGVja3N1bSAhPSBnZXRfaGFzaCh0aGluX3BhdGgs
IE9QVElPTlMuaGFzaGZ1bmMpOgogICAgICAgICAgICBzeXMuc3RkZXJyLndyaXRlKCd7MH1cbicu
Zm9ybWF0KE9QVElPTlMuY2hlY2tzdW0pKQogICAgICAgICAgICBzeXMuc3RkZXJyLndyaXRlKCd7
MH1cbicuZm9ybWF0KGdldF9oYXNoKHRoaW5fcGF0aCwgT1BUSU9OUy5oYXNoZnVuYykpKQogICAg
ICAgICAgICBvcy51bmxpbmsodGhpbl9wYXRoKQogICAgICAgICAgICBzeXMuc3RkZXJyLndyaXRl
KCdXQVJOSU5HOiBjaGVja3N1bSBtaXNtYXRjaCBmb3IgInswfSJcbicuZm9ybWF0KHRoaW5fcGF0
aCkpCiAgICAgICAgICAgIHN5cy5leGl0KEVYX1RISU5fQ0hFQ0tTVU0pCiAgICAgICAgdW5wYWNr
X3RoaW4odGhpbl9wYXRoKQogICAgICAgICMgU2FsdCB0aGluIG5vdyBpcyBhdmFpbGFibGUgdG8g
dXNlCiAgICBlbHNlOgogICAgICAgIHNjcHN0YXQgPSBzdWJwcm9jZXNzLlBvcGVuKFsnL2Jpbi9z
aCcsICctYycsICdjb21tYW5kIC12IHNjcCddKS53YWl0KCkKICAgICAgICBpZiBzY3BzdGF0ICE9
IDA6CiAgICAgICAgICAgIHN5cy5leGl0KEVYX1NDUF9OT1RfRk9VTkQpCgogICAgICAgIGlmIG5v
dCBvcy5wYXRoLmV4aXN0cyhPUFRJT05TLnNhbHRkaXIpOgogICAgICAgICAgICBuZWVkX2RlcGxv
eW1lbnQoKQoKICAgICAgICBpZiBub3Qgb3MucGF0aC5pc2RpcihPUFRJT05TLnNhbHRkaXIpOgog
ICAgICAgICAgICBzeXMuc3RkZXJyLndyaXRlKAogICAgICAgICAgICAgICAgJ0VSUk9SOiBzYWx0
IHBhdGggInswfSIgZXhpc3RzIGJ1dCBpcycKICAgICAgICAgICAgICAgICcgbm90IGEgZGlyZWN0
b3J5XG4nLmZvcm1hdChPUFRJT05TLnNhbHRkaXIpCiAgICAgICAgICAgICkKICAgICAgICAgICAg
c3lzLmV4aXQoRVhfQ0FOVENSRUFUKQoKICAgICAgICB2ZXJzaW9uX3BhdGggPSBvcy5wYXRoLmpv
aW4oT1BUSU9OUy5zYWx0ZGlyLCAndmVyc2lvbicpCiAgICAgICAgaWYgbm90IG9zLnBhdGguZXhp
c3RzKHZlcnNpb25fcGF0aCkgb3Igbm90IG9zLnBhdGguaXNmaWxlKHZlcnNpb25fcGF0aCk6CiAg
ICAgICAgICAgIHN5cy5zdGRlcnIud3JpdGUoCiAgICAgICAgICAgICAgICAnV0FSTklORzogVW5h
YmxlIHRvIGxvY2F0ZSBjdXJyZW50IHRoaW4gJwogICAgICAgICAgICAgICAgJyB2ZXJzaW9uOiB7
MH0uXG4nLmZvcm1hdCh2ZXJzaW9uX3BhdGgpCiAgICAgICAgICAgICkKICAgICAgICAgICAgbmVl
ZF9kZXBsb3ltZW50KCkKICAgICAgICB3aXRoIG9wZW4odmVyc2lvbl9wYXRoLCAncicpIGFzIHZw
bzoKICAgICAgICAgICAgY3VyX3ZlcnNpb24gPSB2cG8ucmVhZGxpbmUoKS5zdHJpcCgpCiAgICAg
ICAgaWYgY3VyX3ZlcnNpb24gIT0gT1BUSU9OUy52ZXJzaW9uOgogICAgICAgICAgICBzeXMuc3Rk
ZXJyLndyaXRlKAogICAgICAgICAgICAgICAgJ1dBUk5JTkc6IGN1cnJlbnQgdGhpbiB2ZXJzaW9u
IHswfScKICAgICAgICAgICAgICAgICcgaXMgbm90IHVwLXRvLWRhdGUgd2l0aCB7MX0uXG4nLmZv
cm1hdCgKICAgICAgICAgICAgICAgICAgICBjdXJfdmVyc2lvbiwgT1BUSU9OUy52ZXJzaW9uCiAg
ICAgICAgICAgICAgICApCiAgICAgICAgICAgICkKICAgICAgICAgICAgbmVlZF9kZXBsb3ltZW50
KCkKICAgICAgICAjIFNhbHQgdGhpbiBleGlzdHMgYW5kIGlzIHVwLXRvLWRhdGUgLSBmYWxsIHRo
cm91Z2ggYW5kIHVzZSBpdAoKICAgIHNhbHRfY2FsbF9wYXRoID0gb3MucGF0aC5qb2luKE9QVElP
TlMuc2FsdGRpciwgJ3NhbHQtY2FsbCcpCiAgICBpZiBub3Qgb3MucGF0aC5pc2ZpbGUoc2FsdF9j
YWxsX3BhdGgpOgogICAgICAgIHN5cy5zdGRlcnIud3JpdGUoJ0VSUk9SOiB0aGluIGlzIG1pc3Np
bmcgInswfSJcbicuZm9ybWF0KHNhbHRfY2FsbF9wYXRoKSkKICAgICAgICBuZWVkX2RlcGxveW1l
bnQoKQoKICAgIHdpdGggb3Blbihvcy5wYXRoLmpvaW4oT1BUSU9OUy5zYWx0ZGlyLCAnbWluaW9u
JyksICd3JykgYXMgY29uZmlnOgogICAgICAgIGNvbmZpZy53cml0ZShPUFRJT05TLmNvbmZpZyAr
ICdcbicpCiAgICBpZiBPUFRJT05TLmV4dF9tb2RzOgogICAgICAgIGV4dF9wYXRoID0gb3MucGF0
aC5qb2luKE9QVElPTlMuc2FsdGRpciwgRVhUX0FSQ0hJVkUpCiAgICAgICAgaWYgb3MucGF0aC5l
eGlzdHMoZXh0X3BhdGgpOgogICAgICAgICAgICB1bnBhY2tfZXh0KGV4dF9wYXRoKQogICAgICAg
IGVsc2U6CiAgICAgICAgICAgIHZlcnNpb25fcGF0aCA9IG9zLnBhdGguam9pbihPUFRJT05TLnNh
bHRkaXIsICdleHRfdmVyc2lvbicpCiAgICAgICAgICAgIGlmIG5vdCBvcy5wYXRoLmV4aXN0cyh2
ZXJzaW9uX3BhdGgpIG9yIG5vdCBvcy5wYXRoLmlzZmlsZSh2ZXJzaW9uX3BhdGgpOgogICAgICAg
ICAgICAgICAgbmVlZF9leHQoKQogICAgICAgICAgICB3aXRoIG9wZW4odmVyc2lvbl9wYXRoLCAn
cicpIGFzIHZwbzoKICAgICAgICAgICAgICAgIGN1cl92ZXJzaW9uID0gdnBvLnJlYWRsaW5lKCku
c3RyaXAoKQogICAgICAgICAgICBpZiBjdXJfdmVyc2lvbiAhPSBPUFRJT05TLmV4dF9tb2RzOgog
ICAgICAgICAgICAgICAgbmVlZF9leHQoKQogICAgIyBGaXggcGFyYW1ldGVyIHBhc3NpbmcgaXNz
dWUKICAgIGlmIGxlbihBUkdTKSA9PSAxOgogICAgICAgIGFyZ3ZfcHJlcGFyZWQgPSBBUkdTWzBd
LnNwbGl0KCkKICAgIGVsc2U6CiAgICAgICAgYXJndl9wcmVwYXJlZCA9IEFSR1MKCiAgICBzYWx0
X2FyZ3YgPSBbCiAgICAgICAgc3lzLmV4ZWN1dGFibGUsCiAgICAgICAgc2FsdF9jYWxsX3BhdGgs
CiAgICAgICAgJy0tcmV0Y29kZS1wYXNzdGhyb3VnaCcsCiAgICAgICAgJy0tbG9jYWwnLAogICAg
ICAgICctLW1ldGFkYXRhJywKICAgICAgICAnLS1vdXQnLCAnanNvbicsCiAgICAgICAgJy1sJywg
J3F1aWV0JywKICAgICAgICAnLWMnLCBPUFRJT05TLnNhbHRkaXIsCiAgICAgICAgJy0tJywKICAg
IF0gKyBhcmd2X3ByZXBhcmVkCgogICAgc3lzLnN0ZGVyci53cml0ZSgnU0FMVF9BUkdWOiB7MH1c
bicuZm9ybWF0KHNhbHRfYXJndikpCgogICAgIyBPbmx5IGVtaXQgdGhlIGRlbGltaXRlciBvbiAq
Ym90aCogc3Rkb3V0IGFuZCBzdGRlcnIgd2hlbiBjb21wbGV0ZWx5IHN1Y2Nlc3NmdWwuCiAgICAj
IFllcywgdGhlIGZsdXNoKCkgaXMgbmVjZXNzYXJ5LgogICAgc3lzLnN0ZG91dC53cml0ZShPUFRJ
T05TLmRlbGltaXRlciArICdcbicpCiAgICBzeXMuc3Rkb3V0LmZsdXNoKCkKICAgIGlmIG5vdCBP
UFRJT05TLnR0eToKICAgICAgICBzeXMuc3RkZXJyLndyaXRlKE9QVElPTlMuZGVsaW1pdGVyICsg
J1xuJykKICAgICAgICBzeXMuc3RkZXJyLmZsdXNoKCkKICAgIGlmIE9QVElPTlMuY21kX3VtYXNr
IGlzIG5vdCBOb25lOgogICAgICAgIG9sZF91bWFzayA9IG9zLnVtYXNrKE9QVElPTlMuY21kX3Vt
YXNrKQogICAgaWYgT1BUSU9OUy50dHk6CiAgICAgICAgc3Rkb3V0LCBfID0gc3VicHJvY2Vzcy5Q
b3BlbihzYWx0X2FyZ3YsIHN0ZG91dD1zdWJwcm9jZXNzLlBJUEUsIHN0ZGVycj1zdWJwcm9jZXNz
LlBJUEUpLmNvbW11bmljYXRlKCkKICAgICAgICBzeXMuc3Rkb3V0LndyaXRlKHN0ZG91dCkKICAg
ICAgICBzeXMuc3Rkb3V0LmZsdXNoKCkKICAgICAgICBpZiBPUFRJT05TLndpcGU6CiAgICAgICAg
ICAgIHNodXRpbC5ybXRyZWUoT1BUSU9OUy5zYWx0ZGlyKQogICAgZWxpZiBPUFRJT05TLndpcGU6
CiAgICAgICAgc3VicHJvY2Vzcy5jYWxsKHNhbHRfYXJndikKICAgICAgICBzaHV0aWwucm10cmVl
KE9QVElPTlMuc2FsdGRpcikKICAgIGVsc2U6CiAgICAgICAgb3MuZXhlY3Yoc3lzLmV4ZWN1dGFi
bGUsIHNhbHRfYXJndikKICAgIGlmIE9QVElPTlMuY21kX3VtYXNrIGlzIG5vdCBOb25lOgogICAg
ICAgIG9zLnVtYXNrKG9sZF91bWFzaykKCmlmIF9fbmFtZV9fID09ICdfX21haW5fXyc6CiAgICBz
eXMuZXhpdChtYWluKHN5cy5hcmd2KSkK
""").decode("utf-8"))'

2016-08-27 20:51:53,139 [salt.client.ssh  ][DEBUG   ][7069] RETCODE 127.0.0.1: 11
2016-08-27 20:51:53,141 [salt.client.ssh  ][DEBUG   ][7069] SHIM retcode(11) and command: deploy
2016-08-27 20:51:53,142 [salt.client.ssh.shell][DEBUG   ][7069] Executing command: scp   -o KbdInteractiveAuthentication=no -o PasswordAuthentication=yes -o GSSAPIAuthentication=no -o ConnectTimeout=65 -o Port=22 -o IdentityFile=/root/saltstack_master/etc/salt/pki/master/ssh/salt-ssh.rsa -o User=******  /root/saltstack_master/var/cache/salt/master/thin/thin.tgz 127.0.0.1:/var/tmp/.******_1a3532_salt/salt-thin.tgz
2016-08-27 20:51:53,145 [salt.utils.vt    ][DEBUG   ][7069] Child Forked! PID: 7092  STDOUT_FD: 9  STDERR_FD: 11
2016-08-27 20:51:53,149 [salt.utils.vt    ][DEBUG   ][7069] Terminal Command: /bin/sh -c scp   -o KbdInteractiveAuthentication=no -o PasswordAuthentication=yes -o GSSAPIAuthentication=no -o ConnectTimeout=65 -o Port=22 -o IdentityFile=/root/saltstack_master/etc/salt/pki/master/ssh/salt-ssh.rsa -o User=salt-ope  /root/saltstack_master/var/cache/salt/master/thin/thin.tgz 127.0.0.1:/var/tmp/.salt-ope_1a3532_salt/salt-thin.tgz
2016-08-27 20:51:53,221 [salt.utils.vt.Terminal.PID-7092.STDOUT][TRACE   ][7069] salt-ope@127.0.0.1's password:
2016-08-27 20:51:53,393 [salt.utils.vt.Terminal.PID-7092.STDOUT][TRACE   ][7069] thin.tgz                                        0%    0     0.0KB/s   --:-- ETA
2016-08-27 20:51:53,506 [salt.utils.vt.Terminal.PID-7092.STDOUT][TRACE   ][7069] thin.tgz                                      100% 3657KB   3.6MB/s   00:00
2016-08-27 20:51:53,728 [salt.client.ssh.shell][DEBUG   ][7069] Executed SHIM command. Command logged to TRACE
2016-08-27 20:51:53,728 [salt.client.ssh.shell][TRACE   ][7069] Executing command: ssh 127.0.0.1  -o KbdInteractiveAuthentication=no -o PasswordAuthentication=yes -o GSSAPIAuthentication=no -o ConnectTimeout=65 -o Port=22 -o IdentityFile=/root/saltstack_master/etc/salt/pki/master/ssh/salt-ssh.rsa -o User=******  /bin/sh << 'EOF'
set -e
set -u
DEBUG="1"
if [ -n "$DEBUG" ]
then set -x
fi
SUDO=""
if [ -n "sudo" ]
then SUDO="sudo "
fi
EX_PYTHON_INVALID=10
PYTHON_CMDS="python3 python27 python2.7 python26 python2.6 python2 python"
for py_cmd in $PYTHON_CMDS
do
if command -v "$py_cmd" >/dev/null 2>&1 && "$py_cmd" -c \
"import sys; sys.exit(not (sys.version_info >= (2, 6)
and sys.version_info[0] == 2));"
then
py_cmd_path=`"$py_cmd" -c \
'from __future__ import print_function;
import sys; print(sys.executable);'`
cmdpath=$(which $py_cmd 2>&1)
if file $cmdpath | grep "shell script" > /dev/null
then
ex_vars="'PATH', 'LD_LIBRARY_PATH', 'MANPATH', \
'XDG_DATA_DIRS', 'PKG_CONFIG_PATH'"
export $($py_cmd -c \
"from __future__ import print_function;
import sys;
import os;
map(sys.stdout.write, ['{0}={1} ' \
.format(x, os.environ[x]) for x in [$ex_vars]])")
exec $SUDO PATH=$PATH LD_LIBRARY_PATH=$LD_LIBRARY_PATH \
MANPATH=$MANPATH XDG_DATA_DIRS=$XDG_DATA_DIRS \
PKG_CONFIG_PATH=$PKG_CONFIG_PATH \
"$py_cmd_path" -c \
'import base64;
exec(base64.b64decode("""IyBweWxpbnQ6IGRpc2FibGU9Vzk5MDMKJycnClRoaXMgaXMgYSBzaGltIHRoYXQgaGFuZGxlcyBj
aGVja2luZyBhbmQgdXBkYXRpbmcgc2FsdCB0aGluIGFuZAp0aGVuIGludm9raW5nIHRoaW4uCgpU
aGlzIGlzIG5vdCBpbnRlbmRlZCB0byBiZSBpbnN0YW50aWF0ZWQgYXMgYSBtb2R1bGUsIHJhdGhl
ciBpdCBpcyBhCmhlbHBlciBzY3JpcHQgdXNlZCBieSBzYWx0LmNsaWVudC5zc2guU2luZ2xlLiAg
SXQgaXMgaGVyZSwgaW4gYQpzZXBhcmF0ZSBmaWxlLCBmb3IgY29udmVuaWVuY2Ugb2YgZGV2ZWxv
cG1lbnQuCicnJwoKZnJvbSBfX2Z1dHVyZV9fIGltcG9ydCBhYnNvbHV0ZV9pbXBvcnQKCmltcG9y
dCBoYXNobGliCmltcG9ydCB0YXJmaWxlCmltcG9ydCBzaHV0aWwKaW1wb3J0IHN5cwppbXBvcnQg
b3MKaW1wb3J0IHN0YXQKaW1wb3J0IHN1YnByb2Nlc3MKClRISU5fQVJDSElWRSA9ICdzYWx0LXRo
aW4udGd6JwpFWFRfQVJDSElWRSA9ICdzYWx0LWV4dF9tb2RzLnRneicKCiMgS2VlcCB0aGVzZSBp
biBzeW5jIHdpdGggc2FsdC9kZWZhdWx0cy9leGl0Y29kZXMucHkKRVhfVEhJTl9ERVBMT1kgPSAx
MQpFWF9USElOX0NIRUNLU1VNID0gMTIKRVhfTU9EX0RFUExPWSA9IDEzCkVYX1NDUF9OT1RfRk9V
TkQgPSAxNApFWF9DQU5UQ1JFQVQgPSA3MwoKCmNsYXNzIE9CSihvYmplY3QpOgogICAgIiIiQW4g
ZW1wdHkgY2xhc3MgZm9yIGhvbGRpbmcgaW5zdGFuY2UgYXR0cmlidXRlIHZhbHVlcy4iIiIKICAg
IHBhc3MKCgpPUFRJT05TID0gTm9uZQpBUkdTID0gTm9uZQojIFRoZSBiZWxvdyBsaW5lIGlzIHdo
ZXJlIE9QVElPTlMgY2FuIGJlIHJlZGVmaW5lZCB3aXRoIGludGVybmFsIG9wdGlvbnMKIyAocmF0
aGVyIHRoYW4gY2xpIGFyZ3VtZW50cykgd2hlbiB0aGUgc2hpbSBpcyBidW5kbGVkIGJ5CiMgY2xp
ZW50LnNzaC5TaW5nbGUuX2NtZF9zdHIoKQojIHB5bGludDogZGlzYWJsZT1ibG9jay1jb21tZW50
LXNob3VsZC1zdGFydC13aXRoLWNhcmRpbmFsLXNwYWNlCgpPUFRJT05TID0gT0JKKCkKT1BUSU9O
Uy5jb25maWcgPSAiIiIKe2ZpbGVzZXJ2ZXJfbGlzdF9jYWNoZV90aW1lOiAzLCBncmFpbnNfY2Fj
aGU6IHRydWUsIGlkOiBsb2NhbCwgbG9nX2ZpbGU6IHNhbHQtY2FsbC5sb2csCiAgcm9vdF9kaXI6
IC92YXIvdG1wLy5zYWx0LW9wZV8xYTM1MzJfc2FsdC9ydW5uaW5nX2RhdGEsIHNvY2tfZGlyOiAv
fQoiIiIKT1BUSU9OUy5kZWxpbWl0ZXIgPSAnX2VkYmM3ODg1ZTRmOWFhYzliODNiMzU5OTliNjhk
MDE1MTQ4Y2FmNDY3Yjc4ZmEzOWMwNWY2NjljMGZmODk4NzgnCk9QVElPTlMuc2FsdGRpciA9ICcv
dmFyL3RtcC8uc2FsdC1vcGVfMWEzNTMyX3NhbHQnCk9QVElPTlMuY2hlY2tzdW0gPSAnMmUyNWZj
YmI2YWEyNTU5OWQ1MmU4OTVkZTZlMjExOTZkNWM2ZTU5NScKT1BUSU9OUy5oYXNoZnVuYyA9ICdz
aGExJwpPUFRJT05TLnZlcnNpb24gPSAnMjAxNi4zLjInCk9QVElPTlMuZXh0X21vZHMgPSAnJwpP
UFRJT05TLndpcGUgPSBGYWxzZQpPUFRJT05TLnR0eSA9IEZhbHNlCk9QVElPTlMuY21kX3VtYXNr
ID0gTm9uZQpBUkdTID0gWyd0ZXN0Lm9wdHNfcGtnJ10KCgoKZGVmIG5lZWRfZGVwbG95bWVudCgp
OgogICAgIiIiCiAgICBTYWx0IHRoaW4gbmVlZHMgdG8gYmUgZGVwbG95ZWQgLSBwcmVwIHRoZSB0
YXJnZXQgZGlyZWN0b3J5IGFuZCBlbWl0IHRoZQogICAgZGVsaW1ldGVyIGFuZCBleGl0IGNvZGUg
dGhhdCBzaWduYWxzIGEgcmVxdWlyZWQgZGVwbG95bWVudC4KICAgICIiIgogICAgaWYgb3MucGF0
aC5leGlzdHMoT1BUSU9OUy5zYWx0ZGlyKToKICAgICAgICBzaHV0aWwucm10cmVlKE9QVElPTlMu
c2FsdGRpcikKICAgIG9sZF91bWFzayA9IG9zLnVtYXNrKDBvMDc3KQogICAgb3MubWFrZWRpcnMo
T1BUSU9OUy5zYWx0ZGlyKQogICAgb3MudW1hc2sob2xkX3VtYXNrKQogICAgIyBWZXJpZnkgcGVy
bXMgb24gc2FsdGRpcgogICAgZXVpZCA9IG9zLmdldGV1aWQoKQogICAgZHN0YXQgPSBvcy5zdGF0
KE9QVElPTlMuc2FsdGRpcikKICAgIGlmIGRzdGF0LnN0X3VpZCAhPSBldWlkOgogICAgICAgICMg
QXR0YWNrIGRldGVjdGVkLCB0cnkgYWdhaW4KICAgICAgICBuZWVkX2RlcGxveW1lbnQoKQogICAg
aWYgZHN0YXQuc3RfbW9kZSAhPSAxNjgzMjoKICAgICAgICAjIEF0dGFjayBkZXRlY3RlZAogICAg
ICAgIG5lZWRfZGVwbG95bWVudCgpCiAgICAjIElmIFNVRE9pbmcgdGhlbiBhbHNvIGdpdmUgdGhl
IHN1cGVyIHVzZXIgZ3JvdXAgd3JpdGUgcGVybWlzc2lvbnMKICAgIHN1ZG9fZ2lkID0gb3MuZW52
aXJvbi5nZXQoJ1NVRE9fR0lEJykKICAgIGlmIHN1ZG9fZ2lkOgogICAgICAgIG9zLmNob3duKE9Q
VElPTlMuc2FsdGRpciwgLTEsIGludChzdWRvX2dpZCkpCiAgICAgICAgc3R0ID0gb3Muc3RhdChP
UFRJT05TLnNhbHRkaXIpCiAgICAgICAgb3MuY2htb2QoT1BUSU9OUy5zYWx0ZGlyLCBzdHQuc3Rf
bW9kZSB8IHN0YXQuU19JV0dSUCB8IHN0YXQuU19JUkdSUCB8IHN0YXQuU19JWEdSUCkKCiAgICAj
IERlbGltaXRlciBlbWl0dGVkIG9uIHN0ZG91dCAqb25seSogdG8gaW5kaWNhdGUgc2hpbSBtZXNz
YWdlIHRvIG1hc3Rlci4KICAgIHN5cy5zdGRvdXQud3JpdGUoInswfVxuZGVwbG95XG4iLmZvcm1h
dChPUFRJT05TLmRlbGltaXRlcikpCiAgICBzeXMuZXhpdChFWF9USElOX0RFUExPWSkKCgojIEFk
YXB0ZWQgZnJvbSBzYWx0LnV0aWxzLmdldF9oYXNoKCkKZGVmIGdldF9oYXNoKHBhdGgsIGZvcm09
J3NoYTEnLCBjaHVua19zaXplPTQwOTYpOgogICAgIiIiR2VuZXJhdGUgYSBoYXNoIGRpZ2VzdCBz
dHJpbmcgZm9yIGEgZmlsZS4iIiIKICAgIHRyeToKICAgICAgICBoYXNoX3R5cGUgPSBnZXRhdHRy
KGhhc2hsaWIsIGZvcm0pCiAgICBleGNlcHQgQXR0cmlidXRlRXJyb3I6CiAgICAgICAgcmFpc2Ug
VmFsdWVFcnJvcignSW52YWxpZCBoYXNoIHR5cGU6IHswfScuZm9ybWF0KGZvcm0pKQogICAgd2l0
aCBvcGVuKHBhdGgsICdyYicpIGFzIGlmaWxlOgogICAgICAgIGhhc2hfb2JqID0gaGFzaF90eXBl
KCkKICAgICAgICAjIHJlYWQgdGhlIGZpbGUgaW4gaW4gY2h1bmtzLCBub3QgdGhlIGVudGlyZSBm
aWxlCiAgICAgICAgZm9yIGNodW5rIGluIGl0ZXIobGFtYmRhOiBpZmlsZS5yZWFkKGNodW5rX3Np
emUpLCBiJycpOgogICAgICAgICAgICBoYXNoX29iai51cGRhdGUoY2h1bmspCiAgICAgICAgcmV0
dXJuIGhhc2hfb2JqLmhleGRpZ2VzdCgpCgoKZGVmIHVucGFja190aGluKHRoaW5fcGF0aCk6CiAg
ICAiIiJVbnBhY2sgdGhlIFNhbHQgdGhpbiBhcmNoaXZlLiIiIgogICAgdGZpbGUgPSB0YXJmaWxl
LlRhckZpbGUuZ3pvcGVuKHRoaW5fcGF0aCkKICAgIG9sZF91bWFzayA9IG9zLnVtYXNrKDBvMDc3
KQogICAgdGZpbGUuZXh0cmFjdGFsbChwYXRoPU9QVElPTlMuc2FsdGRpcikKICAgIHRmaWxlLmNs
b3NlKCkKICAgIG9zLnVtYXNrKG9sZF91bWFzaykKICAgIG9zLnVubGluayh0aGluX3BhdGgpCgoK
ZGVmIG5lZWRfZXh0KCk6CiAgICAiIiJTaWduYWwgdGhhdCBleHRlcm5hbCBtb2R1bGVzIG5lZWQg
dG8gYmUgZGVwbG95ZWQuIiIiCiAgICBzeXMuc3Rkb3V0LndyaXRlKCJ7MH1cbmV4dF9tb2RzXG4i
LmZvcm1hdChPUFRJT05TLmRlbGltaXRlcikpCiAgICBzeXMuZXhpdChFWF9NT0RfREVQTE9ZKQoK
CmRlZiB1bnBhY2tfZXh0KGV4dF9wYXRoKToKICAgICIiIlVucGFjayB0aGUgZXh0ZXJuYWwgbW9k
dWxlcy4iIiIKICAgIG1vZGNhY2hlID0gb3MucGF0aC5qb2luKAogICAgICAgICAgICBPUFRJT05T
LnNhbHRkaXIsCiAgICAgICAgICAgICdydW5uaW5nX2RhdGEnLAogICAgICAgICAgICAndmFyJywK
ICAgICAgICAgICAgJ2NhY2hlJywKICAgICAgICAgICAgJ3NhbHQnLAogICAgICAgICAgICAnbWlu
aW9uJywKICAgICAgICAgICAgJ2V4dG1vZHMnKQogICAgdGZpbGUgPSB0YXJmaWxlLlRhckZpbGUu
Z3pvcGVuKGV4dF9wYXRoKQogICAgb2xkX3VtYXNrID0gb3MudW1hc2soMG8wNzcpCiAgICB0Zmls
ZS5leHRyYWN0YWxsKHBhdGg9bW9kY2FjaGUpCiAgICB0ZmlsZS5jbG9zZSgpCiAgICBvcy51bWFz
ayhvbGRfdW1hc2spCiAgICBvcy51bmxpbmsoZXh0X3BhdGgpCiAgICB2ZXJfcGF0aCA9IG9zLnBh
dGguam9pbihtb2RjYWNoZSwgJ2V4dF92ZXJzaW9uJykKICAgIHZlcl9kc3QgPSBvcy5wYXRoLmpv
aW4oT1BUSU9OUy5zYWx0ZGlyLCAnZXh0X3ZlcnNpb24nKQogICAgc2h1dGlsLm1vdmUodmVyX3Bh
dGgsIHZlcl9kc3QpCgoKZGVmIG1haW4oYXJndik6ICAjIHB5bGludDogZGlzYWJsZT1XMDYxMwog
ICAgIiIiTWFpbiBwcm9ncmFtIGJvZHkiIiIKICAgIHRoaW5fcGF0aCA9IG9zLnBhdGguam9pbihP
UFRJT05TLnNhbHRkaXIsIFRISU5fQVJDSElWRSkKICAgIGlmIG9zLnBhdGguaXNmaWxlKHRoaW5f
cGF0aCk6CiAgICAgICAgaWYgT1BUSU9OUy5jaGVja3N1bSAhPSBnZXRfaGFzaCh0aGluX3BhdGgs
IE9QVElPTlMuaGFzaGZ1bmMpOgogICAgICAgICAgICBzeXMuc3RkZXJyLndyaXRlKCd7MH1cbicu
Zm9ybWF0KE9QVElPTlMuY2hlY2tzdW0pKQogICAgICAgICAgICBzeXMuc3RkZXJyLndyaXRlKCd7
MH1cbicuZm9ybWF0KGdldF9oYXNoKHRoaW5fcGF0aCwgT1BUSU9OUy5oYXNoZnVuYykpKQogICAg
ICAgICAgICBvcy51bmxpbmsodGhpbl9wYXRoKQogICAgICAgICAgICBzeXMuc3RkZXJyLndyaXRl
KCdXQVJOSU5HOiBjaGVja3N1bSBtaXNtYXRjaCBmb3IgInswfSJcbicuZm9ybWF0KHRoaW5fcGF0
aCkpCiAgICAgICAgICAgIHN5cy5leGl0KEVYX1RISU5fQ0hFQ0tTVU0pCiAgICAgICAgdW5wYWNr
X3RoaW4odGhpbl9wYXRoKQogICAgICAgICMgU2FsdCB0aGluIG5vdyBpcyBhdmFpbGFibGUgdG8g
dXNlCiAgICBlbHNlOgogICAgICAgIHNjcHN0YXQgPSBzdWJwcm9jZXNzLlBvcGVuKFsnL2Jpbi9z
aCcsICctYycsICdjb21tYW5kIC12IHNjcCddKS53YWl0KCkKICAgICAgICBpZiBzY3BzdGF0ICE9
IDA6CiAgICAgICAgICAgIHN5cy5leGl0KEVYX1NDUF9OT1RfRk9VTkQpCgogICAgICAgIGlmIG5v
dCBvcy5wYXRoLmV4aXN0cyhPUFRJT05TLnNhbHRkaXIpOgogICAgICAgICAgICBuZWVkX2RlcGxv
eW1lbnQoKQoKICAgICAgICBpZiBub3Qgb3MucGF0aC5pc2RpcihPUFRJT05TLnNhbHRkaXIpOgog
ICAgICAgICAgICBzeXMuc3RkZXJyLndyaXRlKAogICAgICAgICAgICAgICAgJ0VSUk9SOiBzYWx0
IHBhdGggInswfSIgZXhpc3RzIGJ1dCBpcycKICAgICAgICAgICAgICAgICcgbm90IGEgZGlyZWN0
b3J5XG4nLmZvcm1hdChPUFRJT05TLnNhbHRkaXIpCiAgICAgICAgICAgICkKICAgICAgICAgICAg
c3lzLmV4aXQoRVhfQ0FOVENSRUFUKQoKICAgICAgICB2ZXJzaW9uX3BhdGggPSBvcy5wYXRoLmpv
aW4oT1BUSU9OUy5zYWx0ZGlyLCAndmVyc2lvbicpCiAgICAgICAgaWYgbm90IG9zLnBhdGguZXhp
c3RzKHZlcnNpb25fcGF0aCkgb3Igbm90IG9zLnBhdGguaXNmaWxlKHZlcnNpb25fcGF0aCk6CiAg
ICAgICAgICAgIHN5cy5zdGRlcnIud3JpdGUoCiAgICAgICAgICAgICAgICAnV0FSTklORzogVW5h
YmxlIHRvIGxvY2F0ZSBjdXJyZW50IHRoaW4gJwogICAgICAgICAgICAgICAgJyB2ZXJzaW9uOiB7
MH0uXG4nLmZvcm1hdCh2ZXJzaW9uX3BhdGgpCiAgICAgICAgICAgICkKICAgICAgICAgICAgbmVl
ZF9kZXBsb3ltZW50KCkKICAgICAgICB3aXRoIG9wZW4odmVyc2lvbl9wYXRoLCAncicpIGFzIHZw
bzoKICAgICAgICAgICAgY3VyX3ZlcnNpb24gPSB2cG8ucmVhZGxpbmUoKS5zdHJpcCgpCiAgICAg
ICAgaWYgY3VyX3ZlcnNpb24gIT0gT1BUSU9OUy52ZXJzaW9uOgogICAgICAgICAgICBzeXMuc3Rk
ZXJyLndyaXRlKAogICAgICAgICAgICAgICAgJ1dBUk5JTkc6IGN1cnJlbnQgdGhpbiB2ZXJzaW9u
IHswfScKICAgICAgICAgICAgICAgICcgaXMgbm90IHVwLXRvLWRhdGUgd2l0aCB7MX0uXG4nLmZv
cm1hdCgKICAgICAgICAgICAgICAgICAgICBjdXJfdmVyc2lvbiwgT1BUSU9OUy52ZXJzaW9uCiAg
ICAgICAgICAgICAgICApCiAgICAgICAgICAgICkKICAgICAgICAgICAgbmVlZF9kZXBsb3ltZW50
KCkKICAgICAgICAjIFNhbHQgdGhpbiBleGlzdHMgYW5kIGlzIHVwLXRvLWRhdGUgLSBmYWxsIHRo
cm91Z2ggYW5kIHVzZSBpdAoKICAgIHNhbHRfY2FsbF9wYXRoID0gb3MucGF0aC5qb2luKE9QVElP
TlMuc2FsdGRpciwgJ3NhbHQtY2FsbCcpCiAgICBpZiBub3Qgb3MucGF0aC5pc2ZpbGUoc2FsdF9j
YWxsX3BhdGgpOgogICAgICAgIHN5cy5zdGRlcnIud3JpdGUoJ0VSUk9SOiB0aGluIGlzIG1pc3Np
bmcgInswfSJcbicuZm9ybWF0KHNhbHRfY2FsbF9wYXRoKSkKICAgICAgICBuZWVkX2RlcGxveW1l
bnQoKQoKICAgIHdpdGggb3Blbihvcy5wYXRoLmpvaW4oT1BUSU9OUy5zYWx0ZGlyLCAnbWluaW9u
JyksICd3JykgYXMgY29uZmlnOgogICAgICAgIGNvbmZpZy53cml0ZShPUFRJT05TLmNvbmZpZyAr
ICdcbicpCiAgICBpZiBPUFRJT05TLmV4dF9tb2RzOgogICAgICAgIGV4dF9wYXRoID0gb3MucGF0
aC5qb2luKE9QVElPTlMuc2FsdGRpciwgRVhUX0FSQ0hJVkUpCiAgICAgICAgaWYgb3MucGF0aC5l
eGlzdHMoZXh0X3BhdGgpOgogICAgICAgICAgICB1bnBhY2tfZXh0KGV4dF9wYXRoKQogICAgICAg
IGVsc2U6CiAgICAgICAgICAgIHZlcnNpb25fcGF0aCA9IG9zLnBhdGguam9pbihPUFRJT05TLnNh
bHRkaXIsICdleHRfdmVyc2lvbicpCiAgICAgICAgICAgIGlmIG5vdCBvcy5wYXRoLmV4aXN0cyh2
ZXJzaW9uX3BhdGgpIG9yIG5vdCBvcy5wYXRoLmlzZmlsZSh2ZXJzaW9uX3BhdGgpOgogICAgICAg
ICAgICAgICAgbmVlZF9leHQoKQogICAgICAgICAgICB3aXRoIG9wZW4odmVyc2lvbl9wYXRoLCAn
cicpIGFzIHZwbzoKICAgICAgICAgICAgICAgIGN1cl92ZXJzaW9uID0gdnBvLnJlYWRsaW5lKCku
c3RyaXAoKQogICAgICAgICAgICBpZiBjdXJfdmVyc2lvbiAhPSBPUFRJT05TLmV4dF9tb2RzOgog
ICAgICAgICAgICAgICAgbmVlZF9leHQoKQogICAgIyBGaXggcGFyYW1ldGVyIHBhc3NpbmcgaXNz
dWUKICAgIGlmIGxlbihBUkdTKSA9PSAxOgogICAgICAgIGFyZ3ZfcHJlcGFyZWQgPSBBUkdTWzBd
LnNwbGl0KCkKICAgIGVsc2U6CiAgICAgICAgYXJndl9wcmVwYXJlZCA9IEFSR1MKCiAgICBzYWx0
X2FyZ3YgPSBbCiAgICAgICAgc3lzLmV4ZWN1dGFibGUsCiAgICAgICAgc2FsdF9jYWxsX3BhdGgs
CiAgICAgICAgJy0tcmV0Y29kZS1wYXNzdGhyb3VnaCcsCiAgICAgICAgJy0tbG9jYWwnLAogICAg
ICAgICctLW1ldGFkYXRhJywKICAgICAgICAnLS1vdXQnLCAnanNvbicsCiAgICAgICAgJy1sJywg
J3F1aWV0JywKICAgICAgICAnLWMnLCBPUFRJT05TLnNhbHRkaXIsCiAgICAgICAgJy0tJywKICAg
IF0gKyBhcmd2X3ByZXBhcmVkCgogICAgc3lzLnN0ZGVyci53cml0ZSgnU0FMVF9BUkdWOiB7MH1c
bicuZm9ybWF0KHNhbHRfYXJndikpCgogICAgIyBPbmx5IGVtaXQgdGhlIGRlbGltaXRlciBvbiAq
Ym90aCogc3Rkb3V0IGFuZCBzdGRlcnIgd2hlbiBjb21wbGV0ZWx5IHN1Y2Nlc3NmdWwuCiAgICAj
IFllcywgdGhlIGZsdXNoKCkgaXMgbmVjZXNzYXJ5LgogICAgc3lzLnN0ZG91dC53cml0ZShPUFRJ
T05TLmRlbGltaXRlciArICdcbicpCiAgICBzeXMuc3Rkb3V0LmZsdXNoKCkKICAgIGlmIG5vdCBP
UFRJT05TLnR0eToKICAgICAgICBzeXMuc3RkZXJyLndyaXRlKE9QVElPTlMuZGVsaW1pdGVyICsg
J1xuJykKICAgICAgICBzeXMuc3RkZXJyLmZsdXNoKCkKICAgIGlmIE9QVElPTlMuY21kX3VtYXNr
IGlzIG5vdCBOb25lOgogICAgICAgIG9sZF91bWFzayA9IG9zLnVtYXNrKE9QVElPTlMuY21kX3Vt
YXNrKQogICAgaWYgT1BUSU9OUy50dHk6CiAgICAgICAgc3Rkb3V0LCBfID0gc3VicHJvY2Vzcy5Q
b3BlbihzYWx0X2FyZ3YsIHN0ZG91dD1zdWJwcm9jZXNzLlBJUEUsIHN0ZGVycj1zdWJwcm9jZXNz
LlBJUEUpLmNvbW11bmljYXRlKCkKICAgICAgICBzeXMuc3Rkb3V0LndyaXRlKHN0ZG91dCkKICAg
ICAgICBzeXMuc3Rkb3V0LmZsdXNoKCkKICAgICAgICBpZiBPUFRJT05TLndpcGU6CiAgICAgICAg
ICAgIHNodXRpbC5ybXRyZWUoT1BUSU9OUy5zYWx0ZGlyKQogICAgZWxpZiBPUFRJT05TLndpcGU6
CiAgICAgICAgc3VicHJvY2Vzcy5jYWxsKHNhbHRfYXJndikKICAgICAgICBzaHV0aWwucm10cmVl
KE9QVElPTlMuc2FsdGRpcikKICAgIGVsc2U6CiAgICAgICAgb3MuZXhlY3Yoc3lzLmV4ZWN1dGFi
bGUsIHNhbHRfYXJndikKICAgIGlmIE9QVElPTlMuY21kX3VtYXNrIGlzIG5vdCBOb25lOgogICAg
ICAgIG9zLnVtYXNrKG9sZF91bWFzaykKCmlmIF9fbmFtZV9fID09ICdfX21haW5fXyc6CiAgICBz
eXMuZXhpdChtYWluKHN5cy5hcmd2KSkK
""").decode("utf-8"))'
else
exec $SUDO "$py_cmd_path" -c \
'import base64;
exec(base64.b64decode("""IyBweWxpbnQ6IGRpc2FibGU9Vzk5MDMKJycnClRoaXMgaXMgYSBzaGltIHRoYXQgaGFuZGxlcyBj
aGVja2luZyBhbmQgdXBkYXRpbmcgc2FsdCB0aGluIGFuZAp0aGVuIGludm9raW5nIHRoaW4uCgpU
aGlzIGlzIG5vdCBpbnRlbmRlZCB0byBiZSBpbnN0YW50aWF0ZWQgYXMgYSBtb2R1bGUsIHJhdGhl
ciBpdCBpcyBhCmhlbHBlciBzY3JpcHQgdXNlZCBieSBzYWx0LmNsaWVudC5zc2guU2luZ2xlLiAg
SXQgaXMgaGVyZSwgaW4gYQpzZXBhcmF0ZSBmaWxlLCBmb3IgY29udmVuaWVuY2Ugb2YgZGV2ZWxv
cG1lbnQuCicnJwoKZnJvbSBfX2Z1dHVyZV9fIGltcG9ydCBhYnNvbHV0ZV9pbXBvcnQKCmltcG9y
dCBoYXNobGliCmltcG9ydCB0YXJmaWxlCmltcG9ydCBzaHV0aWwKaW1wb3J0IHN5cwppbXBvcnQg
b3MKaW1wb3J0IHN0YXQKaW1wb3J0IHN1YnByb2Nlc3MKClRISU5fQVJDSElWRSA9ICdzYWx0LXRo
aW4udGd6JwpFWFRfQVJDSElWRSA9ICdzYWx0LWV4dF9tb2RzLnRneicKCiMgS2VlcCB0aGVzZSBp
biBzeW5jIHdpdGggc2FsdC9kZWZhdWx0cy9leGl0Y29kZXMucHkKRVhfVEhJTl9ERVBMT1kgPSAx
MQpFWF9USElOX0NIRUNLU1VNID0gMTIKRVhfTU9EX0RFUExPWSA9IDEzCkVYX1NDUF9OT1RfRk9V
TkQgPSAxNApFWF9DQU5UQ1JFQVQgPSA3MwoKCmNsYXNzIE9CSihvYmplY3QpOgogICAgIiIiQW4g
ZW1wdHkgY2xhc3MgZm9yIGhvbGRpbmcgaW5zdGFuY2UgYXR0cmlidXRlIHZhbHVlcy4iIiIKICAg
IHBhc3MKCgpPUFRJT05TID0gTm9uZQpBUkdTID0gTm9uZQojIFRoZSBiZWxvdyBsaW5lIGlzIHdo
ZXJlIE9QVElPTlMgY2FuIGJlIHJlZGVmaW5lZCB3aXRoIGludGVybmFsIG9wdGlvbnMKIyAocmF0
aGVyIHRoYW4gY2xpIGFyZ3VtZW50cykgd2hlbiB0aGUgc2hpbSBpcyBidW5kbGVkIGJ5CiMgY2xp
ZW50LnNzaC5TaW5nbGUuX2NtZF9zdHIoKQojIHB5bGludDogZGlzYWJsZT1ibG9jay1jb21tZW50
LXNob3VsZC1zdGFydC13aXRoLWNhcmRpbmFsLXNwYWNlCgpPUFRJT05TID0gT0JKKCkKT1BUSU9O
Uy5jb25maWcgPSAiIiIKe2ZpbGVzZXJ2ZXJfbGlzdF9jYWNoZV90aW1lOiAzLCBncmFpbnNfY2Fj
aGU6IHRydWUsIGlkOiBsb2NhbCwgbG9nX2ZpbGU6IHNhbHQtY2FsbC5sb2csCiAgcm9vdF9kaXI6
IC92YXIvdG1wLy5zYWx0LW9wZV8xYTM1MzJfc2FsdC9ydW5uaW5nX2RhdGEsIHNvY2tfZGlyOiAv
fQoiIiIKT1BUSU9OUy5kZWxpbWl0ZXIgPSAnX2VkYmM3ODg1ZTRmOWFhYzliODNiMzU5OTliNjhk
MDE1MTQ4Y2FmNDY3Yjc4ZmEzOWMwNWY2NjljMGZmODk4NzgnCk9QVElPTlMuc2FsdGRpciA9ICcv
dmFyL3RtcC8uc2FsdC1vcGVfMWEzNTMyX3NhbHQnCk9QVElPTlMuY2hlY2tzdW0gPSAnMmUyNWZj
YmI2YWEyNTU5OWQ1MmU4OTVkZTZlMjExOTZkNWM2ZTU5NScKT1BUSU9OUy5oYXNoZnVuYyA9ICdz
aGExJwpPUFRJT05TLnZlcnNpb24gPSAnMjAxNi4zLjInCk9QVElPTlMuZXh0X21vZHMgPSAnJwpP
UFRJT05TLndpcGUgPSBGYWxzZQpPUFRJT05TLnR0eSA9IEZhbHNlCk9QVElPTlMuY21kX3VtYXNr
ID0gTm9uZQpBUkdTID0gWyd0ZXN0Lm9wdHNfcGtnJ10KCgoKZGVmIG5lZWRfZGVwbG95bWVudCgp
OgogICAgIiIiCiAgICBTYWx0IHRoaW4gbmVlZHMgdG8gYmUgZGVwbG95ZWQgLSBwcmVwIHRoZSB0
YXJnZXQgZGlyZWN0b3J5IGFuZCBlbWl0IHRoZQogICAgZGVsaW1ldGVyIGFuZCBleGl0IGNvZGUg
dGhhdCBzaWduYWxzIGEgcmVxdWlyZWQgZGVwbG95bWVudC4KICAgICIiIgogICAgaWYgb3MucGF0
aC5leGlzdHMoT1BUSU9OUy5zYWx0ZGlyKToKICAgICAgICBzaHV0aWwucm10cmVlKE9QVElPTlMu
c2FsdGRpcikKICAgIG9sZF91bWFzayA9IG9zLnVtYXNrKDBvMDc3KQogICAgb3MubWFrZWRpcnMo
T1BUSU9OUy5zYWx0ZGlyKQogICAgb3MudW1hc2sob2xkX3VtYXNrKQogICAgIyBWZXJpZnkgcGVy
bXMgb24gc2FsdGRpcgogICAgZXVpZCA9IG9zLmdldGV1aWQoKQogICAgZHN0YXQgPSBvcy5zdGF0
KE9QVElPTlMuc2FsdGRpcikKICAgIGlmIGRzdGF0LnN0X3VpZCAhPSBldWlkOgogICAgICAgICMg
QXR0YWNrIGRldGVjdGVkLCB0cnkgYWdhaW4KICAgICAgICBuZWVkX2RlcGxveW1lbnQoKQogICAg
aWYgZHN0YXQuc3RfbW9kZSAhPSAxNjgzMjoKICAgICAgICAjIEF0dGFjayBkZXRlY3RlZAogICAg
ICAgIG5lZWRfZGVwbG95bWVudCgpCiAgICAjIElmIFNVRE9pbmcgdGhlbiBhbHNvIGdpdmUgdGhl
IHN1cGVyIHVzZXIgZ3JvdXAgd3JpdGUgcGVybWlzc2lvbnMKICAgIHN1ZG9fZ2lkID0gb3MuZW52
aXJvbi5nZXQoJ1NVRE9fR0lEJykKICAgIGlmIHN1ZG9fZ2lkOgogICAgICAgIG9zLmNob3duKE9Q
VElPTlMuc2FsdGRpciwgLTEsIGludChzdWRvX2dpZCkpCiAgICAgICAgc3R0ID0gb3Muc3RhdChP
UFRJT05TLnNhbHRkaXIpCiAgICAgICAgb3MuY2htb2QoT1BUSU9OUy5zYWx0ZGlyLCBzdHQuc3Rf
bW9kZSB8IHN0YXQuU19JV0dSUCB8IHN0YXQuU19JUkdSUCB8IHN0YXQuU19JWEdSUCkKCiAgICAj
IERlbGltaXRlciBlbWl0dGVkIG9uIHN0ZG91dCAqb25seSogdG8gaW5kaWNhdGUgc2hpbSBtZXNz
YWdlIHRvIG1hc3Rlci4KICAgIHN5cy5zdGRvdXQud3JpdGUoInswfVxuZGVwbG95XG4iLmZvcm1h
dChPUFRJT05TLmRlbGltaXRlcikpCiAgICBzeXMuZXhpdChFWF9USElOX0RFUExPWSkKCgojIEFk
YXB0ZWQgZnJvbSBzYWx0LnV0aWxzLmdldF9oYXNoKCkKZGVmIGdldF9oYXNoKHBhdGgsIGZvcm09
J3NoYTEnLCBjaHVua19zaXplPTQwOTYpOgogICAgIiIiR2VuZXJhdGUgYSBoYXNoIGRpZ2VzdCBz
dHJpbmcgZm9yIGEgZmlsZS4iIiIKICAgIHRyeToKICAgICAgICBoYXNoX3R5cGUgPSBnZXRhdHRy
KGhhc2hsaWIsIGZvcm0pCiAgICBleGNlcHQgQXR0cmlidXRlRXJyb3I6CiAgICAgICAgcmFpc2Ug
VmFsdWVFcnJvcignSW52YWxpZCBoYXNoIHR5cGU6IHswfScuZm9ybWF0KGZvcm0pKQogICAgd2l0
aCBvcGVuKHBhdGgsICdyYicpIGFzIGlmaWxlOgogICAgICAgIGhhc2hfb2JqID0gaGFzaF90eXBl
KCkKICAgICAgICAjIHJlYWQgdGhlIGZpbGUgaW4gaW4gY2h1bmtzLCBub3QgdGhlIGVudGlyZSBm
aWxlCiAgICAgICAgZm9yIGNodW5rIGluIGl0ZXIobGFtYmRhOiBpZmlsZS5yZWFkKGNodW5rX3Np
emUpLCBiJycpOgogICAgICAgICAgICBoYXNoX29iai51cGRhdGUoY2h1bmspCiAgICAgICAgcmV0
dXJuIGhhc2hfb2JqLmhleGRpZ2VzdCgpCgoKZGVmIHVucGFja190aGluKHRoaW5fcGF0aCk6CiAg
ICAiIiJVbnBhY2sgdGhlIFNhbHQgdGhpbiBhcmNoaXZlLiIiIgogICAgdGZpbGUgPSB0YXJmaWxl
LlRhckZpbGUuZ3pvcGVuKHRoaW5fcGF0aCkKICAgIG9sZF91bWFzayA9IG9zLnVtYXNrKDBvMDc3
KQogICAgdGZpbGUuZXh0cmFjdGFsbChwYXRoPU9QVElPTlMuc2FsdGRpcikKICAgIHRmaWxlLmNs
b3NlKCkKICAgIG9zLnVtYXNrKG9sZF91bWFzaykKICAgIG9zLnVubGluayh0aGluX3BhdGgpCgoK
ZGVmIG5lZWRfZXh0KCk6CiAgICAiIiJTaWduYWwgdGhhdCBleHRlcm5hbCBtb2R1bGVzIG5lZWQg
dG8gYmUgZGVwbG95ZWQuIiIiCiAgICBzeXMuc3Rkb3V0LndyaXRlKCJ7MH1cbmV4dF9tb2RzXG4i
LmZvcm1hdChPUFRJT05TLmRlbGltaXRlcikpCiAgICBzeXMuZXhpdChFWF9NT0RfREVQTE9ZKQoK
CmRlZiB1bnBhY2tfZXh0KGV4dF9wYXRoKToKICAgICIiIlVucGFjayB0aGUgZXh0ZXJuYWwgbW9k
dWxlcy4iIiIKICAgIG1vZGNhY2hlID0gb3MucGF0aC5qb2luKAogICAgICAgICAgICBPUFRJT05T
LnNhbHRkaXIsCiAgICAgICAgICAgICdydW5uaW5nX2RhdGEnLAogICAgICAgICAgICAndmFyJywK
ICAgICAgICAgICAgJ2NhY2hlJywKICAgICAgICAgICAgJ3NhbHQnLAogICAgICAgICAgICAnbWlu
aW9uJywKICAgICAgICAgICAgJ2V4dG1vZHMnKQogICAgdGZpbGUgPSB0YXJmaWxlLlRhckZpbGUu
Z3pvcGVuKGV4dF9wYXRoKQogICAgb2xkX3VtYXNrID0gb3MudW1hc2soMG8wNzcpCiAgICB0Zmls
ZS5leHRyYWN0YWxsKHBhdGg9bW9kY2FjaGUpCiAgICB0ZmlsZS5jbG9zZSgpCiAgICBvcy51bWFz
ayhvbGRfdW1hc2spCiAgICBvcy51bmxpbmsoZXh0X3BhdGgpCiAgICB2ZXJfcGF0aCA9IG9zLnBh
dGguam9pbihtb2RjYWNoZSwgJ2V4dF92ZXJzaW9uJykKICAgIHZlcl9kc3QgPSBvcy5wYXRoLmpv
aW4oT1BUSU9OUy5zYWx0ZGlyLCAnZXh0X3ZlcnNpb24nKQogICAgc2h1dGlsLm1vdmUodmVyX3Bh
dGgsIHZlcl9kc3QpCgoKZGVmIG1haW4oYXJndik6ICAjIHB5bGludDogZGlzYWJsZT1XMDYxMwog
ICAgIiIiTWFpbiBwcm9ncmFtIGJvZHkiIiIKICAgIHRoaW5fcGF0aCA9IG9zLnBhdGguam9pbihP
UFRJT05TLnNhbHRkaXIsIFRISU5fQVJDSElWRSkKICAgIGlmIG9zLnBhdGguaXNmaWxlKHRoaW5f
cGF0aCk6CiAgICAgICAgaWYgT1BUSU9OUy5jaGVja3N1bSAhPSBnZXRfaGFzaCh0aGluX3BhdGgs
IE9QVElPTlMuaGFzaGZ1bmMpOgogICAgICAgICAgICBzeXMuc3RkZXJyLndyaXRlKCd7MH1cbicu
Zm9ybWF0KE9QVElPTlMuY2hlY2tzdW0pKQogICAgICAgICAgICBzeXMuc3RkZXJyLndyaXRlKCd7
MH1cbicuZm9ybWF0KGdldF9oYXNoKHRoaW5fcGF0aCwgT1BUSU9OUy5oYXNoZnVuYykpKQogICAg
ICAgICAgICBvcy51bmxpbmsodGhpbl9wYXRoKQogICAgICAgICAgICBzeXMuc3RkZXJyLndyaXRl
KCdXQVJOSU5HOiBjaGVja3N1bSBtaXNtYXRjaCBmb3IgInswfSJcbicuZm9ybWF0KHRoaW5fcGF0
aCkpCiAgICAgICAgICAgIHN5cy5leGl0KEVYX1RISU5fQ0hFQ0tTVU0pCiAgICAgICAgdW5wYWNr
X3RoaW4odGhpbl9wYXRoKQogICAgICAgICMgU2FsdCB0aGluIG5vdyBpcyBhdmFpbGFibGUgdG8g
dXNlCiAgICBlbHNlOgogICAgICAgIHNjcHN0YXQgPSBzdWJwcm9jZXNzLlBvcGVuKFsnL2Jpbi9z
aCcsICctYycsICdjb21tYW5kIC12IHNjcCddKS53YWl0KCkKICAgICAgICBpZiBzY3BzdGF0ICE9
IDA6CiAgICAgICAgICAgIHN5cy5leGl0KEVYX1NDUF9OT1RfRk9VTkQpCgogICAgICAgIGlmIG5v
dCBvcy5wYXRoLmV4aXN0cyhPUFRJT05TLnNhbHRkaXIpOgogICAgICAgICAgICBuZWVkX2RlcGxv
eW1lbnQoKQoKICAgICAgICBpZiBub3Qgb3MucGF0aC5pc2RpcihPUFRJT05TLnNhbHRkaXIpOgog
ICAgICAgICAgICBzeXMuc3RkZXJyLndyaXRlKAogICAgICAgICAgICAgICAgJ0VSUk9SOiBzYWx0
IHBhdGggInswfSIgZXhpc3RzIGJ1dCBpcycKICAgICAgICAgICAgICAgICcgbm90IGEgZGlyZWN0
b3J5XG4nLmZvcm1hdChPUFRJT05TLnNhbHRkaXIpCiAgICAgICAgICAgICkKICAgICAgICAgICAg
c3lzLmV4aXQoRVhfQ0FOVENSRUFUKQoKICAgICAgICB2ZXJzaW9uX3BhdGggPSBvcy5wYXRoLmpv
aW4oT1BUSU9OUy5zYWx0ZGlyLCAndmVyc2lvbicpCiAgICAgICAgaWYgbm90IG9zLnBhdGguZXhp
c3RzKHZlcnNpb25fcGF0aCkgb3Igbm90IG9zLnBhdGguaXNmaWxlKHZlcnNpb25fcGF0aCk6CiAg
ICAgICAgICAgIHN5cy5zdGRlcnIud3JpdGUoCiAgICAgICAgICAgICAgICAnV0FSTklORzogVW5h
YmxlIHRvIGxvY2F0ZSBjdXJyZW50IHRoaW4gJwogICAgICAgICAgICAgICAgJyB2ZXJzaW9uOiB7
MH0uXG4nLmZvcm1hdCh2ZXJzaW9uX3BhdGgpCiAgICAgICAgICAgICkKICAgICAgICAgICAgbmVl
ZF9kZXBsb3ltZW50KCkKICAgICAgICB3aXRoIG9wZW4odmVyc2lvbl9wYXRoLCAncicpIGFzIHZw
bzoKICAgICAgICAgICAgY3VyX3ZlcnNpb24gPSB2cG8ucmVhZGxpbmUoKS5zdHJpcCgpCiAgICAg
ICAgaWYgY3VyX3ZlcnNpb24gIT0gT1BUSU9OUy52ZXJzaW9uOgogICAgICAgICAgICBzeXMuc3Rk
ZXJyLndyaXRlKAogICAgICAgICAgICAgICAgJ1dBUk5JTkc6IGN1cnJlbnQgdGhpbiB2ZXJzaW9u
IHswfScKICAgICAgICAgICAgICAgICcgaXMgbm90IHVwLXRvLWRhdGUgd2l0aCB7MX0uXG4nLmZv
cm1hdCgKICAgICAgICAgICAgICAgICAgICBjdXJfdmVyc2lvbiwgT1BUSU9OUy52ZXJzaW9uCiAg
ICAgICAgICAgICAgICApCiAgICAgICAgICAgICkKICAgICAgICAgICAgbmVlZF9kZXBsb3ltZW50
KCkKICAgICAgICAjIFNhbHQgdGhpbiBleGlzdHMgYW5kIGlzIHVwLXRvLWRhdGUgLSBmYWxsIHRo
cm91Z2ggYW5kIHVzZSBpdAoKICAgIHNhbHRfY2FsbF9wYXRoID0gb3MucGF0aC5qb2luKE9QVElP
TlMuc2FsdGRpciwgJ3NhbHQtY2FsbCcpCiAgICBpZiBub3Qgb3MucGF0aC5pc2ZpbGUoc2FsdF9j
YWxsX3BhdGgpOgogICAgICAgIHN5cy5zdGRlcnIud3JpdGUoJ0VSUk9SOiB0aGluIGlzIG1pc3Np
bmcgInswfSJcbicuZm9ybWF0KHNhbHRfY2FsbF9wYXRoKSkKICAgICAgICBuZWVkX2RlcGxveW1l
bnQoKQoKICAgIHdpdGggb3Blbihvcy5wYXRoLmpvaW4oT1BUSU9OUy5zYWx0ZGlyLCAnbWluaW9u
JyksICd3JykgYXMgY29uZmlnOgogICAgICAgIGNvbmZpZy53cml0ZShPUFRJT05TLmNvbmZpZyAr
ICdcbicpCiAgICBpZiBPUFRJT05TLmV4dF9tb2RzOgogICAgICAgIGV4dF9wYXRoID0gb3MucGF0
aC5qb2luKE9QVElPTlMuc2FsdGRpciwgRVhUX0FSQ0hJVkUpCiAgICAgICAgaWYgb3MucGF0aC5l
eGlzdHMoZXh0X3BhdGgpOgogICAgICAgICAgICB1bnBhY2tfZXh0KGV4dF9wYXRoKQogICAgICAg
IGVsc2U6CiAgICAgICAgICAgIHZlcnNpb25fcGF0aCA9IG9zLnBhdGguam9pbihPUFRJT05TLnNh
bHRkaXIsICdleHRfdmVyc2lvbicpCiAgICAgICAgICAgIGlmIG5vdCBvcy5wYXRoLmV4aXN0cyh2
ZXJzaW9uX3BhdGgpIG9yIG5vdCBvcy5wYXRoLmlzZmlsZSh2ZXJzaW9uX3BhdGgpOgogICAgICAg
ICAgICAgICAgbmVlZF9leHQoKQogICAgICAgICAgICB3aXRoIG9wZW4odmVyc2lvbl9wYXRoLCAn
cicpIGFzIHZwbzoKICAgICAgICAgICAgICAgIGN1cl92ZXJzaW9uID0gdnBvLnJlYWRsaW5lKCku
c3RyaXAoKQogICAgICAgICAgICBpZiBjdXJfdmVyc2lvbiAhPSBPUFRJT05TLmV4dF9tb2RzOgog
ICAgICAgICAgICAgICAgbmVlZF9leHQoKQogICAgIyBGaXggcGFyYW1ldGVyIHBhc3NpbmcgaXNz
dWUKICAgIGlmIGxlbihBUkdTKSA9PSAxOgogICAgICAgIGFyZ3ZfcHJlcGFyZWQgPSBBUkdTWzBd
LnNwbGl0KCkKICAgIGVsc2U6CiAgICAgICAgYXJndl9wcmVwYXJlZCA9IEFSR1MKCiAgICBzYWx0
X2FyZ3YgPSBbCiAgICAgICAgc3lzLmV4ZWN1dGFibGUsCiAgICAgICAgc2FsdF9jYWxsX3BhdGgs
CiAgICAgICAgJy0tcmV0Y29kZS1wYXNzdGhyb3VnaCcsCiAgICAgICAgJy0tbG9jYWwnLAogICAg
ICAgICctLW1ldGFkYXRhJywKICAgICAgICAnLS1vdXQnLCAnanNvbicsCiAgICAgICAgJy1sJywg
J3F1aWV0JywKICAgICAgICAnLWMnLCBPUFRJT05TLnNhbHRkaXIsCiAgICAgICAgJy0tJywKICAg
IF0gKyBhcmd2X3ByZXBhcmVkCgogICAgc3lzLnN0ZGVyci53cml0ZSgnU0FMVF9BUkdWOiB7MH1c
bicuZm9ybWF0KHNhbHRfYXJndikpCgogICAgIyBPbmx5IGVtaXQgdGhlIGRlbGltaXRlciBvbiAq
Ym90aCogc3Rkb3V0IGFuZCBzdGRlcnIgd2hlbiBjb21wbGV0ZWx5IHN1Y2Nlc3NmdWwuCiAgICAj
IFllcywgdGhlIGZsdXNoKCkgaXMgbmVjZXNzYXJ5LgogICAgc3lzLnN0ZG91dC53cml0ZShPUFRJ
T05TLmRlbGltaXRlciArICdcbicpCiAgICBzeXMuc3Rkb3V0LmZsdXNoKCkKICAgIGlmIG5vdCBP
UFRJT05TLnR0eToKICAgICAgICBzeXMuc3RkZXJyLndyaXRlKE9QVElPTlMuZGVsaW1pdGVyICsg
J1xuJykKICAgICAgICBzeXMuc3RkZXJyLmZsdXNoKCkKICAgIGlmIE9QVElPTlMuY21kX3VtYXNr
IGlzIG5vdCBOb25lOgogICAgICAgIG9sZF91bWFzayA9IG9zLnVtYXNrKE9QVElPTlMuY21kX3Vt
YXNrKQogICAgaWYgT1BUSU9OUy50dHk6CiAgICAgICAgc3Rkb3V0LCBfID0gc3VicHJvY2Vzcy5Q
b3BlbihzYWx0X2FyZ3YsIHN0ZG91dD1zdWJwcm9jZXNzLlBJUEUsIHN0ZGVycj1zdWJwcm9jZXNz
LlBJUEUpLmNvbW11bmljYXRlKCkKICAgICAgICBzeXMuc3Rkb3V0LndyaXRlKHN0ZG91dCkKICAg
ICAgICBzeXMuc3Rkb3V0LmZsdXNoKCkKICAgICAgICBpZiBPUFRJT05TLndpcGU6CiAgICAgICAg
ICAgIHNodXRpbC5ybXRyZWUoT1BUSU9OUy5zYWx0ZGlyKQogICAgZWxpZiBPUFRJT05TLndpcGU6
CiAgICAgICAgc3VicHJvY2Vzcy5jYWxsKHNhbHRfYXJndikKICAgICAgICBzaHV0aWwucm10cmVl
KE9QVElPTlMuc2FsdGRpcikKICAgIGVsc2U6CiAgICAgICAgb3MuZXhlY3Yoc3lzLmV4ZWN1dGFi
bGUsIHNhbHRfYXJndikKICAgIGlmIE9QVElPTlMuY21kX3VtYXNrIGlzIG5vdCBOb25lOgogICAg
ICAgIG9zLnVtYXNrKG9sZF91bWFzaykKCmlmIF9fbmFtZV9fID09ICdfX21haW5fXyc6CiAgICBz
eXMuZXhpdChtYWluKHN5cy5hcmd2KSkK
""").decode("utf-8"))'
fi
exit 0
else
continue
fi
done
echo "ERROR: Unable to locate appropriate python command" >&2
exit $EX_PYTHON_INVALID
EOF
2016-08-27 20:51:53,739 [salt.utils.vt    ][DEBUG   ][7069] Child Forked! PID: 7106  STDOUT_FD: 9  STDERR_FD: 11
2016-08-27 20:51:53,744 [salt.utils.vt    ][DEBUG   ][7069] VT: Salt-SSH SHIM Terminal Command executed. Logged to TRACE
2016-08-27 20:51:53,744 [salt.utils.vt    ][TRACE   ][7069] Terminal Command: /bin/sh -c ssh 127.0.0.1  -o KbdInteractiveAuthentication=no -o PasswordAuthentication=yes -o GSSAPIAuthentication=no -o ConnectTimeout=65 -o Port=22 -o IdentityFile=/root/saltstack_master/etc/salt/pki/master/ssh/salt-ssh.rsa -o User=salt-ope  /bin/sh << 'EOF'
set -e
set -u
DEBUG="1"
if [ -n "$DEBUG" ]
then set -x
fi
SUDO=""
if [ -n "sudo" ]
then SUDO="sudo "
fi
EX_PYTHON_INVALID=10
PYTHON_CMDS="python3 python27 python2.7 python26 python2.6 python2 python"
for py_cmd in $PYTHON_CMDS
do
if command -v "$py_cmd" >/dev/null 2>&1 && "$py_cmd" -c \
"import sys; sys.exit(not (sys.version_info >= (2, 6)
and sys.version_info[0] == 2));"
then
py_cmd_path=`"$py_cmd" -c \
'from __future__ import print_function;
import sys; print(sys.executable);'`
cmdpath=$(which $py_cmd 2>&1)
if file $cmdpath | grep "shell script" > /dev/null
then
ex_vars="'PATH', 'LD_LIBRARY_PATH', 'MANPATH', \
'XDG_DATA_DIRS', 'PKG_CONFIG_PATH'"
export $($py_cmd -c \
"from __future__ import print_function;
import sys;
import os;
map(sys.stdout.write, ['{0}={1} ' \
.format(x, os.environ[x]) for x in [$ex_vars]])")
exec $SUDO PATH=$PATH LD_LIBRARY_PATH=$LD_LIBRARY_PATH \
MANPATH=$MANPATH XDG_DATA_DIRS=$XDG_DATA_DIRS \
PKG_CONFIG_PATH=$PKG_CONFIG_PATH \
"$py_cmd_path" -c \
'import base64;
exec(base64.b64decode("""IyBweWxpbnQ6IGRpc2FibGU9Vzk5MDMKJycnClRoaXMgaXMgYSBzaGltIHRoYXQgaGFuZGxlcyBj
aGVja2luZyBhbmQgdXBkYXRpbmcgc2FsdCB0aGluIGFuZAp0aGVuIGludm9raW5nIHRoaW4uCgpU
aGlzIGlzIG5vdCBpbnRlbmRlZCB0byBiZSBpbnN0YW50aWF0ZWQgYXMgYSBtb2R1bGUsIHJhdGhl
ciBpdCBpcyBhCmhlbHBlciBzY3JpcHQgdXNlZCBieSBzYWx0LmNsaWVudC5zc2guU2luZ2xlLiAg
SXQgaXMgaGVyZSwgaW4gYQpzZXBhcmF0ZSBmaWxlLCBmb3IgY29udmVuaWVuY2Ugb2YgZGV2ZWxv
cG1lbnQuCicnJwoKZnJvbSBfX2Z1dHVyZV9fIGltcG9ydCBhYnNvbHV0ZV9pbXBvcnQKCmltcG9y
dCBoYXNobGliCmltcG9ydCB0YXJmaWxlCmltcG9ydCBzaHV0aWwKaW1wb3J0IHN5cwppbXBvcnQg
b3MKaW1wb3J0IHN0YXQKaW1wb3J0IHN1YnByb2Nlc3MKClRISU5fQVJDSElWRSA9ICdzYWx0LXRo
aW4udGd6JwpFWFRfQVJDSElWRSA9ICdzYWx0LWV4dF9tb2RzLnRneicKCiMgS2VlcCB0aGVzZSBp
biBzeW5jIHdpdGggc2FsdC9kZWZhdWx0cy9leGl0Y29kZXMucHkKRVhfVEhJTl9ERVBMT1kgPSAx
MQpFWF9USElOX0NIRUNLU1VNID0gMTIKRVhfTU9EX0RFUExPWSA9IDEzCkVYX1NDUF9OT1RfRk9V
TkQgPSAxNApFWF9DQU5UQ1JFQVQgPSA3MwoKCmNsYXNzIE9CSihvYmplY3QpOgogICAgIiIiQW4g
ZW1wdHkgY2xhc3MgZm9yIGhvbGRpbmcgaW5zdGFuY2UgYXR0cmlidXRlIHZhbHVlcy4iIiIKICAg
IHBhc3MKCgpPUFRJT05TID0gTm9uZQpBUkdTID0gTm9uZQojIFRoZSBiZWxvdyBsaW5lIGlzIHdo
ZXJlIE9QVElPTlMgY2FuIGJlIHJlZGVmaW5lZCB3aXRoIGludGVybmFsIG9wdGlvbnMKIyAocmF0
aGVyIHRoYW4gY2xpIGFyZ3VtZW50cykgd2hlbiB0aGUgc2hpbSBpcyBidW5kbGVkIGJ5CiMgY2xp
ZW50LnNzaC5TaW5nbGUuX2NtZF9zdHIoKQojIHB5bGludDogZGlzYWJsZT1ibG9jay1jb21tZW50
LXNob3VsZC1zdGFydC13aXRoLWNhcmRpbmFsLXNwYWNlCgpPUFRJT05TID0gT0JKKCkKT1BUSU9O
Uy5jb25maWcgPSAiIiIKe2ZpbGVzZXJ2ZXJfbGlzdF9jYWNoZV90aW1lOiAzLCBncmFpbnNfY2Fj
aGU6IHRydWUsIGlkOiBsb2NhbCwgbG9nX2ZpbGU6IHNhbHQtY2FsbC5sb2csCiAgcm9vdF9kaXI6
IC92YXIvdG1wLy5zYWx0LW9wZV8xYTM1MzJfc2FsdC9ydW5uaW5nX2RhdGEsIHNvY2tfZGlyOiAv
fQoiIiIKT1BUSU9OUy5kZWxpbWl0ZXIgPSAnX2VkYmM3ODg1ZTRmOWFhYzliODNiMzU5OTliNjhk
MDE1MTQ4Y2FmNDY3Yjc4ZmEzOWMwNWY2NjljMGZmODk4NzgnCk9QVElPTlMuc2FsdGRpciA9ICcv
dmFyL3RtcC8uc2FsdC1vcGVfMWEzNTMyX3NhbHQnCk9QVElPTlMuY2hlY2tzdW0gPSAnMmUyNWZj
YmI2YWEyNTU5OWQ1MmU4OTVkZTZlMjExOTZkNWM2ZTU5NScKT1BUSU9OUy5oYXNoZnVuYyA9ICdz
aGExJwpPUFRJT05TLnZlcnNpb24gPSAnMjAxNi4zLjInCk9QVElPTlMuZXh0X21vZHMgPSAnJwpP
UFRJT05TLndpcGUgPSBGYWxzZQpPUFRJT05TLnR0eSA9IEZhbHNlCk9QVElPTlMuY21kX3VtYXNr
ID0gTm9uZQpBUkdTID0gWyd0ZXN0Lm9wdHNfcGtnJ10KCgoKZGVmIG5lZWRfZGVwbG95bWVudCgp
OgogICAgIiIiCiAgICBTYWx0IHRoaW4gbmVlZHMgdG8gYmUgZGVwbG95ZWQgLSBwcmVwIHRoZSB0
YXJnZXQgZGlyZWN0b3J5IGFuZCBlbWl0IHRoZQogICAgZGVsaW1ldGVyIGFuZCBleGl0IGNvZGUg
dGhhdCBzaWduYWxzIGEgcmVxdWlyZWQgZGVwbG95bWVudC4KICAgICIiIgogICAgaWYgb3MucGF0
aC5leGlzdHMoT1BUSU9OUy5zYWx0ZGlyKToKICAgICAgICBzaHV0aWwucm10cmVlKE9QVElPTlMu
c2FsdGRpcikKICAgIG9sZF91bWFzayA9IG9zLnVtYXNrKDBvMDc3KQogICAgb3MubWFrZWRpcnMo
T1BUSU9OUy5zYWx0ZGlyKQogICAgb3MudW1hc2sob2xkX3VtYXNrKQogICAgIyBWZXJpZnkgcGVy
bXMgb24gc2FsdGRpcgogICAgZXVpZCA9IG9zLmdldGV1aWQoKQogICAgZHN0YXQgPSBvcy5zdGF0
KE9QVElPTlMuc2FsdGRpcikKICAgIGlmIGRzdGF0LnN0X3VpZCAhPSBldWlkOgogICAgICAgICMg
QXR0YWNrIGRldGVjdGVkLCB0cnkgYWdhaW4KICAgICAgICBuZWVkX2RlcGxveW1lbnQoKQogICAg
aWYgZHN0YXQuc3RfbW9kZSAhPSAxNjgzMjoKICAgICAgICAjIEF0dGFjayBkZXRlY3RlZAogICAg
ICAgIG5lZWRfZGVwbG95bWVudCgpCiAgICAjIElmIFNVRE9pbmcgdGhlbiBhbHNvIGdpdmUgdGhl
IHN1cGVyIHVzZXIgZ3JvdXAgd3JpdGUgcGVybWlzc2lvbnMKICAgIHN1ZG9fZ2lkID0gb3MuZW52
aXJvbi5nZXQoJ1NVRE9fR0lEJykKICAgIGlmIHN1ZG9fZ2lkOgogICAgICAgIG9zLmNob3duKE9Q
VElPTlMuc2FsdGRpciwgLTEsIGludChzdWRvX2dpZCkpCiAgICAgICAgc3R0ID0gb3Muc3RhdChP
UFRJT05TLnNhbHRkaXIpCiAgICAgICAgb3MuY2htb2QoT1BUSU9OUy5zYWx0ZGlyLCBzdHQuc3Rf
bW9kZSB8IHN0YXQuU19JV0dSUCB8IHN0YXQuU19JUkdSUCB8IHN0YXQuU19JWEdSUCkKCiAgICAj
IERlbGltaXRlciBlbWl0dGVkIG9uIHN0ZG91dCAqb25seSogdG8gaW5kaWNhdGUgc2hpbSBtZXNz
YWdlIHRvIG1hc3Rlci4KICAgIHN5cy5zdGRvdXQud3JpdGUoInswfVxuZGVwbG95XG4iLmZvcm1h
dChPUFRJT05TLmRlbGltaXRlcikpCiAgICBzeXMuZXhpdChFWF9USElOX0RFUExPWSkKCgojIEFk
YXB0ZWQgZnJvbSBzYWx0LnV0aWxzLmdldF9oYXNoKCkKZGVmIGdldF9oYXNoKHBhdGgsIGZvcm09
J3NoYTEnLCBjaHVua19zaXplPTQwOTYpOgogICAgIiIiR2VuZXJhdGUgYSBoYXNoIGRpZ2VzdCBz
dHJpbmcgZm9yIGEgZmlsZS4iIiIKICAgIHRyeToKICAgICAgICBoYXNoX3R5cGUgPSBnZXRhdHRy
KGhhc2hsaWIsIGZvcm0pCiAgICBleGNlcHQgQXR0cmlidXRlRXJyb3I6CiAgICAgICAgcmFpc2Ug
VmFsdWVFcnJvcignSW52YWxpZCBoYXNoIHR5cGU6IHswfScuZm9ybWF0KGZvcm0pKQogICAgd2l0
aCBvcGVuKHBhdGgsICdyYicpIGFzIGlmaWxlOgogICAgICAgIGhhc2hfb2JqID0gaGFzaF90eXBl
KCkKICAgICAgICAjIHJlYWQgdGhlIGZpbGUgaW4gaW4gY2h1bmtzLCBub3QgdGhlIGVudGlyZSBm
aWxlCiAgICAgICAgZm9yIGNodW5rIGluIGl0ZXIobGFtYmRhOiBpZmlsZS5yZWFkKGNodW5rX3Np
emUpLCBiJycpOgogICAgICAgICAgICBoYXNoX29iai51cGRhdGUoY2h1bmspCiAgICAgICAgcmV0
dXJuIGhhc2hfb2JqLmhleGRpZ2VzdCgpCgoKZGVmIHVucGFja190aGluKHRoaW5fcGF0aCk6CiAg
ICAiIiJVbnBhY2sgdGhlIFNhbHQgdGhpbiBhcmNoaXZlLiIiIgogICAgdGZpbGUgPSB0YXJmaWxl
LlRhckZpbGUuZ3pvcGVuKHRoaW5fcGF0aCkKICAgIG9sZF91bWFzayA9IG9zLnVtYXNrKDBvMDc3
KQogICAgdGZpbGUuZXh0cmFjdGFsbChwYXRoPU9QVElPTlMuc2FsdGRpcikKICAgIHRmaWxlLmNs
b3NlKCkKICAgIG9zLnVtYXNrKG9sZF91bWFzaykKICAgIG9zLnVubGluayh0aGluX3BhdGgpCgoK
ZGVmIG5lZWRfZXh0KCk6CiAgICAiIiJTaWduYWwgdGhhdCBleHRlcm5hbCBtb2R1bGVzIG5lZWQg
dG8gYmUgZGVwbG95ZWQuIiIiCiAgICBzeXMuc3Rkb3V0LndyaXRlKCJ7MH1cbmV4dF9tb2RzXG4i
LmZvcm1hdChPUFRJT05TLmRlbGltaXRlcikpCiAgICBzeXMuZXhpdChFWF9NT0RfREVQTE9ZKQoK
CmRlZiB1bnBhY2tfZXh0KGV4dF9wYXRoKToKICAgICIiIlVucGFjayB0aGUgZXh0ZXJuYWwgbW9k
dWxlcy4iIiIKICAgIG1vZGNhY2hlID0gb3MucGF0aC5qb2luKAogICAgICAgICAgICBPUFRJT05T
LnNhbHRkaXIsCiAgICAgICAgICAgICdydW5uaW5nX2RhdGEnLAogICAgICAgICAgICAndmFyJywK
ICAgICAgICAgICAgJ2NhY2hlJywKICAgICAgICAgICAgJ3NhbHQnLAogICAgICAgICAgICAnbWlu
aW9uJywKICAgICAgICAgICAgJ2V4dG1vZHMnKQogICAgdGZpbGUgPSB0YXJmaWxlLlRhckZpbGUu
Z3pvcGVuKGV4dF9wYXRoKQogICAgb2xkX3VtYXNrID0gb3MudW1hc2soMG8wNzcpCiAgICB0Zmls
ZS5leHRyYWN0YWxsKHBhdGg9bW9kY2FjaGUpCiAgICB0ZmlsZS5jbG9zZSgpCiAgICBvcy51bWFz
ayhvbGRfdW1hc2spCiAgICBvcy51bmxpbmsoZXh0X3BhdGgpCiAgICB2ZXJfcGF0aCA9IG9zLnBh
dGguam9pbihtb2RjYWNoZSwgJ2V4dF92ZXJzaW9uJykKICAgIHZlcl9kc3QgPSBvcy5wYXRoLmpv
aW4oT1BUSU9OUy5zYWx0ZGlyLCAnZXh0X3ZlcnNpb24nKQogICAgc2h1dGlsLm1vdmUodmVyX3Bh
dGgsIHZlcl9kc3QpCgoKZGVmIG1haW4oYXJndik6ICAjIHB5bGludDogZGlzYWJsZT1XMDYxMwog
ICAgIiIiTWFpbiBwcm9ncmFtIGJvZHkiIiIKICAgIHRoaW5fcGF0aCA9IG9zLnBhdGguam9pbihP
UFRJT05TLnNhbHRkaXIsIFRISU5fQVJDSElWRSkKICAgIGlmIG9zLnBhdGguaXNmaWxlKHRoaW5f
cGF0aCk6CiAgICAgICAgaWYgT1BUSU9OUy5jaGVja3N1bSAhPSBnZXRfaGFzaCh0aGluX3BhdGgs
IE9QVElPTlMuaGFzaGZ1bmMpOgogICAgICAgICAgICBzeXMuc3RkZXJyLndyaXRlKCd7MH1cbicu
Zm9ybWF0KE9QVElPTlMuY2hlY2tzdW0pKQogICAgICAgICAgICBzeXMuc3RkZXJyLndyaXRlKCd7
MH1cbicuZm9ybWF0KGdldF9oYXNoKHRoaW5fcGF0aCwgT1BUSU9OUy5oYXNoZnVuYykpKQogICAg
ICAgICAgICBvcy51bmxpbmsodGhpbl9wYXRoKQogICAgICAgICAgICBzeXMuc3RkZXJyLndyaXRl
KCdXQVJOSU5HOiBjaGVja3N1bSBtaXNtYXRjaCBmb3IgInswfSJcbicuZm9ybWF0KHRoaW5fcGF0
aCkpCiAgICAgICAgICAgIHN5cy5leGl0KEVYX1RISU5fQ0hFQ0tTVU0pCiAgICAgICAgdW5wYWNr
X3RoaW4odGhpbl9wYXRoKQogICAgICAgICMgU2FsdCB0aGluIG5vdyBpcyBhdmFpbGFibGUgdG8g
dXNlCiAgICBlbHNlOgogICAgICAgIHNjcHN0YXQgPSBzdWJwcm9jZXNzLlBvcGVuKFsnL2Jpbi9z
aCcsICctYycsICdjb21tYW5kIC12IHNjcCddKS53YWl0KCkKICAgICAgICBpZiBzY3BzdGF0ICE9
IDA6CiAgICAgICAgICAgIHN5cy5leGl0KEVYX1NDUF9OT1RfRk9VTkQpCgogICAgICAgIGlmIG5v
dCBvcy5wYXRoLmV4aXN0cyhPUFRJT05TLnNhbHRkaXIpOgogICAgICAgICAgICBuZWVkX2RlcGxv
eW1lbnQoKQoKICAgICAgICBpZiBub3Qgb3MucGF0aC5pc2RpcihPUFRJT05TLnNhbHRkaXIpOgog
ICAgICAgICAgICBzeXMuc3RkZXJyLndyaXRlKAogICAgICAgICAgICAgICAgJ0VSUk9SOiBzYWx0
IHBhdGggInswfSIgZXhpc3RzIGJ1dCBpcycKICAgICAgICAgICAgICAgICcgbm90IGEgZGlyZWN0
b3J5XG4nLmZvcm1hdChPUFRJT05TLnNhbHRkaXIpCiAgICAgICAgICAgICkKICAgICAgICAgICAg
c3lzLmV4aXQoRVhfQ0FOVENSRUFUKQoKICAgICAgICB2ZXJzaW9uX3BhdGggPSBvcy5wYXRoLmpv
aW4oT1BUSU9OUy5zYWx0ZGlyLCAndmVyc2lvbicpCiAgICAgICAgaWYgbm90IG9zLnBhdGguZXhp
c3RzKHZlcnNpb25fcGF0aCkgb3Igbm90IG9zLnBhdGguaXNmaWxlKHZlcnNpb25fcGF0aCk6CiAg
ICAgICAgICAgIHN5cy5zdGRlcnIud3JpdGUoCiAgICAgICAgICAgICAgICAnV0FSTklORzogVW5h
YmxlIHRvIGxvY2F0ZSBjdXJyZW50IHRoaW4gJwogICAgICAgICAgICAgICAgJyB2ZXJzaW9uOiB7
MH0uXG4nLmZvcm1hdCh2ZXJzaW9uX3BhdGgpCiAgICAgICAgICAgICkKICAgICAgICAgICAgbmVl
ZF9kZXBsb3ltZW50KCkKICAgICAgICB3aXRoIG9wZW4odmVyc2lvbl9wYXRoLCAncicpIGFzIHZw
bzoKICAgICAgICAgICAgY3VyX3ZlcnNpb24gPSB2cG8ucmVhZGxpbmUoKS5zdHJpcCgpCiAgICAg
ICAgaWYgY3VyX3ZlcnNpb24gIT0gT1BUSU9OUy52ZXJzaW9uOgogICAgICAgICAgICBzeXMuc3Rk
ZXJyLndyaXRlKAogICAgICAgICAgICAgICAgJ1dBUk5JTkc6IGN1cnJlbnQgdGhpbiB2ZXJzaW9u
IHswfScKICAgICAgICAgICAgICAgICcgaXMgbm90IHVwLXRvLWRhdGUgd2l0aCB7MX0uXG4nLmZv
cm1hdCgKICAgICAgICAgICAgICAgICAgICBjdXJfdmVyc2lvbiwgT1BUSU9OUy52ZXJzaW9uCiAg
ICAgICAgICAgICAgICApCiAgICAgICAgICAgICkKICAgICAgICAgICAgbmVlZF9kZXBsb3ltZW50
KCkKICAgICAgICAjIFNhbHQgdGhpbiBleGlzdHMgYW5kIGlzIHVwLXRvLWRhdGUgLSBmYWxsIHRo
cm91Z2ggYW5kIHVzZSBpdAoKICAgIHNhbHRfY2FsbF9wYXRoID0gb3MucGF0aC5qb2luKE9QVElP
TlMuc2FsdGRpciwgJ3NhbHQtY2FsbCcpCiAgICBpZiBub3Qgb3MucGF0aC5pc2ZpbGUoc2FsdF9j
YWxsX3BhdGgpOgogICAgICAgIHN5cy5zdGRlcnIud3JpdGUoJ0VSUk9SOiB0aGluIGlzIG1pc3Np
bmcgInswfSJcbicuZm9ybWF0KHNhbHRfY2FsbF9wYXRoKSkKICAgICAgICBuZWVkX2RlcGxveW1l
bnQoKQoKICAgIHdpdGggb3Blbihvcy5wYXRoLmpvaW4oT1BUSU9OUy5zYWx0ZGlyLCAnbWluaW9u
JyksICd3JykgYXMgY29uZmlnOgogICAgICAgIGNvbmZpZy53cml0ZShPUFRJT05TLmNvbmZpZyAr
ICdcbicpCiAgICBpZiBPUFRJT05TLmV4dF9tb2RzOgogICAgICAgIGV4dF9wYXRoID0gb3MucGF0
aC5qb2luKE9QVElPTlMuc2FsdGRpciwgRVhUX0FSQ0hJVkUpCiAgICAgICAgaWYgb3MucGF0aC5l
eGlzdHMoZXh0X3BhdGgpOgogICAgICAgICAgICB1bnBhY2tfZXh0KGV4dF9wYXRoKQogICAgICAg
IGVsc2U6CiAgICAgICAgICAgIHZlcnNpb25fcGF0aCA9IG9zLnBhdGguam9pbihPUFRJT05TLnNh
bHRkaXIsICdleHRfdmVyc2lvbicpCiAgICAgICAgICAgIGlmIG5vdCBvcy5wYXRoLmV4aXN0cyh2
ZXJzaW9uX3BhdGgpIG9yIG5vdCBvcy5wYXRoLmlzZmlsZSh2ZXJzaW9uX3BhdGgpOgogICAgICAg
ICAgICAgICAgbmVlZF9leHQoKQogICAgICAgICAgICB3aXRoIG9wZW4odmVyc2lvbl9wYXRoLCAn
cicpIGFzIHZwbzoKICAgICAgICAgICAgICAgIGN1cl92ZXJzaW9uID0gdnBvLnJlYWRsaW5lKCku
c3RyaXAoKQogICAgICAgICAgICBpZiBjdXJfdmVyc2lvbiAhPSBPUFRJT05TLmV4dF9tb2RzOgog
ICAgICAgICAgICAgICAgbmVlZF9leHQoKQogICAgIyBGaXggcGFyYW1ldGVyIHBhc3NpbmcgaXNz
dWUKICAgIGlmIGxlbihBUkdTKSA9PSAxOgogICAgICAgIGFyZ3ZfcHJlcGFyZWQgPSBBUkdTWzBd
LnNwbGl0KCkKICAgIGVsc2U6CiAgICAgICAgYXJndl9wcmVwYXJlZCA9IEFSR1MKCiAgICBzYWx0
X2FyZ3YgPSBbCiAgICAgICAgc3lzLmV4ZWN1dGFibGUsCiAgICAgICAgc2FsdF9jYWxsX3BhdGgs
CiAgICAgICAgJy0tcmV0Y29kZS1wYXNzdGhyb3VnaCcsCiAgICAgICAgJy0tbG9jYWwnLAogICAg
ICAgICctLW1ldGFkYXRhJywKICAgICAgICAnLS1vdXQnLCAnanNvbicsCiAgICAgICAgJy1sJywg
J3F1aWV0JywKICAgICAgICAnLWMnLCBPUFRJT05TLnNhbHRkaXIsCiAgICAgICAgJy0tJywKICAg
IF0gKyBhcmd2X3ByZXBhcmVkCgogICAgc3lzLnN0ZGVyci53cml0ZSgnU0FMVF9BUkdWOiB7MH1c
bicuZm9ybWF0KHNhbHRfYXJndikpCgogICAgIyBPbmx5IGVtaXQgdGhlIGRlbGltaXRlciBvbiAq
Ym90aCogc3Rkb3V0IGFuZCBzdGRlcnIgd2hlbiBjb21wbGV0ZWx5IHN1Y2Nlc3NmdWwuCiAgICAj
IFllcywgdGhlIGZsdXNoKCkgaXMgbmVjZXNzYXJ5LgogICAgc3lzLnN0ZG91dC53cml0ZShPUFRJ
T05TLmRlbGltaXRlciArICdcbicpCiAgICBzeXMuc3Rkb3V0LmZsdXNoKCkKICAgIGlmIG5vdCBP
UFRJT05TLnR0eToKICAgICAgICBzeXMuc3RkZXJyLndyaXRlKE9QVElPTlMuZGVsaW1pdGVyICsg
J1xuJykKICAgICAgICBzeXMuc3RkZXJyLmZsdXNoKCkKICAgIGlmIE9QVElPTlMuY21kX3VtYXNr
IGlzIG5vdCBOb25lOgogICAgICAgIG9sZF91bWFzayA9IG9zLnVtYXNrKE9QVElPTlMuY21kX3Vt
YXNrKQogICAgaWYgT1BUSU9OUy50dHk6CiAgICAgICAgc3Rkb3V0LCBfID0gc3VicHJvY2Vzcy5Q
b3BlbihzYWx0X2FyZ3YsIHN0ZG91dD1zdWJwcm9jZXNzLlBJUEUsIHN0ZGVycj1zdWJwcm9jZXNz
LlBJUEUpLmNvbW11bmljYXRlKCkKICAgICAgICBzeXMuc3Rkb3V0LndyaXRlKHN0ZG91dCkKICAg
ICAgICBzeXMuc3Rkb3V0LmZsdXNoKCkKICAgICAgICBpZiBPUFRJT05TLndpcGU6CiAgICAgICAg
ICAgIHNodXRpbC5ybXRyZWUoT1BUSU9OUy5zYWx0ZGlyKQogICAgZWxpZiBPUFRJT05TLndpcGU6
CiAgICAgICAgc3VicHJvY2Vzcy5jYWxsKHNhbHRfYXJndikKICAgICAgICBzaHV0aWwucm10cmVl
KE9QVElPTlMuc2FsdGRpcikKICAgIGVsc2U6CiAgICAgICAgb3MuZXhlY3Yoc3lzLmV4ZWN1dGFi
bGUsIHNhbHRfYXJndikKICAgIGlmIE9QVElPTlMuY21kX3VtYXNrIGlzIG5vdCBOb25lOgogICAg
ICAgIG9zLnVtYXNrKG9sZF91bWFzaykKCmlmIF9fbmFtZV9fID09ICdfX21haW5fXyc6CiAgICBz
eXMuZXhpdChtYWluKHN5cy5hcmd2KSkK
""").decode("utf-8"))'
else
exec $SUDO "$py_cmd_path" -c \
'import base64;
exec(base64.b64decode("""IyBweWxpbnQ6IGRpc2FibGU9Vzk5MDMKJycnClRoaXMgaXMgYSBzaGltIHRoYXQgaGFuZGxlcyBj
aGVja2luZyBhbmQgdXBkYXRpbmcgc2FsdCB0aGluIGFuZAp0aGVuIGludm9raW5nIHRoaW4uCgpU
aGlzIGlzIG5vdCBpbnRlbmRlZCB0byBiZSBpbnN0YW50aWF0ZWQgYXMgYSBtb2R1bGUsIHJhdGhl
ciBpdCBpcyBhCmhlbHBlciBzY3JpcHQgdXNlZCBieSBzYWx0LmNsaWVudC5zc2guU2luZ2xlLiAg
SXQgaXMgaGVyZSwgaW4gYQpzZXBhcmF0ZSBmaWxlLCBmb3IgY29udmVuaWVuY2Ugb2YgZGV2ZWxv
cG1lbnQuCicnJwoKZnJvbSBfX2Z1dHVyZV9fIGltcG9ydCBhYnNvbHV0ZV9pbXBvcnQKCmltcG9y
dCBoYXNobGliCmltcG9ydCB0YXJmaWxlCmltcG9ydCBzaHV0aWwKaW1wb3J0IHN5cwppbXBvcnQg
b3MKaW1wb3J0IHN0YXQKaW1wb3J0IHN1YnByb2Nlc3MKClRISU5fQVJDSElWRSA9ICdzYWx0LXRo
aW4udGd6JwpFWFRfQVJDSElWRSA9ICdzYWx0LWV4dF9tb2RzLnRneicKCiMgS2VlcCB0aGVzZSBp
biBzeW5jIHdpdGggc2FsdC9kZWZhdWx0cy9leGl0Y29kZXMucHkKRVhfVEhJTl9ERVBMT1kgPSAx
MQpFWF9USElOX0NIRUNLU1VNID0gMTIKRVhfTU9EX0RFUExPWSA9IDEzCkVYX1NDUF9OT1RfRk9V
TkQgPSAxNApFWF9DQU5UQ1JFQVQgPSA3MwoKCmNsYXNzIE9CSihvYmplY3QpOgogICAgIiIiQW4g
ZW1wdHkgY2xhc3MgZm9yIGhvbGRpbmcgaW5zdGFuY2UgYXR0cmlidXRlIHZhbHVlcy4iIiIKICAg
IHBhc3MKCgpPUFRJT05TID0gTm9uZQpBUkdTID0gTm9uZQojIFRoZSBiZWxvdyBsaW5lIGlzIHdo
ZXJlIE9QVElPTlMgY2FuIGJlIHJlZGVmaW5lZCB3aXRoIGludGVybmFsIG9wdGlvbnMKIyAocmF0
aGVyIHRoYW4gY2xpIGFyZ3VtZW50cykgd2hlbiB0aGUgc2hpbSBpcyBidW5kbGVkIGJ5CiMgY2xp
ZW50LnNzaC5TaW5nbGUuX2NtZF9zdHIoKQojIHB5bGludDogZGlzYWJsZT1ibG9jay1jb21tZW50
LXNob3VsZC1zdGFydC13aXRoLWNhcmRpbmFsLXNwYWNlCgpPUFRJT05TID0gT0JKKCkKT1BUSU9O
Uy5jb25maWcgPSAiIiIKe2ZpbGVzZXJ2ZXJfbGlzdF9jYWNoZV90aW1lOiAzLCBncmFpbnNfY2Fj
aGU6IHRydWUsIGlkOiBsb2NhbCwgbG9nX2ZpbGU6IHNhbHQtY2FsbC5sb2csCiAgcm9vdF9kaXI6
IC92YXIvdG1wLy5zYWx0LW9wZV8xYTM1MzJfc2FsdC9ydW5uaW5nX2RhdGEsIHNvY2tfZGlyOiAv
fQoiIiIKT1BUSU9OUy5kZWxpbWl0ZXIgPSAnX2VkYmM3ODg1ZTRmOWFhYzliODNiMzU5OTliNjhk
MDE1MTQ4Y2FmNDY3Yjc4ZmEzOWMwNWY2NjljMGZmODk4NzgnCk9QVElPTlMuc2FsdGRpciA9ICcv
dmFyL3RtcC8uc2FsdC1vcGVfMWEzNTMyX3NhbHQnCk9QVElPTlMuY2hlY2tzdW0gPSAnMmUyNWZj
YmI2YWEyNTU5OWQ1MmU4OTVkZTZlMjExOTZkNWM2ZTU5NScKT1BUSU9OUy5oYXNoZnVuYyA9ICdz
aGExJwpPUFRJT05TLnZlcnNpb24gPSAnMjAxNi4zLjInCk9QVElPTlMuZXh0X21vZHMgPSAnJwpP
UFRJT05TLndpcGUgPSBGYWxzZQpPUFRJT05TLnR0eSA9IEZhbHNlCk9QVElPTlMuY21kX3VtYXNr
ID0gTm9uZQpBUkdTID0gWyd0ZXN0Lm9wdHNfcGtnJ10KCgoKZGVmIG5lZWRfZGVwbG95bWVudCgp
OgogICAgIiIiCiAgICBTYWx0IHRoaW4gbmVlZHMgdG8gYmUgZGVwbG95ZWQgLSBwcmVwIHRoZSB0
YXJnZXQgZGlyZWN0b3J5IGFuZCBlbWl0IHRoZQogICAgZGVsaW1ldGVyIGFuZCBleGl0IGNvZGUg
dGhhdCBzaWduYWxzIGEgcmVxdWlyZWQgZGVwbG95bWVudC4KICAgICIiIgogICAgaWYgb3MucGF0
aC5leGlzdHMoT1BUSU9OUy5zYWx0ZGlyKToKICAgICAgICBzaHV0aWwucm10cmVlKE9QVElPTlMu
c2FsdGRpcikKICAgIG9sZF91bWFzayA9IG9zLnVtYXNrKDBvMDc3KQogICAgb3MubWFrZWRpcnMo
T1BUSU9OUy5zYWx0ZGlyKQogICAgb3MudW1hc2sob2xkX3VtYXNrKQogICAgIyBWZXJpZnkgcGVy
bXMgb24gc2FsdGRpcgogICAgZXVpZCA9IG9zLmdldGV1aWQoKQogICAgZHN0YXQgPSBvcy5zdGF0
KE9QVElPTlMuc2FsdGRpcikKICAgIGlmIGRzdGF0LnN0X3VpZCAhPSBldWlkOgogICAgICAgICMg
QXR0YWNrIGRldGVjdGVkLCB0cnkgYWdhaW4KICAgICAgICBuZWVkX2RlcGxveW1lbnQoKQogICAg
aWYgZHN0YXQuc3RfbW9kZSAhPSAxNjgzMjoKICAgICAgICAjIEF0dGFjayBkZXRlY3RlZAogICAg
ICAgIG5lZWRfZGVwbG95bWVudCgpCiAgICAjIElmIFNVRE9pbmcgdGhlbiBhbHNvIGdpdmUgdGhl
IHN1cGVyIHVzZXIgZ3JvdXAgd3JpdGUgcGVybWlzc2lvbnMKICAgIHN1ZG9fZ2lkID0gb3MuZW52
aXJvbi5nZXQoJ1NVRE9fR0lEJykKICAgIGlmIHN1ZG9fZ2lkOgogICAgICAgIG9zLmNob3duKE9Q
VElPTlMuc2FsdGRpciwgLTEsIGludChzdWRvX2dpZCkpCiAgICAgICAgc3R0ID0gb3Muc3RhdChP
UFRJT05TLnNhbHRkaXIpCiAgICAgICAgb3MuY2htb2QoT1BUSU9OUy5zYWx0ZGlyLCBzdHQuc3Rf
bW9kZSB8IHN0YXQuU19JV0dSUCB8IHN0YXQuU19JUkdSUCB8IHN0YXQuU19JWEdSUCkKCiAgICAj
IERlbGltaXRlciBlbWl0dGVkIG9uIHN0ZG91dCAqb25seSogdG8gaW5kaWNhdGUgc2hpbSBtZXNz
YWdlIHRvIG1hc3Rlci4KICAgIHN5cy5zdGRvdXQud3JpdGUoInswfVxuZGVwbG95XG4iLmZvcm1h
dChPUFRJT05TLmRlbGltaXRlcikpCiAgICBzeXMuZXhpdChFWF9USElOX0RFUExPWSkKCgojIEFk
YXB0ZWQgZnJvbSBzYWx0LnV0aWxzLmdldF9oYXNoKCkKZGVmIGdldF9oYXNoKHBhdGgsIGZvcm09
J3NoYTEnLCBjaHVua19zaXplPTQwOTYpOgogICAgIiIiR2VuZXJhdGUgYSBoYXNoIGRpZ2VzdCBz
dHJpbmcgZm9yIGEgZmlsZS4iIiIKICAgIHRyeToKICAgICAgICBoYXNoX3R5cGUgPSBnZXRhdHRy
KGhhc2hsaWIsIGZvcm0pCiAgICBleGNlcHQgQXR0cmlidXRlRXJyb3I6CiAgICAgICAgcmFpc2Ug
VmFsdWVFcnJvcignSW52YWxpZCBoYXNoIHR5cGU6IHswfScuZm9ybWF0KGZvcm0pKQogICAgd2l0
aCBvcGVuKHBhdGgsICdyYicpIGFzIGlmaWxlOgogICAgICAgIGhhc2hfb2JqID0gaGFzaF90eXBl
KCkKICAgICAgICAjIHJlYWQgdGhlIGZpbGUgaW4gaW4gY2h1bmtzLCBub3QgdGhlIGVudGlyZSBm
aWxlCiAgICAgICAgZm9yIGNodW5rIGluIGl0ZXIobGFtYmRhOiBpZmlsZS5yZWFkKGNodW5rX3Np
emUpLCBiJycpOgogICAgICAgICAgICBoYXNoX29iai51cGRhdGUoY2h1bmspCiAgICAgICAgcmV0
dXJuIGhhc2hfb2JqLmhleGRpZ2VzdCgpCgoKZGVmIHVucGFja190aGluKHRoaW5fcGF0aCk6CiAg
ICAiIiJVbnBhY2sgdGhlIFNhbHQgdGhpbiBhcmNoaXZlLiIiIgogICAgdGZpbGUgPSB0YXJmaWxl
LlRhckZpbGUuZ3pvcGVuKHRoaW5fcGF0aCkKICAgIG9sZF91bWFzayA9IG9zLnVtYXNrKDBvMDc3
KQogICAgdGZpbGUuZXh0cmFjdGFsbChwYXRoPU9QVElPTlMuc2FsdGRpcikKICAgIHRmaWxlLmNs
b3NlKCkKICAgIG9zLnVtYXNrKG9sZF91bWFzaykKICAgIG9zLnVubGluayh0aGluX3BhdGgpCgoK
ZGVmIG5lZWRfZXh0KCk6CiAgICAiIiJTaWduYWwgdGhhdCBleHRlcm5hbCBtb2R1bGVzIG5lZWQg
dG8gYmUgZGVwbG95ZWQuIiIiCiAgICBzeXMuc3Rkb3V0LndyaXRlKCJ7MH1cbmV4dF9tb2RzXG4i
LmZvcm1hdChPUFRJT05TLmRlbGltaXRlcikpCiAgICBzeXMuZXhpdChFWF9NT0RfREVQTE9ZKQoK
CmRlZiB1bnBhY2tfZXh0KGV4dF9wYXRoKToKICAgICIiIlVucGFjayB0aGUgZXh0ZXJuYWwgbW9k
dWxlcy4iIiIKICAgIG1vZGNhY2hlID0gb3MucGF0aC5qb2luKAogICAgICAgICAgICBPUFRJT05T
LnNhbHRkaXIsCiAgICAgICAgICAgICdydW5uaW5nX2RhdGEnLAogICAgICAgICAgICAndmFyJywK
ICAgICAgICAgICAgJ2NhY2hlJywKICAgICAgICAgICAgJ3NhbHQnLAogICAgICAgICAgICAnbWlu
aW9uJywKICAgICAgICAgICAgJ2V4dG1vZHMnKQogICAgdGZpbGUgPSB0YXJmaWxlLlRhckZpbGUu
Z3pvcGVuKGV4dF9wYXRoKQogICAgb2xkX3VtYXNrID0gb3MudW1hc2soMG8wNzcpCiAgICB0Zmls
ZS5leHRyYWN0YWxsKHBhdGg9bW9kY2FjaGUpCiAgICB0ZmlsZS5jbG9zZSgpCiAgICBvcy51bWFz
ayhvbGRfdW1hc2spCiAgICBvcy51bmxpbmsoZXh0X3BhdGgpCiAgICB2ZXJfcGF0aCA9IG9zLnBh
dGguam9pbihtb2RjYWNoZSwgJ2V4dF92ZXJzaW9uJykKICAgIHZlcl9kc3QgPSBvcy5wYXRoLmpv
aW4oT1BUSU9OUy5zYWx0ZGlyLCAnZXh0X3ZlcnNpb24nKQogICAgc2h1dGlsLm1vdmUodmVyX3Bh
dGgsIHZlcl9kc3QpCgoKZGVmIG1haW4oYXJndik6ICAjIHB5bGludDogZGlzYWJsZT1XMDYxMwog
ICAgIiIiTWFpbiBwcm9ncmFtIGJvZHkiIiIKICAgIHRoaW5fcGF0aCA9IG9zLnBhdGguam9pbihP
UFRJT05TLnNhbHRkaXIsIFRISU5fQVJDSElWRSkKICAgIGlmIG9zLnBhdGguaXNmaWxlKHRoaW5f
cGF0aCk6CiAgICAgICAgaWYgT1BUSU9OUy5jaGVja3N1bSAhPSBnZXRfaGFzaCh0aGluX3BhdGgs
IE9QVElPTlMuaGFzaGZ1bmMpOgogICAgICAgICAgICBzeXMuc3RkZXJyLndyaXRlKCd7MH1cbicu
Zm9ybWF0KE9QVElPTlMuY2hlY2tzdW0pKQogICAgICAgICAgICBzeXMuc3RkZXJyLndyaXRlKCd7
MH1cbicuZm9ybWF0KGdldF9oYXNoKHRoaW5fcGF0aCwgT1BUSU9OUy5oYXNoZnVuYykpKQogICAg
ICAgICAgICBvcy51bmxpbmsodGhpbl9wYXRoKQogICAgICAgICAgICBzeXMuc3RkZXJyLndyaXRl
KCdXQVJOSU5HOiBjaGVja3N1bSBtaXNtYXRjaCBmb3IgInswfSJcbicuZm9ybWF0KHRoaW5fcGF0
aCkpCiAgICAgICAgICAgIHN5cy5leGl0KEVYX1RISU5fQ0hFQ0tTVU0pCiAgICAgICAgdW5wYWNr
X3RoaW4odGhpbl9wYXRoKQogICAgICAgICMgU2FsdCB0aGluIG5vdyBpcyBhdmFpbGFibGUgdG8g
dXNlCiAgICBlbHNlOgogICAgICAgIHNjcHN0YXQgPSBzdWJwcm9jZXNzLlBvcGVuKFsnL2Jpbi9z
aCcsICctYycsICdjb21tYW5kIC12IHNjcCddKS53YWl0KCkKICAgICAgICBpZiBzY3BzdGF0ICE9
IDA6CiAgICAgICAgICAgIHN5cy5leGl0KEVYX1NDUF9OT1RfRk9VTkQpCgogICAgICAgIGlmIG5v
dCBvcy5wYXRoLmV4aXN0cyhPUFRJT05TLnNhbHRkaXIpOgogICAgICAgICAgICBuZWVkX2RlcGxv
eW1lbnQoKQoKICAgICAgICBpZiBub3Qgb3MucGF0aC5pc2RpcihPUFRJT05TLnNhbHRkaXIpOgog
ICAgICAgICAgICBzeXMuc3RkZXJyLndyaXRlKAogICAgICAgICAgICAgICAgJ0VSUk9SOiBzYWx0
IHBhdGggInswfSIgZXhpc3RzIGJ1dCBpcycKICAgICAgICAgICAgICAgICcgbm90IGEgZGlyZWN0
b3J5XG4nLmZvcm1hdChPUFRJT05TLnNhbHRkaXIpCiAgICAgICAgICAgICkKICAgICAgICAgICAg
c3lzLmV4aXQoRVhfQ0FOVENSRUFUKQoKICAgICAgICB2ZXJzaW9uX3BhdGggPSBvcy5wYXRoLmpv
aW4oT1BUSU9OUy5zYWx0ZGlyLCAndmVyc2lvbicpCiAgICAgICAgaWYgbm90IG9zLnBhdGguZXhp
c3RzKHZlcnNpb25fcGF0aCkgb3Igbm90IG9zLnBhdGguaXNmaWxlKHZlcnNpb25fcGF0aCk6CiAg
ICAgICAgICAgIHN5cy5zdGRlcnIud3JpdGUoCiAgICAgICAgICAgICAgICAnV0FSTklORzogVW5h
YmxlIHRvIGxvY2F0ZSBjdXJyZW50IHRoaW4gJwogICAgICAgICAgICAgICAgJyB2ZXJzaW9uOiB7
MH0uXG4nLmZvcm1hdCh2ZXJzaW9uX3BhdGgpCiAgICAgICAgICAgICkKICAgICAgICAgICAgbmVl
ZF9kZXBsb3ltZW50KCkKICAgICAgICB3aXRoIG9wZW4odmVyc2lvbl9wYXRoLCAncicpIGFzIHZw
bzoKICAgICAgICAgICAgY3VyX3ZlcnNpb24gPSB2cG8ucmVhZGxpbmUoKS5zdHJpcCgpCiAgICAg
ICAgaWYgY3VyX3ZlcnNpb24gIT0gT1BUSU9OUy52ZXJzaW9uOgogICAgICAgICAgICBzeXMuc3Rk
ZXJyLndyaXRlKAogICAgICAgICAgICAgICAgJ1dBUk5JTkc6IGN1cnJlbnQgdGhpbiB2ZXJzaW9u
IHswfScKICAgICAgICAgICAgICAgICcgaXMgbm90IHVwLXRvLWRhdGUgd2l0aCB7MX0uXG4nLmZv
cm1hdCgKICAgICAgICAgICAgICAgICAgICBjdXJfdmVyc2lvbiwgT1BUSU9OUy52ZXJzaW9uCiAg
ICAgICAgICAgICAgICApCiAgICAgICAgICAgICkKICAgICAgICAgICAgbmVlZF9kZXBsb3ltZW50
KCkKICAgICAgICAjIFNhbHQgdGhpbiBleGlzdHMgYW5kIGlzIHVwLXRvLWRhdGUgLSBmYWxsIHRo
cm91Z2ggYW5kIHVzZSBpdAoKICAgIHNhbHRfY2FsbF9wYXRoID0gb3MucGF0aC5qb2luKE9QVElP
TlMuc2FsdGRpciwgJ3NhbHQtY2FsbCcpCiAgICBpZiBub3Qgb3MucGF0aC5pc2ZpbGUoc2FsdF9j
YWxsX3BhdGgpOgogICAgICAgIHN5cy5zdGRlcnIud3JpdGUoJ0VSUk9SOiB0aGluIGlzIG1pc3Np
bmcgInswfSJcbicuZm9ybWF0KHNhbHRfY2FsbF9wYXRoKSkKICAgICAgICBuZWVkX2RlcGxveW1l
bnQoKQoKICAgIHdpdGggb3Blbihvcy5wYXRoLmpvaW4oT1BUSU9OUy5zYWx0ZGlyLCAnbWluaW9u
JyksICd3JykgYXMgY29uZmlnOgogICAgICAgIGNvbmZpZy53cml0ZShPUFRJT05TLmNvbmZpZyAr
ICdcbicpCiAgICBpZiBPUFRJT05TLmV4dF9tb2RzOgogICAgICAgIGV4dF9wYXRoID0gb3MucGF0
aC5qb2luKE9QVElPTlMuc2FsdGRpciwgRVhUX0FSQ0hJVkUpCiAgICAgICAgaWYgb3MucGF0aC5l
eGlzdHMoZXh0X3BhdGgpOgogICAgICAgICAgICB1bnBhY2tfZXh0KGV4dF9wYXRoKQogICAgICAg
IGVsc2U6CiAgICAgICAgICAgIHZlcnNpb25fcGF0aCA9IG9zLnBhdGguam9pbihPUFRJT05TLnNh
bHRkaXIsICdleHRfdmVyc2lvbicpCiAgICAgICAgICAgIGlmIG5vdCBvcy5wYXRoLmV4aXN0cyh2
ZXJzaW9uX3BhdGgpIG9yIG5vdCBvcy5wYXRoLmlzZmlsZSh2ZXJzaW9uX3BhdGgpOgogICAgICAg
ICAgICAgICAgbmVlZF9leHQoKQogICAgICAgICAgICB3aXRoIG9wZW4odmVyc2lvbl9wYXRoLCAn
cicpIGFzIHZwbzoKICAgICAgICAgICAgICAgIGN1cl92ZXJzaW9uID0gdnBvLnJlYWRsaW5lKCku
c3RyaXAoKQogICAgICAgICAgICBpZiBjdXJfdmVyc2lvbiAhPSBPUFRJT05TLmV4dF9tb2RzOgog
ICAgICAgICAgICAgICAgbmVlZF9leHQoKQogICAgIyBGaXggcGFyYW1ldGVyIHBhc3NpbmcgaXNz
dWUKICAgIGlmIGxlbihBUkdTKSA9PSAxOgogICAgICAgIGFyZ3ZfcHJlcGFyZWQgPSBBUkdTWzBd
LnNwbGl0KCkKICAgIGVsc2U6CiAgICAgICAgYXJndl9wcmVwYXJlZCA9IEFSR1MKCiAgICBzYWx0
X2FyZ3YgPSBbCiAgICAgICAgc3lzLmV4ZWN1dGFibGUsCiAgICAgICAgc2FsdF9jYWxsX3BhdGgs
CiAgICAgICAgJy0tcmV0Y29kZS1wYXNzdGhyb3VnaCcsCiAgICAgICAgJy0tbG9jYWwnLAogICAg
ICAgICctLW1ldGFkYXRhJywKICAgICAgICAnLS1vdXQnLCAnanNvbicsCiAgICAgICAgJy1sJywg
J3F1aWV0JywKICAgICAgICAnLWMnLCBPUFRJT05TLnNhbHRkaXIsCiAgICAgICAgJy0tJywKICAg
IF0gKyBhcmd2X3ByZXBhcmVkCgogICAgc3lzLnN0ZGVyci53cml0ZSgnU0FMVF9BUkdWOiB7MH1c
bicuZm9ybWF0KHNhbHRfYXJndikpCgogICAgIyBPbmx5IGVtaXQgdGhlIGRlbGltaXRlciBvbiAq
Ym90aCogc3Rkb3V0IGFuZCBzdGRlcnIgd2hlbiBjb21wbGV0ZWx5IHN1Y2Nlc3NmdWwuCiAgICAj
IFllcywgdGhlIGZsdXNoKCkgaXMgbmVjZXNzYXJ5LgogICAgc3lzLnN0ZG91dC53cml0ZShPUFRJ
T05TLmRlbGltaXRlciArICdcbicpCiAgICBzeXMuc3Rkb3V0LmZsdXNoKCkKICAgIGlmIG5vdCBP
UFRJT05TLnR0eToKICAgICAgICBzeXMuc3RkZXJyLndyaXRlKE9QVElPTlMuZGVsaW1pdGVyICsg
J1xuJykKICAgICAgICBzeXMuc3RkZXJyLmZsdXNoKCkKICAgIGlmIE9QVElPTlMuY21kX3VtYXNr
IGlzIG5vdCBOb25lOgogICAgICAgIG9sZF91bWFzayA9IG9zLnVtYXNrKE9QVElPTlMuY21kX3Vt
YXNrKQogICAgaWYgT1BUSU9OUy50dHk6CiAgICAgICAgc3Rkb3V0LCBfID0gc3VicHJvY2Vzcy5Q
b3BlbihzYWx0X2FyZ3YsIHN0ZG91dD1zdWJwcm9jZXNzLlBJUEUsIHN0ZGVycj1zdWJwcm9jZXNz
LlBJUEUpLmNvbW11bmljYXRlKCkKICAgICAgICBzeXMuc3Rkb3V0LndyaXRlKHN0ZG91dCkKICAg
ICAgICBzeXMuc3Rkb3V0LmZsdXNoKCkKICAgICAgICBpZiBPUFRJT05TLndpcGU6CiAgICAgICAg
ICAgIHNodXRpbC5ybXRyZWUoT1BUSU9OUy5zYWx0ZGlyKQogICAgZWxpZiBPUFRJT05TLndpcGU6
CiAgICAgICAgc3VicHJvY2Vzcy5jYWxsKHNhbHRfYXJndikKICAgICAgICBzaHV0aWwucm10cmVl
KE9QVElPTlMuc2FsdGRpcikKICAgIGVsc2U6CiAgICAgICAgb3MuZXhlY3Yoc3lzLmV4ZWN1dGFi
bGUsIHNhbHRfYXJndikKICAgIGlmIE9QVElPTlMuY21kX3VtYXNrIGlzIG5vdCBOb25lOgogICAg
ICAgIG9zLnVtYXNrKG9sZF91bWFzaykKCmlmIF9fbmFtZV9fID09ICdfX21haW5fXyc6CiAgICBz
eXMuZXhpdChtYWluKHN5cy5hcmd2KSkK
""").decode("utf-8"))'
fi
exit 0
else
continue
fi
done
echo "ERROR: Unable to locate appropriate python command" >&2
exit $EX_PYTHON_INVALID
EOF
2016-08-27 20:51:53,821 [salt.utils.vt.Terminal.PID-7106.STDOUT][TRACE   ][7069] salt-ope@127.0.0.1's password:
2016-08-27 20:51:53,993 [salt.utils.vt.Terminal.PID-7106.STDERR][TRACE   ][7069] + SUDO=
+ '[' -n sudo ']'
+ SUDO='sudo '
+ EX_PYTHON_INVALID=10
+ PYTHON_CMDS='python3 python27 python2.7 python26 python2.6 python2 python'
2016-08-27 20:51:54,004 [salt.utils.vt.Terminal.PID-7106.STDERR][TRACE   ][7069] + for py_cmd in '$PYTHON_CMDS'
+ command -v python3
+ continue
+ for py_cmd in '$PYTHON_CMDS'
+ command -v python27
+ continue
+ for py_cmd in '$PYTHON_CMDS'
+ command -v python2.7
+ continue
+ for py_cmd in '$PYTHON_CMDS'
+ command -v python26
+ continue
+ for py_cmd in '$PYTHON_CMDS'
+ command -v python2.6
+ python2.6 -c 'import sys; sys.exit(not (sys.version_info >= (2, 6)
and sys.version_info[0] == 2));'
2016-08-27 20:51:54,015 [salt.utils.vt.Terminal.PID-7106.STDERR][TRACE   ][7069] ++ python2.6 -c 'from __future__ import print_function;
import sys; print(sys.executable);'
2016-08-27 20:51:54,032 [salt.utils.vt.Terminal.PID-7106.STDERR][TRACE   ][7069] + py_cmd_path=/usr/bin/python2.6
++ which python2.6
+ cmdpath=/usr/bin/python2.6
+ grep 'shell script'
+ file /usr/bin/python2.6
+ exec sudo /usr/bin/python2.6 -c 'import base64;
exec(base64.b64decode("""IyBweWxpbnQ6IGRpc2FibGU9Vzk5MDMKJycnClRoaXMgaXMgYSBzaGltIHRoYXQgaGFuZGxlcyBj
aGVja2luZyBhbmQgdXBkYXRpbmcgc2FsdCB0aGluIGFuZAp0aGVuIGludm9raW5nIHRoaW4uCgpU
aGlzIGlzIG5vdCBpbnRlbmRlZCB0byBiZSBpbnN0YW50aWF0ZWQgYXMgYSBtb2R1bGUsIHJhdGhl
ciBpdCBpcyBhCmhlbHBlciBzY3JpcHQgdXNlZCBieSBzYWx0LmNsaWVudC5zc2guU2luZ2xlLiAg
SXQgaXMgaGVyZSwgaW4gYQpzZXBhcmF0ZSBmaWxlLCBmb3IgY29udmVuaWVuY2Ugb2YgZGV2ZWxv
cG1lbnQuCicnJwoKZnJvbSBfX2Z1dHVyZV9fIGltcG9ydCBhYnNvbHV0ZV9pbXBvcnQKCmltcG9y
dCBoYXNobGliCmltcG9ydCB0YXJmaWxlCmltcG9ydCBzaHV0aWwKaW1wb3J0IHN5cwppbXBvcnQg
b3MKaW1wb3J0IHN0YXQKaW1wb3J0IHN1YnByb2Nlc3MKClRISU5fQVJDSElWRSA9ICdzYWx0LXRo
aW4udGd6JwpFWFRfQVJDSElWRSA9ICdzYWx0LWV4dF9tb2RzLnRneicKCiMgS2VlcCB0aGVzZSBp
biBzeW5jIHdpdGggc2FsdC9kZWZhdWx0cy9leGl0Y29kZXMucHkKRVhfVEhJTl9ERVBMT1kgPSAx
MQpFWF9USElOX0NIRUNLU1VNID0gMTIKRV
2016-08-27 20:51:54,043 [salt.utils.vt.Terminal.PID-7106.STDERR][TRACE   ][7069] hfTU9EX0RFUExPWSA9IDEzCkVYX1NDUF9OT1RfRk9V
TkQgPSAxNApFWF9DQU5UQ1JFQVQgPSA3MwoKCmNsYXNzIE9CSihvYmplY3QpOgogICAgIiIiQW4g
ZW1wdHkgY2xhc3MgZm9yIGhvbGRpbmcgaW5zdGFuY2UgYXR0cmlidXRlIHZhbHVlcy4iIiIKICAg
IHBhc3MKCgpPUFRJT05TID0gTm9uZQpBUkdTID0gTm9uZQojIFRoZSBiZWxvdyBsaW5lIGlzIHdo
ZXJlIE9QVElPTlMgY2FuIGJlIHJlZGVmaW5lZCB3aXRoIGludGVybmFsIG9wdGlvbnMKIyAocmF0
aGVyIHRoYW4gY2xpIGFyZ3VtZW50cykgd2hlbiB0aGUgc2hpbSBpcyBidW5kbGVkIGJ5CiMgY2xp
ZW50LnNzaC5TaW5nbGUuX2NtZF9zdHIoKQojIHB5bGludDogZGlzYWJsZT1ibG9jay1jb21tZW50
LXNob3VsZC1zdGFydC13aXRoLWNhcmRpbmFsLXNwYWNlCgpPUFRJT05TID0gT0JKKCkKT1BUSU9O
Uy5jb25maWcgPSAiIiIKe2ZpbGVzZXJ2ZXJfbGlzdF9jYWNoZV90aW1lOiAzLCBncmFpbnNfY2Fj
aGU6IHRydWUsIGlkOiBsb2NhbCwgbG9nX2ZpbGU6IHNhbHQtY2FsbC5sb2csCiAgcm9vdF9kaXI6
IC92YXIvdG1wLy5zYWx0LW9wZV8xYTM1MzJfc2FsdC9ydW5uaW5nX2RhdGEsIHNvY2tfZGlyOiAv
fQoiIiIKT1BUSU9OUy5kZWxpbWl0ZXIgPSAnX2VkYmM3ODg1ZTRmOWFhYzliODNiMzU5OTliNjhk
MDE1MTQ4Y2FmNDY3Yjc4ZmEzOWMwNWY2NjljMGZmODk4NzgnCk9QVElPTlMuc2FsdGRpciA9ICcv
dmFyL3RtcC8uc2FsdC1vcGVfMWEzNTMyX3NhbHQnCk9Q
2016-08-27 20:51:54,053 [salt.utils.vt.Terminal.PID-7106.STDERR][TRACE   ][7069] VElPTlMuY2hlY2tzdW0gPSAnMmUyNWZj
YmI2YWEyNTU5OWQ1MmU4OTVkZTZlMjExOTZkNWM2ZTU5NScKT1BUSU9OUy5oYXNoZnVuYyA9ICdz
aGExJwpPUFRJT05TLnZlcnNpb24gPSAnMjAxNi4zLjInCk9QVElPTlMuZXh0X21vZHMgPSAnJwpP
UFRJT05TLndpcGUgPSBGYWxzZQpPUFRJT05TLnR0eSA9IEZhbHNlCk9QVElPTlMuY21kX3VtYXNr
ID0gTm9uZQpBUkdTID0gWyd0ZXN0Lm9wdHNfcGtnJ10KCgoKZGVmIG5lZWRfZGVwbG95bWVudCgp
OgogICAgIiIiCiAgICBTYWx0IHRoaW4gbmVlZHMgdG8gYmUgZGVwbG95ZWQgLSBwcmVwIHRoZSB0
YXJnZXQgZGlyZWN0b3J5IGFuZCBlbWl0IHRoZQogICAgZGVsaW1ldGVyIGFuZCBleGl0IGNvZGUg
dGhhdCBzaWduYWxzIGEgcmVxdWlyZWQgZGVwbG95bWVudC4KICAgICIiIgogICAgaWYgb3MucGF0
aC5leGlzdHMoT1BUSU9OUy5zYWx0ZGlyKToKICAgICAgICBzaHV0aWwucm10cmVlKE9QVElPTlMu
c2FsdGRpcikKICAgIG9sZF91bWFzayA9IG9zLnVtYXNrKDBvMDc3KQogICAgb3MubWFrZWRpcnMo
T1BUSU9OUy5zYWx0ZGlyKQogICAgb3MudW1hc2sob2xkX3VtYXNrKQogICAgIyBWZXJpZnkgcGVy
bXMgb24gc2FsdGRpcgogICAgZXVpZCA9IG9zLmdldGV1aWQoKQogICAgZHN0YXQgPSBvcy5zdGF0
KE9QVElPTlMuc2FsdGRpcikKICAgIGlmIGRzdGF0LnN0X3VpZCAhPSBldWlkOgogICAgICAgICMg
QXR0YWNrIGRldGVjdGVkLCB0cnkgYWdhaW4KICAgICAgICBuZWVkX2
2016-08-27 20:51:54,064 [salt.utils.vt.Terminal.PID-7106.STDERR][TRACE   ][7069] RlcGxveW1lbnQoKQogICAg
aWYgZHN0YXQuc3RfbW9kZSAhPSAxNjgzMjoKICAgICAgICAjIEF0dGFjayBkZXRlY3RlZAogICAg
ICAgIG5lZWRfZGVwbG95bWVudCgpCiAgICAjIElmIFNVRE9pbmcgdGhlbiBhbHNvIGdpdmUgdGhl
IHN1cGVyIHVzZXIgZ3JvdXAgd3JpdGUgcGVybWlzc2lvbnMKICAgIHN1ZG9fZ2lkID0gb3MuZW52
aXJvbi5nZXQoJ1NVRE9fR0lEJykKICAgIGlmIHN1ZG9fZ2lkOgogICAgICAgIG9zLmNob3duKE9Q
VElPTlMuc2FsdGRpciwgLTEsIGludChzdWRvX2dpZCkpCiAgICAgICAgc3R0ID0gb3Muc3RhdChP
UFRJT05TLnNhbHRkaXIpCiAgICAgICAgb3MuY2htb2QoT1BUSU9OUy5zYWx0ZGlyLCBzdHQuc3Rf
bW9kZSB8IHN0YXQuU19JV0dSUCB8IHN0YXQuU19JUkdSUCB8IHN0YXQuU19JWEdSUCkKCiAgICAj
IERlbGltaXRlciBlbWl0dGVkIG9uIHN0ZG91dCAqb25seSogdG8gaW5kaWNhdGUgc2hpbSBtZXNz
YWdlIHRvIG1hc3Rlci4KICAgIHN5cy5zdGRvdXQud3JpdGUoInswfVxuZGVwbG95XG4iLmZvcm1h
dChPUFRJT05TLmRlbGltaXRlcikpCiAgICBzeXMuZXhpdChFWF9USElOX0RFUExPWSkKCgojIEFk
YXB0ZWQgZnJvbSBzYWx0LnV0aWxzLmdldF9oYXNoKCkKZGVmIGdldF9oYXNoKHBhdGgsIGZvcm09
J3NoYTEnLCBjaHVua19zaXplPTQwOTYpOgogICAgIiIiR2VuZXJhdGUgYSBoYXNoIGRpZ2VzdCBz
dHJpbmcgZm9yIGEgZmlsZS4iIiIKICAgIHRyeToKICAgICAgICBoYXNoX3R5cGUg
2016-08-27 20:51:54,074 [salt.utils.vt.Terminal.PID-7106.STDERR][TRACE   ][7069] PSBnZXRhdHRy
KGhhc2hsaWIsIGZvcm0pCiAgICBleGNlcHQgQXR0cmlidXRlRXJyb3I6CiAgICAgICAgcmFpc2Ug
VmFsdWVFcnJvcignSW52YWxpZCBoYXNoIHR5cGU6IHswfScuZm9ybWF0KGZvcm0pKQogICAgd2l0
aCBvcGVuKHBhdGgsICdyYicpIGFzIGlmaWxlOgogICAgICAgIGhhc2hfb2JqID0gaGFzaF90eXBl
KCkKICAgICAgICAjIHJlYWQgdGhlIGZpbGUgaW4gaW4gY2h1bmtzLCBub3QgdGhlIGVudGlyZSBm
aWxlCiAgICAgICAgZm9yIGNodW5rIGluIGl0ZXIobGFtYmRhOiBpZmlsZS5yZWFkKGNodW5rX3Np
emUpLCBiJycpOgogICAgICAgICAgICBoYXNoX29iai51cGRhdGUoY2h1bmspCiAgICAgICAgcmV0
dXJuIGhhc2hfb2JqLmhleGRpZ2VzdCgpCgoKZGVmIHVucGFja190aGluKHRoaW5fcGF0aCk6CiAg
ICAiIiJVbnBhY2sgdGhlIFNhbHQgdGhpbiBhcmNoaXZlLiIiIgogICAgdGZpbGUgPSB0YXJmaWxl
LlRhckZpbGUuZ3pvcGVuKHRoaW5fcGF0aCkKICAgIG9sZF91bWFzayA9IG9zLnVtYXNrKDBvMDc3
KQogICAgdGZpbGUuZXh0cmFjdGFsbChwYXRoPU9QVElPTlMuc2FsdGRpcikKICAgIHRmaWxlLmNs
b3NlKCkKICAgIG9zLnVtYXNrKG9sZF91bWFzaykKICAgIG9zLnVubGluayh0aGluX3BhdGgpCgoK
ZGVmIG5lZWRfZXh0KCk6CiAgICAiIiJTaWduYWwgdGhhdCBleHRlcm5hbCBtb2R1bGVzIG5lZWQg
dG8gYmUgZGVwbG95ZWQuIiIiCiAgICBzeXMuc3Rkb3V0LndyaXRlKCJ7MH1cbmV4dF9tb2RzXG
2016-08-27 20:51:54,084 [salt.utils.vt.Terminal.PID-7106.STDERR][TRACE   ][7069] 4i
LmZvcm1hdChPUFRJT05TLmRlbGltaXRlcikpCiAgICBzeXMuZXhpdChFWF9NT0RfREVQTE9ZKQoK
CmRlZiB1bnBhY2tfZXh0KGV4dF9wYXRoKToKICAgICIiIlVucGFjayB0aGUgZXh0ZXJuYWwgbW9k
dWxlcy4iIiIKICAgIG1vZGNhY2hlID0gb3MucGF0aC5qb2luKAogICAgICAgICAgICBPUFRJT05T
LnNhbHRkaXIsCiAgICAgICAgICAgICdydW5uaW5nX2RhdGEnLAogICAgICAgICAgICAndmFyJywK
ICAgICAgICAgICAgJ2NhY2hlJywKICAgICAgICAgICAgJ3NhbHQnLAogICAgICAgICAgICAnbWlu
aW9uJywKICAgICAgICAgICAgJ2V4dG1vZHMnKQogICAgdGZpbGUgPSB0YXJmaWxlLlRhckZpbGUu
Z3pvcGVuKGV4dF9wYXRoKQogICAgb2xkX3VtYXNrID0gb3MudW1hc2soMG8wNzcpCiAgICB0Zmls
ZS5leHRyYWN0YWxsKHBhdGg9bW9kY2FjaGUpCiAgICB0ZmlsZS5jbG9zZSgpCiAgICBvcy51bWFz
ayhvbGRfdW1hc2spCiAgICBvcy51bmxpbmsoZXh0X3BhdGgpCiAgICB2ZXJfcGF0aCA9IG9zLnBh
dGguam9pbihtb2RjYWNoZSwgJ2V4dF92ZXJzaW9uJykKICAgIHZlcl9kc3QgPSBvcy5wYXRoLmpv
aW4oT1BUSU9OUy5zYWx0ZGlyLCAnZXh0X3ZlcnNpb24nKQogICAgc2h1dGlsLm1vdmUodmVyX3Bh
dGgsIHZlcl9kc3QpCgoKZGVmIG1haW4oYXJndik6ICAjIHB5bGludDogZGlzYWJsZT1XMDYxMwog
ICAgIiIiTWFpbiBwcm9ncmFtIGJvZHkiIiIKICAgIHRoaW5fcGF0aCA9IG9zLnBhdGguam9pbihP
UFRJT0
2016-08-27 20:51:54,095 [salt.utils.vt.Terminal.PID-7106.STDERR][TRACE   ][7069] 5TLnNhbHRkaXIsIFRISU5fQVJDSElWRSkKICAgIGlmIG9zLnBhdGguaXNmaWxlKHRoaW5f
cGF0aCk6CiAgICAgICAgaWYgT1BUSU9OUy5jaGVja3N1bSAhPSBnZXRfaGFzaCh0aGluX3BhdGgs
IE9QVElPTlMuaGFzaGZ1bmMpOgogICAgICAgICAgICBzeXMuc3RkZXJyLndyaXRlKCd7MH1cbicu
Zm9ybWF0KE9QVElPTlMuY2hlY2tzdW0pKQogICAgICAgICAgICBzeXMuc3RkZXJyLndyaXRlKCd7
MH1cbicuZm9ybWF0KGdldF9oYXNoKHRoaW5fcGF0aCwgT1BUSU9OUy5oYXNoZnVuYykpKQogICAg
ICAgICAgICBvcy51bmxpbmsodGhpbl9wYXRoKQogICAgICAgICAgICBzeXMuc3RkZXJyLndyaXRl
KCdXQVJOSU5HOiBjaGVja3N1bSBtaXNtYXRjaCBmb3IgInswfSJcbicuZm9ybWF0KHRoaW5fcGF0
aCkpCiAgICAgICAgICAgIHN5cy5leGl0KEVYX1RISU5fQ0hFQ0tTVU0pCiAgICAgICAgdW5wYWNr
X3RoaW4odGhpbl9wYXRoKQogICAgICAgICMgU2FsdCB0aGluIG5vdyBpcyBhdmFpbGFibGUgdG8g
dXNlCiAgICBlbHNlOgogICAgICAgIHNjcHN0YXQgPSBzdWJwcm9jZXNzLlBvcGVuKFsnL2Jpbi9z
aCcsICctYycsICdjb21tYW5kIC12IHNjcCddKS53YWl0KCkKICAgICAgICBpZiBzY3BzdGF0ICE9
IDA6CiAgICAgICAgICAgIHN5cy5leGl0KEVYX1NDUF9OT1RfRk9VTkQpCgogICAgICAgIGlmIG5v
dCBvcy5wYXRoLmV4aXN0cyhPUFRJT05TLnNhbHRkaXIpOgogICAgICAgICAgICBuZWVkX2RlcGxv
eW1lbnQoKQoKICAg
2016-08-27 20:51:54,105 [salt.utils.vt.Terminal.PID-7106.STDERR][TRACE   ][7069] ICAgICBpZiBub3Qgb3MucGF0aC5pc2RpcihPUFRJT05TLnNhbHRkaXIpOgog
ICAgICAgICAgICBzeXMuc3RkZXJyLndyaXRlKAogICAgICAgICAgICAgICAgJ0VSUk9SOiBzYWx0
IHBhdGggInswfSIgZXhpc3RzIGJ1dCBpcycKICAgICAgICAgICAgICAgICcgbm90IGEgZGlyZWN0
2016-08-27 20:51:54,116 [salt.utils.vt.Terminal.PID-7106.STDERR][TRACE   ][7069] b3J5XG4nLmZvcm1hdChPUFRJT05TLnNhbHRkaXIpCiAgICAgICAgICAgICkKICAgICAgICAgICAg
c3lzLmV4aXQoRVhfQ0FOVENSRUFUKQoKICAgICAgICB2ZXJzaW9uX3BhdGggPSBvcy5wYXRoLmpv
aW4oT1BUSU9OUy5zYWx0ZGlyLCAndmVyc2lvbicpCiAgICAgICAgaWYgbm90IG9zLnBhdGguZXhp
c3RzKHZlcnNpb25fcGF0aCkgb3Igbm90IG9zLnBhdGguaXNmaWxlKHZlcnNpb25fcGF0aCk6CiAg
ICAgICAgICAgIHN5cy5zdGRlcnIud3JpdGUoCiAgICAgICAgICAgICAgICAnV0FSTklORzogVW5h
YmxlIHRvIGxvY2F0ZSBjdXJyZW50IHRoaW4gJwogICAgICAgICAgICAgICAgJyB2ZXJzaW9uOiB7
MH0uXG4nLmZvcm1hdCh2ZXJzaW9uX3BhdGgpCiAgICAgICAgICAgICkKICAgICAgICAgICAgbmVl
ZF9kZXBsb3ltZW50KCkKICAgICAgICB3aXRoIG9wZW4odmVyc2lvbl9wYXRoLCAncicpIGFzIHZw
bzoKICAgICAgICAgICAgY3VyX3ZlcnNpb24gPSB2cG8ucmVhZGxpbmUoKS5zdHJpcCgpCiAgICAg
ICAgaWYgY3VyX3ZlcnNpb24gIT0gT1BUSU9OUy52ZXJzaW9uOgogICAgICAgICAgICBzeXMuc3Rk
ZXJyLndyaXRlKAogICAgICAgICAgICAgICAgJ1dBUk5JTkc6IGN1cnJlbnQgdGhpbiB2ZXJzaW9u
IHswfScKICAgICAgICAgICAgICAgICcgaXMgbm90IHVwLXRvLWRhdGUgd2l0aCB7MX0uXG4nLmZv
cm1hdCgKICAgICAgICAgICAgICAgICAgICBjdXJfdmVyc2lvbiwgT1BUSU9OUy52ZXJzaW9uCiAg
ICAgICAg
2016-08-27 20:51:54,126 [salt.utils.vt.Terminal.PID-7106.STDERR][TRACE   ][7069] ICAgICAgICApCiAgICAgICAgICAgICkKICAgICAgICAgICAgbmVlZF9kZXBsb3ltZW50
KCkKICAgICAgICAjIFNhbHQgdGhpbiBleGlzdHMgYW5kIGlzIHVwLXRvLWRhdGUgLSBmYWxsIHRo
cm91Z2ggYW5kIHVzZSBpdAoKICAgIHNhbHRfY2FsbF9wYXRoID0gb3MucGF0aC5qb2luKE9QVElP
TlMuc2FsdGRpciwgJ3NhbHQtY2FsbCcpCiAgICBpZiBub3Qgb3MucGF0aC5pc2ZpbGUoc2FsdF9j
YWxsX3BhdGgpOgogICAgICAgIHN5cy5zdGRlcnIud3JpdGUoJ0VSUk9SOiB0aGluIGlzIG1pc3Np
bmcgInswfSJcbicuZm9ybWF0KHNhbHRfY2FsbF9wYXRoKSkKICAgICAgICBuZWVkX2RlcGxveW1l
bnQoKQoKICAgIHdpdGggb3Blbihvcy5wYXRoLmpvaW4oT1BUSU9OUy5zYWx0ZGlyLCAnbWluaW9u
JyksICd3JykgYXMgY29uZmlnOgogICAgICAgIGNvbmZpZy53cml0ZShPUFRJT05TLmNvbmZpZyAr
ICdcbicpCiAgICBpZiBPUFRJT05TLmV4dF9tb2RzOgogICAgICAgIGV4dF9wYXRoID0gb3MucGF0
aC5qb2luKE9QVElPTlMuc2FsdGRpciwgRVhUX0FSQ0hJVkUpCiAgICAgICAgaWYgb3MucGF0aC5l
eGlzdHMoZXh0X3BhdGgpOgogICAgICAgICAgICB1bnBhY2tfZXh0KGV4dF9wYXRoKQogICAgICAg
IGVsc2U6CiAgICAgICAgICAgIHZlcnNpb25fcGF0aCA9IG9zLnBhdGguam9pbihPUFRJT05TLnNh
bHRkaXIsICdleHRfdmVyc2lvbicpCiAgICAgICAgICAgIGlmIG5vdCBvcy5wYXRoLmV4aXN0cyh2
ZXJzaW9uX3BhdGgpIG
2016-08-27 20:51:54,136 [salt.utils.vt.Terminal.PID-7106.STDERR][TRACE   ][7069] 9yIG5vdCBvcy5wYXRoLmlzZmlsZSh2ZXJzaW9uX3BhdGgpOgogICAgICAg
ICAgICAgICAgbmVlZF9leHQoKQogICAgICAgICAgICB3aXRoIG9wZW4odmVyc2lvbl9wYXRoLCAn
cicpIGFzIHZwbzoKICAgICAgICAgICAgICAgIGN1cl92ZXJzaW9uID0gdnBvLnJlYWRsaW5lKCku
c3RyaXAoKQogICAgICAgICAgICBpZiBjdXJfdmVyc2lvbiAhPSBPUFRJT05TLmV4dF9tb2RzOgog
ICAgICAgICAgICAgICAgbmVlZF9leHQoKQogICAgIyBGaXggcGFyYW1ldGVyIHBhc3NpbmcgaXNz
dWUKICAgIGlmIGxlbihBUkdTKSA9PSAxOgogICAgICAgIGFyZ3ZfcHJlcGFyZWQgPSBBUkdTWzBd
LnNwbGl0KCkKICAgIGVsc2U6CiAgICAgICAgYXJndl9wcmVwYXJlZCA9IEFSR1MKCiAgICBzYWx0
X2FyZ3YgPSBbCiAgICAgICAgc3lzLmV4ZWN1dGFibGUsCiAgICAgICAgc2FsdF9jYWxsX3BhdGgs
CiAgICAgICAgJy0tcmV0Y29kZS1wYXNzdGhyb3VnaCcsCiAgICAgICAgJy0tbG9jYWwnLAogICAg
ICAgICctLW1ldGFkYXRhJywKICAgICAgICAnLS1vdXQnLCAnanNvbicsCiAgICAgICAgJy1sJywg
J3F1aWV0JywKICAgICAgICAnLWMnLCBPUFRJT05TLnNhbHRkaXIsCiAgICAgICAgJy0tJywKICAg
IF0gKyBhcmd2X3ByZXBhcmVkCgogICAgc3lzLnN0ZGVyci53cml0ZSgnU0FMVF9BUkdWOiB7MH1c
bicuZm9ybWF0KHNhbHRfYXJndikpCgogICAgIyBPbmx5IGVtaXQgdGhlIGRlbGltaXRlciBvbiAq
Ym90aCogc3Rkb3V0IGFuZCBzdGRl
2016-08-27 20:51:54,147 [salt.utils.vt.Terminal.PID-7106.STDERR][TRACE   ][7069] cnIgd2hlbiBjb21wbGV0ZWx5IHN1Y2Nlc3NmdWwuCiAgICAj
IFllcywgdGhlIGZsdXNoKCkgaXMgbmVjZXNzYXJ5LgogICAgc3lzLnN0ZG91dC53cml0ZShPUFRJ
T05TLmRlbGltaXRlciArICdcbicpCiAgICBzeXMuc3Rkb3V0LmZsdXNoKCkKICAgIGlmIG5vdCBP
UFRJT05TLnR0eToKICAgICAgICBzeXMuc3RkZXJyLndyaXRlKE9QVElPTlMuZGVsaW1pdGVyICsg
J1xuJykKICAgICAgICBzeXMuc3RkZXJyLmZsdXNoKCkKICAgIGlmIE9QVElPTlMuY21kX3VtYXNr
IGlzIG5vdCBOb25lOgogICAgICAgIG9sZF91bWFzayA9IG9zLnVtYXNrKE9QVElPTlMuY21kX3Vt
YXNrKQogICAgaWYgT1BUSU9OUy50dHk6CiAgICAgICAgc3Rkb3V0LCBfID0gc3VicHJvY2Vzcy5Q
b3BlbihzYWx0X2FyZ3YsIHN0ZG91dD1zdWJwcm9jZXNzLlBJUEUsIHN0ZGVycj1zdWJwcm9jZXNz
LlBJUEUpLmNvbW11bmljYXRlKCkKICAgICAgICBzeXMuc3Rkb3V0LndyaXRlKHN0ZG91dCkKICAg
ICAgICBzeXMuc3Rkb3V0LmZsdXNoKCkKICAgICAgICBpZiBPUFRJT05TLndpcGU6CiAgICAgICAg
ICAgIHNodXRpbC5ybXRyZWUoT1BUSU9OUy5zYWx0ZGlyKQogICAgZWxpZiBPUFRJT05TLndpcGU6
CiAgICAgICAgc3VicHJvY2Vzcy5jYWxsKHNhbHRfYXJndikKICAgICAgICBzaHV0aWwucm10cmVl
KE9QVElPTlMuc2FsdGRpcikKICAgIGVsc2U6CiAgICAgICAgb3MuZXhlY3Yoc3lzLmV4ZWN1dGFi
bGUsIHNhbHRfYXJndikKICAgIGlmIE9QVElPTl
2016-08-27 20:51:54,157 [salt.utils.vt.Terminal.PID-7106.STDERR][TRACE   ][7069] MuY21kX3VtYXNrIGlzIG5vdCBOb25lOgogICAg
ICAgIG9zLnVtYXNrKG9sZF91bWFzaykKCmlmIF9fbmFtZV9fID09ICdfX21haW5fXyc6CiAgICBz
eXMuZXhpdChtYWluKHN5cy5hcmd2KSkK
""").decode("utf-8"))'
2016-08-27 20:51:54,541 [salt.utils.vt.Terminal.PID-7106.STDERR][TRACE   ][7069] SALT_ARGV: ['/usr/bin/python2.6', '/var/tmp/.salt-ope_1a3532_salt/salt-call', '--retcode-passthrough', '--local', '--metadata', '--out', 'json', '-l', 'quiet', '-c', '/var/tmp/.salt-ope_1a3532_salt', '--', 'test.opts_pkg']
_edbc7885e4f9aac9b83b35999b68d015148caf467b78fa39c05f669c0ff89878
2016-08-27 20:51:54,541 [salt.utils.vt.Terminal.PID-7106.STDOUT][TRACE   ][7069] _edbc7885e4f9aac9b83b35999b68d015148caf467b78fa39c05f669c0ff89878
2016-08-27 20:51:55,485 [salt.utils.vt.Terminal.PID-7106.STDOUT][TRACE   ][7069] {
    "local": {
        "fun_args": [], 
        "jid": "20160827205155428885", 
        "return": {
            "output_file_append": false, 
            "selected_output_option": "output_indent", 
            "ioflo_realtime": true, 
            "zmq_filtering": false, 
            "acceptance_wait_time": 10, 
            "recon_default": 1000, 
            "whitelist_modules": [], 
            "ioflo_console_logdir": "", 
            "winrepo_password": "", 
            "utils_dirs": [
                "/var/cache/salt/minion/extmods/utils"
            ], 
            "state_top_saltenv": null, 
            "states_dirs": [], 
            "state_output_diff": false, 
            "fileserver_backend": [
                "roots"
            ], 
            "outputter_dirs": [], 
            "raet_port": 4510, 
            "module_dirs": [], 
            "git_pillar_ssl_verify": false, 
            "tcp_keepalive": true, 
            "environment": null, 
            "state_auto_or
2016-08-27 20:51:55,496 [salt.utils.vt.Terminal.PID-7106.STDOUT][TRACE   ][7069] der": true, 
            "master_alive_interval": 0, 
            "__role": "minion", 
            "disable_modules": [], 
            "backup_mode": "", 
            "cluster_masters": [], 
            "recon_randomize": true, 
            "return": "", 
            "args_stdin": false, 
            "file_ignore_glob": [], 
            "auto_accept": true, 
            "open_mode": false, 
            "winrepo_ssl_verify": false, 
            "git_pillar_root": "", 
            "git_pillar_pubkey": "", 
            "master_failback_interval": 0, 
            "state_verbose": true, 
            "verify_master_pubkey_sign": false, 
            "password": null, 
            "cluster_mode": false, 
            "startup_states": "", 
            "grains": {
                "kernel": "Linux", 
                "domain": "", 
                "osrelease": "6.8", 
                "uid": 0, 
                "zmqversion": "4.0.5", 
                "kernelrelease": "2.6.32-642.4.2.el6.x86_64",
2016-08-27 20:51:55,508 [salt.utils.vt.Terminal.PID-7106.STDOUT][TRACE   ][7069]  
                "selinux": {
                    "enforced": "Enforcing", 
                    "enabled": true
                }, 
                "saltversioninfo": [
                    2016, 
                    3, 
                    2, 
                    0
                ], 
                "pid": 7126, 
                "ip_interfaces": {
                    "lo": [
                        "127.0.0.1", 
                        "::1"
                    ], 
                    "eth0": [
                        "192.168.1.10", 
                        "2408:210:2765:d800:5054:ff:febb:7cc", 
                        "fe80::5054:ff:febb:7cc"
                    ]
                }, 
                "groupname": "root", 
                "shell": "/bin/bash", 
                "mem_total": 996, 
                "osfinger": "CentOS-6", 
                "SSDs": [], 
                "mdadm": [], 
                "id": "local", 
                "osmajorrelease": "6",
2016-08-27 20:51:55,519 [salt.utils.vt.Terminal.PID-7106.STDOUT][TRACE   ][7069]      "ps": "ps -efH", 
                "server_id": 2016050236, 
                "ip6_interfaces": {
                    "lo": [
                        "::1"
                    ], 
                    "eth0": [
                        "2408:210:2765:d800:5054:ff:febb:7cc", 
                        "fe80::5054:ff:febb:7cc"
                    ]
                }, 
                "num_cpus": 1, 
                "hwaddr_interfaces": {
                    "lo": "00:00:00:00:00:00", 
                    "eth0": "52:54:00:bb:07:cc"
                }, 
                "init": "upstart", 
                "ip4_interfaces": {
                    "lo": [
                        "127.0.0.1"
                    ], 
                    "eth0": [
                        "192.168.1.10"
                    ]
                }, 
                "osfullname": "CentOS", 
                "gid": 0, 
                "master": "salt", 
                "ipv4": [
                    "127.0.0.1",
2016-08-27 20:51:55,531 [salt.utils.vt.Terminal.PID-7106.STDOUT][TRACE   ][7069]                "192.168.1.10"
                ], 
                "dns": {
                    "nameservers": [
                        "192.168.1.1"
                    ], 
                    "domain": "", 
                    "ip4_nameservers": [
                        "192.168.1.1"
                    ], 
                    "search": [], 
                    "ip6_nameservers": []
                }, 
                "ipv6": [
                    "::1", 
                    "2408:210:2765:d800:5054:ff:febb:7cc", 
                    "fe80::5054:ff:febb:7cc"
                ], 
                "cpu_flags": [
                    "fpu", 
                    "de", 
                    "pse", 
                    "tsc", 
                    "msr", 
                    "pae", 
                    "mce", 
                    "cx8", 
                    "apic", 
                    "sep", 
                    "mtrr", 
                    "pge", 
                    "mca",
2016-08-27 20:51:55,544 [salt.utils.vt.Terminal.PID-7106.STDOUT][TRACE   ][7069]             "cmov", 
                    "pse36", 
                    "clflush", 
                    "mmx", 
                    "fxsr", 
                    "sse", 
                    "sse2", 
                    "syscall", 
                    "nx", 
                    "lm", 
                    "up", 
                    "rep_good", 
                    "unfair_spinlock", 
                    "pni", 
                    "vmx", 
                    "cx16", 
                    "x2apic", 
                    "popcnt", 
                    "hypervisor", 
                    "lahf_lm", 
                    "vnmi", 
                    "ept"
                ], 
                "localhost": "saltstack", 
                "lsb_distrib_id": "CentOS", 
                "username": "root", 
                "fqdn_ip4": [], 
                "fqdn_ip6": [], 
                "nodename": "saltstack", 
                "saltversion": "2016.3.2", 
                "lsb_distrib_release": "6.8",
2016-08-27 20:51:55,556 [salt.utils.vt.Terminal.PID-7106.STDOUT][TRACE   ][7069]  
                "pythonpath": [
                    "/var/tmp/.salt-ope_1a3532_salt/py2", 
                    "/var/tmp/.salt-ope_1a3532_salt", 
                    "/usr/lib64/python26.zip", 
                    "/usr/lib64/python2.6", 
                    "/usr/lib64/python2.6/plat-linux2", 
                    "/usr/lib64/python2.6/lib-tk", 
                    "/usr/lib64/python2.6/lib-old", 
                    "/usr/lib64/python2.6/lib-dynload", 
                    "/usr/lib64/python2.6/site-packages", 
                    "/usr/lib/python2.6/site-packages"
                ], 
                "saltpath": "/var/tmp/.salt-ope_1a3532_salt/py2/salt", 
                "pythonversion": [
                    2, 
                    6, 
                    6, 
                    "final", 
                    0
                ], 
                "host": "saltstack", 
                "os_family": "RedHat", 
                "oscodename": "Final", 
                "path": "/sbin:/bin:/
2016-08-27 20:51:55,570 [salt.utils.vt.Terminal.PID-7106.STDOUT][TRACE   ][7069] usr/sbin:/usr/bin:/usr/local/bin", 
                "num_gpus": 1, 
                "virtual": "kvm", 
                "disks": [
                    "ram0", 
                    "ram1",
2016-08-27 20:51:55,582 [salt.utils.vt.Terminal.PID-7106.STDOUT][TRACE   ][7069]                     "ram2", 
                    "ram3", 
                    "ram4", 
                    "ram5", 
                    "ram6", 
                    "ram7", 
                    "ram8", 
                    "ram9", 
                    "ram10", 
                    "ram11", 
                    "ram12", 
                    "ram13", 
                    "ram14", 
                    "ram15", 
                    "loop0", 
                    "loop1", 
                    "loop2", 
                    "loop3", 
                    "loop4", 
                    "loop5", 
                    "loop6", 
                    "loop7", 
                    "sr0", 
                    "vda", 
                    "dm-0", 
                    "dm-1"
                ], 
                "cpu_model": "QEMU Virtual CPU version 2.0.0", 
                "fqdn": "saltstack", 
                "pythonexecutable": "/usr/bin/python2.6", 
                "osarch": "x86_64",
2016-08-27 20:51:55,594 [salt.utils.vt.Terminal.PID-7106.STDOUT][TRACE   ][7069]        "cpuarch": "x86_64", 
                "lsb_distrib_codename": "Final", 
                "osrelease_info": [
                    6, 
                    8
                ], 
                "locale_info": {
                    "detectedencoding": "UTF8", 
                    "defaultlanguage": "en_US", 
                    "defaultencoding": "UTF8"
                }, 
                "gpus": [
                    {
                        "model": "GD 5446", 
                        "vendor": "unknown"
                    }
                ], 
                "os": "CentOS"
            }, 
            "state_output": "full", 
            "tcp_pull_port": 4511, 
            "pillar": {}, 
            "fileserver_ignoresymlinks": false, 
            "retry_dns": 30, 
            "gitfs_global_lock": true, 
            "master_tries": 1, 
            "return_retry_timer": 5, 
            "file_ignore_regex": [], 
            "output": "json", 
            "master_shuffle": fal
2016-08-27 20:51:55,607 [salt.utils.vt.Terminal.PID-7106.STDOUT][TRACE   ][7069] se, 
            "range_server": "range:80", 
            "gitfs_pubkey": "", 
            "file_roots": {
                "base": [
                    "/srv/salt", 
                    "/srv/spm/salt"
                ]
            }, 
            "master_failback": false, 
            "top_file_merging_strategy": "merge", 
            "root_dir": "/var/tmp/.salt-ope_1a3532_salt/running_data", 
            "log_granular_levels": {}, 
            "git_pillar_insecure_auth": false, 
            "returner_dirs": [], 
            "gitfs_privkey": "", 
            "skip_grains": false, 
            "winrepo_remotes_ng": [
                "https://github.com/saltstack/salt-winrepo-ng.git"
            ], 
            "arg": [], 
            "grains_dirs": [], 
            "config_dir": "/var/tmp/.salt-ope_1a3532_salt", 
            "state_top": "top.sls", 
            "transport": "zeromq", 
            "winrepo_privkey": "", 
            "gitfs_base": "master", 
            "render_dirs"
2016-08-27 20:51:55,620 [salt.utils.vt.Terminal.PID-7106.STDOUT][TRACE   ][7069] : [], 
            "pillar_opts": false, 
            "pillar_cache_ttl": 3600, 
            "gitfs_user": "", 
            "fileserver_limit_traversal": false, 
            "tcp_keepalive_intvl": -1, 
            "conf_file": "/var/tmp/.salt-ope_1a3532_salt/minion", 
            "top_file": "", 
            "zmq_monitor": false, 
            "file_recv_max_size": 100, 
            "pidfile": "/var/tmp/.salt-ope_1a3532_salt/running_data/var/run/salt-minion.pid", 
            "metadata": true, 
            "raet_mutable": false, 
            "log_datefmt_logfile": "%Y-%m-%d %H:%M:%S", 
            "pillar_roots": {
                "base": [
                    "/srv/pillar", 
                    "/srv/spm/pillar"
                ]
            }, 
            "winrepo_cachefile": "winrepo.p", 
            "schedule": {}, 
            "raet_main": false, 
            "thorium_roots": {
                "base": [
                    "/srv/thorium"
                ]
            },
2016-08-27 20:51:55,633 [salt.utils.vt.Terminal.PID-7106.STDOUT][TRACE   ][7069]        "cachedir": "/var/tmp/.salt-ope_1a3532_salt/running_data/var/cache/salt/minion", 
            "winrepo_passphrase": "", 
            "interface": "0.0.0.0", 
            "update_restart_services": [], 
            "recon_max": 10000, 
            "master_uri_format": "default", 
            "default_include": "minion.d/*.conf", 
            "hard_crash": false, 
            "http_request_timeout": 3600.0, 
            "rejected_retry": false, 
            "state_events": false, 
            "gitfs_ssl_verify": false, 
            "http_max_body": 107374182400, 
            "restart_on_error": false, 
            "winrepo_dir": "/srv/salt/win/repo", 
            "raet_road_bufcnt": 2, 
            "multiprocessing": true, 
            "winrepo_pubkey": "", 
            "mine_enabled": true, 
            "ipc_mode": "ipc", 
            "keysize": 2048, 
            "profiling_enabled": false, 
            "master_sign_key_name": "master_sign", 
            "cython_enable": false,
2016-08-27 20:51:55,646 [salt.utils.vt.Terminal.PID-7106.STDOUT][TRACE   ][7069]             "sls_list": [], 
            "beacons": {}, 
            "git_pillar_env": "", 
            "ext_job_cache": "", 
            "hash_type": "md5", 
            "winrepo_source_dir": "salt://win/repo-ng/", 
            "always_verify_signature": false, 
            "force_color": false, 
            "modules_max_memory": -1, 
            "renderer": "yaml_jinja", 
            "random_reauth_delay": 10, 
            "gitfs_env_whitelist": [], 
            "git_pillar_base": "master", 
            "gitfs_insecure_auth": false, 
            "mine_interval": 60, 
            "git_pillar_privkey": "", 
            "__cli": "salt-call", 
            "extension_modules": "/var/tmp/.salt-ope_1a3532_salt/running_data/var/cache/salt/minion/extmods", 
            "minion_id_caching": true, 
            "providers": {}, 
            "winrepo_user": "", 
            "grains_cache": true, 
            "file_recv": false, 
            "no_color": false, 
            "ipv6": false,
2016-08-27 20:51:55,660 [salt.utils.vt.Terminal.PID-7106.STDOUT][TRACE   ][7069]       "verify_env": true, 
            "sudo_user": "", 
            "username": null, 
            "master_finger": "", 
            "syndic_finger": "", 
            "tcp_keepalive_idle": 300, 
            "thorium_interval": 0.5, 
            "grains_deep_merge": false, 
            "gitfs_passphrase": "", 
            "log_fmt_logfile": "%(asctime)s,%(msecs)03.0f [%(name)-17s][%(levelname)-8s][%(process)d] %(message)s", 
            "mine_return_job": false, 
            "master_port": 4506, 
            "enable_zip_modules": false, 
            "ioflo_period": 0.10000000000000001, 
            "use_master_when_local": false, 
            "ping_interval": 0, 
            "auth_timeout": 60, 
            "local": true, 
            "tcp_keepalive_cnt": -1, 
            "raet_lane_bufcnt": 100, 
            "git_pillar_global_lock": true, 
            "pillar_cache_backend": "disk", 
            "raet_alt_port": 4511, 
            "env_order": [], 
            "profiling_path": "/tmp
2016-08-27 20:51:55,679 [salt.utils.vt.Terminal.PID-7106.STDOUT][TRACE   ][7069] /stats", 
            "caller": true, 
            "retcode_passthrough": true, 
            "doc": false, 
            "fun": "test.opts_pkg", 
            "winrepo_insecure_auth": false,
2016-08-27 20:51:55,691 [salt.utils.vt.Terminal.PID-7106.STDOUT][TRACE   ][7069]             "update_url": false, 
            "grains_refresh_every": 0, 
            "master_type": "str", 
            "git_pillar_branch": "master", 
            "default_top": "base", 
            "winrepo_branch": "master", 
            "pillar_cache": false, 
            "winrepo_remotes": [
                "https://github.com/saltstack/salt-winrepo.git"
            ], 
            "autoload_dynamic_modules": true, 
            "file_buffer_size": 262144, 
            "log_fmt_console": "[%(levelname)-8s] %(message)s", 
            "random_master": false, 
            "log_datefmt": "%H:%M:%S", 
            "grains_cache_expiration": 300, 
            "max_event_size": 1048576, 
            "id": "local", 
            "caller_floscript": "/var/tmp/.salt-ope_1a3532_salt/py2/salt/daemons/flo/caller.flo", 
            "state_aggregate": false, 
            "event_publisher_pub_hwm": 1000, 
            "loop_interval": 1, 
            "log_level": "quiet", 
            "git_pillar_p
2016-08-27 20:51:55,702 [salt.utils.vt.Terminal.PID-7106.STDOUT][TRACE   ][7069] assword": "", 
            "event_match_type": "startswith", 
            "git_pillar_user": "", 
            "auth_safemode": false, 
            "clean_dynamic_modules": true, 
            "disable_returners": [], 
            "ipc_write_buffer": 0, 
            "cache_sreqs": true, 
            "autosign_timeout": 120, 
            "gitfs_root": "", 
            "test": false, 
            "gitfs_password": "", 
            "return_retry_timer_max": 10, 
            "failhard": false, 
            "raet_clear_remotes": true, 
            "raet_clear_remote_masters": true, 
            "file_client": "local", 
            "user": "root", 
            "git_pillar_passphrase": "", 
            "pillarenv": null, 
            "auth_tries": 7, 
            "cache_jobs": false, 
            "permissive_pki_access": false, 
            "cmd_safe": true, 
            "gitfs_env_blacklist": [], 
            "winrepo_dir_ng": "/srv/salt/win/repo-ng", 
            "refresh_grains_cache": fal
2016-08-27 20:51:55,714 [salt.utils.vt.Terminal.PID-7106.STDOUT][TRACE   ][7069] se, 
            "fileserver_list_cache_time": 3, 
            "salt_event_pub_hwm": 2000, 
            "pki_dir": "/var/tmp/.salt-ope_1a3532_salt/running_data/etc/salt/pki/minion", 
            "grains_run": false, 
            "minion_floscript": "/var/tmp/.salt-ope_1a3532_salt/py2/salt/daemons/flo/minion.flo", 
            "ioflo_verbose": 0, 
            "sock_dir": "/var/tmp/.salt-ope_1a3532_salt/running_data", 
            "tcp_pub_port": 4510, 
            "acceptance_wait_time_max": 0, 
            "master": "salt", 
            "fileserver_followsymlinks": true, 
            "log_file": "/var/tmp/.salt-ope_1a3532_salt/running_data/salt-call.log", 
            "gitfs_remotes": [], 
            "gitfs_mountpoint": ""
        }, 
        "retcode": 0, 
        "fun": "test.opts_pkg", 
        "id": "local"
    }
}
2016-08-27 20:51:55,967 [salt.utils.lazy  ][DEBUG   ][7069] LazyLoaded jinja.render
2016-08-27 20:51:55,968 [salt.utils.lazy  ][DEBUG   ][7069] LazyLoaded yaml.render
2016-08-27 20:51:55,972 [salt.utils.lazy  ][DEBUG   ][7069] LazyLoaded state.apply
2016-08-27 20:51:55,973 [salt.fileserver  ][TRACE   ][7069] Returning file_lists cache data from /root/saltstack_master/var/cache/salt/master/file_lists/roots/base.p
2016-08-27 20:51:55,973 [salt.pillar      ][DEBUG   ][7069] Determining pillar cache
2016-08-27 20:51:55,988 [salt.utils.lazy  ][DEBUG   ][7069] LazyLoaded jinja.render
2016-08-27 20:51:55,989 [salt.utils.lazy  ][DEBUG   ][7069] LazyLoaded yaml.render
2016-08-27 20:51:56,014 [salt.utils.lazy  ][DEBUG   ][7069] LazyLoaded jinja.render
2016-08-27 20:51:56,014 [salt.utils.lazy  ][DEBUG   ][7069] LazyLoaded yaml.render
2016-08-27 20:51:56,016 [salt.fileclient  ][DEBUG   ][7069] In saltenv 'base', looking at rel_path 'rsyslog.sls' to resolve 'salt://rsyslog.sls'
2016-08-27 20:51:56,016 [salt.fileclient  ][DEBUG   ][7069] In saltenv 'base', ** considering ** path '/root/saltstack_master/var/cache/salt/master/files/base/rsyslog.sls' to resolve 'salt://rsyslog.sls'
2016-08-27 20:51:56,016 [salt.fileclient  ][DEBUG   ][7069] Fetching file from saltenv 'base', ** attempting ** 'salt://rsyslog.sls'
2016-08-27 20:51:56,016 [salt.fileclient  ][DEBUG   ][7069] No dest file found 
2016-08-27 20:51:56,017 [salt.fileclient  ][INFO    ][7069] Fetching file from saltenv 'base', ** done ** 'rsyslog.sls'
2016-08-27 20:51:56,017 [salt.template    ][DEBUG   ][7069] compile template: /root/saltstack_master/var/cache/salt/master/files/base/rsyslog.sls
2016-08-27 20:51:56,018 [salt.utils.jinja ][DEBUG   ][7069] Jinja search path: ['/var/tmp/.salt-ope_1a3532_salt/running_data/var/cache/salt/minion/files/base']
2016-08-27 20:51:56,024 [salt.utils.lazy  ][DEBUG   ][7069] Could not LazyLoad network.interface_ip
2016-08-27 20:51:56,048 [salt.client.ssh  ][DEBUG   ][7069] Performing shimmed, blocking command as follows:
network.interface_ip "eth0"
2016-08-27 20:51:56,063 [salt.client.ssh.shell][DEBUG   ][7069] Executed SHIM command. Command logged to TRACE
2016-08-27 20:51:56,063 [salt.client.ssh.shell][TRACE   ][7069] Executing command: ssh 127.0.0.1  -o KbdInteractiveAuthentication=no -o PasswordAuthentication=yes -o GSSAPIAuthentication=no -o ConnectTimeout=65 -o Port=22 -o IdentityFile=/root/saltstack_master/etc/salt/pki/master/ssh/salt-ssh.rsa -o User=******  /bin/sh << 'EOF'
set -e
set -u
DEBUG=""
if [ -n "$DEBUG" ]
then set -x
fi
SUDO=""
if [ -n "sudo" ]
then SUDO="sudo "
fi
EX_PYTHON_INVALID=10
PYTHON_CMDS="python3 python27 python2.7 python26 python2.6 python2 python"
for py_cmd in $PYTHON_CMDS
do
if command -v "$py_cmd" >/dev/null 2>&1 && "$py_cmd" -c \
"import sys; sys.exit(not (sys.version_info >= (2, 6)
and sys.version_info[0] == 2));"
then
py_cmd_path=`"$py_cmd" -c \
'from __future__ import print_function;
import sys; print(sys.executable);'`
cmdpath=$(which $py_cmd 2>&1)
if file $cmdpath | grep "shell script" > /dev/null
then
ex_vars="'PATH', 'LD_LIBRARY_PATH', 'MANPATH', \
'XDG_DATA_DIRS', 'PKG_CONFIG_PATH'"
export $($py_cmd -c \
"from __future__ import print_function;
import sys;
import os;
map(sys.stdout.write, ['{0}={1} ' \
.format(x, os.environ[x]) for x in [$ex_vars]])")
exec $SUDO PATH=$PATH LD_LIBRARY_PATH=$LD_LIBRARY_PATH \
MANPATH=$MANPATH XDG_DATA_DIRS=$XDG_DATA_DIRS \
PKG_CONFIG_PATH=$PKG_CONFIG_PATH \
"$py_cmd_path" -c \
'import base64;
exec(base64.b64decode("""IyBweWxpbnQ6IGRpc2FibGU9Vzk5MDMKJycnClRoaXMgaXMgYSBzaGltIHRoYXQgaGFuZGxlcyBj
aGVja2luZyBhbmQgdXBkYXRpbmcgc2FsdCB0aGluIGFuZAp0aGVuIGludm9raW5nIHRoaW4uCgpU
aGlzIGlzIG5vdCBpbnRlbmRlZCB0byBiZSBpbnN0YW50aWF0ZWQgYXMgYSBtb2R1bGUsIHJhdGhl
ciBpdCBpcyBhCmhlbHBlciBzY3JpcHQgdXNlZCBieSBzYWx0LmNsaWVudC5zc2guU2luZ2xlLiAg
SXQgaXMgaGVyZSwgaW4gYQpzZXBhcmF0ZSBmaWxlLCBmb3IgY29udmVuaWVuY2Ugb2YgZGV2ZWxv
cG1lbnQuCicnJwoKZnJvbSBfX2Z1dHVyZV9fIGltcG9ydCBhYnNvbHV0ZV9pbXBvcnQKCmltcG9y
dCBoYXNobGliCmltcG9ydCB0YXJmaWxlCmltcG9ydCBzaHV0aWwKaW1wb3J0IHN5cwppbXBvcnQg
b3MKaW1wb3J0IHN0YXQKaW1wb3J0IHN1YnByb2Nlc3MKClRISU5fQVJDSElWRSA9ICdzYWx0LXRo
aW4udGd6JwpFWFRfQVJDSElWRSA9ICdzYWx0LWV4dF9tb2RzLnRneicKCiMgS2VlcCB0aGVzZSBp
biBzeW5jIHdpdGggc2FsdC9kZWZhdWx0cy9leGl0Y29kZXMucHkKRVhfVEhJTl9ERVBMT1kgPSAx
MQpFWF9USElOX0NIRUNLU1VNID0gMTIKRVhfTU9EX0RFUExPWSA9IDEzCkVYX1NDUF9OT1RfRk9V
TkQgPSAxNApFWF9DQU5UQ1JFQVQgPSA3MwoKCmNsYXNzIE9CSihvYmplY3QpOgogICAgIiIiQW4g
ZW1wdHkgY2xhc3MgZm9yIGhvbGRpbmcgaW5zdGFuY2UgYXR0cmlidXRlIHZhbHVlcy4iIiIKICAg
IHBhc3MKCgpPUFRJT05TID0gTm9uZQpBUkdTID0gTm9uZQojIFRoZSBiZWxvdyBsaW5lIGlzIHdo
ZXJlIE9QVElPTlMgY2FuIGJlIHJlZGVmaW5lZCB3aXRoIGludGVybmFsIG9wdGlvbnMKIyAocmF0
aGVyIHRoYW4gY2xpIGFyZ3VtZW50cykgd2hlbiB0aGUgc2hpbSBpcyBidW5kbGVkIGJ5CiMgY2xp
ZW50LnNzaC5TaW5nbGUuX2NtZF9zdHIoKQojIHB5bGludDogZGlzYWJsZT1ibG9jay1jb21tZW50
LXNob3VsZC1zdGFydC13aXRoLWNhcmRpbmFsLXNwYWNlCgpPUFRJT05TID0gT0JKKCkKT1BUSU9O
Uy5jb25maWcgPSAiIiIKe2ZpbGVzZXJ2ZXJfbGlzdF9jYWNoZV90aW1lOiAzLCBncmFpbnNfY2Fj
aGU6IHRydWUsIGlkOiBsb2NhbCwgbG9nX2ZpbGU6IHNhbHQtY2FsbC5sb2csCiAgcm9vdF9kaXI6
IC92YXIvdG1wLy5zYWx0LW9wZV8xYTM1MzJfc2FsdC9ydW5uaW5nX2RhdGEsIHNvY2tfZGlyOiAv
fQoiIiIKT1BUSU9OUy5kZWxpbWl0ZXIgPSAnX2VkYmM3ODg1ZTRmOWFhYzliODNiMzU5OTliNjhk
MDE1MTQ4Y2FmNDY3Yjc4ZmEzOWMwNWY2NjljMGZmODk4NzgnCk9QVElPTlMuc2FsdGRpciA9ICcv
dmFyL3RtcC8uc2FsdC1vcGVfMWEzNTMyX3NhbHQnCk9QVElPTlMuY2hlY2tzdW0gPSAnMmUyNWZj
YmI2YWEyNTU5OWQ1MmU4OTVkZTZlMjExOTZkNWM2ZTU5NScKT1BUSU9OUy5oYXNoZnVuYyA9ICdz
aGExJwpPUFRJT05TLnZlcnNpb24gPSAnMjAxNi4zLjInCk9QVElPTlMuZXh0X21vZHMgPSAnJwpP
UFRJT05TLndpcGUgPSBGYWxzZQpPUFRJT05TLnR0eSA9IEZhbHNlCk9QVElPTlMuY21kX3VtYXNr
ID0gTm9uZQpBUkdTID0gWyduZXR3b3JrLmludGVyZmFjZV9pcCcsICciZXRoMCInXQoKCgpkZWYg
bmVlZF9kZXBsb3ltZW50KCk6CiAgICAiIiIKICAgIFNhbHQgdGhpbiBuZWVkcyB0byBiZSBkZXBs
b3llZCAtIHByZXAgdGhlIHRhcmdldCBkaXJlY3RvcnkgYW5kIGVtaXQgdGhlCiAgICBkZWxpbWV0
ZXIgYW5kIGV4aXQgY29kZSB0aGF0IHNpZ25hbHMgYSByZXF1aXJlZCBkZXBsb3ltZW50LgogICAg
IiIiCiAgICBpZiBvcy5wYXRoLmV4aXN0cyhPUFRJT05TLnNhbHRkaXIpOgogICAgICAgIHNodXRp
bC5ybXRyZWUoT1BUSU9OUy5zYWx0ZGlyKQogICAgb2xkX3VtYXNrID0gb3MudW1hc2soMG8wNzcp
CiAgICBvcy5tYWtlZGlycyhPUFRJT05TLnNhbHRkaXIpCiAgICBvcy51bWFzayhvbGRfdW1hc2sp
CiAgICAjIFZlcmlmeSBwZXJtcyBvbiBzYWx0ZGlyCiAgICBldWlkID0gb3MuZ2V0ZXVpZCgpCiAg
ICBkc3RhdCA9IG9zLnN0YXQoT1BUSU9OUy5zYWx0ZGlyKQogICAgaWYgZHN0YXQuc3RfdWlkICE9
IGV1aWQ6CiAgICAgICAgIyBBdHRhY2sgZGV0ZWN0ZWQsIHRyeSBhZ2FpbgogICAgICAgIG5lZWRf
ZGVwbG95bWVudCgpCiAgICBpZiBkc3RhdC5zdF9tb2RlICE9IDE2ODMyOgogICAgICAgICMgQXR0
YWNrIGRldGVjdGVkCiAgICAgICAgbmVlZF9kZXBsb3ltZW50KCkKICAgICMgSWYgU1VET2luZyB0
aGVuIGFsc28gZ2l2ZSB0aGUgc3VwZXIgdXNlciBncm91cCB3cml0ZSBwZXJtaXNzaW9ucwogICAg
c3Vkb19naWQgPSBvcy5lbnZpcm9uLmdldCgnU1VET19HSUQnKQogICAgaWYgc3Vkb19naWQ6CiAg
ICAgICAgb3MuY2hvd24oT1BUSU9OUy5zYWx0ZGlyLCAtMSwgaW50KHN1ZG9fZ2lkKSkKICAgICAg
ICBzdHQgPSBvcy5zdGF0KE9QVElPTlMuc2FsdGRpcikKICAgICAgICBvcy5jaG1vZChPUFRJT05T
LnNhbHRkaXIsIHN0dC5zdF9tb2RlIHwgc3RhdC5TX0lXR1JQIHwgc3RhdC5TX0lSR1JQIHwgc3Rh
dC5TX0lYR1JQKQoKICAgICMgRGVsaW1pdGVyIGVtaXR0ZWQgb24gc3Rkb3V0ICpvbmx5KiB0byBp
bmRpY2F0ZSBzaGltIG1lc3NhZ2UgdG8gbWFzdGVyLgogICAgc3lzLnN0ZG91dC53cml0ZSgiezB9
XG5kZXBsb3lcbiIuZm9ybWF0KE9QVElPTlMuZGVsaW1pdGVyKSkKICAgIHN5cy5leGl0KEVYX1RI
SU5fREVQTE9ZKQoKCiMgQWRhcHRlZCBmcm9tIHNhbHQudXRpbHMuZ2V0X2hhc2goKQpkZWYgZ2V0
X2hhc2gocGF0aCwgZm9ybT0nc2hhMScsIGNodW5rX3NpemU9NDA5Nik6CiAgICAiIiJHZW5lcmF0
ZSBhIGhhc2ggZGlnZXN0IHN0cmluZyBmb3IgYSBmaWxlLiIiIgogICAgdHJ5OgogICAgICAgIGhh
c2hfdHlwZSA9IGdldGF0dHIoaGFzaGxpYiwgZm9ybSkKICAgIGV4Y2VwdCBBdHRyaWJ1dGVFcnJv
cjoKICAgICAgICByYWlzZSBWYWx1ZUVycm9yKCdJbnZhbGlkIGhhc2ggdHlwZTogezB9Jy5mb3Jt
YXQoZm9ybSkpCiAgICB3aXRoIG9wZW4ocGF0aCwgJ3JiJykgYXMgaWZpbGU6CiAgICAgICAgaGFz
aF9vYmogPSBoYXNoX3R5cGUoKQogICAgICAgICMgcmVhZCB0aGUgZmlsZSBpbiBpbiBjaHVua3Ms
IG5vdCB0aGUgZW50aXJlIGZpbGUKICAgICAgICBmb3IgY2h1bmsgaW4gaXRlcihsYW1iZGE6IGlm
aWxlLnJlYWQoY2h1bmtfc2l6ZSksIGInJyk6CiAgICAgICAgICAgIGhhc2hfb2JqLnVwZGF0ZShj
aHVuaykKICAgICAgICByZXR1cm4gaGFzaF9vYmouaGV4ZGlnZXN0KCkKCgpkZWYgdW5wYWNrX3Ro
aW4odGhpbl9wYXRoKToKICAgICIiIlVucGFjayB0aGUgU2FsdCB0aGluIGFyY2hpdmUuIiIiCiAg
ICB0ZmlsZSA9IHRhcmZpbGUuVGFyRmlsZS5nem9wZW4odGhpbl9wYXRoKQogICAgb2xkX3VtYXNr
ID0gb3MudW1hc2soMG8wNzcpCiAgICB0ZmlsZS5leHRyYWN0YWxsKHBhdGg9T1BUSU9OUy5zYWx0
ZGlyKQogICAgdGZpbGUuY2xvc2UoKQogICAgb3MudW1hc2sob2xkX3VtYXNrKQogICAgb3MudW5s
aW5rKHRoaW5fcGF0aCkKCgpkZWYgbmVlZF9leHQoKToKICAgICIiIlNpZ25hbCB0aGF0IGV4dGVy
bmFsIG1vZHVsZXMgbmVlZCB0byBiZSBkZXBsb3llZC4iIiIKICAgIHN5cy5zdGRvdXQud3JpdGUo
InswfVxuZXh0X21vZHNcbiIuZm9ybWF0KE9QVElPTlMuZGVsaW1pdGVyKSkKICAgIHN5cy5leGl0
KEVYX01PRF9ERVBMT1kpCgoKZGVmIHVucGFja19leHQoZXh0X3BhdGgpOgogICAgIiIiVW5wYWNr
IHRoZSBleHRlcm5hbCBtb2R1bGVzLiIiIgogICAgbW9kY2FjaGUgPSBvcy5wYXRoLmpvaW4oCiAg
ICAgICAgICAgIE9QVElPTlMuc2FsdGRpciwKICAgICAgICAgICAgJ3J1bm5pbmdfZGF0YScsCiAg
ICAgICAgICAgICd2YXInLAogICAgICAgICAgICAnY2FjaGUnLAogICAgICAgICAgICAnc2FsdCcs
CiAgICAgICAgICAgICdtaW5pb24nLAogICAgICAgICAgICAnZXh0bW9kcycpCiAgICB0ZmlsZSA9
IHRhcmZpbGUuVGFyRmlsZS5nem9wZW4oZXh0X3BhdGgpCiAgICBvbGRfdW1hc2sgPSBvcy51bWFz
aygwbzA3NykKICAgIHRmaWxlLmV4dHJhY3RhbGwocGF0aD1tb2RjYWNoZSkKICAgIHRmaWxlLmNs
b3NlKCkKICAgIG9zLnVtYXNrKG9sZF91bWFzaykKICAgIG9zLnVubGluayhleHRfcGF0aCkKICAg
IHZlcl9wYXRoID0gb3MucGF0aC5qb2luKG1vZGNhY2hlLCAnZXh0X3ZlcnNpb24nKQogICAgdmVy
X2RzdCA9IG9zLnBhdGguam9pbihPUFRJT05TLnNhbHRkaXIsICdleHRfdmVyc2lvbicpCiAgICBz
aHV0aWwubW92ZSh2ZXJfcGF0aCwgdmVyX2RzdCkKCgpkZWYgbWFpbihhcmd2KTogICMgcHlsaW50
OiBkaXNhYmxlPVcwNjEzCiAgICAiIiJNYWluIHByb2dyYW0gYm9keSIiIgogICAgdGhpbl9wYXRo
ID0gb3MucGF0aC5qb2luKE9QVElPTlMuc2FsdGRpciwgVEhJTl9BUkNISVZFKQogICAgaWYgb3Mu
cGF0aC5pc2ZpbGUodGhpbl9wYXRoKToKICAgICAgICBpZiBPUFRJT05TLmNoZWNrc3VtICE9IGdl
dF9oYXNoKHRoaW5fcGF0aCwgT1BUSU9OUy5oYXNoZnVuYyk6CiAgICAgICAgICAgIHN5cy5zdGRl
cnIud3JpdGUoJ3swfVxuJy5mb3JtYXQoT1BUSU9OUy5jaGVja3N1bSkpCiAgICAgICAgICAgIHN5
cy5zdGRlcnIud3JpdGUoJ3swfVxuJy5mb3JtYXQoZ2V0X2hhc2godGhpbl9wYXRoLCBPUFRJT05T
Lmhhc2hmdW5jKSkpCiAgICAgICAgICAgIG9zLnVubGluayh0aGluX3BhdGgpCiAgICAgICAgICAg
IHN5cy5zdGRlcnIud3JpdGUoJ1dBUk5JTkc6IGNoZWNrc3VtIG1pc21hdGNoIGZvciAiezB9Ilxu
Jy5mb3JtYXQodGhpbl9wYXRoKSkKICAgICAgICAgICAgc3lzLmV4aXQoRVhfVEhJTl9DSEVDS1NV
TSkKICAgICAgICB1bnBhY2tfdGhpbih0aGluX3BhdGgpCiAgICAgICAgIyBTYWx0IHRoaW4gbm93
IGlzIGF2YWlsYWJsZSB0byB1c2UKICAgIGVsc2U6CiAgICAgICAgc2Nwc3RhdCA9IHN1YnByb2Nl
c3MuUG9wZW4oWycvYmluL3NoJywgJy1jJywgJ2NvbW1hbmQgLXYgc2NwJ10pLndhaXQoKQogICAg
ICAgIGlmIHNjcHN0YXQgIT0gMDoKICAgICAgICAgICAgc3lzLmV4aXQoRVhfU0NQX05PVF9GT1VO
RCkKCiAgICAgICAgaWYgbm90IG9zLnBhdGguZXhpc3RzKE9QVElPTlMuc2FsdGRpcik6CiAgICAg
ICAgICAgIG5lZWRfZGVwbG95bWVudCgpCgogICAgICAgIGlmIG5vdCBvcy5wYXRoLmlzZGlyKE9Q
VElPTlMuc2FsdGRpcik6CiAgICAgICAgICAgIHN5cy5zdGRlcnIud3JpdGUoCiAgICAgICAgICAg
ICAgICAnRVJST1I6IHNhbHQgcGF0aCAiezB9IiBleGlzdHMgYnV0IGlzJwogICAgICAgICAgICAg
ICAgJyBub3QgYSBkaXJlY3RvcnlcbicuZm9ybWF0KE9QVElPTlMuc2FsdGRpcikKICAgICAgICAg
ICAgKQogICAgICAgICAgICBzeXMuZXhpdChFWF9DQU5UQ1JFQVQpCgogICAgICAgIHZlcnNpb25f
cGF0aCA9IG9zLnBhdGguam9pbihPUFRJT05TLnNhbHRkaXIsICd2ZXJzaW9uJykKICAgICAgICBp
ZiBub3Qgb3MucGF0aC5leGlzdHModmVyc2lvbl9wYXRoKSBvciBub3Qgb3MucGF0aC5pc2ZpbGUo
dmVyc2lvbl9wYXRoKToKICAgICAgICAgICAgc3lzLnN0ZGVyci53cml0ZSgKICAgICAgICAgICAg
ICAgICdXQVJOSU5HOiBVbmFibGUgdG8gbG9jYXRlIGN1cnJlbnQgdGhpbiAnCiAgICAgICAgICAg
ICAgICAnIHZlcnNpb246IHswfS5cbicuZm9ybWF0KHZlcnNpb25fcGF0aCkKICAgICAgICAgICAg
KQogICAgICAgICAgICBuZWVkX2RlcGxveW1lbnQoKQogICAgICAgIHdpdGggb3Blbih2ZXJzaW9u
X3BhdGgsICdyJykgYXMgdnBvOgogICAgICAgICAgICBjdXJfdmVyc2lvbiA9IHZwby5yZWFkbGlu
ZSgpLnN0cmlwKCkKICAgICAgICBpZiBjdXJfdmVyc2lvbiAhPSBPUFRJT05TLnZlcnNpb246CiAg
ICAgICAgICAgIHN5cy5zdGRlcnIud3JpdGUoCiAgICAgICAgICAgICAgICAnV0FSTklORzogY3Vy
cmVudCB0aGluIHZlcnNpb24gezB9JwogICAgICAgICAgICAgICAgJyBpcyBub3QgdXAtdG8tZGF0
ZSB3aXRoIHsxfS5cbicuZm9ybWF0KAogICAgICAgICAgICAgICAgICAgIGN1cl92ZXJzaW9uLCBP
UFRJT05TLnZlcnNpb24KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgKQogICAgICAgICAg
ICBuZWVkX2RlcGxveW1lbnQoKQogICAgICAgICMgU2FsdCB0aGluIGV4aXN0cyBhbmQgaXMgdXAt
dG8tZGF0ZSAtIGZhbGwgdGhyb3VnaCBhbmQgdXNlIGl0CgogICAgc2FsdF9jYWxsX3BhdGggPSBv
cy5wYXRoLmpvaW4oT1BUSU9OUy5zYWx0ZGlyLCAnc2FsdC1jYWxsJykKICAgIGlmIG5vdCBvcy5w
YXRoLmlzZmlsZShzYWx0X2NhbGxfcGF0aCk6CiAgICAgICAgc3lzLnN0ZGVyci53cml0ZSgnRVJS
T1I6IHRoaW4gaXMgbWlzc2luZyAiezB9IlxuJy5mb3JtYXQoc2FsdF9jYWxsX3BhdGgpKQogICAg
ICAgIG5lZWRfZGVwbG95bWVudCgpCgogICAgd2l0aCBvcGVuKG9zLnBhdGguam9pbihPUFRJT05T
LnNhbHRkaXIsICdtaW5pb24nKSwgJ3cnKSBhcyBjb25maWc6CiAgICAgICAgY29uZmlnLndyaXRl
KE9QVElPTlMuY29uZmlnICsgJ1xuJykKICAgIGlmIE9QVElPTlMuZXh0X21vZHM6CiAgICAgICAg
ZXh0X3BhdGggPSBvcy5wYXRoLmpvaW4oT1BUSU9OUy5zYWx0ZGlyLCBFWFRfQVJDSElWRSkKICAg
ICAgICBpZiBvcy5wYXRoLmV4aXN0cyhleHRfcGF0aCk6CiAgICAgICAgICAgIHVucGFja19leHQo
ZXh0X3BhdGgpCiAgICAgICAgZWxzZToKICAgICAgICAgICAgdmVyc2lvbl9wYXRoID0gb3MucGF0
aC5qb2luKE9QVElPTlMuc2FsdGRpciwgJ2V4dF92ZXJzaW9uJykKICAgICAgICAgICAgaWYgbm90
IG9zLnBhdGguZXhpc3RzKHZlcnNpb25fcGF0aCkgb3Igbm90IG9zLnBhdGguaXNmaWxlKHZlcnNp
b25fcGF0aCk6CiAgICAgICAgICAgICAgICBuZWVkX2V4dCgpCiAgICAgICAgICAgIHdpdGggb3Bl
bih2ZXJzaW9uX3BhdGgsICdyJykgYXMgdnBvOgogICAgICAgICAgICAgICAgY3VyX3ZlcnNpb24g
PSB2cG8ucmVhZGxpbmUoKS5zdHJpcCgpCiAgICAgICAgICAgIGlmIGN1cl92ZXJzaW9uICE9IE9Q
VElPTlMuZXh0X21vZHM6CiAgICAgICAgICAgICAgICBuZWVkX2V4dCgpCiAgICAjIEZpeCBwYXJh
bWV0ZXIgcGFzc2luZyBpc3N1ZQogICAgaWYgbGVuKEFSR1MpID09IDE6CiAgICAgICAgYXJndl9w
cmVwYXJlZCA9IEFSR1NbMF0uc3BsaXQoKQogICAgZWxzZToKICAgICAgICBhcmd2X3ByZXBhcmVk
ID0gQVJHUwoKICAgIHNhbHRfYXJndiA9IFsKICAgICAgICBzeXMuZXhlY3V0YWJsZSwKICAgICAg
ICBzYWx0X2NhbGxfcGF0aCwKICAgICAgICAnLS1yZXRjb2RlLXBhc3N0aHJvdWdoJywKICAgICAg
ICAnLS1sb2NhbCcsCiAgICAgICAgJy0tbWV0YWRhdGEnLAogICAgICAgICctLW91dCcsICdqc29u
JywKICAgICAgICAnLWwnLCAncXVpZXQnLAogICAgICAgICctYycsIE9QVElPTlMuc2FsdGRpciwK
ICAgICAgICAnLS0nLAogICAgXSArIGFyZ3ZfcHJlcGFyZWQKCiAgICBzeXMuc3RkZXJyLndyaXRl
KCdTQUxUX0FSR1Y6IHswfVxuJy5mb3JtYXQoc2FsdF9hcmd2KSkKCiAgICAjIE9ubHkgZW1pdCB0
aGUgZGVsaW1pdGVyIG9uICpib3RoKiBzdGRvdXQgYW5kIHN0ZGVyciB3aGVuIGNvbXBsZXRlbHkg
c3VjY2Vzc2Z1bC4KICAgICMgWWVzLCB0aGUgZmx1c2goKSBpcyBuZWNlc3NhcnkuCiAgICBzeXMu
c3Rkb3V0LndyaXRlKE9QVElPTlMuZGVsaW1pdGVyICsgJ1xuJykKICAgIHN5cy5zdGRvdXQuZmx1
c2goKQogICAgaWYgbm90IE9QVElPTlMudHR5OgogICAgICAgIHN5cy5zdGRlcnIud3JpdGUoT1BU
SU9OUy5kZWxpbWl0ZXIgKyAnXG4nKQogICAgICAgIHN5cy5zdGRlcnIuZmx1c2goKQogICAgaWYg
T1BUSU9OUy5jbWRfdW1hc2sgaXMgbm90IE5vbmU6CiAgICAgICAgb2xkX3VtYXNrID0gb3MudW1h
c2soT1BUSU9OUy5jbWRfdW1hc2spCiAgICBpZiBPUFRJT05TLnR0eToKICAgICAgICBzdGRvdXQs
IF8gPSBzdWJwcm9jZXNzLlBvcGVuKHNhbHRfYXJndiwgc3Rkb3V0PXN1YnByb2Nlc3MuUElQRSwg
c3RkZXJyPXN1YnByb2Nlc3MuUElQRSkuY29tbXVuaWNhdGUoKQogICAgICAgIHN5cy5zdGRvdXQu
d3JpdGUoc3Rkb3V0KQogICAgICAgIHN5cy5zdGRvdXQuZmx1c2goKQogICAgICAgIGlmIE9QVElP
TlMud2lwZToKICAgICAgICAgICAgc2h1dGlsLnJtdHJlZShPUFRJT05TLnNhbHRkaXIpCiAgICBl
bGlmIE9QVElPTlMud2lwZToKICAgICAgICBzdWJwcm9jZXNzLmNhbGwoc2FsdF9hcmd2KQogICAg
ICAgIHNodXRpbC5ybXRyZWUoT1BUSU9OUy5zYWx0ZGlyKQogICAgZWxzZToKICAgICAgICBvcy5l
eGVjdihzeXMuZXhlY3V0YWJsZSwgc2FsdF9hcmd2KQogICAgaWYgT1BUSU9OUy5jbWRfdW1hc2sg
aXMgbm90IE5vbmU6CiAgICAgICAgb3MudW1hc2sob2xkX3VtYXNrKQoKaWYgX19uYW1lX18gPT0g
J19fbWFpbl9fJzoKICAgIHN5cy5leGl0KG1haW4oc3lzLmFyZ3YpKQo=
""").decode("utf-8"))'
else
exec $SUDO "$py_cmd_path" -c \
'import base64;
exec(base64.b64decode("""IyBweWxpbnQ6IGRpc2FibGU9Vzk5MDMKJycnClRoaXMgaXMgYSBzaGltIHRoYXQgaGFuZGxlcyBj
aGVja2luZyBhbmQgdXBkYXRpbmcgc2FsdCB0aGluIGFuZAp0aGVuIGludm9raW5nIHRoaW4uCgpU
aGlzIGlzIG5vdCBpbnRlbmRlZCB0byBiZSBpbnN0YW50aWF0ZWQgYXMgYSBtb2R1bGUsIHJhdGhl
ciBpdCBpcyBhCmhlbHBlciBzY3JpcHQgdXNlZCBieSBzYWx0LmNsaWVudC5zc2guU2luZ2xlLiAg
SXQgaXMgaGVyZSwgaW4gYQpzZXBhcmF0ZSBmaWxlLCBmb3IgY29udmVuaWVuY2Ugb2YgZGV2ZWxv
cG1lbnQuCicnJwoKZnJvbSBfX2Z1dHVyZV9fIGltcG9ydCBhYnNvbHV0ZV9pbXBvcnQKCmltcG9y
dCBoYXNobGliCmltcG9ydCB0YXJmaWxlCmltcG9ydCBzaHV0aWwKaW1wb3J0IHN5cwppbXBvcnQg
b3MKaW1wb3J0IHN0YXQKaW1wb3J0IHN1YnByb2Nlc3MKClRISU5fQVJDSElWRSA9ICdzYWx0LXRo
aW4udGd6JwpFWFRfQVJDSElWRSA9ICdzYWx0LWV4dF9tb2RzLnRneicKCiMgS2VlcCB0aGVzZSBp
biBzeW5jIHdpdGggc2FsdC9kZWZhdWx0cy9leGl0Y29kZXMucHkKRVhfVEhJTl9ERVBMT1kgPSAx
MQpFWF9USElOX0NIRUNLU1VNID0gMTIKRVhfTU9EX0RFUExPWSA9IDEzCkVYX1NDUF9OT1RfRk9V
TkQgPSAxNApFWF9DQU5UQ1JFQVQgPSA3MwoKCmNsYXNzIE9CSihvYmplY3QpOgogICAgIiIiQW4g
ZW1wdHkgY2xhc3MgZm9yIGhvbGRpbmcgaW5zdGFuY2UgYXR0cmlidXRlIHZhbHVlcy4iIiIKICAg
IHBhc3MKCgpPUFRJT05TID0gTm9uZQpBUkdTID0gTm9uZQojIFRoZSBiZWxvdyBsaW5lIGlzIHdo
ZXJlIE9QVElPTlMgY2FuIGJlIHJlZGVmaW5lZCB3aXRoIGludGVybmFsIG9wdGlvbnMKIyAocmF0
aGVyIHRoYW4gY2xpIGFyZ3VtZW50cykgd2hlbiB0aGUgc2hpbSBpcyBidW5kbGVkIGJ5CiMgY2xp
ZW50LnNzaC5TaW5nbGUuX2NtZF9zdHIoKQojIHB5bGludDogZGlzYWJsZT1ibG9jay1jb21tZW50
LXNob3VsZC1zdGFydC13aXRoLWNhcmRpbmFsLXNwYWNlCgpPUFRJT05TID0gT0JKKCkKT1BUSU9O
Uy5jb25maWcgPSAiIiIKe2ZpbGVzZXJ2ZXJfbGlzdF9jYWNoZV90aW1lOiAzLCBncmFpbnNfY2Fj
aGU6IHRydWUsIGlkOiBsb2NhbCwgbG9nX2ZpbGU6IHNhbHQtY2FsbC5sb2csCiAgcm9vdF9kaXI6
IC92YXIvdG1wLy5zYWx0LW9wZV8xYTM1MzJfc2FsdC9ydW5uaW5nX2RhdGEsIHNvY2tfZGlyOiAv
fQoiIiIKT1BUSU9OUy5kZWxpbWl0ZXIgPSAnX2VkYmM3ODg1ZTRmOWFhYzliODNiMzU5OTliNjhk
MDE1MTQ4Y2FmNDY3Yjc4ZmEzOWMwNWY2NjljMGZmODk4NzgnCk9QVElPTlMuc2FsdGRpciA9ICcv
dmFyL3RtcC8uc2FsdC1vcGVfMWEzNTMyX3NhbHQnCk9QVElPTlMuY2hlY2tzdW0gPSAnMmUyNWZj
YmI2YWEyNTU5OWQ1MmU4OTVkZTZlMjExOTZkNWM2ZTU5NScKT1BUSU9OUy5oYXNoZnVuYyA9ICdz
aGExJwpPUFRJT05TLnZlcnNpb24gPSAnMjAxNi4zLjInCk9QVElPTlMuZXh0X21vZHMgPSAnJwpP
UFRJT05TLndpcGUgPSBGYWxzZQpPUFRJT05TLnR0eSA9IEZhbHNlCk9QVElPTlMuY21kX3VtYXNr
ID0gTm9uZQpBUkdTID0gWyduZXR3b3JrLmludGVyZmFjZV9pcCcsICciZXRoMCInXQoKCgpkZWYg
bmVlZF9kZXBsb3ltZW50KCk6CiAgICAiIiIKICAgIFNhbHQgdGhpbiBuZWVkcyB0byBiZSBkZXBs
b3llZCAtIHByZXAgdGhlIHRhcmdldCBkaXJlY3RvcnkgYW5kIGVtaXQgdGhlCiAgICBkZWxpbWV0
ZXIgYW5kIGV4aXQgY29kZSB0aGF0IHNpZ25hbHMgYSByZXF1aXJlZCBkZXBsb3ltZW50LgogICAg
IiIiCiAgICBpZiBvcy5wYXRoLmV4aXN0cyhPUFRJT05TLnNhbHRkaXIpOgogICAgICAgIHNodXRp
bC5ybXRyZWUoT1BUSU9OUy5zYWx0ZGlyKQogICAgb2xkX3VtYXNrID0gb3MudW1hc2soMG8wNzcp
CiAgICBvcy5tYWtlZGlycyhPUFRJT05TLnNhbHRkaXIpCiAgICBvcy51bWFzayhvbGRfdW1hc2sp
CiAgICAjIFZlcmlmeSBwZXJtcyBvbiBzYWx0ZGlyCiAgICBldWlkID0gb3MuZ2V0ZXVpZCgpCiAg
ICBkc3RhdCA9IG9zLnN0YXQoT1BUSU9OUy5zYWx0ZGlyKQogICAgaWYgZHN0YXQuc3RfdWlkICE9
IGV1aWQ6CiAgICAgICAgIyBBdHRhY2sgZGV0ZWN0ZWQsIHRyeSBhZ2FpbgogICAgICAgIG5lZWRf
ZGVwbG95bWVudCgpCiAgICBpZiBkc3RhdC5zdF9tb2RlICE9IDE2ODMyOgogICAgICAgICMgQXR0
YWNrIGRldGVjdGVkCiAgICAgICAgbmVlZF9kZXBsb3ltZW50KCkKICAgICMgSWYgU1VET2luZyB0
aGVuIGFsc28gZ2l2ZSB0aGUgc3VwZXIgdXNlciBncm91cCB3cml0ZSBwZXJtaXNzaW9ucwogICAg
c3Vkb19naWQgPSBvcy5lbnZpcm9uLmdldCgnU1VET19HSUQnKQogICAgaWYgc3Vkb19naWQ6CiAg
ICAgICAgb3MuY2hvd24oT1BUSU9OUy5zYWx0ZGlyLCAtMSwgaW50KHN1ZG9fZ2lkKSkKICAgICAg
ICBzdHQgPSBvcy5zdGF0KE9QVElPTlMuc2FsdGRpcikKICAgICAgICBvcy5jaG1vZChPUFRJT05T
LnNhbHRkaXIsIHN0dC5zdF9tb2RlIHwgc3RhdC5TX0lXR1JQIHwgc3RhdC5TX0lSR1JQIHwgc3Rh
dC5TX0lYR1JQKQoKICAgICMgRGVsaW1pdGVyIGVtaXR0ZWQgb24gc3Rkb3V0ICpvbmx5KiB0byBp
bmRpY2F0ZSBzaGltIG1lc3NhZ2UgdG8gbWFzdGVyLgogICAgc3lzLnN0ZG91dC53cml0ZSgiezB9
XG5kZXBsb3lcbiIuZm9ybWF0KE9QVElPTlMuZGVsaW1pdGVyKSkKICAgIHN5cy5leGl0KEVYX1RI
SU5fREVQTE9ZKQoKCiMgQWRhcHRlZCBmcm9tIHNhbHQudXRpbHMuZ2V0X2hhc2goKQpkZWYgZ2V0
X2hhc2gocGF0aCwgZm9ybT0nc2hhMScsIGNodW5rX3NpemU9NDA5Nik6CiAgICAiIiJHZW5lcmF0
ZSBhIGhhc2ggZGlnZXN0IHN0cmluZyBmb3IgYSBmaWxlLiIiIgogICAgdHJ5OgogICAgICAgIGhh
c2hfdHlwZSA9IGdldGF0dHIoaGFzaGxpYiwgZm9ybSkKICAgIGV4Y2VwdCBBdHRyaWJ1dGVFcnJv
cjoKICAgICAgICByYWlzZSBWYWx1ZUVycm9yKCdJbnZhbGlkIGhhc2ggdHlwZTogezB9Jy5mb3Jt
YXQoZm9ybSkpCiAgICB3aXRoIG9wZW4ocGF0aCwgJ3JiJykgYXMgaWZpbGU6CiAgICAgICAgaGFz
aF9vYmogPSBoYXNoX3R5cGUoKQogICAgICAgICMgcmVhZCB0aGUgZmlsZSBpbiBpbiBjaHVua3Ms
IG5vdCB0aGUgZW50aXJlIGZpbGUKICAgICAgICBmb3IgY2h1bmsgaW4gaXRlcihsYW1iZGE6IGlm
aWxlLnJlYWQoY2h1bmtfc2l6ZSksIGInJyk6CiAgICAgICAgICAgIGhhc2hfb2JqLnVwZGF0ZShj
aHVuaykKICAgICAgICByZXR1cm4gaGFzaF9vYmouaGV4ZGlnZXN0KCkKCgpkZWYgdW5wYWNrX3Ro
aW4odGhpbl9wYXRoKToKICAgICIiIlVucGFjayB0aGUgU2FsdCB0aGluIGFyY2hpdmUuIiIiCiAg
ICB0ZmlsZSA9IHRhcmZpbGUuVGFyRmlsZS5nem9wZW4odGhpbl9wYXRoKQogICAgb2xkX3VtYXNr
ID0gb3MudW1hc2soMG8wNzcpCiAgICB0ZmlsZS5leHRyYWN0YWxsKHBhdGg9T1BUSU9OUy5zYWx0
ZGlyKQogICAgdGZpbGUuY2xvc2UoKQogICAgb3MudW1hc2sob2xkX3VtYXNrKQogICAgb3MudW5s
aW5rKHRoaW5fcGF0aCkKCgpkZWYgbmVlZF9leHQoKToKICAgICIiIlNpZ25hbCB0aGF0IGV4dGVy
bmFsIG1vZHVsZXMgbmVlZCB0byBiZSBkZXBsb3llZC4iIiIKICAgIHN5cy5zdGRvdXQud3JpdGUo
InswfVxuZXh0X21vZHNcbiIuZm9ybWF0KE9QVElPTlMuZGVsaW1pdGVyKSkKICAgIHN5cy5leGl0
KEVYX01PRF9ERVBMT1kpCgoKZGVmIHVucGFja19leHQoZXh0X3BhdGgpOgogICAgIiIiVW5wYWNr
IHRoZSBleHRlcm5hbCBtb2R1bGVzLiIiIgogICAgbW9kY2FjaGUgPSBvcy5wYXRoLmpvaW4oCiAg
ICAgICAgICAgIE9QVElPTlMuc2FsdGRpciwKICAgICAgICAgICAgJ3J1bm5pbmdfZGF0YScsCiAg
ICAgICAgICAgICd2YXInLAogICAgICAgICAgICAnY2FjaGUnLAogICAgICAgICAgICAnc2FsdCcs
CiAgICAgICAgICAgICdtaW5pb24nLAogICAgICAgICAgICAnZXh0bW9kcycpCiAgICB0ZmlsZSA9
IHRhcmZpbGUuVGFyRmlsZS5nem9wZW4oZXh0X3BhdGgpCiAgICBvbGRfdW1hc2sgPSBvcy51bWFz
aygwbzA3NykKICAgIHRmaWxlLmV4dHJhY3RhbGwocGF0aD1tb2RjYWNoZSkKICAgIHRmaWxlLmNs
b3NlKCkKICAgIG9zLnVtYXNrKG9sZF91bWFzaykKICAgIG9zLnVubGluayhleHRfcGF0aCkKICAg
IHZlcl9wYXRoID0gb3MucGF0aC5qb2luKG1vZGNhY2hlLCAnZXh0X3ZlcnNpb24nKQogICAgdmVy
X2RzdCA9IG9zLnBhdGguam9pbihPUFRJT05TLnNhbHRkaXIsICdleHRfdmVyc2lvbicpCiAgICBz
aHV0aWwubW92ZSh2ZXJfcGF0aCwgdmVyX2RzdCkKCgpkZWYgbWFpbihhcmd2KTogICMgcHlsaW50
OiBkaXNhYmxlPVcwNjEzCiAgICAiIiJNYWluIHByb2dyYW0gYm9keSIiIgogICAgdGhpbl9wYXRo
ID0gb3MucGF0aC5qb2luKE9QVElPTlMuc2FsdGRpciwgVEhJTl9BUkNISVZFKQogICAgaWYgb3Mu
cGF0aC5pc2ZpbGUodGhpbl9wYXRoKToKICAgICAgICBpZiBPUFRJT05TLmNoZWNrc3VtICE9IGdl
dF9oYXNoKHRoaW5fcGF0aCwgT1BUSU9OUy5oYXNoZnVuYyk6CiAgICAgICAgICAgIHN5cy5zdGRl
cnIud3JpdGUoJ3swfVxuJy5mb3JtYXQoT1BUSU9OUy5jaGVja3N1bSkpCiAgICAgICAgICAgIHN5
cy5zdGRlcnIud3JpdGUoJ3swfVxuJy5mb3JtYXQoZ2V0X2hhc2godGhpbl9wYXRoLCBPUFRJT05T
Lmhhc2hmdW5jKSkpCiAgICAgICAgICAgIG9zLnVubGluayh0aGluX3BhdGgpCiAgICAgICAgICAg
IHN5cy5zdGRlcnIud3JpdGUoJ1dBUk5JTkc6IGNoZWNrc3VtIG1pc21hdGNoIGZvciAiezB9Ilxu
Jy5mb3JtYXQodGhpbl9wYXRoKSkKICAgICAgICAgICAgc3lzLmV4aXQoRVhfVEhJTl9DSEVDS1NV
TSkKICAgICAgICB1bnBhY2tfdGhpbih0aGluX3BhdGgpCiAgICAgICAgIyBTYWx0IHRoaW4gbm93
IGlzIGF2YWlsYWJsZSB0byB1c2UKICAgIGVsc2U6CiAgICAgICAgc2Nwc3RhdCA9IHN1YnByb2Nl
c3MuUG9wZW4oWycvYmluL3NoJywgJy1jJywgJ2NvbW1hbmQgLXYgc2NwJ10pLndhaXQoKQogICAg
ICAgIGlmIHNjcHN0YXQgIT0gMDoKICAgICAgICAgICAgc3lzLmV4aXQoRVhfU0NQX05PVF9GT1VO
RCkKCiAgICAgICAgaWYgbm90IG9zLnBhdGguZXhpc3RzKE9QVElPTlMuc2FsdGRpcik6CiAgICAg
ICAgICAgIG5lZWRfZGVwbG95bWVudCgpCgogICAgICAgIGlmIG5vdCBvcy5wYXRoLmlzZGlyKE9Q
VElPTlMuc2FsdGRpcik6CiAgICAgICAgICAgIHN5cy5zdGRlcnIud3JpdGUoCiAgICAgICAgICAg
ICAgICAnRVJST1I6IHNhbHQgcGF0aCAiezB9IiBleGlzdHMgYnV0IGlzJwogICAgICAgICAgICAg
ICAgJyBub3QgYSBkaXJlY3RvcnlcbicuZm9ybWF0KE9QVElPTlMuc2FsdGRpcikKICAgICAgICAg
ICAgKQogICAgICAgICAgICBzeXMuZXhpdChFWF9DQU5UQ1JFQVQpCgogICAgICAgIHZlcnNpb25f
cGF0aCA9IG9zLnBhdGguam9pbihPUFRJT05TLnNhbHRkaXIsICd2ZXJzaW9uJykKICAgICAgICBp
ZiBub3Qgb3MucGF0aC5leGlzdHModmVyc2lvbl9wYXRoKSBvciBub3Qgb3MucGF0aC5pc2ZpbGUo
dmVyc2lvbl9wYXRoKToKICAgICAgICAgICAgc3lzLnN0ZGVyci53cml0ZSgKICAgICAgICAgICAg
ICAgICdXQVJOSU5HOiBVbmFibGUgdG8gbG9jYXRlIGN1cnJlbnQgdGhpbiAnCiAgICAgICAgICAg
ICAgICAnIHZlcnNpb246IHswfS5cbicuZm9ybWF0KHZlcnNpb25fcGF0aCkKICAgICAgICAgICAg
KQogICAgICAgICAgICBuZWVkX2RlcGxveW1lbnQoKQogICAgICAgIHdpdGggb3Blbih2ZXJzaW9u
X3BhdGgsICdyJykgYXMgdnBvOgogICAgICAgICAgICBjdXJfdmVyc2lvbiA9IHZwby5yZWFkbGlu
ZSgpLnN0cmlwKCkKICAgICAgICBpZiBjdXJfdmVyc2lvbiAhPSBPUFRJT05TLnZlcnNpb246CiAg
ICAgICAgICAgIHN5cy5zdGRlcnIud3JpdGUoCiAgICAgICAgICAgICAgICAnV0FSTklORzogY3Vy
cmVudCB0aGluIHZlcnNpb24gezB9JwogICAgICAgICAgICAgICAgJyBpcyBub3QgdXAtdG8tZGF0
ZSB3aXRoIHsxfS5cbicuZm9ybWF0KAogICAgICAgICAgICAgICAgICAgIGN1cl92ZXJzaW9uLCBP
UFRJT05TLnZlcnNpb24KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgKQogICAgICAgICAg
ICBuZWVkX2RlcGxveW1lbnQoKQogICAgICAgICMgU2FsdCB0aGluIGV4aXN0cyBhbmQgaXMgdXAt
dG8tZGF0ZSAtIGZhbGwgdGhyb3VnaCBhbmQgdXNlIGl0CgogICAgc2FsdF9jYWxsX3BhdGggPSBv
cy5wYXRoLmpvaW4oT1BUSU9OUy5zYWx0ZGlyLCAnc2FsdC1jYWxsJykKICAgIGlmIG5vdCBvcy5w
YXRoLmlzZmlsZShzYWx0X2NhbGxfcGF0aCk6CiAgICAgICAgc3lzLnN0ZGVyci53cml0ZSgnRVJS
T1I6IHRoaW4gaXMgbWlzc2luZyAiezB9IlxuJy5mb3JtYXQoc2FsdF9jYWxsX3BhdGgpKQogICAg
ICAgIG5lZWRfZGVwbG95bWVudCgpCgogICAgd2l0aCBvcGVuKG9zLnBhdGguam9pbihPUFRJT05T
LnNhbHRkaXIsICdtaW5pb24nKSwgJ3cnKSBhcyBjb25maWc6CiAgICAgICAgY29uZmlnLndyaXRl
KE9QVElPTlMuY29uZmlnICsgJ1xuJykKICAgIGlmIE9QVElPTlMuZXh0X21vZHM6CiAgICAgICAg
ZXh0X3BhdGggPSBvcy5wYXRoLmpvaW4oT1BUSU9OUy5zYWx0ZGlyLCBFWFRfQVJDSElWRSkKICAg
ICAgICBpZiBvcy5wYXRoLmV4aXN0cyhleHRfcGF0aCk6CiAgICAgICAgICAgIHVucGFja19leHQo
ZXh0X3BhdGgpCiAgICAgICAgZWxzZToKICAgICAgICAgICAgdmVyc2lvbl9wYXRoID0gb3MucGF0
aC5qb2luKE9QVElPTlMuc2FsdGRpciwgJ2V4dF92ZXJzaW9uJykKICAgICAgICAgICAgaWYgbm90
IG9zLnBhdGguZXhpc3RzKHZlcnNpb25fcGF0aCkgb3Igbm90IG9zLnBhdGguaXNmaWxlKHZlcnNp
b25fcGF0aCk6CiAgICAgICAgICAgICAgICBuZWVkX2V4dCgpCiAgICAgICAgICAgIHdpdGggb3Bl
bih2ZXJzaW9uX3BhdGgsICdyJykgYXMgdnBvOgogICAgICAgICAgICAgICAgY3VyX3ZlcnNpb24g
PSB2cG8ucmVhZGxpbmUoKS5zdHJpcCgpCiAgICAgICAgICAgIGlmIGN1cl92ZXJzaW9uICE9IE9Q
VElPTlMuZXh0X21vZHM6CiAgICAgICAgICAgICAgICBuZWVkX2V4dCgpCiAgICAjIEZpeCBwYXJh
bWV0ZXIgcGFzc2luZyBpc3N1ZQogICAgaWYgbGVuKEFSR1MpID09IDE6CiAgICAgICAgYXJndl9w
cmVwYXJlZCA9IEFSR1NbMF0uc3BsaXQoKQogICAgZWxzZToKICAgICAgICBhcmd2X3ByZXBhcmVk
ID0gQVJHUwoKICAgIHNhbHRfYXJndiA9IFsKICAgICAgICBzeXMuZXhlY3V0YWJsZSwKICAgICAg
ICBzYWx0X2NhbGxfcGF0aCwKICAgICAgICAnLS1yZXRjb2RlLXBhc3N0aHJvdWdoJywKICAgICAg
ICAnLS1sb2NhbCcsCiAgICAgICAgJy0tbWV0YWRhdGEnLAogICAgICAgICctLW91dCcsICdqc29u
JywKICAgICAgICAnLWwnLCAncXVpZXQnLAogICAgICAgICctYycsIE9QVElPTlMuc2FsdGRpciwK
ICAgICAgICAnLS0nLAogICAgXSArIGFyZ3ZfcHJlcGFyZWQKCiAgICBzeXMuc3RkZXJyLndyaXRl
KCdTQUxUX0FSR1Y6IHswfVxuJy5mb3JtYXQoc2FsdF9hcmd2KSkKCiAgICAjIE9ubHkgZW1pdCB0
aGUgZGVsaW1pdGVyIG9uICpib3RoKiBzdGRvdXQgYW5kIHN0ZGVyciB3aGVuIGNvbXBsZXRlbHkg
c3VjY2Vzc2Z1bC4KICAgICMgWWVzLCB0aGUgZmx1c2goKSBpcyBuZWNlc3NhcnkuCiAgICBzeXMu
c3Rkb3V0LndyaXRlKE9QVElPTlMuZGVsaW1pdGVyICsgJ1xuJykKICAgIHN5cy5zdGRvdXQuZmx1
c2goKQogICAgaWYgbm90IE9QVElPTlMudHR5OgogICAgICAgIHN5cy5zdGRlcnIud3JpdGUoT1BU
SU9OUy5kZWxpbWl0ZXIgKyAnXG4nKQogICAgICAgIHN5cy5zdGRlcnIuZmx1c2goKQogICAgaWYg
T1BUSU9OUy5jbWRfdW1hc2sgaXMgbm90IE5vbmU6CiAgICAgICAgb2xkX3VtYXNrID0gb3MudW1h
c2soT1BUSU9OUy5jbWRfdW1hc2spCiAgICBpZiBPUFRJT05TLnR0eToKICAgICAgICBzdGRvdXQs
IF8gPSBzdWJwcm9jZXNzLlBvcGVuKHNhbHRfYXJndiwgc3Rkb3V0PXN1YnByb2Nlc3MuUElQRSwg
c3RkZXJyPXN1YnByb2Nlc3MuUElQRSkuY29tbXVuaWNhdGUoKQogICAgICAgIHN5cy5zdGRvdXQu
d3JpdGUoc3Rkb3V0KQogICAgICAgIHN5cy5zdGRvdXQuZmx1c2goKQogICAgICAgIGlmIE9QVElP
TlMud2lwZToKICAgICAgICAgICAgc2h1dGlsLnJtdHJlZShPUFRJT05TLnNhbHRkaXIpCiAgICBl
bGlmIE9QVElPTlMud2lwZToKICAgICAgICBzdWJwcm9jZXNzLmNhbGwoc2FsdF9hcmd2KQogICAg
ICAgIHNodXRpbC5ybXRyZWUoT1BUSU9OUy5zYWx0ZGlyKQogICAgZWxzZToKICAgICAgICBvcy5l
eGVjdihzeXMuZXhlY3V0YWJsZSwgc2FsdF9hcmd2KQogICAgaWYgT1BUSU9OUy5jbWRfdW1hc2sg
aXMgbm90IE5vbmU6CiAgICAgICAgb3MudW1hc2sob2xkX3VtYXNrKQoKaWYgX19uYW1lX18gPT0g
J19fbWFpbl9fJzoKICAgIHN5cy5leGl0KG1haW4oc3lzLmFyZ3YpKQo=
""").decode("utf-8"))'
fi
exit 0
else
continue
fi
done
echo "ERROR: Unable to locate appropriate python command" >&2
exit $EX_PYTHON_INVALID
EOF
2016-08-27 20:51:56,070 [salt.utils.vt    ][DEBUG   ][7069] Child Forked! PID: 7153  STDOUT_FD: 9  STDERR_FD: 11
2016-08-27 20:51:56,074 [salt.utils.vt    ][DEBUG   ][7069] VT: Salt-SSH SHIM Terminal Command executed. Logged to TRACE
2016-08-27 20:51:56,074 [salt.utils.vt    ][TRACE   ][7069] Terminal Command: /bin/sh -c ssh 127.0.0.1  -o KbdInteractiveAuthentication=no -o PasswordAuthentication=yes -o GSSAPIAuthentication=no -o ConnectTimeout=65 -o Port=22 -o IdentityFile=/root/saltstack_master/etc/salt/pki/master/ssh/salt-ssh.rsa -o User=salt-ope  /bin/sh << 'EOF'
set -e
set -u
DEBUG=""
if [ -n "$DEBUG" ]
then set -x
fi
SUDO=""
if [ -n "sudo" ]
then SUDO="sudo "
fi
EX_PYTHON_INVALID=10
PYTHON_CMDS="python3 python27 python2.7 python26 python2.6 python2 python"
for py_cmd in $PYTHON_CMDS
do
if command -v "$py_cmd" >/dev/null 2>&1 && "$py_cmd" -c \
"import sys; sys.exit(not (sys.version_info >= (2, 6)
and sys.version_info[0] == 2));"
then
py_cmd_path=`"$py_cmd" -c \
'from __future__ import print_function;
import sys; print(sys.executable);'`
cmdpath=$(which $py_cmd 2>&1)
if file $cmdpath | grep "shell script" > /dev/null
then
ex_vars="'PATH', 'LD_LIBRARY_PATH', 'MANPATH', \
'XDG_DATA_DIRS', 'PKG_CONFIG_PATH'"
export $($py_cmd -c \
"from __future__ import print_function;
import sys;
import os;
map(sys.stdout.write, ['{0}={1} ' \
.format(x, os.environ[x]) for x in [$ex_vars]])")
exec $SUDO PATH=$PATH LD_LIBRARY_PATH=$LD_LIBRARY_PATH \
MANPATH=$MANPATH XDG_DATA_DIRS=$XDG_DATA_DIRS \
PKG_CONFIG_PATH=$PKG_CONFIG_PATH \
"$py_cmd_path" -c \
'import base64;
exec(base64.b64decode("""IyBweWxpbnQ6IGRpc2FibGU9Vzk5MDMKJycnClRoaXMgaXMgYSBzaGltIHRoYXQgaGFuZGxlcyBj
aGVja2luZyBhbmQgdXBkYXRpbmcgc2FsdCB0aGluIGFuZAp0aGVuIGludm9raW5nIHRoaW4uCgpU
aGlzIGlzIG5vdCBpbnRlbmRlZCB0byBiZSBpbnN0YW50aWF0ZWQgYXMgYSBtb2R1bGUsIHJhdGhl
ciBpdCBpcyBhCmhlbHBlciBzY3JpcHQgdXNlZCBieSBzYWx0LmNsaWVudC5zc2guU2luZ2xlLiAg
SXQgaXMgaGVyZSwgaW4gYQpzZXBhcmF0ZSBmaWxlLCBmb3IgY29udmVuaWVuY2Ugb2YgZGV2ZWxv
cG1lbnQuCicnJwoKZnJvbSBfX2Z1dHVyZV9fIGltcG9ydCBhYnNvbHV0ZV9pbXBvcnQKCmltcG9y
dCBoYXNobGliCmltcG9ydCB0YXJmaWxlCmltcG9ydCBzaHV0aWwKaW1wb3J0IHN5cwppbXBvcnQg
b3MKaW1wb3J0IHN0YXQKaW1wb3J0IHN1YnByb2Nlc3MKClRISU5fQVJDSElWRSA9ICdzYWx0LXRo
aW4udGd6JwpFWFRfQVJDSElWRSA9ICdzYWx0LWV4dF9tb2RzLnRneicKCiMgS2VlcCB0aGVzZSBp
biBzeW5jIHdpdGggc2FsdC9kZWZhdWx0cy9leGl0Y29kZXMucHkKRVhfVEhJTl9ERVBMT1kgPSAx
MQpFWF9USElOX0NIRUNLU1VNID0gMTIKRVhfTU9EX0RFUExPWSA9IDEzCkVYX1NDUF9OT1RfRk9V
TkQgPSAxNApFWF9DQU5UQ1JFQVQgPSA3MwoKCmNsYXNzIE9CSihvYmplY3QpOgogICAgIiIiQW4g
ZW1wdHkgY2xhc3MgZm9yIGhvbGRpbmcgaW5zdGFuY2UgYXR0cmlidXRlIHZhbHVlcy4iIiIKICAg
IHBhc3MKCgpPUFRJT05TID0gTm9uZQpBUkdTID0gTm9uZQojIFRoZSBiZWxvdyBsaW5lIGlzIHdo
ZXJlIE9QVElPTlMgY2FuIGJlIHJlZGVmaW5lZCB3aXRoIGludGVybmFsIG9wdGlvbnMKIyAocmF0
aGVyIHRoYW4gY2xpIGFyZ3VtZW50cykgd2hlbiB0aGUgc2hpbSBpcyBidW5kbGVkIGJ5CiMgY2xp
ZW50LnNzaC5TaW5nbGUuX2NtZF9zdHIoKQojIHB5bGludDogZGlzYWJsZT1ibG9jay1jb21tZW50
LXNob3VsZC1zdGFydC13aXRoLWNhcmRpbmFsLXNwYWNlCgpPUFRJT05TID0gT0JKKCkKT1BUSU9O
Uy5jb25maWcgPSAiIiIKe2ZpbGVzZXJ2ZXJfbGlzdF9jYWNoZV90aW1lOiAzLCBncmFpbnNfY2Fj
aGU6IHRydWUsIGlkOiBsb2NhbCwgbG9nX2ZpbGU6IHNhbHQtY2FsbC5sb2csCiAgcm9vdF9kaXI6
IC92YXIvdG1wLy5zYWx0LW9wZV8xYTM1MzJfc2FsdC9ydW5uaW5nX2RhdGEsIHNvY2tfZGlyOiAv
fQoiIiIKT1BUSU9OUy5kZWxpbWl0ZXIgPSAnX2VkYmM3ODg1ZTRmOWFhYzliODNiMzU5OTliNjhk
MDE1MTQ4Y2FmNDY3Yjc4ZmEzOWMwNWY2NjljMGZmODk4NzgnCk9QVElPTlMuc2FsdGRpciA9ICcv
dmFyL3RtcC8uc2FsdC1vcGVfMWEzNTMyX3NhbHQnCk9QVElPTlMuY2hlY2tzdW0gPSAnMmUyNWZj
YmI2YWEyNTU5OWQ1MmU4OTVkZTZlMjExOTZkNWM2ZTU5NScKT1BUSU9OUy5oYXNoZnVuYyA9ICdz
aGExJwpPUFRJT05TLnZlcnNpb24gPSAnMjAxNi4zLjInCk9QVElPTlMuZXh0X21vZHMgPSAnJwpP
UFRJT05TLndpcGUgPSBGYWxzZQpPUFRJT05TLnR0eSA9IEZhbHNlCk9QVElPTlMuY21kX3VtYXNr
ID0gTm9uZQpBUkdTID0gWyduZXR3b3JrLmludGVyZmFjZV9pcCcsICciZXRoMCInXQoKCgpkZWYg
bmVlZF9kZXBsb3ltZW50KCk6CiAgICAiIiIKICAgIFNhbHQgdGhpbiBuZWVkcyB0byBiZSBkZXBs
b3llZCAtIHByZXAgdGhlIHRhcmdldCBkaXJlY3RvcnkgYW5kIGVtaXQgdGhlCiAgICBkZWxpbWV0
ZXIgYW5kIGV4aXQgY29kZSB0aGF0IHNpZ25hbHMgYSByZXF1aXJlZCBkZXBsb3ltZW50LgogICAg
IiIiCiAgICBpZiBvcy5wYXRoLmV4aXN0cyhPUFRJT05TLnNhbHRkaXIpOgogICAgICAgIHNodXRp
bC5ybXRyZWUoT1BUSU9OUy5zYWx0ZGlyKQogICAgb2xkX3VtYXNrID0gb3MudW1hc2soMG8wNzcp
CiAgICBvcy5tYWtlZGlycyhPUFRJT05TLnNhbHRkaXIpCiAgICBvcy51bWFzayhvbGRfdW1hc2sp
CiAgICAjIFZlcmlmeSBwZXJtcyBvbiBzYWx0ZGlyCiAgICBldWlkID0gb3MuZ2V0ZXVpZCgpCiAg
ICBkc3RhdCA9IG9zLnN0YXQoT1BUSU9OUy5zYWx0ZGlyKQogICAgaWYgZHN0YXQuc3RfdWlkICE9
IGV1aWQ6CiAgICAgICAgIyBBdHRhY2sgZGV0ZWN0ZWQsIHRyeSBhZ2FpbgogICAgICAgIG5lZWRf
ZGVwbG95bWVudCgpCiAgICBpZiBkc3RhdC5zdF9tb2RlICE9IDE2ODMyOgogICAgICAgICMgQXR0
YWNrIGRldGVjdGVkCiAgICAgICAgbmVlZF9kZXBsb3ltZW50KCkKICAgICMgSWYgU1VET2luZyB0
aGVuIGFsc28gZ2l2ZSB0aGUgc3VwZXIgdXNlciBncm91cCB3cml0ZSBwZXJtaXNzaW9ucwogICAg
c3Vkb19naWQgPSBvcy5lbnZpcm9uLmdldCgnU1VET19HSUQnKQogICAgaWYgc3Vkb19naWQ6CiAg
ICAgICAgb3MuY2hvd24oT1BUSU9OUy5zYWx0ZGlyLCAtMSwgaW50KHN1ZG9fZ2lkKSkKICAgICAg
ICBzdHQgPSBvcy5zdGF0KE9QVElPTlMuc2FsdGRpcikKICAgICAgICBvcy5jaG1vZChPUFRJT05T
LnNhbHRkaXIsIHN0dC5zdF9tb2RlIHwgc3RhdC5TX0lXR1JQIHwgc3RhdC5TX0lSR1JQIHwgc3Rh
dC5TX0lYR1JQKQoKICAgICMgRGVsaW1pdGVyIGVtaXR0ZWQgb24gc3Rkb3V0ICpvbmx5KiB0byBp
bmRpY2F0ZSBzaGltIG1lc3NhZ2UgdG8gbWFzdGVyLgogICAgc3lzLnN0ZG91dC53cml0ZSgiezB9
XG5kZXBsb3lcbiIuZm9ybWF0KE9QVElPTlMuZGVsaW1pdGVyKSkKICAgIHN5cy5leGl0KEVYX1RI
SU5fREVQTE9ZKQoKCiMgQWRhcHRlZCBmcm9tIHNhbHQudXRpbHMuZ2V0X2hhc2goKQpkZWYgZ2V0
X2hhc2gocGF0aCwgZm9ybT0nc2hhMScsIGNodW5rX3NpemU9NDA5Nik6CiAgICAiIiJHZW5lcmF0
ZSBhIGhhc2ggZGlnZXN0IHN0cmluZyBmb3IgYSBmaWxlLiIiIgogICAgdHJ5OgogICAgICAgIGhh
c2hfdHlwZSA9IGdldGF0dHIoaGFzaGxpYiwgZm9ybSkKICAgIGV4Y2VwdCBBdHRyaWJ1dGVFcnJv
cjoKICAgICAgICByYWlzZSBWYWx1ZUVycm9yKCdJbnZhbGlkIGhhc2ggdHlwZTogezB9Jy5mb3Jt
YXQoZm9ybSkpCiAgICB3aXRoIG9wZW4ocGF0aCwgJ3JiJykgYXMgaWZpbGU6CiAgICAgICAgaGFz
aF9vYmogPSBoYXNoX3R5cGUoKQogICAgICAgICMgcmVhZCB0aGUgZmlsZSBpbiBpbiBjaHVua3Ms
IG5vdCB0aGUgZW50aXJlIGZpbGUKICAgICAgICBmb3IgY2h1bmsgaW4gaXRlcihsYW1iZGE6IGlm
aWxlLnJlYWQoY2h1bmtfc2l6ZSksIGInJyk6CiAgICAgICAgICAgIGhhc2hfb2JqLnVwZGF0ZShj
aHVuaykKICAgICAgICByZXR1cm4gaGFzaF9vYmouaGV4ZGlnZXN0KCkKCgpkZWYgdW5wYWNrX3Ro
aW4odGhpbl9wYXRoKToKICAgICIiIlVucGFjayB0aGUgU2FsdCB0aGluIGFyY2hpdmUuIiIiCiAg
ICB0ZmlsZSA9IHRhcmZpbGUuVGFyRmlsZS5nem9wZW4odGhpbl9wYXRoKQogICAgb2xkX3VtYXNr
ID0gb3MudW1hc2soMG8wNzcpCiAgICB0ZmlsZS5leHRyYWN0YWxsKHBhdGg9T1BUSU9OUy5zYWx0
ZGlyKQogICAgdGZpbGUuY2xvc2UoKQogICAgb3MudW1hc2sob2xkX3VtYXNrKQogICAgb3MudW5s
aW5rKHRoaW5fcGF0aCkKCgpkZWYgbmVlZF9leHQoKToKICAgICIiIlNpZ25hbCB0aGF0IGV4dGVy
bmFsIG1vZHVsZXMgbmVlZCB0byBiZSBkZXBsb3llZC4iIiIKICAgIHN5cy5zdGRvdXQud3JpdGUo
InswfVxuZXh0X21vZHNcbiIuZm9ybWF0KE9QVElPTlMuZGVsaW1pdGVyKSkKICAgIHN5cy5leGl0
KEVYX01PRF9ERVBMT1kpCgoKZGVmIHVucGFja19leHQoZXh0X3BhdGgpOgogICAgIiIiVW5wYWNr
IHRoZSBleHRlcm5hbCBtb2R1bGVzLiIiIgogICAgbW9kY2FjaGUgPSBvcy5wYXRoLmpvaW4oCiAg
ICAgICAgICAgIE9QVElPTlMuc2FsdGRpciwKICAgICAgICAgICAgJ3J1bm5pbmdfZGF0YScsCiAg
ICAgICAgICAgICd2YXInLAogICAgICAgICAgICAnY2FjaGUnLAogICAgICAgICAgICAnc2FsdCcs
CiAgICAgICAgICAgICdtaW5pb24nLAogICAgICAgICAgICAnZXh0bW9kcycpCiAgICB0ZmlsZSA9
IHRhcmZpbGUuVGFyRmlsZS5nem9wZW4oZXh0X3BhdGgpCiAgICBvbGRfdW1hc2sgPSBvcy51bWFz
aygwbzA3NykKICAgIHRmaWxlLmV4dHJhY3RhbGwocGF0aD1tb2RjYWNoZSkKICAgIHRmaWxlLmNs
b3NlKCkKICAgIG9zLnVtYXNrKG9sZF91bWFzaykKICAgIG9zLnVubGluayhleHRfcGF0aCkKICAg
IHZlcl9wYXRoID0gb3MucGF0aC5qb2luKG1vZGNhY2hlLCAnZXh0X3ZlcnNpb24nKQogICAgdmVy
X2RzdCA9IG9zLnBhdGguam9pbihPUFRJT05TLnNhbHRkaXIsICdleHRfdmVyc2lvbicpCiAgICBz
aHV0aWwubW92ZSh2ZXJfcGF0aCwgdmVyX2RzdCkKCgpkZWYgbWFpbihhcmd2KTogICMgcHlsaW50
OiBkaXNhYmxlPVcwNjEzCiAgICAiIiJNYWluIHByb2dyYW0gYm9keSIiIgogICAgdGhpbl9wYXRo
ID0gb3MucGF0aC5qb2luKE9QVElPTlMuc2FsdGRpciwgVEhJTl9BUkNISVZFKQogICAgaWYgb3Mu
cGF0aC5pc2ZpbGUodGhpbl9wYXRoKToKICAgICAgICBpZiBPUFRJT05TLmNoZWNrc3VtICE9IGdl
dF9oYXNoKHRoaW5fcGF0aCwgT1BUSU9OUy5oYXNoZnVuYyk6CiAgICAgICAgICAgIHN5cy5zdGRl
cnIud3JpdGUoJ3swfVxuJy5mb3JtYXQoT1BUSU9OUy5jaGVja3N1bSkpCiAgICAgICAgICAgIHN5
cy5zdGRlcnIud3JpdGUoJ3swfVxuJy5mb3JtYXQoZ2V0X2hhc2godGhpbl9wYXRoLCBPUFRJT05T
Lmhhc2hmdW5jKSkpCiAgICAgICAgICAgIG9zLnVubGluayh0aGluX3BhdGgpCiAgICAgICAgICAg
IHN5cy5zdGRlcnIud3JpdGUoJ1dBUk5JTkc6IGNoZWNrc3VtIG1pc21hdGNoIGZvciAiezB9Ilxu
Jy5mb3JtYXQodGhpbl9wYXRoKSkKICAgICAgICAgICAgc3lzLmV4aXQoRVhfVEhJTl9DSEVDS1NV
TSkKICAgICAgICB1bnBhY2tfdGhpbih0aGluX3BhdGgpCiAgICAgICAgIyBTYWx0IHRoaW4gbm93
IGlzIGF2YWlsYWJsZSB0byB1c2UKICAgIGVsc2U6CiAgICAgICAgc2Nwc3RhdCA9IHN1YnByb2Nl
c3MuUG9wZW4oWycvYmluL3NoJywgJy1jJywgJ2NvbW1hbmQgLXYgc2NwJ10pLndhaXQoKQogICAg
ICAgIGlmIHNjcHN0YXQgIT0gMDoKICAgICAgICAgICAgc3lzLmV4aXQoRVhfU0NQX05PVF9GT1VO
RCkKCiAgICAgICAgaWYgbm90IG9zLnBhdGguZXhpc3RzKE9QVElPTlMuc2FsdGRpcik6CiAgICAg
ICAgICAgIG5lZWRfZGVwbG95bWVudCgpCgogICAgICAgIGlmIG5vdCBvcy5wYXRoLmlzZGlyKE9Q
VElPTlMuc2FsdGRpcik6CiAgICAgICAgICAgIHN5cy5zdGRlcnIud3JpdGUoCiAgICAgICAgICAg
ICAgICAnRVJST1I6IHNhbHQgcGF0aCAiezB9IiBleGlzdHMgYnV0IGlzJwogICAgICAgICAgICAg
ICAgJyBub3QgYSBkaXJlY3RvcnlcbicuZm9ybWF0KE9QVElPTlMuc2FsdGRpcikKICAgICAgICAg
ICAgKQogICAgICAgICAgICBzeXMuZXhpdChFWF9DQU5UQ1JFQVQpCgogICAgICAgIHZlcnNpb25f
cGF0aCA9IG9zLnBhdGguam9pbihPUFRJT05TLnNhbHRkaXIsICd2ZXJzaW9uJykKICAgICAgICBp
ZiBub3Qgb3MucGF0aC5leGlzdHModmVyc2lvbl9wYXRoKSBvciBub3Qgb3MucGF0aC5pc2ZpbGUo
dmVyc2lvbl9wYXRoKToKICAgICAgICAgICAgc3lzLnN0ZGVyci53cml0ZSgKICAgICAgICAgICAg
ICAgICdXQVJOSU5HOiBVbmFibGUgdG8gbG9jYXRlIGN1cnJlbnQgdGhpbiAnCiAgICAgICAgICAg
ICAgICAnIHZlcnNpb246IHswfS5cbicuZm9ybWF0KHZlcnNpb25fcGF0aCkKICAgICAgICAgICAg
KQogICAgICAgICAgICBuZWVkX2RlcGxveW1lbnQoKQogICAgICAgIHdpdGggb3Blbih2ZXJzaW9u
X3BhdGgsICdyJykgYXMgdnBvOgogICAgICAgICAgICBjdXJfdmVyc2lvbiA9IHZwby5yZWFkbGlu
ZSgpLnN0cmlwKCkKICAgICAgICBpZiBjdXJfdmVyc2lvbiAhPSBPUFRJT05TLnZlcnNpb246CiAg
ICAgICAgICAgIHN5cy5zdGRlcnIud3JpdGUoCiAgICAgICAgICAgICAgICAnV0FSTklORzogY3Vy
cmVudCB0aGluIHZlcnNpb24gezB9JwogICAgICAgICAgICAgICAgJyBpcyBub3QgdXAtdG8tZGF0
ZSB3aXRoIHsxfS5cbicuZm9ybWF0KAogICAgICAgICAgICAgICAgICAgIGN1cl92ZXJzaW9uLCBP
UFRJT05TLnZlcnNpb24KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgKQogICAgICAgICAg
ICBuZWVkX2RlcGxveW1lbnQoKQogICAgICAgICMgU2FsdCB0aGluIGV4aXN0cyBhbmQgaXMgdXAt
dG8tZGF0ZSAtIGZhbGwgdGhyb3VnaCBhbmQgdXNlIGl0CgogICAgc2FsdF9jYWxsX3BhdGggPSBv
cy5wYXRoLmpvaW4oT1BUSU9OUy5zYWx0ZGlyLCAnc2FsdC1jYWxsJykKICAgIGlmIG5vdCBvcy5w
YXRoLmlzZmlsZShzYWx0X2NhbGxfcGF0aCk6CiAgICAgICAgc3lzLnN0ZGVyci53cml0ZSgnRVJS
T1I6IHRoaW4gaXMgbWlzc2luZyAiezB9IlxuJy5mb3JtYXQoc2FsdF9jYWxsX3BhdGgpKQogICAg
ICAgIG5lZWRfZGVwbG95bWVudCgpCgogICAgd2l0aCBvcGVuKG9zLnBhdGguam9pbihPUFRJT05T
LnNhbHRkaXIsICdtaW5pb24nKSwgJ3cnKSBhcyBjb25maWc6CiAgICAgICAgY29uZmlnLndyaXRl
KE9QVElPTlMuY29uZmlnICsgJ1xuJykKICAgIGlmIE9QVElPTlMuZXh0X21vZHM6CiAgICAgICAg
ZXh0X3BhdGggPSBvcy5wYXRoLmpvaW4oT1BUSU9OUy5zYWx0ZGlyLCBFWFRfQVJDSElWRSkKICAg
ICAgICBpZiBvcy5wYXRoLmV4aXN0cyhleHRfcGF0aCk6CiAgICAgICAgICAgIHVucGFja19leHQo
ZXh0X3BhdGgpCiAgICAgICAgZWxzZToKICAgICAgICAgICAgdmVyc2lvbl9wYXRoID0gb3MucGF0
aC5qb2luKE9QVElPTlMuc2FsdGRpciwgJ2V4dF92ZXJzaW9uJykKICAgICAgICAgICAgaWYgbm90
IG9zLnBhdGguZXhpc3RzKHZlcnNpb25fcGF0aCkgb3Igbm90IG9zLnBhdGguaXNmaWxlKHZlcnNp
b25fcGF0aCk6CiAgICAgICAgICAgICAgICBuZWVkX2V4dCgpCiAgICAgICAgICAgIHdpdGggb3Bl
bih2ZXJzaW9uX3BhdGgsICdyJykgYXMgdnBvOgogICAgICAgICAgICAgICAgY3VyX3ZlcnNpb24g
PSB2cG8ucmVhZGxpbmUoKS5zdHJpcCgpCiAgICAgICAgICAgIGlmIGN1cl92ZXJzaW9uICE9IE9Q
VElPTlMuZXh0X21vZHM6CiAgICAgICAgICAgICAgICBuZWVkX2V4dCgpCiAgICAjIEZpeCBwYXJh
bWV0ZXIgcGFzc2luZyBpc3N1ZQogICAgaWYgbGVuKEFSR1MpID09IDE6CiAgICAgICAgYXJndl9w
cmVwYXJlZCA9IEFSR1NbMF0uc3BsaXQoKQogICAgZWxzZToKICAgICAgICBhcmd2X3ByZXBhcmVk
ID0gQVJHUwoKICAgIHNhbHRfYXJndiA9IFsKICAgICAgICBzeXMuZXhlY3V0YWJsZSwKICAgICAg
ICBzYWx0X2NhbGxfcGF0aCwKICAgICAgICAnLS1yZXRjb2RlLXBhc3N0aHJvdWdoJywKICAgICAg
ICAnLS1sb2NhbCcsCiAgICAgICAgJy0tbWV0YWRhdGEnLAogICAgICAgICctLW91dCcsICdqc29u
JywKICAgICAgICAnLWwnLCAncXVpZXQnLAogICAgICAgICctYycsIE9QVElPTlMuc2FsdGRpciwK
ICAgICAgICAnLS0nLAogICAgXSArIGFyZ3ZfcHJlcGFyZWQKCiAgICBzeXMuc3RkZXJyLndyaXRl
KCdTQUxUX0FSR1Y6IHswfVxuJy5mb3JtYXQoc2FsdF9hcmd2KSkKCiAgICAjIE9ubHkgZW1pdCB0
aGUgZGVsaW1pdGVyIG9uICpib3RoKiBzdGRvdXQgYW5kIHN0ZGVyciB3aGVuIGNvbXBsZXRlbHkg
c3VjY2Vzc2Z1bC4KICAgICMgWWVzLCB0aGUgZmx1c2goKSBpcyBuZWNlc3NhcnkuCiAgICBzeXMu
c3Rkb3V0LndyaXRlKE9QVElPTlMuZGVsaW1pdGVyICsgJ1xuJykKICAgIHN5cy5zdGRvdXQuZmx1
c2goKQogICAgaWYgbm90IE9QVElPTlMudHR5OgogICAgICAgIHN5cy5zdGRlcnIud3JpdGUoT1BU
SU9OUy5kZWxpbWl0ZXIgKyAnXG4nKQogICAgICAgIHN5cy5zdGRlcnIuZmx1c2goKQogICAgaWYg
T1BUSU9OUy5jbWRfdW1hc2sgaXMgbm90IE5vbmU6CiAgICAgICAgb2xkX3VtYXNrID0gb3MudW1h
c2soT1BUSU9OUy5jbWRfdW1hc2spCiAgICBpZiBPUFRJT05TLnR0eToKICAgICAgICBzdGRvdXQs
IF8gPSBzdWJwcm9jZXNzLlBvcGVuKHNhbHRfYXJndiwgc3Rkb3V0PXN1YnByb2Nlc3MuUElQRSwg
c3RkZXJyPXN1YnByb2Nlc3MuUElQRSkuY29tbXVuaWNhdGUoKQogICAgICAgIHN5cy5zdGRvdXQu
d3JpdGUoc3Rkb3V0KQogICAgICAgIHN5cy5zdGRvdXQuZmx1c2goKQogICAgICAgIGlmIE9QVElP
TlMud2lwZToKICAgICAgICAgICAgc2h1dGlsLnJtdHJlZShPUFRJT05TLnNhbHRkaXIpCiAgICBl
bGlmIE9QVElPTlMud2lwZToKICAgICAgICBzdWJwcm9jZXNzLmNhbGwoc2FsdF9hcmd2KQogICAg
ICAgIHNodXRpbC5ybXRyZWUoT1BUSU9OUy5zYWx0ZGlyKQogICAgZWxzZToKICAgICAgICBvcy5l
eGVjdihzeXMuZXhlY3V0YWJsZSwgc2FsdF9hcmd2KQogICAgaWYgT1BUSU9OUy5jbWRfdW1hc2sg
aXMgbm90IE5vbmU6CiAgICAgICAgb3MudW1hc2sob2xkX3VtYXNrKQoKaWYgX19uYW1lX18gPT0g
J19fbWFpbl9fJzoKICAgIHN5cy5leGl0KG1haW4oc3lzLmFyZ3YpKQo=
""").decode("utf-8"))'
else
exec $SUDO "$py_cmd_path" -c \
'import base64;
exec(base64.b64decode("""IyBweWxpbnQ6IGRpc2FibGU9Vzk5MDMKJycnClRoaXMgaXMgYSBzaGltIHRoYXQgaGFuZGxlcyBj
aGVja2luZyBhbmQgdXBkYXRpbmcgc2FsdCB0aGluIGFuZAp0aGVuIGludm9raW5nIHRoaW4uCgpU
aGlzIGlzIG5vdCBpbnRlbmRlZCB0byBiZSBpbnN0YW50aWF0ZWQgYXMgYSBtb2R1bGUsIHJhdGhl
ciBpdCBpcyBhCmhlbHBlciBzY3JpcHQgdXNlZCBieSBzYWx0LmNsaWVudC5zc2guU2luZ2xlLiAg
SXQgaXMgaGVyZSwgaW4gYQpzZXBhcmF0ZSBmaWxlLCBmb3IgY29udmVuaWVuY2Ugb2YgZGV2ZWxv
cG1lbnQuCicnJwoKZnJvbSBfX2Z1dHVyZV9fIGltcG9ydCBhYnNvbHV0ZV9pbXBvcnQKCmltcG9y
dCBoYXNobGliCmltcG9ydCB0YXJmaWxlCmltcG9ydCBzaHV0aWwKaW1wb3J0IHN5cwppbXBvcnQg
b3MKaW1wb3J0IHN0YXQKaW1wb3J0IHN1YnByb2Nlc3MKClRISU5fQVJDSElWRSA9ICdzYWx0LXRo
aW4udGd6JwpFWFRfQVJDSElWRSA9ICdzYWx0LWV4dF9tb2RzLnRneicKCiMgS2VlcCB0aGVzZSBp
biBzeW5jIHdpdGggc2FsdC9kZWZhdWx0cy9leGl0Y29kZXMucHkKRVhfVEhJTl9ERVBMT1kgPSAx
MQpFWF9USElOX0NIRUNLU1VNID0gMTIKRVhfTU9EX0RFUExPWSA9IDEzCkVYX1NDUF9OT1RfRk9V
TkQgPSAxNApFWF9DQU5UQ1JFQVQgPSA3MwoKCmNsYXNzIE9CSihvYmplY3QpOgogICAgIiIiQW4g
ZW1wdHkgY2xhc3MgZm9yIGhvbGRpbmcgaW5zdGFuY2UgYXR0cmlidXRlIHZhbHVlcy4iIiIKICAg
IHBhc3MKCgpPUFRJT05TID0gTm9uZQpBUkdTID0gTm9uZQojIFRoZSBiZWxvdyBsaW5lIGlzIHdo
ZXJlIE9QVElPTlMgY2FuIGJlIHJlZGVmaW5lZCB3aXRoIGludGVybmFsIG9wdGlvbnMKIyAocmF0
aGVyIHRoYW4gY2xpIGFyZ3VtZW50cykgd2hlbiB0aGUgc2hpbSBpcyBidW5kbGVkIGJ5CiMgY2xp
ZW50LnNzaC5TaW5nbGUuX2NtZF9zdHIoKQojIHB5bGludDogZGlzYWJsZT1ibG9jay1jb21tZW50
LXNob3VsZC1zdGFydC13aXRoLWNhcmRpbmFsLXNwYWNlCgpPUFRJT05TID0gT0JKKCkKT1BUSU9O
Uy5jb25maWcgPSAiIiIKe2ZpbGVzZXJ2ZXJfbGlzdF9jYWNoZV90aW1lOiAzLCBncmFpbnNfY2Fj
aGU6IHRydWUsIGlkOiBsb2NhbCwgbG9nX2ZpbGU6IHNhbHQtY2FsbC5sb2csCiAgcm9vdF9kaXI6
IC92YXIvdG1wLy5zYWx0LW9wZV8xYTM1MzJfc2FsdC9ydW5uaW5nX2RhdGEsIHNvY2tfZGlyOiAv
fQoiIiIKT1BUSU9OUy5kZWxpbWl0ZXIgPSAnX2VkYmM3ODg1ZTRmOWFhYzliODNiMzU5OTliNjhk
MDE1MTQ4Y2FmNDY3Yjc4ZmEzOWMwNWY2NjljMGZmODk4NzgnCk9QVElPTlMuc2FsdGRpciA9ICcv
dmFyL3RtcC8uc2FsdC1vcGVfMWEzNTMyX3NhbHQnCk9QVElPTlMuY2hlY2tzdW0gPSAnMmUyNWZj
YmI2YWEyNTU5OWQ1MmU4OTVkZTZlMjExOTZkNWM2ZTU5NScKT1BUSU9OUy5oYXNoZnVuYyA9ICdz
aGExJwpPUFRJT05TLnZlcnNpb24gPSAnMjAxNi4zLjInCk9QVElPTlMuZXh0X21vZHMgPSAnJwpP
UFRJT05TLndpcGUgPSBGYWxzZQpPUFRJT05TLnR0eSA9IEZhbHNlCk9QVElPTlMuY21kX3VtYXNr
ID0gTm9uZQpBUkdTID0gWyduZXR3b3JrLmludGVyZmFjZV9pcCcsICciZXRoMCInXQoKCgpkZWYg
bmVlZF9kZXBsb3ltZW50KCk6CiAgICAiIiIKICAgIFNhbHQgdGhpbiBuZWVkcyB0byBiZSBkZXBs
b3llZCAtIHByZXAgdGhlIHRhcmdldCBkaXJlY3RvcnkgYW5kIGVtaXQgdGhlCiAgICBkZWxpbWV0
ZXIgYW5kIGV4aXQgY29kZSB0aGF0IHNpZ25hbHMgYSByZXF1aXJlZCBkZXBsb3ltZW50LgogICAg
IiIiCiAgICBpZiBvcy5wYXRoLmV4aXN0cyhPUFRJT05TLnNhbHRkaXIpOgogICAgICAgIHNodXRp
bC5ybXRyZWUoT1BUSU9OUy5zYWx0ZGlyKQogICAgb2xkX3VtYXNrID0gb3MudW1hc2soMG8wNzcp
CiAgICBvcy5tYWtlZGlycyhPUFRJT05TLnNhbHRkaXIpCiAgICBvcy51bWFzayhvbGRfdW1hc2sp
CiAgICAjIFZlcmlmeSBwZXJtcyBvbiBzYWx0ZGlyCiAgICBldWlkID0gb3MuZ2V0ZXVpZCgpCiAg
ICBkc3RhdCA9IG9zLnN0YXQoT1BUSU9OUy5zYWx0ZGlyKQogICAgaWYgZHN0YXQuc3RfdWlkICE9
IGV1aWQ6CiAgICAgICAgIyBBdHRhY2sgZGV0ZWN0ZWQsIHRyeSBhZ2FpbgogICAgICAgIG5lZWRf
ZGVwbG95bWVudCgpCiAgICBpZiBkc3RhdC5zdF9tb2RlICE9IDE2ODMyOgogICAgICAgICMgQXR0
YWNrIGRldGVjdGVkCiAgICAgICAgbmVlZF9kZXBsb3ltZW50KCkKICAgICMgSWYgU1VET2luZyB0
aGVuIGFsc28gZ2l2ZSB0aGUgc3VwZXIgdXNlciBncm91cCB3cml0ZSBwZXJtaXNzaW9ucwogICAg
c3Vkb19naWQgPSBvcy5lbnZpcm9uLmdldCgnU1VET19HSUQnKQogICAgaWYgc3Vkb19naWQ6CiAg
ICAgICAgb3MuY2hvd24oT1BUSU9OUy5zYWx0ZGlyLCAtMSwgaW50KHN1ZG9fZ2lkKSkKICAgICAg
ICBzdHQgPSBvcy5zdGF0KE9QVElPTlMuc2FsdGRpcikKICAgICAgICBvcy5jaG1vZChPUFRJT05T
LnNhbHRkaXIsIHN0dC5zdF9tb2RlIHwgc3RhdC5TX0lXR1JQIHwgc3RhdC5TX0lSR1JQIHwgc3Rh
dC5TX0lYR1JQKQoKICAgICMgRGVsaW1pdGVyIGVtaXR0ZWQgb24gc3Rkb3V0ICpvbmx5KiB0byBp
bmRpY2F0ZSBzaGltIG1lc3NhZ2UgdG8gbWFzdGVyLgogICAgc3lzLnN0ZG91dC53cml0ZSgiezB9
XG5kZXBsb3lcbiIuZm9ybWF0KE9QVElPTlMuZGVsaW1pdGVyKSkKICAgIHN5cy5leGl0KEVYX1RI
SU5fREVQTE9ZKQoKCiMgQWRhcHRlZCBmcm9tIHNhbHQudXRpbHMuZ2V0X2hhc2goKQpkZWYgZ2V0
X2hhc2gocGF0aCwgZm9ybT0nc2hhMScsIGNodW5rX3NpemU9NDA5Nik6CiAgICAiIiJHZW5lcmF0
ZSBhIGhhc2ggZGlnZXN0IHN0cmluZyBmb3IgYSBmaWxlLiIiIgogICAgdHJ5OgogICAgICAgIGhh
c2hfdHlwZSA9IGdldGF0dHIoaGFzaGxpYiwgZm9ybSkKICAgIGV4Y2VwdCBBdHRyaWJ1dGVFcnJv
cjoKICAgICAgICByYWlzZSBWYWx1ZUVycm9yKCdJbnZhbGlkIGhhc2ggdHlwZTogezB9Jy5mb3Jt
YXQoZm9ybSkpCiAgICB3aXRoIG9wZW4ocGF0aCwgJ3JiJykgYXMgaWZpbGU6CiAgICAgICAgaGFz
aF9vYmogPSBoYXNoX3R5cGUoKQogICAgICAgICMgcmVhZCB0aGUgZmlsZSBpbiBpbiBjaHVua3Ms
IG5vdCB0aGUgZW50aXJlIGZpbGUKICAgICAgICBmb3IgY2h1bmsgaW4gaXRlcihsYW1iZGE6IGlm
aWxlLnJlYWQoY2h1bmtfc2l6ZSksIGInJyk6CiAgICAgICAgICAgIGhhc2hfb2JqLnVwZGF0ZShj
aHVuaykKICAgICAgICByZXR1cm4gaGFzaF9vYmouaGV4ZGlnZXN0KCkKCgpkZWYgdW5wYWNrX3Ro
aW4odGhpbl9wYXRoKToKICAgICIiIlVucGFjayB0aGUgU2FsdCB0aGluIGFyY2hpdmUuIiIiCiAg
ICB0ZmlsZSA9IHRhcmZpbGUuVGFyRmlsZS5nem9wZW4odGhpbl9wYXRoKQogICAgb2xkX3VtYXNr
ID0gb3MudW1hc2soMG8wNzcpCiAgICB0ZmlsZS5leHRyYWN0YWxsKHBhdGg9T1BUSU9OUy5zYWx0
ZGlyKQogICAgdGZpbGUuY2xvc2UoKQogICAgb3MudW1hc2sob2xkX3VtYXNrKQogICAgb3MudW5s
aW5rKHRoaW5fcGF0aCkKCgpkZWYgbmVlZF9leHQoKToKICAgICIiIlNpZ25hbCB0aGF0IGV4dGVy
bmFsIG1vZHVsZXMgbmVlZCB0byBiZSBkZXBsb3llZC4iIiIKICAgIHN5cy5zdGRvdXQud3JpdGUo
InswfVxuZXh0X21vZHNcbiIuZm9ybWF0KE9QVElPTlMuZGVsaW1pdGVyKSkKICAgIHN5cy5leGl0
KEVYX01PRF9ERVBMT1kpCgoKZGVmIHVucGFja19leHQoZXh0X3BhdGgpOgogICAgIiIiVW5wYWNr
IHRoZSBleHRlcm5hbCBtb2R1bGVzLiIiIgogICAgbW9kY2FjaGUgPSBvcy5wYXRoLmpvaW4oCiAg
ICAgICAgICAgIE9QVElPTlMuc2FsdGRpciwKICAgICAgICAgICAgJ3J1bm5pbmdfZGF0YScsCiAg
ICAgICAgICAgICd2YXInLAogICAgICAgICAgICAnY2FjaGUnLAogICAgICAgICAgICAnc2FsdCcs
CiAgICAgICAgICAgICdtaW5pb24nLAogICAgICAgICAgICAnZXh0bW9kcycpCiAgICB0ZmlsZSA9
IHRhcmZpbGUuVGFyRmlsZS5nem9wZW4oZXh0X3BhdGgpCiAgICBvbGRfdW1hc2sgPSBvcy51bWFz
aygwbzA3NykKICAgIHRmaWxlLmV4dHJhY3RhbGwocGF0aD1tb2RjYWNoZSkKICAgIHRmaWxlLmNs
b3NlKCkKICAgIG9zLnVtYXNrKG9sZF91bWFzaykKICAgIG9zLnVubGluayhleHRfcGF0aCkKICAg
IHZlcl9wYXRoID0gb3MucGF0aC5qb2luKG1vZGNhY2hlLCAnZXh0X3ZlcnNpb24nKQogICAgdmVy
X2RzdCA9IG9zLnBhdGguam9pbihPUFRJT05TLnNhbHRkaXIsICdleHRfdmVyc2lvbicpCiAgICBz
aHV0aWwubW92ZSh2ZXJfcGF0aCwgdmVyX2RzdCkKCgpkZWYgbWFpbihhcmd2KTogICMgcHlsaW50
OiBkaXNhYmxlPVcwNjEzCiAgICAiIiJNYWluIHByb2dyYW0gYm9keSIiIgogICAgdGhpbl9wYXRo
ID0gb3MucGF0aC5qb2luKE9QVElPTlMuc2FsdGRpciwgVEhJTl9BUkNISVZFKQogICAgaWYgb3Mu
cGF0aC5pc2ZpbGUodGhpbl9wYXRoKToKICAgICAgICBpZiBPUFRJT05TLmNoZWNrc3VtICE9IGdl
dF9oYXNoKHRoaW5fcGF0aCwgT1BUSU9OUy5oYXNoZnVuYyk6CiAgICAgICAgICAgIHN5cy5zdGRl
cnIud3JpdGUoJ3swfVxuJy5mb3JtYXQoT1BUSU9OUy5jaGVja3N1bSkpCiAgICAgICAgICAgIHN5
cy5zdGRlcnIud3JpdGUoJ3swfVxuJy5mb3JtYXQoZ2V0X2hhc2godGhpbl9wYXRoLCBPUFRJT05T
Lmhhc2hmdW5jKSkpCiAgICAgICAgICAgIG9zLnVubGluayh0aGluX3BhdGgpCiAgICAgICAgICAg
IHN5cy5zdGRlcnIud3JpdGUoJ1dBUk5JTkc6IGNoZWNrc3VtIG1pc21hdGNoIGZvciAiezB9Ilxu
Jy5mb3JtYXQodGhpbl9wYXRoKSkKICAgICAgICAgICAgc3lzLmV4aXQoRVhfVEhJTl9DSEVDS1NV
TSkKICAgICAgICB1bnBhY2tfdGhpbih0aGluX3BhdGgpCiAgICAgICAgIyBTYWx0IHRoaW4gbm93
IGlzIGF2YWlsYWJsZSB0byB1c2UKICAgIGVsc2U6CiAgICAgICAgc2Nwc3RhdCA9IHN1YnByb2Nl
c3MuUG9wZW4oWycvYmluL3NoJywgJy1jJywgJ2NvbW1hbmQgLXYgc2NwJ10pLndhaXQoKQogICAg
ICAgIGlmIHNjcHN0YXQgIT0gMDoKICAgICAgICAgICAgc3lzLmV4aXQoRVhfU0NQX05PVF9GT1VO
RCkKCiAgICAgICAgaWYgbm90IG9zLnBhdGguZXhpc3RzKE9QVElPTlMuc2FsdGRpcik6CiAgICAg
ICAgICAgIG5lZWRfZGVwbG95bWVudCgpCgogICAgICAgIGlmIG5vdCBvcy5wYXRoLmlzZGlyKE9Q
VElPTlMuc2FsdGRpcik6CiAgICAgICAgICAgIHN5cy5zdGRlcnIud3JpdGUoCiAgICAgICAgICAg
ICAgICAnRVJST1I6IHNhbHQgcGF0aCAiezB9IiBleGlzdHMgYnV0IGlzJwogICAgICAgICAgICAg
ICAgJyBub3QgYSBkaXJlY3RvcnlcbicuZm9ybWF0KE9QVElPTlMuc2FsdGRpcikKICAgICAgICAg
ICAgKQogICAgICAgICAgICBzeXMuZXhpdChFWF9DQU5UQ1JFQVQpCgogICAgICAgIHZlcnNpb25f
cGF0aCA9IG9zLnBhdGguam9pbihPUFRJT05TLnNhbHRkaXIsICd2ZXJzaW9uJykKICAgICAgICBp
ZiBub3Qgb3MucGF0aC5leGlzdHModmVyc2lvbl9wYXRoKSBvciBub3Qgb3MucGF0aC5pc2ZpbGUo
dmVyc2lvbl9wYXRoKToKICAgICAgICAgICAgc3lzLnN0ZGVyci53cml0ZSgKICAgICAgICAgICAg
ICAgICdXQVJOSU5HOiBVbmFibGUgdG8gbG9jYXRlIGN1cnJlbnQgdGhpbiAnCiAgICAgICAgICAg
ICAgICAnIHZlcnNpb246IHswfS5cbicuZm9ybWF0KHZlcnNpb25fcGF0aCkKICAgICAgICAgICAg
KQogICAgICAgICAgICBuZWVkX2RlcGxveW1lbnQoKQogICAgICAgIHdpdGggb3Blbih2ZXJzaW9u
X3BhdGgsICdyJykgYXMgdnBvOgogICAgICAgICAgICBjdXJfdmVyc2lvbiA9IHZwby5yZWFkbGlu
ZSgpLnN0cmlwKCkKICAgICAgICBpZiBjdXJfdmVyc2lvbiAhPSBPUFRJT05TLnZlcnNpb246CiAg
ICAgICAgICAgIHN5cy5zdGRlcnIud3JpdGUoCiAgICAgICAgICAgICAgICAnV0FSTklORzogY3Vy
cmVudCB0aGluIHZlcnNpb24gezB9JwogICAgICAgICAgICAgICAgJyBpcyBub3QgdXAtdG8tZGF0
ZSB3aXRoIHsxfS5cbicuZm9ybWF0KAogICAgICAgICAgICAgICAgICAgIGN1cl92ZXJzaW9uLCBP
UFRJT05TLnZlcnNpb24KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgKQogICAgICAgICAg
ICBuZWVkX2RlcGxveW1lbnQoKQogICAgICAgICMgU2FsdCB0aGluIGV4aXN0cyBhbmQgaXMgdXAt
dG8tZGF0ZSAtIGZhbGwgdGhyb3VnaCBhbmQgdXNlIGl0CgogICAgc2FsdF9jYWxsX3BhdGggPSBv
cy5wYXRoLmpvaW4oT1BUSU9OUy5zYWx0ZGlyLCAnc2FsdC1jYWxsJykKICAgIGlmIG5vdCBvcy5w
YXRoLmlzZmlsZShzYWx0X2NhbGxfcGF0aCk6CiAgICAgICAgc3lzLnN0ZGVyci53cml0ZSgnRVJS
T1I6IHRoaW4gaXMgbWlzc2luZyAiezB9IlxuJy5mb3JtYXQoc2FsdF9jYWxsX3BhdGgpKQogICAg
ICAgIG5lZWRfZGVwbG95bWVudCgpCgogICAgd2l0aCBvcGVuKG9zLnBhdGguam9pbihPUFRJT05T
LnNhbHRkaXIsICdtaW5pb24nKSwgJ3cnKSBhcyBjb25maWc6CiAgICAgICAgY29uZmlnLndyaXRl
KE9QVElPTlMuY29uZmlnICsgJ1xuJykKICAgIGlmIE9QVElPTlMuZXh0X21vZHM6CiAgICAgICAg
ZXh0X3BhdGggPSBvcy5wYXRoLmpvaW4oT1BUSU9OUy5zYWx0ZGlyLCBFWFRfQVJDSElWRSkKICAg
ICAgICBpZiBvcy5wYXRoLmV4aXN0cyhleHRfcGF0aCk6CiAgICAgICAgICAgIHVucGFja19leHQo
ZXh0X3BhdGgpCiAgICAgICAgZWxzZToKICAgICAgICAgICAgdmVyc2lvbl9wYXRoID0gb3MucGF0
aC5qb2luKE9QVElPTlMuc2FsdGRpciwgJ2V4dF92ZXJzaW9uJykKICAgICAgICAgICAgaWYgbm90
IG9zLnBhdGguZXhpc3RzKHZlcnNpb25fcGF0aCkgb3Igbm90IG9zLnBhdGguaXNmaWxlKHZlcnNp
b25fcGF0aCk6CiAgICAgICAgICAgICAgICBuZWVkX2V4dCgpCiAgICAgICAgICAgIHdpdGggb3Bl
bih2ZXJzaW9uX3BhdGgsICdyJykgYXMgdnBvOgogICAgICAgICAgICAgICAgY3VyX3ZlcnNpb24g
PSB2cG8ucmVhZGxpbmUoKS5zdHJpcCgpCiAgICAgICAgICAgIGlmIGN1cl92ZXJzaW9uICE9IE9Q
VElPTlMuZXh0X21vZHM6CiAgICAgICAgICAgICAgICBuZWVkX2V4dCgpCiAgICAjIEZpeCBwYXJh
bWV0ZXIgcGFzc2luZyBpc3N1ZQogICAgaWYgbGVuKEFSR1MpID09IDE6CiAgICAgICAgYXJndl9w
cmVwYXJlZCA9IEFSR1NbMF0uc3BsaXQoKQogICAgZWxzZToKICAgICAgICBhcmd2X3ByZXBhcmVk
ID0gQVJHUwoKICAgIHNhbHRfYXJndiA9IFsKICAgICAgICBzeXMuZXhlY3V0YWJsZSwKICAgICAg
ICBzYWx0X2NhbGxfcGF0aCwKICAgICAgICAnLS1yZXRjb2RlLXBhc3N0aHJvdWdoJywKICAgICAg
ICAnLS1sb2NhbCcsCiAgICAgICAgJy0tbWV0YWRhdGEnLAogICAgICAgICctLW91dCcsICdqc29u
JywKICAgICAgICAnLWwnLCAncXVpZXQnLAogICAgICAgICctYycsIE9QVElPTlMuc2FsdGRpciwK
ICAgICAgICAnLS0nLAogICAgXSArIGFyZ3ZfcHJlcGFyZWQKCiAgICBzeXMuc3RkZXJyLndyaXRl
KCdTQUxUX0FSR1Y6IHswfVxuJy5mb3JtYXQoc2FsdF9hcmd2KSkKCiAgICAjIE9ubHkgZW1pdCB0
aGUgZGVsaW1pdGVyIG9uICpib3RoKiBzdGRvdXQgYW5kIHN0ZGVyciB3aGVuIGNvbXBsZXRlbHkg
c3VjY2Vzc2Z1bC4KICAgICMgWWVzLCB0aGUgZmx1c2goKSBpcyBuZWNlc3NhcnkuCiAgICBzeXMu
c3Rkb3V0LndyaXRlKE9QVElPTlMuZGVsaW1pdGVyICsgJ1xuJykKICAgIHN5cy5zdGRvdXQuZmx1
c2goKQogICAgaWYgbm90IE9QVElPTlMudHR5OgogICAgICAgIHN5cy5zdGRlcnIud3JpdGUoT1BU
SU9OUy5kZWxpbWl0ZXIgKyAnXG4nKQogICAgICAgIHN5cy5zdGRlcnIuZmx1c2goKQogICAgaWYg
T1BUSU9OUy5jbWRfdW1hc2sgaXMgbm90IE5vbmU6CiAgICAgICAgb2xkX3VtYXNrID0gb3MudW1h
c2soT1BUSU9OUy5jbWRfdW1hc2spCiAgICBpZiBPUFRJT05TLnR0eToKICAgICAgICBzdGRvdXQs
IF8gPSBzdWJwcm9jZXNzLlBvcGVuKHNhbHRfYXJndiwgc3Rkb3V0PXN1YnByb2Nlc3MuUElQRSwg
c3RkZXJyPXN1YnByb2Nlc3MuUElQRSkuY29tbXVuaWNhdGUoKQogICAgICAgIHN5cy5zdGRvdXQu
d3JpdGUoc3Rkb3V0KQogICAgICAgIHN5cy5zdGRvdXQuZmx1c2goKQogICAgICAgIGlmIE9QVElP
TlMud2lwZToKICAgICAgICAgICAgc2h1dGlsLnJtdHJlZShPUFRJT05TLnNhbHRkaXIpCiAgICBl
bGlmIE9QVElPTlMud2lwZToKICAgICAgICBzdWJwcm9jZXNzLmNhbGwoc2FsdF9hcmd2KQogICAg
ICAgIHNodXRpbC5ybXRyZWUoT1BUSU9OUy5zYWx0ZGlyKQogICAgZWxzZToKICAgICAgICBvcy5l
eGVjdihzeXMuZXhlY3V0YWJsZSwgc2FsdF9hcmd2KQogICAgaWYgT1BUSU9OUy5jbWRfdW1hc2sg
aXMgbm90IE5vbmU6CiAgICAgICAgb3MudW1hc2sob2xkX3VtYXNrKQoKaWYgX19uYW1lX18gPT0g
J19fbWFpbl9fJzoKICAgIHN5cy5leGl0KG1haW4oc3lzLmFyZ3YpKQo=
""").decode("utf-8"))'
fi
exit 0
else
continue
fi
done
echo "ERROR: Unable to locate appropriate python command" >&2
exit $EX_PYTHON_INVALID
EOF
2016-08-27 20:51:56,151 [salt.utils.vt.Terminal.PID-7153.STDOUT][TRACE   ][7069] salt-ope@127.0.0.1's password:
2016-08-27 20:51:56,389 [salt.utils.vt.Terminal.PID-7153.STDERR][TRACE   ][7069] SALT_ARGV: ['/usr/bin/python2.6', '/var/tmp/.salt-ope_1a3532_salt/salt-call', '--retcode-passthrough', '--local', '--metadata', '--out', 'json', '-l', 'quiet', '-c', '/var/tmp/.salt-ope_1a3532_salt', '--', 'network.interface_ip', '"eth0"']
_edbc7885e4f9aac9b83b35999b68d015148caf467b78fa39c05f669c0ff89878
2016-08-27 20:51:56,390 [salt.utils.vt.Terminal.PID-7153.STDOUT][TRACE   ][7069] /usr/bin/scp
_edbc7885e4f9aac9b83b35999b68d015148caf467b78fa39c05f669c0ff89878
2016-08-27 20:51:56,931 [salt.utils.vt.Terminal.PID-7153.STDOUT][TRACE   ][7069] {
    "local": {
        "fun_args": [
            "\"eth0\""
        ], 
        "jid": "20160827205156902257", 
        "return": "192.168.1.10", 
        "retcode": 0, 
        "fun": "network.interface_ip", 
        "id": "local"
    }
}
2016-08-27 20:51:57,176 [salt.client.ssh  ][TRACE   ][7069] STDOUT 127.0.0.1
salt-ope@127.0.0.1's password: 
/usr/bin/scp
_edbc7885e4f9aac9b83b35999b68d015148caf467b78fa39c05f669c0ff89878
{
    "local": {
        "fun_args": [
            "\"eth0\""
        ], 
        "jid": "20160827205156902257", 
        "return": "192.168.1.10", 
        "retcode": 0, 
        "fun": "network.interface_ip", 
        "id": "local"
    }
}

2016-08-27 20:51:57,177 [salt.client.ssh  ][TRACE   ][7069] STDERR 127.0.0.1
SALT_ARGV: ['/usr/bin/python2.6', '/var/tmp/.salt-ope_1a3532_salt/salt-call', '--retcode-passthrough', '--local', '--metadata', '--out', 'json', '-l', 'quiet', '-c', '/var/tmp/.salt-ope_1a3532_salt', '--', 'network.interface_ip', '"eth0"']
_edbc7885e4f9aac9b83b35999b68d015148caf467b78fa39c05f669c0ff89878

2016-08-27 20:51:57,177 [salt.client.ssh  ][DEBUG   ][7069] RETCODE 127.0.0.1: 0
2016-08-27 20:51:57,179 [salt.template    ][PROFILE ][7069] Time (in seconds) to render '/root/saltstack_master/var/cache/salt/master/files/base/rsyslog.sls' using 'jinja' renderer: 1.16103982925
2016-08-27 20:51:57,179 [salt.template    ][DEBUG   ][7069] Rendered data from file: /root/saltstack_master/var/cache/salt/master/files/base/rsyslog.sls:
install_packages:
  pkg.installed:
    - pkgs:
      - rsyslog

/etc/rsyslog.conf:
  file.managed:

    - source: salt://files/etc/client_rsyslog.conf

    - template: jinja
    - mode: 0644
    - user: root
    - group: root

rsyslog:
  service.running:
    - enable: True
    - require:
      - pkg: install_packages
    - watch:
      - file: /etc/rsyslog.conf

2016-08-27 20:51:57,188 [salt.loaded.int.render.yaml][DEBUG   ][7069] Results of YAML rendering: 
OrderedDict([('install_packages', OrderedDict([('pkg.installed', [OrderedDict([('pkgs', ['rsyslog'])])])])), ('/etc/rsyslog.conf', OrderedDict([('file.managed', [OrderedDict([('source', 'salt://files/etc/client_rsyslog.conf')]), OrderedDict([('template', 'jinja')]), OrderedDict([('mode', 644)]), OrderedDict([('user', 'root')]), OrderedDict([('group', 'root')])])])), ('rsyslog', OrderedDict([('service.running', [OrderedDict([('enable', True)]), OrderedDict([('require', [OrderedDict([('pkg', 'install_packages')])])]), OrderedDict([('watch', [OrderedDict([('file', '/etc/rsyslog.conf')])])])])]))])
2016-08-27 20:51:57,188 [salt.template    ][PROFILE ][7069] Time (in seconds) to render '/root/saltstack_master/var/cache/salt/master/files/base/rsyslog.sls' using 'yaml' renderer: 0.00838923454285
2016-08-27 20:51:57,194 [salt.fileclient  ][DEBUG   ][7069] In saltenv 'base', looking at rel_path 'files/etc/client_rsyslog.conf' to resolve 'salt://files/etc/client_rsyslog.conf'
2016-08-27 20:51:57,194 [salt.fileclient  ][DEBUG   ][7069] In saltenv 'base', ** considering ** path '/root/saltstack_master/var/cache/salt/master/salt-ssh/local/files/base/files/etc/client_rsyslog.conf' to resolve 'salt://files/etc/client_rsyslog.conf'
2016-08-27 20:51:57,195 [salt.fileclient  ][DEBUG   ][7069] Fetching file from saltenv 'base', ** attempting ** 'salt://files/etc/client_rsyslog.conf'
2016-08-27 20:51:57,195 [salt.fileclient  ][DEBUG   ][7069] No dest file found 
2016-08-27 20:51:57,196 [salt.fileclient  ][INFO    ][7069] Fetching file from saltenv 'base', ** done ** 'files/etc/client_rsyslog.conf'
2016-08-27 20:51:57,196 [salt.fileclient  ][DEBUG   ][7069] Could not find file from saltenv 'base', 'salt://_modules'
2016-08-27 20:51:57,196 [salt.fileclient  ][INFO    ][7069] Caching directory '_modules/' for environment 'base'
2016-08-27 20:51:57,197 [salt.fileserver  ][TRACE   ][7069] Returning file_lists cache data from /root/saltstack_master/var/cache/salt/master/file_lists/roots/base.p
2016-08-27 20:51:57,197 [salt.fileclient  ][DEBUG   ][7069] Could not find file from saltenv 'base', 'salt://_states'
2016-08-27 20:51:57,197 [salt.fileclient  ][INFO    ][7069] Caching directory '_states/' for environment 'base'
2016-08-27 20:51:57,198 [salt.fileserver  ][TRACE   ][7069] Returning file_lists cache data from /root/saltstack_master/var/cache/salt/master/file_lists/roots/base.p
2016-08-27 20:51:57,198 [salt.fileclient  ][DEBUG   ][7069] Could not find file from saltenv 'base', 'salt://_grains'
2016-08-27 20:51:57,198 [salt.fileclient  ][INFO    ][7069] Caching directory '_grains/' for environment 'base'
2016-08-27 20:51:57,199 [salt.fileserver  ][TRACE   ][7069] Returning file_lists cache data from /root/saltstack_master/var/cache/salt/master/file_lists/roots/base.p
2016-08-27 20:51:57,199 [salt.fileclient  ][DEBUG   ][7069] Could not find file from saltenv 'base', 'salt://_renderers'
2016-08-27 20:51:57,199 [salt.fileclient  ][INFO    ][7069] Caching directory '_renderers/' for environment 'base'
2016-08-27 20:51:57,199 [salt.fileserver  ][TRACE   ][7069] Returning file_lists cache data from /root/saltstack_master/var/cache/salt/master/file_lists/roots/base.p
2016-08-27 20:51:57,200 [salt.fileclient  ][DEBUG   ][7069] Could not find file from saltenv 'base', 'salt://_returners'
2016-08-27 20:51:57,200 [salt.fileclient  ][INFO    ][7069] Caching directory '_returners/' for environment 'base'
2016-08-27 20:51:57,200 [salt.fileserver  ][TRACE   ][7069] Returning file_lists cache data from /root/saltstack_master/var/cache/salt/master/file_lists/roots/base.p
2016-08-27 20:51:57,201 [salt.fileclient  ][DEBUG   ][7069] Could not find file from saltenv 'base', 'salt://_output'
2016-08-27 20:51:57,201 [salt.fileclient  ][INFO    ][7069] Caching directory '_output/' for environment 'base'
2016-08-27 20:51:57,201 [salt.fileserver  ][TRACE   ][7069] Returning file_lists cache data from /root/saltstack_master/var/cache/salt/master/file_lists/roots/base.p
2016-08-27 20:51:57,202 [salt.fileclient  ][DEBUG   ][7069] Could not find file from saltenv 'base', 'salt://_utils'
2016-08-27 20:51:57,202 [salt.fileclient  ][INFO    ][7069] Caching directory '_utils/' for environment 'base'
2016-08-27 20:51:57,202 [salt.fileserver  ][TRACE   ][7069] Returning file_lists cache data from /root/saltstack_master/var/cache/salt/master/file_lists/roots/base.p
2016-08-27 20:51:57,223 [salt.client.ssh.shell][DEBUG   ][7069] Executing command: scp   -o KbdInteractiveAuthentication=no -o PasswordAuthentication=yes -o GSSAPIAuthentication=no -o ConnectTimeout=65 -o Port=22 -o IdentityFile=/root/saltstack_master/etc/salt/pki/master/ssh/salt-ssh.rsa -o User=******  /tmp/tmpwOwykI 127.0.0.1:/var/tmp/.******_1a3532_salt/salt_state.tgz
2016-08-27 20:51:57,229 [salt.utils.vt    ][DEBUG   ][7069] Child Forked! PID: 7203  STDOUT_FD: 9  STDERR_FD: 11
2016-08-27 20:51:57,233 [salt.utils.vt    ][DEBUG   ][7069] Terminal Command: /bin/sh -c scp   -o KbdInteractiveAuthentication=no -o PasswordAuthentication=yes -o GSSAPIAuthentication=no -o ConnectTimeout=65 -o Port=22 -o IdentityFile=/root/saltstack_master/etc/salt/pki/master/ssh/salt-ssh.rsa -o User=salt-ope  /tmp/tmpwOwykI 127.0.0.1:/var/tmp/.salt-ope_1a3532_salt/salt_state.tgz
2016-08-27 20:51:57,306 [salt.utils.vt.Terminal.PID-7203.STDOUT][TRACE   ][7069] salt-ope@127.0.0.1's password:
2016-08-27 20:51:57,481 [salt.utils.vt.Terminal.PID-7203.STDOUT][TRACE   ][7069] tmpwOwykI                                       0%    0     0.0KB/s   --:-- ETAtmpwOwykI                                     100% 1733     1.7KB/s   00:00
2016-08-27 20:51:57,703 [salt.client.ssh  ][DEBUG   ][7069] Performing shimmed, blocking command as follows:
state.pkg /var/tmp/.salt-ope_1a3532_salt/salt_state.tgz test=None pkg_sum=33dbea99851b5dd99e2f747ae74044da hash_type=md5
2016-08-27 20:51:57,721 [salt.client.ssh.shell][DEBUG   ][7069] Executed SHIM command. Command logged to TRACE
2016-08-27 20:51:57,722 [salt.client.ssh.shell][TRACE   ][7069] Executing command: ssh 127.0.0.1  -o KbdInteractiveAuthentication=no -o PasswordAuthentication=yes -o GSSAPIAuthentication=no -o ConnectTimeout=65 -o Port=22 -o IdentityFile=/root/saltstack_master/etc/salt/pki/master/ssh/salt-ssh.rsa -o User=******  /bin/sh << 'EOF'
set -e
set -u
DEBUG=""
if [ -n "$DEBUG" ]
then set -x
fi
SUDO=""
if [ -n "sudo" ]
then SUDO="sudo "
fi
EX_PYTHON_INVALID=10
PYTHON_CMDS="python3 python27 python2.7 python26 python2.6 python2 python"
for py_cmd in $PYTHON_CMDS
do
if command -v "$py_cmd" >/dev/null 2>&1 && "$py_cmd" -c \
"import sys; sys.exit(not (sys.version_info >= (2, 6)
and sys.version_info[0] == 2));"
then
py_cmd_path=`"$py_cmd" -c \
'from __future__ import print_function;
import sys; print(sys.executable);'`
cmdpath=$(which $py_cmd 2>&1)
if file $cmdpath | grep "shell script" > /dev/null
then
ex_vars="'PATH', 'LD_LIBRARY_PATH', 'MANPATH', \
'XDG_DATA_DIRS', 'PKG_CONFIG_PATH'"
export $($py_cmd -c \
"from __future__ import print_function;
import sys;
import os;
map(sys.stdout.write, ['{0}={1} ' \
.format(x, os.environ[x]) for x in [$ex_vars]])")
exec $SUDO PATH=$PATH LD_LIBRARY_PATH=$LD_LIBRARY_PATH \
MANPATH=$MANPATH XDG_DATA_DIRS=$XDG_DATA_DIRS \
PKG_CONFIG_PATH=$PKG_CONFIG_PATH \
"$py_cmd_path" -c \
'import base64;
exec(base64.b64decode("""IyBweWxpbnQ6IGRpc2FibGU9Vzk5MDMKJycnClRoaXMgaXMgYSBzaGltIHRoYXQgaGFuZGxlcyBj
aGVja2luZyBhbmQgdXBkYXRpbmcgc2FsdCB0aGluIGFuZAp0aGVuIGludm9raW5nIHRoaW4uCgpU
aGlzIGlzIG5vdCBpbnRlbmRlZCB0byBiZSBpbnN0YW50aWF0ZWQgYXMgYSBtb2R1bGUsIHJhdGhl
ciBpdCBpcyBhCmhlbHBlciBzY3JpcHQgdXNlZCBieSBzYWx0LmNsaWVudC5zc2guU2luZ2xlLiAg
SXQgaXMgaGVyZSwgaW4gYQpzZXBhcmF0ZSBmaWxlLCBmb3IgY29udmVuaWVuY2Ugb2YgZGV2ZWxv
cG1lbnQuCicnJwoKZnJvbSBfX2Z1dHVyZV9fIGltcG9ydCBhYnNvbHV0ZV9pbXBvcnQKCmltcG9y
dCBoYXNobGliCmltcG9ydCB0YXJmaWxlCmltcG9ydCBzaHV0aWwKaW1wb3J0IHN5cwppbXBvcnQg
b3MKaW1wb3J0IHN0YXQKaW1wb3J0IHN1YnByb2Nlc3MKClRISU5fQVJDSElWRSA9ICdzYWx0LXRo
aW4udGd6JwpFWFRfQVJDSElWRSA9ICdzYWx0LWV4dF9tb2RzLnRneicKCiMgS2VlcCB0aGVzZSBp
biBzeW5jIHdpdGggc2FsdC9kZWZhdWx0cy9leGl0Y29kZXMucHkKRVhfVEhJTl9ERVBMT1kgPSAx
MQpFWF9USElOX0NIRUNLU1VNID0gMTIKRVhfTU9EX0RFUExPWSA9IDEzCkVYX1NDUF9OT1RfRk9V
TkQgPSAxNApFWF9DQU5UQ1JFQVQgPSA3MwoKCmNsYXNzIE9CSihvYmplY3QpOgogICAgIiIiQW4g
ZW1wdHkgY2xhc3MgZm9yIGhvbGRpbmcgaW5zdGFuY2UgYXR0cmlidXRlIHZhbHVlcy4iIiIKICAg
IHBhc3MKCgpPUFRJT05TID0gTm9uZQpBUkdTID0gTm9uZQojIFRoZSBiZWxvdyBsaW5lIGlzIHdo
ZXJlIE9QVElPTlMgY2FuIGJlIHJlZGVmaW5lZCB3aXRoIGludGVybmFsIG9wdGlvbnMKIyAocmF0
aGVyIHRoYW4gY2xpIGFyZ3VtZW50cykgd2hlbiB0aGUgc2hpbSBpcyBidW5kbGVkIGJ5CiMgY2xp
ZW50LnNzaC5TaW5nbGUuX2NtZF9zdHIoKQojIHB5bGludDogZGlzYWJsZT1ibG9jay1jb21tZW50
LXNob3VsZC1zdGFydC13aXRoLWNhcmRpbmFsLXNwYWNlCgpPUFRJT05TID0gT0JKKCkKT1BUSU9O
Uy5jb25maWcgPSAiIiIKe2ZpbGVzZXJ2ZXJfbGlzdF9jYWNoZV90aW1lOiAzLCBncmFpbnNfY2Fj
aGU6IHRydWUsIGlkOiBsb2NhbCwgbG9nX2ZpbGU6IHNhbHQtY2FsbC5sb2csCiAgcm9vdF9kaXI6
IC92YXIvdG1wLy5zYWx0LW9wZV8xYTM1MzJfc2FsdC9ydW5uaW5nX2RhdGEsIHNvY2tfZGlyOiAv
fQoiIiIKT1BUSU9OUy5kZWxpbWl0ZXIgPSAnX2VkYmM3ODg1ZTRmOWFhYzliODNiMzU5OTliNjhk
MDE1MTQ4Y2FmNDY3Yjc4ZmEzOWMwNWY2NjljMGZmODk4NzgnCk9QVElPTlMuc2FsdGRpciA9ICcv
dmFyL3RtcC8uc2FsdC1vcGVfMWEzNTMyX3NhbHQnCk9QVElPTlMuY2hlY2tzdW0gPSAnMmUyNWZj
YmI2YWEyNTU5OWQ1MmU4OTVkZTZlMjExOTZkNWM2ZTU5NScKT1BUSU9OUy5oYXNoZnVuYyA9ICdz
aGExJwpPUFRJT05TLnZlcnNpb24gPSAnMjAxNi4zLjInCk9QVElPTlMuZXh0X21vZHMgPSAnJwpP
UFRJT05TLndpcGUgPSBGYWxzZQpPUFRJT05TLnR0eSA9IEZhbHNlCk9QVElPTlMuY21kX3VtYXNr
ID0gTm9uZQpBUkdTID0gWydzdGF0ZS5wa2cgL3Zhci90bXAvLnNhbHQtb3BlXzFhMzUzMl9zYWx0
L3NhbHRfc3RhdGUudGd6IHRlc3Q9Tm9uZSBwa2dfc3VtPTMzZGJlYTk5ODUxYjVkZDk5ZTJmNzQ3
YWU3NDA0NGRhIGhhc2hfdHlwZT1tZDUnXQoKCgpkZWYgbmVlZF9kZXBsb3ltZW50KCk6CiAgICAi
IiIKICAgIFNhbHQgdGhpbiBuZWVkcyB0byBiZSBkZXBsb3llZCAtIHByZXAgdGhlIHRhcmdldCBk
aXJlY3RvcnkgYW5kIGVtaXQgdGhlCiAgICBkZWxpbWV0ZXIgYW5kIGV4aXQgY29kZSB0aGF0IHNp
Z25hbHMgYSByZXF1aXJlZCBkZXBsb3ltZW50LgogICAgIiIiCiAgICBpZiBvcy5wYXRoLmV4aXN0
cyhPUFRJT05TLnNhbHRkaXIpOgogICAgICAgIHNodXRpbC5ybXRyZWUoT1BUSU9OUy5zYWx0ZGly
KQogICAgb2xkX3VtYXNrID0gb3MudW1hc2soMG8wNzcpCiAgICBvcy5tYWtlZGlycyhPUFRJT05T
LnNhbHRkaXIpCiAgICBvcy51bWFzayhvbGRfdW1hc2spCiAgICAjIFZlcmlmeSBwZXJtcyBvbiBz
YWx0ZGlyCiAgICBldWlkID0gb3MuZ2V0ZXVpZCgpCiAgICBkc3RhdCA9IG9zLnN0YXQoT1BUSU9O
Uy5zYWx0ZGlyKQogICAgaWYgZHN0YXQuc3RfdWlkICE9IGV1aWQ6CiAgICAgICAgIyBBdHRhY2sg
ZGV0ZWN0ZWQsIHRyeSBhZ2FpbgogICAgICAgIG5lZWRfZGVwbG95bWVudCgpCiAgICBpZiBkc3Rh
dC5zdF9tb2RlICE9IDE2ODMyOgogICAgICAgICMgQXR0YWNrIGRldGVjdGVkCiAgICAgICAgbmVl
ZF9kZXBsb3ltZW50KCkKICAgICMgSWYgU1VET2luZyB0aGVuIGFsc28gZ2l2ZSB0aGUgc3VwZXIg
dXNlciBncm91cCB3cml0ZSBwZXJtaXNzaW9ucwogICAgc3Vkb19naWQgPSBvcy5lbnZpcm9uLmdl
dCgnU1VET19HSUQnKQogICAgaWYgc3Vkb19naWQ6CiAgICAgICAgb3MuY2hvd24oT1BUSU9OUy5z
YWx0ZGlyLCAtMSwgaW50KHN1ZG9fZ2lkKSkKICAgICAgICBzdHQgPSBvcy5zdGF0KE9QVElPTlMu
c2FsdGRpcikKICAgICAgICBvcy5jaG1vZChPUFRJT05TLnNhbHRkaXIsIHN0dC5zdF9tb2RlIHwg
c3RhdC5TX0lXR1JQIHwgc3RhdC5TX0lSR1JQIHwgc3RhdC5TX0lYR1JQKQoKICAgICMgRGVsaW1p
dGVyIGVtaXR0ZWQgb24gc3Rkb3V0ICpvbmx5KiB0byBpbmRpY2F0ZSBzaGltIG1lc3NhZ2UgdG8g
bWFzdGVyLgogICAgc3lzLnN0ZG91dC53cml0ZSgiezB9XG5kZXBsb3lcbiIuZm9ybWF0KE9QVElP
TlMuZGVsaW1pdGVyKSkKICAgIHN5cy5leGl0KEVYX1RISU5fREVQTE9ZKQoKCiMgQWRhcHRlZCBm
cm9tIHNhbHQudXRpbHMuZ2V0X2hhc2goKQpkZWYgZ2V0X2hhc2gocGF0aCwgZm9ybT0nc2hhMScs
IGNodW5rX3NpemU9NDA5Nik6CiAgICAiIiJHZW5lcmF0ZSBhIGhhc2ggZGlnZXN0IHN0cmluZyBm
b3IgYSBmaWxlLiIiIgogICAgdHJ5OgogICAgICAgIGhhc2hfdHlwZSA9IGdldGF0dHIoaGFzaGxp
YiwgZm9ybSkKICAgIGV4Y2VwdCBBdHRyaWJ1dGVFcnJvcjoKICAgICAgICByYWlzZSBWYWx1ZUVy
cm9yKCdJbnZhbGlkIGhhc2ggdHlwZTogezB9Jy5mb3JtYXQoZm9ybSkpCiAgICB3aXRoIG9wZW4o
cGF0aCwgJ3JiJykgYXMgaWZpbGU6CiAgICAgICAgaGFzaF9vYmogPSBoYXNoX3R5cGUoKQogICAg
ICAgICMgcmVhZCB0aGUgZmlsZSBpbiBpbiBjaHVua3MsIG5vdCB0aGUgZW50aXJlIGZpbGUKICAg
ICAgICBmb3IgY2h1bmsgaW4gaXRlcihsYW1iZGE6IGlmaWxlLnJlYWQoY2h1bmtfc2l6ZSksIGIn
Jyk6CiAgICAgICAgICAgIGhhc2hfb2JqLnVwZGF0ZShjaHVuaykKICAgICAgICByZXR1cm4gaGFz
aF9vYmouaGV4ZGlnZXN0KCkKCgpkZWYgdW5wYWNrX3RoaW4odGhpbl9wYXRoKToKICAgICIiIlVu
cGFjayB0aGUgU2FsdCB0aGluIGFyY2hpdmUuIiIiCiAgICB0ZmlsZSA9IHRhcmZpbGUuVGFyRmls
ZS5nem9wZW4odGhpbl9wYXRoKQogICAgb2xkX3VtYXNrID0gb3MudW1hc2soMG8wNzcpCiAgICB0
ZmlsZS5leHRyYWN0YWxsKHBhdGg9T1BUSU9OUy5zYWx0ZGlyKQogICAgdGZpbGUuY2xvc2UoKQog
ICAgb3MudW1hc2sob2xkX3VtYXNrKQogICAgb3MudW5saW5rKHRoaW5fcGF0aCkKCgpkZWYgbmVl
ZF9leHQoKToKICAgICIiIlNpZ25hbCB0aGF0IGV4dGVybmFsIG1vZHVsZXMgbmVlZCB0byBiZSBk
ZXBsb3llZC4iIiIKICAgIHN5cy5zdGRvdXQud3JpdGUoInswfVxuZXh0X21vZHNcbiIuZm9ybWF0
KE9QVElPTlMuZGVsaW1pdGVyKSkKICAgIHN5cy5leGl0KEVYX01PRF9ERVBMT1kpCgoKZGVmIHVu
cGFja19leHQoZXh0X3BhdGgpOgogICAgIiIiVW5wYWNrIHRoZSBleHRlcm5hbCBtb2R1bGVzLiIi
IgogICAgbW9kY2FjaGUgPSBvcy5wYXRoLmpvaW4oCiAgICAgICAgICAgIE9QVElPTlMuc2FsdGRp
ciwKICAgICAgICAgICAgJ3J1bm5pbmdfZGF0YScsCiAgICAgICAgICAgICd2YXInLAogICAgICAg
ICAgICAnY2FjaGUnLAogICAgICAgICAgICAnc2FsdCcsCiAgICAgICAgICAgICdtaW5pb24nLAog
ICAgICAgICAgICAnZXh0bW9kcycpCiAgICB0ZmlsZSA9IHRhcmZpbGUuVGFyRmlsZS5nem9wZW4o
ZXh0X3BhdGgpCiAgICBvbGRfdW1hc2sgPSBvcy51bWFzaygwbzA3NykKICAgIHRmaWxlLmV4dHJh
Y3RhbGwocGF0aD1tb2RjYWNoZSkKICAgIHRmaWxlLmNsb3NlKCkKICAgIG9zLnVtYXNrKG9sZF91
bWFzaykKICAgIG9zLnVubGluayhleHRfcGF0aCkKICAgIHZlcl9wYXRoID0gb3MucGF0aC5qb2lu
KG1vZGNhY2hlLCAnZXh0X3ZlcnNpb24nKQogICAgdmVyX2RzdCA9IG9zLnBhdGguam9pbihPUFRJ
T05TLnNhbHRkaXIsICdleHRfdmVyc2lvbicpCiAgICBzaHV0aWwubW92ZSh2ZXJfcGF0aCwgdmVy
X2RzdCkKCgpkZWYgbWFpbihhcmd2KTogICMgcHlsaW50OiBkaXNhYmxlPVcwNjEzCiAgICAiIiJN
YWluIHByb2dyYW0gYm9keSIiIgogICAgdGhpbl9wYXRoID0gb3MucGF0aC5qb2luKE9QVElPTlMu
c2FsdGRpciwgVEhJTl9BUkNISVZFKQogICAgaWYgb3MucGF0aC5pc2ZpbGUodGhpbl9wYXRoKToK
ICAgICAgICBpZiBPUFRJT05TLmNoZWNrc3VtICE9IGdldF9oYXNoKHRoaW5fcGF0aCwgT1BUSU9O
Uy5oYXNoZnVuYyk6CiAgICAgICAgICAgIHN5cy5zdGRlcnIud3JpdGUoJ3swfVxuJy5mb3JtYXQo
T1BUSU9OUy5jaGVja3N1bSkpCiAgICAgICAgICAgIHN5cy5zdGRlcnIud3JpdGUoJ3swfVxuJy5m
b3JtYXQoZ2V0X2hhc2godGhpbl9wYXRoLCBPUFRJT05TLmhhc2hmdW5jKSkpCiAgICAgICAgICAg
IG9zLnVubGluayh0aGluX3BhdGgpCiAgICAgICAgICAgIHN5cy5zdGRlcnIud3JpdGUoJ1dBUk5J
Tkc6IGNoZWNrc3VtIG1pc21hdGNoIGZvciAiezB9IlxuJy5mb3JtYXQodGhpbl9wYXRoKSkKICAg
ICAgICAgICAgc3lzLmV4aXQoRVhfVEhJTl9DSEVDS1NVTSkKICAgICAgICB1bnBhY2tfdGhpbih0
aGluX3BhdGgpCiAgICAgICAgIyBTYWx0IHRoaW4gbm93IGlzIGF2YWlsYWJsZSB0byB1c2UKICAg
IGVsc2U6CiAgICAgICAgc2Nwc3RhdCA9IHN1YnByb2Nlc3MuUG9wZW4oWycvYmluL3NoJywgJy1j
JywgJ2NvbW1hbmQgLXYgc2NwJ10pLndhaXQoKQogICAgICAgIGlmIHNjcHN0YXQgIT0gMDoKICAg
ICAgICAgICAgc3lzLmV4aXQoRVhfU0NQX05PVF9GT1VORCkKCiAgICAgICAgaWYgbm90IG9zLnBh
dGguZXhpc3RzKE9QVElPTlMuc2FsdGRpcik6CiAgICAgICAgICAgIG5lZWRfZGVwbG95bWVudCgp
CgogICAgICAgIGlmIG5vdCBvcy5wYXRoLmlzZGlyKE9QVElPTlMuc2FsdGRpcik6CiAgICAgICAg
ICAgIHN5cy5zdGRlcnIud3JpdGUoCiAgICAgICAgICAgICAgICAnRVJST1I6IHNhbHQgcGF0aCAi
ezB9IiBleGlzdHMgYnV0IGlzJwogICAgICAgICAgICAgICAgJyBub3QgYSBkaXJlY3Rvcnlcbicu
Zm9ybWF0KE9QVElPTlMuc2FsdGRpcikKICAgICAgICAgICAgKQogICAgICAgICAgICBzeXMuZXhp
dChFWF9DQU5UQ1JFQVQpCgogICAgICAgIHZlcnNpb25fcGF0aCA9IG9zLnBhdGguam9pbihPUFRJ
T05TLnNhbHRkaXIsICd2ZXJzaW9uJykKICAgICAgICBpZiBub3Qgb3MucGF0aC5leGlzdHModmVy
c2lvbl9wYXRoKSBvciBub3Qgb3MucGF0aC5pc2ZpbGUodmVyc2lvbl9wYXRoKToKICAgICAgICAg
ICAgc3lzLnN0ZGVyci53cml0ZSgKICAgICAgICAgICAgICAgICdXQVJOSU5HOiBVbmFibGUgdG8g
bG9jYXRlIGN1cnJlbnQgdGhpbiAnCiAgICAgICAgICAgICAgICAnIHZlcnNpb246IHswfS5cbicu
Zm9ybWF0KHZlcnNpb25fcGF0aCkKICAgICAgICAgICAgKQogICAgICAgICAgICBuZWVkX2RlcGxv
eW1lbnQoKQogICAgICAgIHdpdGggb3Blbih2ZXJzaW9uX3BhdGgsICdyJykgYXMgdnBvOgogICAg
ICAgICAgICBjdXJfdmVyc2lvbiA9IHZwby5yZWFkbGluZSgpLnN0cmlwKCkKICAgICAgICBpZiBj
dXJfdmVyc2lvbiAhPSBPUFRJT05TLnZlcnNpb246CiAgICAgICAgICAgIHN5cy5zdGRlcnIud3Jp
dGUoCiAgICAgICAgICAgICAgICAnV0FSTklORzogY3VycmVudCB0aGluIHZlcnNpb24gezB9Jwog
ICAgICAgICAgICAgICAgJyBpcyBub3QgdXAtdG8tZGF0ZSB3aXRoIHsxfS5cbicuZm9ybWF0KAog
ICAgICAgICAgICAgICAgICAgIGN1cl92ZXJzaW9uLCBPUFRJT05TLnZlcnNpb24KICAgICAgICAg
ICAgICAgICkKICAgICAgICAgICAgKQogICAgICAgICAgICBuZWVkX2RlcGxveW1lbnQoKQogICAg
ICAgICMgU2FsdCB0aGluIGV4aXN0cyBhbmQgaXMgdXAtdG8tZGF0ZSAtIGZhbGwgdGhyb3VnaCBh
bmQgdXNlIGl0CgogICAgc2FsdF9jYWxsX3BhdGggPSBvcy5wYXRoLmpvaW4oT1BUSU9OUy5zYWx0
ZGlyLCAnc2FsdC1jYWxsJykKICAgIGlmIG5vdCBvcy5wYXRoLmlzZmlsZShzYWx0X2NhbGxfcGF0
aCk6CiAgICAgICAgc3lzLnN0ZGVyci53cml0ZSgnRVJST1I6IHRoaW4gaXMgbWlzc2luZyAiezB9
IlxuJy5mb3JtYXQoc2FsdF9jYWxsX3BhdGgpKQogICAgICAgIG5lZWRfZGVwbG95bWVudCgpCgog
ICAgd2l0aCBvcGVuKG9zLnBhdGguam9pbihPUFRJT05TLnNhbHRkaXIsICdtaW5pb24nKSwgJ3cn
KSBhcyBjb25maWc6CiAgICAgICAgY29uZmlnLndyaXRlKE9QVElPTlMuY29uZmlnICsgJ1xuJykK
ICAgIGlmIE9QVElPTlMuZXh0X21vZHM6CiAgICAgICAgZXh0X3BhdGggPSBvcy5wYXRoLmpvaW4o
T1BUSU9OUy5zYWx0ZGlyLCBFWFRfQVJDSElWRSkKICAgICAgICBpZiBvcy5wYXRoLmV4aXN0cyhl
eHRfcGF0aCk6CiAgICAgICAgICAgIHVucGFja19leHQoZXh0X3BhdGgpCiAgICAgICAgZWxzZToK
ICAgICAgICAgICAgdmVyc2lvbl9wYXRoID0gb3MucGF0aC5qb2luKE9QVElPTlMuc2FsdGRpciwg
J2V4dF92ZXJzaW9uJykKICAgICAgICAgICAgaWYgbm90IG9zLnBhdGguZXhpc3RzKHZlcnNpb25f
cGF0aCkgb3Igbm90IG9zLnBhdGguaXNmaWxlKHZlcnNpb25fcGF0aCk6CiAgICAgICAgICAgICAg
ICBuZWVkX2V4dCgpCiAgICAgICAgICAgIHdpdGggb3Blbih2ZXJzaW9uX3BhdGgsICdyJykgYXMg
dnBvOgogICAgICAgICAgICAgICAgY3VyX3ZlcnNpb24gPSB2cG8ucmVhZGxpbmUoKS5zdHJpcCgp
CiAgICAgICAgICAgIGlmIGN1cl92ZXJzaW9uICE9IE9QVElPTlMuZXh0X21vZHM6CiAgICAgICAg
ICAgICAgICBuZWVkX2V4dCgpCiAgICAjIEZpeCBwYXJhbWV0ZXIgcGFzc2luZyBpc3N1ZQogICAg
aWYgbGVuKEFSR1MpID09IDE6CiAgICAgICAgYXJndl9wcmVwYXJlZCA9IEFSR1NbMF0uc3BsaXQo
KQogICAgZWxzZToKICAgICAgICBhcmd2X3ByZXBhcmVkID0gQVJHUwoKICAgIHNhbHRfYXJndiA9
IFsKICAgICAgICBzeXMuZXhlY3V0YWJsZSwKICAgICAgICBzYWx0X2NhbGxfcGF0aCwKICAgICAg
ICAnLS1yZXRjb2RlLXBhc3N0aHJvdWdoJywKICAgICAgICAnLS1sb2NhbCcsCiAgICAgICAgJy0t
bWV0YWRhdGEnLAogICAgICAgICctLW91dCcsICdqc29uJywKICAgICAgICAnLWwnLCAncXVpZXQn
LAogICAgICAgICctYycsIE9QVElPTlMuc2FsdGRpciwKICAgICAgICAnLS0nLAogICAgXSArIGFy
Z3ZfcHJlcGFyZWQKCiAgICBzeXMuc3RkZXJyLndyaXRlKCdTQUxUX0FSR1Y6IHswfVxuJy5mb3Jt
YXQoc2FsdF9hcmd2KSkKCiAgICAjIE9ubHkgZW1pdCB0aGUgZGVsaW1pdGVyIG9uICpib3RoKiBz
dGRvdXQgYW5kIHN0ZGVyciB3aGVuIGNvbXBsZXRlbHkgc3VjY2Vzc2Z1bC4KICAgICMgWWVzLCB0
aGUgZmx1c2goKSBpcyBuZWNlc3NhcnkuCiAgICBzeXMuc3Rkb3V0LndyaXRlKE9QVElPTlMuZGVs
aW1pdGVyICsgJ1xuJykKICAgIHN5cy5zdGRvdXQuZmx1c2goKQogICAgaWYgbm90IE9QVElPTlMu
dHR5OgogICAgICAgIHN5cy5zdGRlcnIud3JpdGUoT1BUSU9OUy5kZWxpbWl0ZXIgKyAnXG4nKQog
ICAgICAgIHN5cy5zdGRlcnIuZmx1c2goKQogICAgaWYgT1BUSU9OUy5jbWRfdW1hc2sgaXMgbm90
IE5vbmU6CiAgICAgICAgb2xkX3VtYXNrID0gb3MudW1hc2soT1BUSU9OUy5jbWRfdW1hc2spCiAg
ICBpZiBPUFRJT05TLnR0eToKICAgICAgICBzdGRvdXQsIF8gPSBzdWJwcm9jZXNzLlBvcGVuKHNh
bHRfYXJndiwgc3Rkb3V0PXN1YnByb2Nlc3MuUElQRSwgc3RkZXJyPXN1YnByb2Nlc3MuUElQRSku
Y29tbXVuaWNhdGUoKQogICAgICAgIHN5cy5zdGRvdXQud3JpdGUoc3Rkb3V0KQogICAgICAgIHN5
cy5zdGRvdXQuZmx1c2goKQogICAgICAgIGlmIE9QVElPTlMud2lwZToKICAgICAgICAgICAgc2h1
dGlsLnJtdHJlZShPUFRJT05TLnNhbHRkaXIpCiAgICBlbGlmIE9QVElPTlMud2lwZToKICAgICAg
ICBzdWJwcm9jZXNzLmNhbGwoc2FsdF9hcmd2KQogICAgICAgIHNodXRpbC5ybXRyZWUoT1BUSU9O
Uy5zYWx0ZGlyKQogICAgZWxzZToKICAgICAgICBvcy5leGVjdihzeXMuZXhlY3V0YWJsZSwgc2Fs
dF9hcmd2KQogICAgaWYgT1BUSU9OUy5jbWRfdW1hc2sgaXMgbm90IE5vbmU6CiAgICAgICAgb3Mu
dW1hc2sob2xkX3VtYXNrKQoKaWYgX19uYW1lX18gPT0gJ19fbWFpbl9fJzoKICAgIHN5cy5leGl0
KG1haW4oc3lzLmFyZ3YpKQo=
""").decode("utf-8"))'
else
exec $SUDO "$py_cmd_path" -c \
'import base64;
exec(base64.b64decode("""IyBweWxpbnQ6IGRpc2FibGU9Vzk5MDMKJycnClRoaXMgaXMgYSBzaGltIHRoYXQgaGFuZGxlcyBj
aGVja2luZyBhbmQgdXBkYXRpbmcgc2FsdCB0aGluIGFuZAp0aGVuIGludm9raW5nIHRoaW4uCgpU
aGlzIGlzIG5vdCBpbnRlbmRlZCB0byBiZSBpbnN0YW50aWF0ZWQgYXMgYSBtb2R1bGUsIHJhdGhl
ciBpdCBpcyBhCmhlbHBlciBzY3JpcHQgdXNlZCBieSBzYWx0LmNsaWVudC5zc2guU2luZ2xlLiAg
SXQgaXMgaGVyZSwgaW4gYQpzZXBhcmF0ZSBmaWxlLCBmb3IgY29udmVuaWVuY2Ugb2YgZGV2ZWxv
cG1lbnQuCicnJwoKZnJvbSBfX2Z1dHVyZV9fIGltcG9ydCBhYnNvbHV0ZV9pbXBvcnQKCmltcG9y
dCBoYXNobGliCmltcG9ydCB0YXJmaWxlCmltcG9ydCBzaHV0aWwKaW1wb3J0IHN5cwppbXBvcnQg
b3MKaW1wb3J0IHN0YXQKaW1wb3J0IHN1YnByb2Nlc3MKClRISU5fQVJDSElWRSA9ICdzYWx0LXRo
aW4udGd6JwpFWFRfQVJDSElWRSA9ICdzYWx0LWV4dF9tb2RzLnRneicKCiMgS2VlcCB0aGVzZSBp
biBzeW5jIHdpdGggc2FsdC9kZWZhdWx0cy9leGl0Y29kZXMucHkKRVhfVEhJTl9ERVBMT1kgPSAx
MQpFWF9USElOX0NIRUNLU1VNID0gMTIKRVhfTU9EX0RFUExPWSA9IDEzCkVYX1NDUF9OT1RfRk9V
TkQgPSAxNApFWF9DQU5UQ1JFQVQgPSA3MwoKCmNsYXNzIE9CSihvYmplY3QpOgogICAgIiIiQW4g
ZW1wdHkgY2xhc3MgZm9yIGhvbGRpbmcgaW5zdGFuY2UgYXR0cmlidXRlIHZhbHVlcy4iIiIKICAg
IHBhc3MKCgpPUFRJT05TID0gTm9uZQpBUkdTID0gTm9uZQojIFRoZSBiZWxvdyBsaW5lIGlzIHdo
ZXJlIE9QVElPTlMgY2FuIGJlIHJlZGVmaW5lZCB3aXRoIGludGVybmFsIG9wdGlvbnMKIyAocmF0
aGVyIHRoYW4gY2xpIGFyZ3VtZW50cykgd2hlbiB0aGUgc2hpbSBpcyBidW5kbGVkIGJ5CiMgY2xp
ZW50LnNzaC5TaW5nbGUuX2NtZF9zdHIoKQojIHB5bGludDogZGlzYWJsZT1ibG9jay1jb21tZW50
LXNob3VsZC1zdGFydC13aXRoLWNhcmRpbmFsLXNwYWNlCgpPUFRJT05TID0gT0JKKCkKT1BUSU9O
Uy5jb25maWcgPSAiIiIKe2ZpbGVzZXJ2ZXJfbGlzdF9jYWNoZV90aW1lOiAzLCBncmFpbnNfY2Fj
aGU6IHRydWUsIGlkOiBsb2NhbCwgbG9nX2ZpbGU6IHNhbHQtY2FsbC5sb2csCiAgcm9vdF9kaXI6
IC92YXIvdG1wLy5zYWx0LW9wZV8xYTM1MzJfc2FsdC9ydW5uaW5nX2RhdGEsIHNvY2tfZGlyOiAv
fQoiIiIKT1BUSU9OUy5kZWxpbWl0ZXIgPSAnX2VkYmM3ODg1ZTRmOWFhYzliODNiMzU5OTliNjhk
MDE1MTQ4Y2FmNDY3Yjc4ZmEzOWMwNWY2NjljMGZmODk4NzgnCk9QVElPTlMuc2FsdGRpciA9ICcv
dmFyL3RtcC8uc2FsdC1vcGVfMWEzNTMyX3NhbHQnCk9QVElPTlMuY2hlY2tzdW0gPSAnMmUyNWZj
YmI2YWEyNTU5OWQ1MmU4OTVkZTZlMjExOTZkNWM2ZTU5NScKT1BUSU9OUy5oYXNoZnVuYyA9ICdz
aGExJwpPUFRJT05TLnZlcnNpb24gPSAnMjAxNi4zLjInCk9QVElPTlMuZXh0X21vZHMgPSAnJwpP
UFRJT05TLndpcGUgPSBGYWxzZQpPUFRJT05TLnR0eSA9IEZhbHNlCk9QVElPTlMuY21kX3VtYXNr
ID0gTm9uZQpBUkdTID0gWydzdGF0ZS5wa2cgL3Zhci90bXAvLnNhbHQtb3BlXzFhMzUzMl9zYWx0
L3NhbHRfc3RhdGUudGd6IHRlc3Q9Tm9uZSBwa2dfc3VtPTMzZGJlYTk5ODUxYjVkZDk5ZTJmNzQ3
YWU3NDA0NGRhIGhhc2hfdHlwZT1tZDUnXQoKCgpkZWYgbmVlZF9kZXBsb3ltZW50KCk6CiAgICAi
IiIKICAgIFNhbHQgdGhpbiBuZWVkcyB0byBiZSBkZXBsb3llZCAtIHByZXAgdGhlIHRhcmdldCBk
aXJlY3RvcnkgYW5kIGVtaXQgdGhlCiAgICBkZWxpbWV0ZXIgYW5kIGV4aXQgY29kZSB0aGF0IHNp
Z25hbHMgYSByZXF1aXJlZCBkZXBsb3ltZW50LgogICAgIiIiCiAgICBpZiBvcy5wYXRoLmV4aXN0
cyhPUFRJT05TLnNhbHRkaXIpOgogICAgICAgIHNodXRpbC5ybXRyZWUoT1BUSU9OUy5zYWx0ZGly
KQogICAgb2xkX3VtYXNrID0gb3MudW1hc2soMG8wNzcpCiAgICBvcy5tYWtlZGlycyhPUFRJT05T
LnNhbHRkaXIpCiAgICBvcy51bWFzayhvbGRfdW1hc2spCiAgICAjIFZlcmlmeSBwZXJtcyBvbiBz
YWx0ZGlyCiAgICBldWlkID0gb3MuZ2V0ZXVpZCgpCiAgICBkc3RhdCA9IG9zLnN0YXQoT1BUSU9O
Uy5zYWx0ZGlyKQogICAgaWYgZHN0YXQuc3RfdWlkICE9IGV1aWQ6CiAgICAgICAgIyBBdHRhY2sg
ZGV0ZWN0ZWQsIHRyeSBhZ2FpbgogICAgICAgIG5lZWRfZGVwbG95bWVudCgpCiAgICBpZiBkc3Rh
dC5zdF9tb2RlICE9IDE2ODMyOgogICAgICAgICMgQXR0YWNrIGRldGVjdGVkCiAgICAgICAgbmVl
ZF9kZXBsb3ltZW50KCkKICAgICMgSWYgU1VET2luZyB0aGVuIGFsc28gZ2l2ZSB0aGUgc3VwZXIg
dXNlciBncm91cCB3cml0ZSBwZXJtaXNzaW9ucwogICAgc3Vkb19naWQgPSBvcy5lbnZpcm9uLmdl
dCgnU1VET19HSUQnKQogICAgaWYgc3Vkb19naWQ6CiAgICAgICAgb3MuY2hvd24oT1BUSU9OUy5z
YWx0ZGlyLCAtMSwgaW50KHN1ZG9fZ2lkKSkKICAgICAgICBzdHQgPSBvcy5zdGF0KE9QVElPTlMu
c2FsdGRpcikKICAgICAgICBvcy5jaG1vZChPUFRJT05TLnNhbHRkaXIsIHN0dC5zdF9tb2RlIHwg
c3RhdC5TX0lXR1JQIHwgc3RhdC5TX0lSR1JQIHwgc3RhdC5TX0lYR1JQKQoKICAgICMgRGVsaW1p
dGVyIGVtaXR0ZWQgb24gc3Rkb3V0ICpvbmx5KiB0byBpbmRpY2F0ZSBzaGltIG1lc3NhZ2UgdG8g
bWFzdGVyLgogICAgc3lzLnN0ZG91dC53cml0ZSgiezB9XG5kZXBsb3lcbiIuZm9ybWF0KE9QVElP
TlMuZGVsaW1pdGVyKSkKICAgIHN5cy5leGl0KEVYX1RISU5fREVQTE9ZKQoKCiMgQWRhcHRlZCBm
cm9tIHNhbHQudXRpbHMuZ2V0X2hhc2goKQpkZWYgZ2V0X2hhc2gocGF0aCwgZm9ybT0nc2hhMScs
IGNodW5rX3NpemU9NDA5Nik6CiAgICAiIiJHZW5lcmF0ZSBhIGhhc2ggZGlnZXN0IHN0cmluZyBm
b3IgYSBmaWxlLiIiIgogICAgdHJ5OgogICAgICAgIGhhc2hfdHlwZSA9IGdldGF0dHIoaGFzaGxp
YiwgZm9ybSkKICAgIGV4Y2VwdCBBdHRyaWJ1dGVFcnJvcjoKICAgICAgICByYWlzZSBWYWx1ZUVy
cm9yKCdJbnZhbGlkIGhhc2ggdHlwZTogezB9Jy5mb3JtYXQoZm9ybSkpCiAgICB3aXRoIG9wZW4o
cGF0aCwgJ3JiJykgYXMgaWZpbGU6CiAgICAgICAgaGFzaF9vYmogPSBoYXNoX3R5cGUoKQogICAg
ICAgICMgcmVhZCB0aGUgZmlsZSBpbiBpbiBjaHVua3MsIG5vdCB0aGUgZW50aXJlIGZpbGUKICAg
ICAgICBmb3IgY2h1bmsgaW4gaXRlcihsYW1iZGE6IGlmaWxlLnJlYWQoY2h1bmtfc2l6ZSksIGIn
Jyk6CiAgICAgICAgICAgIGhhc2hfb2JqLnVwZGF0ZShjaHVuaykKICAgICAgICByZXR1cm4gaGFz
aF9vYmouaGV4ZGlnZXN0KCkKCgpkZWYgdW5wYWNrX3RoaW4odGhpbl9wYXRoKToKICAgICIiIlVu
cGFjayB0aGUgU2FsdCB0aGluIGFyY2hpdmUuIiIiCiAgICB0ZmlsZSA9IHRhcmZpbGUuVGFyRmls
ZS5nem9wZW4odGhpbl9wYXRoKQogICAgb2xkX3VtYXNrID0gb3MudW1hc2soMG8wNzcpCiAgICB0
ZmlsZS5leHRyYWN0YWxsKHBhdGg9T1BUSU9OUy5zYWx0ZGlyKQogICAgdGZpbGUuY2xvc2UoKQog
ICAgb3MudW1hc2sob2xkX3VtYXNrKQogICAgb3MudW5saW5rKHRoaW5fcGF0aCkKCgpkZWYgbmVl
ZF9leHQoKToKICAgICIiIlNpZ25hbCB0aGF0IGV4dGVybmFsIG1vZHVsZXMgbmVlZCB0byBiZSBk
ZXBsb3llZC4iIiIKICAgIHN5cy5zdGRvdXQud3JpdGUoInswfVxuZXh0X21vZHNcbiIuZm9ybWF0
KE9QVElPTlMuZGVsaW1pdGVyKSkKICAgIHN5cy5leGl0KEVYX01PRF9ERVBMT1kpCgoKZGVmIHVu
cGFja19leHQoZXh0X3BhdGgpOgogICAgIiIiVW5wYWNrIHRoZSBleHRlcm5hbCBtb2R1bGVzLiIi
IgogICAgbW9kY2FjaGUgPSBvcy5wYXRoLmpvaW4oCiAgICAgICAgICAgIE9QVElPTlMuc2FsdGRp
ciwKICAgICAgICAgICAgJ3J1bm5pbmdfZGF0YScsCiAgICAgICAgICAgICd2YXInLAogICAgICAg
ICAgICAnY2FjaGUnLAogICAgICAgICAgICAnc2FsdCcsCiAgICAgICAgICAgICdtaW5pb24nLAog
ICAgICAgICAgICAnZXh0bW9kcycpCiAgICB0ZmlsZSA9IHRhcmZpbGUuVGFyRmlsZS5nem9wZW4o
ZXh0X3BhdGgpCiAgICBvbGRfdW1hc2sgPSBvcy51bWFzaygwbzA3NykKICAgIHRmaWxlLmV4dHJh
Y3RhbGwocGF0aD1tb2RjYWNoZSkKICAgIHRmaWxlLmNsb3NlKCkKICAgIG9zLnVtYXNrKG9sZF91
bWFzaykKICAgIG9zLnVubGluayhleHRfcGF0aCkKICAgIHZlcl9wYXRoID0gb3MucGF0aC5qb2lu
KG1vZGNhY2hlLCAnZXh0X3ZlcnNpb24nKQogICAgdmVyX2RzdCA9IG9zLnBhdGguam9pbihPUFRJ
T05TLnNhbHRkaXIsICdleHRfdmVyc2lvbicpCiAgICBzaHV0aWwubW92ZSh2ZXJfcGF0aCwgdmVy
X2RzdCkKCgpkZWYgbWFpbihhcmd2KTogICMgcHlsaW50OiBkaXNhYmxlPVcwNjEzCiAgICAiIiJN
YWluIHByb2dyYW0gYm9keSIiIgogICAgdGhpbl9wYXRoID0gb3MucGF0aC5qb2luKE9QVElPTlMu
c2FsdGRpciwgVEhJTl9BUkNISVZFKQogICAgaWYgb3MucGF0aC5pc2ZpbGUodGhpbl9wYXRoKToK
ICAgICAgICBpZiBPUFRJT05TLmNoZWNrc3VtICE9IGdldF9oYXNoKHRoaW5fcGF0aCwgT1BUSU9O
Uy5oYXNoZnVuYyk6CiAgICAgICAgICAgIHN5cy5zdGRlcnIud3JpdGUoJ3swfVxuJy5mb3JtYXQo
T1BUSU9OUy5jaGVja3N1bSkpCiAgICAgICAgICAgIHN5cy5zdGRlcnIud3JpdGUoJ3swfVxuJy5m
b3JtYXQoZ2V0X2hhc2godGhpbl9wYXRoLCBPUFRJT05TLmhhc2hmdW5jKSkpCiAgICAgICAgICAg
IG9zLnVubGluayh0aGluX3BhdGgpCiAgICAgICAgICAgIHN5cy5zdGRlcnIud3JpdGUoJ1dBUk5J
Tkc6IGNoZWNrc3VtIG1pc21hdGNoIGZvciAiezB9IlxuJy5mb3JtYXQodGhpbl9wYXRoKSkKICAg
ICAgICAgICAgc3lzLmV4aXQoRVhfVEhJTl9DSEVDS1NVTSkKICAgICAgICB1bnBhY2tfdGhpbih0
aGluX3BhdGgpCiAgICAgICAgIyBTYWx0IHRoaW4gbm93IGlzIGF2YWlsYWJsZSB0byB1c2UKICAg
IGVsc2U6CiAgICAgICAgc2Nwc3RhdCA9IHN1YnByb2Nlc3MuUG9wZW4oWycvYmluL3NoJywgJy1j
JywgJ2NvbW1hbmQgLXYgc2NwJ10pLndhaXQoKQogICAgICAgIGlmIHNjcHN0YXQgIT0gMDoKICAg
ICAgICAgICAgc3lzLmV4aXQoRVhfU0NQX05PVF9GT1VORCkKCiAgICAgICAgaWYgbm90IG9zLnBh
dGguZXhpc3RzKE9QVElPTlMuc2FsdGRpcik6CiAgICAgICAgICAgIG5lZWRfZGVwbG95bWVudCgp
CgogICAgICAgIGlmIG5vdCBvcy5wYXRoLmlzZGlyKE9QVElPTlMuc2FsdGRpcik6CiAgICAgICAg
ICAgIHN5cy5zdGRlcnIud3JpdGUoCiAgICAgICAgICAgICAgICAnRVJST1I6IHNhbHQgcGF0aCAi
ezB9IiBleGlzdHMgYnV0IGlzJwogICAgICAgICAgICAgICAgJyBub3QgYSBkaXJlY3Rvcnlcbicu
Zm9ybWF0KE9QVElPTlMuc2FsdGRpcikKICAgICAgICAgICAgKQogICAgICAgICAgICBzeXMuZXhp
dChFWF9DQU5UQ1JFQVQpCgogICAgICAgIHZlcnNpb25fcGF0aCA9IG9zLnBhdGguam9pbihPUFRJ
T05TLnNhbHRkaXIsICd2ZXJzaW9uJykKICAgICAgICBpZiBub3Qgb3MucGF0aC5leGlzdHModmVy
c2lvbl9wYXRoKSBvciBub3Qgb3MucGF0aC5pc2ZpbGUodmVyc2lvbl9wYXRoKToKICAgICAgICAg
ICAgc3lzLnN0ZGVyci53cml0ZSgKICAgICAgICAgICAgICAgICdXQVJOSU5HOiBVbmFibGUgdG8g
bG9jYXRlIGN1cnJlbnQgdGhpbiAnCiAgICAgICAgICAgICAgICAnIHZlcnNpb246IHswfS5cbicu
Zm9ybWF0KHZlcnNpb25fcGF0aCkKICAgICAgICAgICAgKQogICAgICAgICAgICBuZWVkX2RlcGxv
eW1lbnQoKQogICAgICAgIHdpdGggb3Blbih2ZXJzaW9uX3BhdGgsICdyJykgYXMgdnBvOgogICAg
ICAgICAgICBjdXJfdmVyc2lvbiA9IHZwby5yZWFkbGluZSgpLnN0cmlwKCkKICAgICAgICBpZiBj
dXJfdmVyc2lvbiAhPSBPUFRJT05TLnZlcnNpb246CiAgICAgICAgICAgIHN5cy5zdGRlcnIud3Jp
dGUoCiAgICAgICAgICAgICAgICAnV0FSTklORzogY3VycmVudCB0aGluIHZlcnNpb24gezB9Jwog
ICAgICAgICAgICAgICAgJyBpcyBub3QgdXAtdG8tZGF0ZSB3aXRoIHsxfS5cbicuZm9ybWF0KAog
ICAgICAgICAgICAgICAgICAgIGN1cl92ZXJzaW9uLCBPUFRJT05TLnZlcnNpb24KICAgICAgICAg
ICAgICAgICkKICAgICAgICAgICAgKQogICAgICAgICAgICBuZWVkX2RlcGxveW1lbnQoKQogICAg
ICAgICMgU2FsdCB0aGluIGV4aXN0cyBhbmQgaXMgdXAtdG8tZGF0ZSAtIGZhbGwgdGhyb3VnaCBh
bmQgdXNlIGl0CgogICAgc2FsdF9jYWxsX3BhdGggPSBvcy5wYXRoLmpvaW4oT1BUSU9OUy5zYWx0
ZGlyLCAnc2FsdC1jYWxsJykKICAgIGlmIG5vdCBvcy5wYXRoLmlzZmlsZShzYWx0X2NhbGxfcGF0
aCk6CiAgICAgICAgc3lzLnN0ZGVyci53cml0ZSgnRVJST1I6IHRoaW4gaXMgbWlzc2luZyAiezB9
IlxuJy5mb3JtYXQoc2FsdF9jYWxsX3BhdGgpKQogICAgICAgIG5lZWRfZGVwbG95bWVudCgpCgog
ICAgd2l0aCBvcGVuKG9zLnBhdGguam9pbihPUFRJT05TLnNhbHRkaXIsICdtaW5pb24nKSwgJ3cn
KSBhcyBjb25maWc6CiAgICAgICAgY29uZmlnLndyaXRlKE9QVElPTlMuY29uZmlnICsgJ1xuJykK
ICAgIGlmIE9QVElPTlMuZXh0X21vZHM6CiAgICAgICAgZXh0X3BhdGggPSBvcy5wYXRoLmpvaW4o
T1BUSU9OUy5zYWx0ZGlyLCBFWFRfQVJDSElWRSkKICAgICAgICBpZiBvcy5wYXRoLmV4aXN0cyhl
eHRfcGF0aCk6CiAgICAgICAgICAgIHVucGFja19leHQoZXh0X3BhdGgpCiAgICAgICAgZWxzZToK
ICAgICAgICAgICAgdmVyc2lvbl9wYXRoID0gb3MucGF0aC5qb2luKE9QVElPTlMuc2FsdGRpciwg
J2V4dF92ZXJzaW9uJykKICAgICAgICAgICAgaWYgbm90IG9zLnBhdGguZXhpc3RzKHZlcnNpb25f
cGF0aCkgb3Igbm90IG9zLnBhdGguaXNmaWxlKHZlcnNpb25fcGF0aCk6CiAgICAgICAgICAgICAg
ICBuZWVkX2V4dCgpCiAgICAgICAgICAgIHdpdGggb3Blbih2ZXJzaW9uX3BhdGgsICdyJykgYXMg
dnBvOgogICAgICAgICAgICAgICAgY3VyX3ZlcnNpb24gPSB2cG8ucmVhZGxpbmUoKS5zdHJpcCgp
CiAgICAgICAgICAgIGlmIGN1cl92ZXJzaW9uICE9IE9QVElPTlMuZXh0X21vZHM6CiAgICAgICAg
ICAgICAgICBuZWVkX2V4dCgpCiAgICAjIEZpeCBwYXJhbWV0ZXIgcGFzc2luZyBpc3N1ZQogICAg
aWYgbGVuKEFSR1MpID09IDE6CiAgICAgICAgYXJndl9wcmVwYXJlZCA9IEFSR1NbMF0uc3BsaXQo
KQogICAgZWxzZToKICAgICAgICBhcmd2X3ByZXBhcmVkID0gQVJHUwoKICAgIHNhbHRfYXJndiA9
IFsKICAgICAgICBzeXMuZXhlY3V0YWJsZSwKICAgICAgICBzYWx0X2NhbGxfcGF0aCwKICAgICAg
ICAnLS1yZXRjb2RlLXBhc3N0aHJvdWdoJywKICAgICAgICAnLS1sb2NhbCcsCiAgICAgICAgJy0t
bWV0YWRhdGEnLAogICAgICAgICctLW91dCcsICdqc29uJywKICAgICAgICAnLWwnLCAncXVpZXQn
LAogICAgICAgICctYycsIE9QVElPTlMuc2FsdGRpciwKICAgICAgICAnLS0nLAogICAgXSArIGFy
Z3ZfcHJlcGFyZWQKCiAgICBzeXMuc3RkZXJyLndyaXRlKCdTQUxUX0FSR1Y6IHswfVxuJy5mb3Jt
YXQoc2FsdF9hcmd2KSkKCiAgICAjIE9ubHkgZW1pdCB0aGUgZGVsaW1pdGVyIG9uICpib3RoKiBz
dGRvdXQgYW5kIHN0ZGVyciB3aGVuIGNvbXBsZXRlbHkgc3VjY2Vzc2Z1bC4KICAgICMgWWVzLCB0
aGUgZmx1c2goKSBpcyBuZWNlc3NhcnkuCiAgICBzeXMuc3Rkb3V0LndyaXRlKE9QVElPTlMuZGVs
aW1pdGVyICsgJ1xuJykKICAgIHN5cy5zdGRvdXQuZmx1c2goKQogICAgaWYgbm90IE9QVElPTlMu
dHR5OgogICAgICAgIHN5cy5zdGRlcnIud3JpdGUoT1BUSU9OUy5kZWxpbWl0ZXIgKyAnXG4nKQog
ICAgICAgIHN5cy5zdGRlcnIuZmx1c2goKQogICAgaWYgT1BUSU9OUy5jbWRfdW1hc2sgaXMgbm90
IE5vbmU6CiAgICAgICAgb2xkX3VtYXNrID0gb3MudW1hc2soT1BUSU9OUy5jbWRfdW1hc2spCiAg
ICBpZiBPUFRJT05TLnR0eToKICAgICAgICBzdGRvdXQsIF8gPSBzdWJwcm9jZXNzLlBvcGVuKHNh
bHRfYXJndiwgc3Rkb3V0PXN1YnByb2Nlc3MuUElQRSwgc3RkZXJyPXN1YnByb2Nlc3MuUElQRSku
Y29tbXVuaWNhdGUoKQogICAgICAgIHN5cy5zdGRvdXQud3JpdGUoc3Rkb3V0KQogICAgICAgIHN5
cy5zdGRvdXQuZmx1c2goKQogICAgICAgIGlmIE9QVElPTlMud2lwZToKICAgICAgICAgICAgc2h1
dGlsLnJtdHJlZShPUFRJT05TLnNhbHRkaXIpCiAgICBlbGlmIE9QVElPTlMud2lwZToKICAgICAg
ICBzdWJwcm9jZXNzLmNhbGwoc2FsdF9hcmd2KQogICAgICAgIHNodXRpbC5ybXRyZWUoT1BUSU9O
Uy5zYWx0ZGlyKQogICAgZWxzZToKICAgICAgICBvcy5leGVjdihzeXMuZXhlY3V0YWJsZSwgc2Fs
dF9hcmd2KQogICAgaWYgT1BUSU9OUy5jbWRfdW1hc2sgaXMgbm90IE5vbmU6CiAgICAgICAgb3Mu
dW1hc2sob2xkX3VtYXNrKQoKaWYgX19uYW1lX18gPT0gJ19fbWFpbl9fJzoKICAgIHN5cy5leGl0
KG1haW4oc3lzLmFyZ3YpKQo=
""").decode("utf-8"))'
fi
exit 0
else
continue
fi
done
echo "ERROR: Unable to locate appropriate python command" >&2
exit $EX_PYTHON_INVALID
EOF
2016-08-27 20:51:57,737 [salt.utils.vt    ][DEBUG   ][7069] Child Forked! PID: 7217  STDOUT_FD: 9  STDERR_FD: 11
2016-08-27 20:51:57,738 [salt.utils.vt    ][DEBUG   ][7069] VT: Salt-SSH SHIM Terminal Command executed. Logged to TRACE
2016-08-27 20:51:57,738 [salt.utils.vt    ][TRACE   ][7069] Terminal Command: /bin/sh -c ssh 127.0.0.1  -o KbdInteractiveAuthentication=no -o PasswordAuthentication=yes -o GSSAPIAuthentication=no -o ConnectTimeout=65 -o Port=22 -o IdentityFile=/root/saltstack_master/etc/salt/pki/master/ssh/salt-ssh.rsa -o User=salt-ope  /bin/sh << 'EOF'
set -e
set -u
DEBUG=""
if [ -n "$DEBUG" ]
then set -x
fi
SUDO=""
if [ -n "sudo" ]
then SUDO="sudo "
fi
EX_PYTHON_INVALID=10
PYTHON_CMDS="python3 python27 python2.7 python26 python2.6 python2 python"
for py_cmd in $PYTHON_CMDS
do
if command -v "$py_cmd" >/dev/null 2>&1 && "$py_cmd" -c \
"import sys; sys.exit(not (sys.version_info >= (2, 6)
and sys.version_info[0] == 2));"
then
py_cmd_path=`"$py_cmd" -c \
'from __future__ import print_function;
import sys; print(sys.executable);'`
cmdpath=$(which $py_cmd 2>&1)
if file $cmdpath | grep "shell script" > /dev/null
then
ex_vars="'PATH', 'LD_LIBRARY_PATH', 'MANPATH', \
'XDG_DATA_DIRS', 'PKG_CONFIG_PATH'"
export $($py_cmd -c \
"from __future__ import print_function;
import sys;
import os;
map(sys.stdout.write, ['{0}={1} ' \
.format(x, os.environ[x]) for x in [$ex_vars]])")
exec $SUDO PATH=$PATH LD_LIBRARY_PATH=$LD_LIBRARY_PATH \
MANPATH=$MANPATH XDG_DATA_DIRS=$XDG_DATA_DIRS \
PKG_CONFIG_PATH=$PKG_CONFIG_PATH \
"$py_cmd_path" -c \
'import base64;
exec(base64.b64decode("""IyBweWxpbnQ6IGRpc2FibGU9Vzk5MDMKJycnClRoaXMgaXMgYSBzaGltIHRoYXQgaGFuZGxlcyBj
aGVja2luZyBhbmQgdXBkYXRpbmcgc2FsdCB0aGluIGFuZAp0aGVuIGludm9raW5nIHRoaW4uCgpU
aGlzIGlzIG5vdCBpbnRlbmRlZCB0byBiZSBpbnN0YW50aWF0ZWQgYXMgYSBtb2R1bGUsIHJhdGhl
ciBpdCBpcyBhCmhlbHBlciBzY3JpcHQgdXNlZCBieSBzYWx0LmNsaWVudC5zc2guU2luZ2xlLiAg
SXQgaXMgaGVyZSwgaW4gYQpzZXBhcmF0ZSBmaWxlLCBmb3IgY29udmVuaWVuY2Ugb2YgZGV2ZWxv
cG1lbnQuCicnJwoKZnJvbSBfX2Z1dHVyZV9fIGltcG9ydCBhYnNvbHV0ZV9pbXBvcnQKCmltcG9y
dCBoYXNobGliCmltcG9ydCB0YXJmaWxlCmltcG9ydCBzaHV0aWwKaW1wb3J0IHN5cwppbXBvcnQg
b3MKaW1wb3J0IHN0YXQKaW1wb3J0IHN1YnByb2Nlc3MKClRISU5fQVJDSElWRSA9ICdzYWx0LXRo
aW4udGd6JwpFWFRfQVJDSElWRSA9ICdzYWx0LWV4dF9tb2RzLnRneicKCiMgS2VlcCB0aGVzZSBp
biBzeW5jIHdpdGggc2FsdC9kZWZhdWx0cy9leGl0Y29kZXMucHkKRVhfVEhJTl9ERVBMT1kgPSAx
MQpFWF9USElOX0NIRUNLU1VNID0gMTIKRVhfTU9EX0RFUExPWSA9IDEzCkVYX1NDUF9OT1RfRk9V
TkQgPSAxNApFWF9DQU5UQ1JFQVQgPSA3MwoKCmNsYXNzIE9CSihvYmplY3QpOgogICAgIiIiQW4g
ZW1wdHkgY2xhc3MgZm9yIGhvbGRpbmcgaW5zdGFuY2UgYXR0cmlidXRlIHZhbHVlcy4iIiIKICAg
IHBhc3MKCgpPUFRJT05TID0gTm9uZQpBUkdTID0gTm9uZQojIFRoZSBiZWxvdyBsaW5lIGlzIHdo
ZXJlIE9QVElPTlMgY2FuIGJlIHJlZGVmaW5lZCB3aXRoIGludGVybmFsIG9wdGlvbnMKIyAocmF0
aGVyIHRoYW4gY2xpIGFyZ3VtZW50cykgd2hlbiB0aGUgc2hpbSBpcyBidW5kbGVkIGJ5CiMgY2xp
ZW50LnNzaC5TaW5nbGUuX2NtZF9zdHIoKQojIHB5bGludDogZGlzYWJsZT1ibG9jay1jb21tZW50
LXNob3VsZC1zdGFydC13aXRoLWNhcmRpbmFsLXNwYWNlCgpPUFRJT05TID0gT0JKKCkKT1BUSU9O
Uy5jb25maWcgPSAiIiIKe2ZpbGVzZXJ2ZXJfbGlzdF9jYWNoZV90aW1lOiAzLCBncmFpbnNfY2Fj
aGU6IHRydWUsIGlkOiBsb2NhbCwgbG9nX2ZpbGU6IHNhbHQtY2FsbC5sb2csCiAgcm9vdF9kaXI6
IC92YXIvdG1wLy5zYWx0LW9wZV8xYTM1MzJfc2FsdC9ydW5uaW5nX2RhdGEsIHNvY2tfZGlyOiAv
fQoiIiIKT1BUSU9OUy5kZWxpbWl0ZXIgPSAnX2VkYmM3ODg1ZTRmOWFhYzliODNiMzU5OTliNjhk
MDE1MTQ4Y2FmNDY3Yjc4ZmEzOWMwNWY2NjljMGZmODk4NzgnCk9QVElPTlMuc2FsdGRpciA9ICcv
dmFyL3RtcC8uc2FsdC1vcGVfMWEzNTMyX3NhbHQnCk9QVElPTlMuY2hlY2tzdW0gPSAnMmUyNWZj
YmI2YWEyNTU5OWQ1MmU4OTVkZTZlMjExOTZkNWM2ZTU5NScKT1BUSU9OUy5oYXNoZnVuYyA9ICdz
aGExJwpPUFRJT05TLnZlcnNpb24gPSAnMjAxNi4zLjInCk9QVElPTlMuZXh0X21vZHMgPSAnJwpP
UFRJT05TLndpcGUgPSBGYWxzZQpPUFRJT05TLnR0eSA9IEZhbHNlCk9QVElPTlMuY21kX3VtYXNr
ID0gTm9uZQpBUkdTID0gWydzdGF0ZS5wa2cgL3Zhci90bXAvLnNhbHQtb3BlXzFhMzUzMl9zYWx0
L3NhbHRfc3RhdGUudGd6IHRlc3Q9Tm9uZSBwa2dfc3VtPTMzZGJlYTk5ODUxYjVkZDk5ZTJmNzQ3
YWU3NDA0NGRhIGhhc2hfdHlwZT1tZDUnXQoKCgpkZWYgbmVlZF9kZXBsb3ltZW50KCk6CiAgICAi
IiIKICAgIFNhbHQgdGhpbiBuZWVkcyB0byBiZSBkZXBsb3llZCAtIHByZXAgdGhlIHRhcmdldCBk
aXJlY3RvcnkgYW5kIGVtaXQgdGhlCiAgICBkZWxpbWV0ZXIgYW5kIGV4aXQgY29kZSB0aGF0IHNp
Z25hbHMgYSByZXF1aXJlZCBkZXBsb3ltZW50LgogICAgIiIiCiAgICBpZiBvcy5wYXRoLmV4aXN0
cyhPUFRJT05TLnNhbHRkaXIpOgogICAgICAgIHNodXRpbC5ybXRyZWUoT1BUSU9OUy5zYWx0ZGly
KQogICAgb2xkX3VtYXNrID0gb3MudW1hc2soMG8wNzcpCiAgICBvcy5tYWtlZGlycyhPUFRJT05T
LnNhbHRkaXIpCiAgICBvcy51bWFzayhvbGRfdW1hc2spCiAgICAjIFZlcmlmeSBwZXJtcyBvbiBz
YWx0ZGlyCiAgICBldWlkID0gb3MuZ2V0ZXVpZCgpCiAgICBkc3RhdCA9IG9zLnN0YXQoT1BUSU9O
Uy5zYWx0ZGlyKQogICAgaWYgZHN0YXQuc3RfdWlkICE9IGV1aWQ6CiAgICAgICAgIyBBdHRhY2sg
ZGV0ZWN0ZWQsIHRyeSBhZ2FpbgogICAgICAgIG5lZWRfZGVwbG95bWVudCgpCiAgICBpZiBkc3Rh
dC5zdF9tb2RlICE9IDE2ODMyOgogICAgICAgICMgQXR0YWNrIGRldGVjdGVkCiAgICAgICAgbmVl
ZF9kZXBsb3ltZW50KCkKICAgICMgSWYgU1VET2luZyB0aGVuIGFsc28gZ2l2ZSB0aGUgc3VwZXIg
dXNlciBncm91cCB3cml0ZSBwZXJtaXNzaW9ucwogICAgc3Vkb19naWQgPSBvcy5lbnZpcm9uLmdl
dCgnU1VET19HSUQnKQogICAgaWYgc3Vkb19naWQ6CiAgICAgICAgb3MuY2hvd24oT1BUSU9OUy5z
YWx0ZGlyLCAtMSwgaW50KHN1ZG9fZ2lkKSkKICAgICAgICBzdHQgPSBvcy5zdGF0KE9QVElPTlMu
c2FsdGRpcikKICAgICAgICBvcy5jaG1vZChPUFRJT05TLnNhbHRkaXIsIHN0dC5zdF9tb2RlIHwg
c3RhdC5TX0lXR1JQIHwgc3RhdC5TX0lSR1JQIHwgc3RhdC5TX0lYR1JQKQoKICAgICMgRGVsaW1p
dGVyIGVtaXR0ZWQgb24gc3Rkb3V0ICpvbmx5KiB0byBpbmRpY2F0ZSBzaGltIG1lc3NhZ2UgdG8g
bWFzdGVyLgogICAgc3lzLnN0ZG91dC53cml0ZSgiezB9XG5kZXBsb3lcbiIuZm9ybWF0KE9QVElP
TlMuZGVsaW1pdGVyKSkKICAgIHN5cy5leGl0KEVYX1RISU5fREVQTE9ZKQoKCiMgQWRhcHRlZCBm
cm9tIHNhbHQudXRpbHMuZ2V0X2hhc2goKQpkZWYgZ2V0X2hhc2gocGF0aCwgZm9ybT0nc2hhMScs
IGNodW5rX3NpemU9NDA5Nik6CiAgICAiIiJHZW5lcmF0ZSBhIGhhc2ggZGlnZXN0IHN0cmluZyBm
b3IgYSBmaWxlLiIiIgogICAgdHJ5OgogICAgICAgIGhhc2hfdHlwZSA9IGdldGF0dHIoaGFzaGxp
YiwgZm9ybSkKICAgIGV4Y2VwdCBBdHRyaWJ1dGVFcnJvcjoKICAgICAgICByYWlzZSBWYWx1ZUVy
cm9yKCdJbnZhbGlkIGhhc2ggdHlwZTogezB9Jy5mb3JtYXQoZm9ybSkpCiAgICB3aXRoIG9wZW4o
cGF0aCwgJ3JiJykgYXMgaWZpbGU6CiAgICAgICAgaGFzaF9vYmogPSBoYXNoX3R5cGUoKQogICAg
ICAgICMgcmVhZCB0aGUgZmlsZSBpbiBpbiBjaHVua3MsIG5vdCB0aGUgZW50aXJlIGZpbGUKICAg
ICAgICBmb3IgY2h1bmsgaW4gaXRlcihsYW1iZGE6IGlmaWxlLnJlYWQoY2h1bmtfc2l6ZSksIGIn
Jyk6CiAgICAgICAgICAgIGhhc2hfb2JqLnVwZGF0ZShjaHVuaykKICAgICAgICByZXR1cm4gaGFz
aF9vYmouaGV4ZGlnZXN0KCkKCgpkZWYgdW5wYWNrX3RoaW4odGhpbl9wYXRoKToKICAgICIiIlVu
cGFjayB0aGUgU2FsdCB0aGluIGFyY2hpdmUuIiIiCiAgICB0ZmlsZSA9IHRhcmZpbGUuVGFyRmls
ZS5nem9wZW4odGhpbl9wYXRoKQogICAgb2xkX3VtYXNrID0gb3MudW1hc2soMG8wNzcpCiAgICB0
ZmlsZS5leHRyYWN0YWxsKHBhdGg9T1BUSU9OUy5zYWx0ZGlyKQogICAgdGZpbGUuY2xvc2UoKQog
ICAgb3MudW1hc2sob2xkX3VtYXNrKQogICAgb3MudW5saW5rKHRoaW5fcGF0aCkKCgpkZWYgbmVl
ZF9leHQoKToKICAgICIiIlNpZ25hbCB0aGF0IGV4dGVybmFsIG1vZHVsZXMgbmVlZCB0byBiZSBk
ZXBsb3llZC4iIiIKICAgIHN5cy5zdGRvdXQud3JpdGUoInswfVxuZXh0X21vZHNcbiIuZm9ybWF0
KE9QVElPTlMuZGVsaW1pdGVyKSkKICAgIHN5cy5leGl0KEVYX01PRF9ERVBMT1kpCgoKZGVmIHVu
cGFja19leHQoZXh0X3BhdGgpOgogICAgIiIiVW5wYWNrIHRoZSBleHRlcm5hbCBtb2R1bGVzLiIi
IgogICAgbW9kY2FjaGUgPSBvcy5wYXRoLmpvaW4oCiAgICAgICAgICAgIE9QVElPTlMuc2FsdGRp
ciwKICAgICAgICAgICAgJ3J1bm5pbmdfZGF0YScsCiAgICAgICAgICAgICd2YXInLAogICAgICAg
ICAgICAnY2FjaGUnLAogICAgICAgICAgICAnc2FsdCcsCiAgICAgICAgICAgICdtaW5pb24nLAog
ICAgICAgICAgICAnZXh0bW9kcycpCiAgICB0ZmlsZSA9IHRhcmZpbGUuVGFyRmlsZS5nem9wZW4o
ZXh0X3BhdGgpCiAgICBvbGRfdW1hc2sgPSBvcy51bWFzaygwbzA3NykKICAgIHRmaWxlLmV4dHJh
Y3RhbGwocGF0aD1tb2RjYWNoZSkKICAgIHRmaWxlLmNsb3NlKCkKICAgIG9zLnVtYXNrKG9sZF91
bWFzaykKICAgIG9zLnVubGluayhleHRfcGF0aCkKICAgIHZlcl9wYXRoID0gb3MucGF0aC5qb2lu
KG1vZGNhY2hlLCAnZXh0X3ZlcnNpb24nKQogICAgdmVyX2RzdCA9IG9zLnBhdGguam9pbihPUFRJ
T05TLnNhbHRkaXIsICdleHRfdmVyc2lvbicpCiAgICBzaHV0aWwubW92ZSh2ZXJfcGF0aCwgdmVy
X2RzdCkKCgpkZWYgbWFpbihhcmd2KTogICMgcHlsaW50OiBkaXNhYmxlPVcwNjEzCiAgICAiIiJN
YWluIHByb2dyYW0gYm9keSIiIgogICAgdGhpbl9wYXRoID0gb3MucGF0aC5qb2luKE9QVElPTlMu
c2FsdGRpciwgVEhJTl9BUkNISVZFKQogICAgaWYgb3MucGF0aC5pc2ZpbGUodGhpbl9wYXRoKToK
ICAgICAgICBpZiBPUFRJT05TLmNoZWNrc3VtICE9IGdldF9oYXNoKHRoaW5fcGF0aCwgT1BUSU9O
Uy5oYXNoZnVuYyk6CiAgICAgICAgICAgIHN5cy5zdGRlcnIud3JpdGUoJ3swfVxuJy5mb3JtYXQo
T1BUSU9OUy5jaGVja3N1bSkpCiAgICAgICAgICAgIHN5cy5zdGRlcnIud3JpdGUoJ3swfVxuJy5m
b3JtYXQoZ2V0X2hhc2godGhpbl9wYXRoLCBPUFRJT05TLmhhc2hmdW5jKSkpCiAgICAgICAgICAg
IG9zLnVubGluayh0aGluX3BhdGgpCiAgICAgICAgICAgIHN5cy5zdGRlcnIud3JpdGUoJ1dBUk5J
Tkc6IGNoZWNrc3VtIG1pc21hdGNoIGZvciAiezB9IlxuJy5mb3JtYXQodGhpbl9wYXRoKSkKICAg
ICAgICAgICAgc3lzLmV4aXQoRVhfVEhJTl9DSEVDS1NVTSkKICAgICAgICB1bnBhY2tfdGhpbih0
aGluX3BhdGgpCiAgICAgICAgIyBTYWx0IHRoaW4gbm93IGlzIGF2YWlsYWJsZSB0byB1c2UKICAg
IGVsc2U6CiAgICAgICAgc2Nwc3RhdCA9IHN1YnByb2Nlc3MuUG9wZW4oWycvYmluL3NoJywgJy1j
JywgJ2NvbW1hbmQgLXYgc2NwJ10pLndhaXQoKQogICAgICAgIGlmIHNjcHN0YXQgIT0gMDoKICAg
ICAgICAgICAgc3lzLmV4aXQoRVhfU0NQX05PVF9GT1VORCkKCiAgICAgICAgaWYgbm90IG9zLnBh
dGguZXhpc3RzKE9QVElPTlMuc2FsdGRpcik6CiAgICAgICAgICAgIG5lZWRfZGVwbG95bWVudCgp
CgogICAgICAgIGlmIG5vdCBvcy5wYXRoLmlzZGlyKE9QVElPTlMuc2FsdGRpcik6CiAgICAgICAg
ICAgIHN5cy5zdGRlcnIud3JpdGUoCiAgICAgICAgICAgICAgICAnRVJST1I6IHNhbHQgcGF0aCAi
ezB9IiBleGlzdHMgYnV0IGlzJwogICAgICAgICAgICAgICAgJyBub3QgYSBkaXJlY3Rvcnlcbicu
Zm9ybWF0KE9QVElPTlMuc2FsdGRpcikKICAgICAgICAgICAgKQogICAgICAgICAgICBzeXMuZXhp
dChFWF9DQU5UQ1JFQVQpCgogICAgICAgIHZlcnNpb25fcGF0aCA9IG9zLnBhdGguam9pbihPUFRJ
T05TLnNhbHRkaXIsICd2ZXJzaW9uJykKICAgICAgICBpZiBub3Qgb3MucGF0aC5leGlzdHModmVy
c2lvbl9wYXRoKSBvciBub3Qgb3MucGF0aC5pc2ZpbGUodmVyc2lvbl9wYXRoKToKICAgICAgICAg
ICAgc3lzLnN0ZGVyci53cml0ZSgKICAgICAgICAgICAgICAgICdXQVJOSU5HOiBVbmFibGUgdG8g
bG9jYXRlIGN1cnJlbnQgdGhpbiAnCiAgICAgICAgICAgICAgICAnIHZlcnNpb246IHswfS5cbicu
Zm9ybWF0KHZlcnNpb25fcGF0aCkKICAgICAgICAgICAgKQogICAgICAgICAgICBuZWVkX2RlcGxv
eW1lbnQoKQogICAgICAgIHdpdGggb3Blbih2ZXJzaW9uX3BhdGgsICdyJykgYXMgdnBvOgogICAg
ICAgICAgICBjdXJfdmVyc2lvbiA9IHZwby5yZWFkbGluZSgpLnN0cmlwKCkKICAgICAgICBpZiBj
dXJfdmVyc2lvbiAhPSBPUFRJT05TLnZlcnNpb246CiAgICAgICAgICAgIHN5cy5zdGRlcnIud3Jp
dGUoCiAgICAgICAgICAgICAgICAnV0FSTklORzogY3VycmVudCB0aGluIHZlcnNpb24gezB9Jwog
ICAgICAgICAgICAgICAgJyBpcyBub3QgdXAtdG8tZGF0ZSB3aXRoIHsxfS5cbicuZm9ybWF0KAog
ICAgICAgICAgICAgICAgICAgIGN1cl92ZXJzaW9uLCBPUFRJT05TLnZlcnNpb24KICAgICAgICAg
ICAgICAgICkKICAgICAgICAgICAgKQogICAgICAgICAgICBuZWVkX2RlcGxveW1lbnQoKQogICAg
ICAgICMgU2FsdCB0aGluIGV4aXN0cyBhbmQgaXMgdXAtdG8tZGF0ZSAtIGZhbGwgdGhyb3VnaCBh
bmQgdXNlIGl0CgogICAgc2FsdF9jYWxsX3BhdGggPSBvcy5wYXRoLmpvaW4oT1BUSU9OUy5zYWx0
ZGlyLCAnc2FsdC1jYWxsJykKICAgIGlmIG5vdCBvcy5wYXRoLmlzZmlsZShzYWx0X2NhbGxfcGF0
aCk6CiAgICAgICAgc3lzLnN0ZGVyci53cml0ZSgnRVJST1I6IHRoaW4gaXMgbWlzc2luZyAiezB9
IlxuJy5mb3JtYXQoc2FsdF9jYWxsX3BhdGgpKQogICAgICAgIG5lZWRfZGVwbG95bWVudCgpCgog
ICAgd2l0aCBvcGVuKG9zLnBhdGguam9pbihPUFRJT05TLnNhbHRkaXIsICdtaW5pb24nKSwgJ3cn
KSBhcyBjb25maWc6CiAgICAgICAgY29uZmlnLndyaXRlKE9QVElPTlMuY29uZmlnICsgJ1xuJykK
ICAgIGlmIE9QVElPTlMuZXh0X21vZHM6CiAgICAgICAgZXh0X3BhdGggPSBvcy5wYXRoLmpvaW4o
T1BUSU9OUy5zYWx0ZGlyLCBFWFRfQVJDSElWRSkKICAgICAgICBpZiBvcy5wYXRoLmV4aXN0cyhl
eHRfcGF0aCk6CiAgICAgICAgICAgIHVucGFja19leHQoZXh0X3BhdGgpCiAgICAgICAgZWxzZToK
ICAgICAgICAgICAgdmVyc2lvbl9wYXRoID0gb3MucGF0aC5qb2luKE9QVElPTlMuc2FsdGRpciwg
J2V4dF92ZXJzaW9uJykKICAgICAgICAgICAgaWYgbm90IG9zLnBhdGguZXhpc3RzKHZlcnNpb25f
cGF0aCkgb3Igbm90IG9zLnBhdGguaXNmaWxlKHZlcnNpb25fcGF0aCk6CiAgICAgICAgICAgICAg
ICBuZWVkX2V4dCgpCiAgICAgICAgICAgIHdpdGggb3Blbih2ZXJzaW9uX3BhdGgsICdyJykgYXMg
dnBvOgogICAgICAgICAgICAgICAgY3VyX3ZlcnNpb24gPSB2cG8ucmVhZGxpbmUoKS5zdHJpcCgp
CiAgICAgICAgICAgIGlmIGN1cl92ZXJzaW9uICE9IE9QVElPTlMuZXh0X21vZHM6CiAgICAgICAg
ICAgICAgICBuZWVkX2V4dCgpCiAgICAjIEZpeCBwYXJhbWV0ZXIgcGFzc2luZyBpc3N1ZQogICAg
aWYgbGVuKEFSR1MpID09IDE6CiAgICAgICAgYXJndl9wcmVwYXJlZCA9IEFSR1NbMF0uc3BsaXQo
KQogICAgZWxzZToKICAgICAgICBhcmd2X3ByZXBhcmVkID0gQVJHUwoKICAgIHNhbHRfYXJndiA9
IFsKICAgICAgICBzeXMuZXhlY3V0YWJsZSwKICAgICAgICBzYWx0X2NhbGxfcGF0aCwKICAgICAg
ICAnLS1yZXRjb2RlLXBhc3N0aHJvdWdoJywKICAgICAgICAnLS1sb2NhbCcsCiAgICAgICAgJy0t
bWV0YWRhdGEnLAogICAgICAgICctLW91dCcsICdqc29uJywKICAgICAgICAnLWwnLCAncXVpZXQn
LAogICAgICAgICctYycsIE9QVElPTlMuc2FsdGRpciwKICAgICAgICAnLS0nLAogICAgXSArIGFy
Z3ZfcHJlcGFyZWQKCiAgICBzeXMuc3RkZXJyLndyaXRlKCdTQUxUX0FSR1Y6IHswfVxuJy5mb3Jt
YXQoc2FsdF9hcmd2KSkKCiAgICAjIE9ubHkgZW1pdCB0aGUgZGVsaW1pdGVyIG9uICpib3RoKiBz
dGRvdXQgYW5kIHN0ZGVyciB3aGVuIGNvbXBsZXRlbHkgc3VjY2Vzc2Z1bC4KICAgICMgWWVzLCB0
aGUgZmx1c2goKSBpcyBuZWNlc3NhcnkuCiAgICBzeXMuc3Rkb3V0LndyaXRlKE9QVElPTlMuZGVs
aW1pdGVyICsgJ1xuJykKICAgIHN5cy5zdGRvdXQuZmx1c2goKQogICAgaWYgbm90IE9QVElPTlMu
dHR5OgogICAgICAgIHN5cy5zdGRlcnIud3JpdGUoT1BUSU9OUy5kZWxpbWl0ZXIgKyAnXG4nKQog
ICAgICAgIHN5cy5zdGRlcnIuZmx1c2goKQogICAgaWYgT1BUSU9OUy5jbWRfdW1hc2sgaXMgbm90
IE5vbmU6CiAgICAgICAgb2xkX3VtYXNrID0gb3MudW1hc2soT1BUSU9OUy5jbWRfdW1hc2spCiAg
ICBpZiBPUFRJT05TLnR0eToKICAgICAgICBzdGRvdXQsIF8gPSBzdWJwcm9jZXNzLlBvcGVuKHNh
bHRfYXJndiwgc3Rkb3V0PXN1YnByb2Nlc3MuUElQRSwgc3RkZXJyPXN1YnByb2Nlc3MuUElQRSku
Y29tbXVuaWNhdGUoKQogICAgICAgIHN5cy5zdGRvdXQud3JpdGUoc3Rkb3V0KQogICAgICAgIHN5
cy5zdGRvdXQuZmx1c2goKQogICAgICAgIGlmIE9QVElPTlMud2lwZToKICAgICAgICAgICAgc2h1
dGlsLnJtdHJlZShPUFRJT05TLnNhbHRkaXIpCiAgICBlbGlmIE9QVElPTlMud2lwZToKICAgICAg
ICBzdWJwcm9jZXNzLmNhbGwoc2FsdF9hcmd2KQogICAgICAgIHNodXRpbC5ybXRyZWUoT1BUSU9O
Uy5zYWx0ZGlyKQogICAgZWxzZToKICAgICAgICBvcy5leGVjdihzeXMuZXhlY3V0YWJsZSwgc2Fs
dF9hcmd2KQogICAgaWYgT1BUSU9OUy5jbWRfdW1hc2sgaXMgbm90IE5vbmU6CiAgICAgICAgb3Mu
dW1hc2sob2xkX3VtYXNrKQoKaWYgX19uYW1lX18gPT0gJ19fbWFpbl9fJzoKICAgIHN5cy5leGl0
KG1haW4oc3lzLmFyZ3YpKQo=
""").decode("utf-8"))'
else
exec $SUDO "$py_cmd_path" -c \
'import base64;
exec(base64.b64decode("""IyBweWxpbnQ6IGRpc2FibGU9Vzk5MDMKJycnClRoaXMgaXMgYSBzaGltIHRoYXQgaGFuZGxlcyBj
aGVja2luZyBhbmQgdXBkYXRpbmcgc2FsdCB0aGluIGFuZAp0aGVuIGludm9raW5nIHRoaW4uCgpU
aGlzIGlzIG5vdCBpbnRlbmRlZCB0byBiZSBpbnN0YW50aWF0ZWQgYXMgYSBtb2R1bGUsIHJhdGhl
ciBpdCBpcyBhCmhlbHBlciBzY3JpcHQgdXNlZCBieSBzYWx0LmNsaWVudC5zc2guU2luZ2xlLiAg
SXQgaXMgaGVyZSwgaW4gYQpzZXBhcmF0ZSBmaWxlLCBmb3IgY29udmVuaWVuY2Ugb2YgZGV2ZWxv
cG1lbnQuCicnJwoKZnJvbSBfX2Z1dHVyZV9fIGltcG9ydCBhYnNvbHV0ZV9pbXBvcnQKCmltcG9y
dCBoYXNobGliCmltcG9ydCB0YXJmaWxlCmltcG9ydCBzaHV0aWwKaW1wb3J0IHN5cwppbXBvcnQg
b3MKaW1wb3J0IHN0YXQKaW1wb3J0IHN1YnByb2Nlc3MKClRISU5fQVJDSElWRSA9ICdzYWx0LXRo
aW4udGd6JwpFWFRfQVJDSElWRSA9ICdzYWx0LWV4dF9tb2RzLnRneicKCiMgS2VlcCB0aGVzZSBp
biBzeW5jIHdpdGggc2FsdC9kZWZhdWx0cy9leGl0Y29kZXMucHkKRVhfVEhJTl9ERVBMT1kgPSAx
MQpFWF9USElOX0NIRUNLU1VNID0gMTIKRVhfTU9EX0RFUExPWSA9IDEzCkVYX1NDUF9OT1RfRk9V
TkQgPSAxNApFWF9DQU5UQ1JFQVQgPSA3MwoKCmNsYXNzIE9CSihvYmplY3QpOgogICAgIiIiQW4g
ZW1wdHkgY2xhc3MgZm9yIGhvbGRpbmcgaW5zdGFuY2UgYXR0cmlidXRlIHZhbHVlcy4iIiIKICAg
IHBhc3MKCgpPUFRJT05TID0gTm9uZQpBUkdTID0gTm9uZQojIFRoZSBiZWxvdyBsaW5lIGlzIHdo
ZXJlIE9QVElPTlMgY2FuIGJlIHJlZGVmaW5lZCB3aXRoIGludGVybmFsIG9wdGlvbnMKIyAocmF0
aGVyIHRoYW4gY2xpIGFyZ3VtZW50cykgd2hlbiB0aGUgc2hpbSBpcyBidW5kbGVkIGJ5CiMgY2xp
ZW50LnNzaC5TaW5nbGUuX2NtZF9zdHIoKQojIHB5bGludDogZGlzYWJsZT1ibG9jay1jb21tZW50
LXNob3VsZC1zdGFydC13aXRoLWNhcmRpbmFsLXNwYWNlCgpPUFRJT05TID0gT0JKKCkKT1BUSU9O
Uy5jb25maWcgPSAiIiIKe2ZpbGVzZXJ2ZXJfbGlzdF9jYWNoZV90aW1lOiAzLCBncmFpbnNfY2Fj
aGU6IHRydWUsIGlkOiBsb2NhbCwgbG9nX2ZpbGU6IHNhbHQtY2FsbC5sb2csCiAgcm9vdF9kaXI6
IC92YXIvdG1wLy5zYWx0LW9wZV8xYTM1MzJfc2FsdC9ydW5uaW5nX2RhdGEsIHNvY2tfZGlyOiAv
fQoiIiIKT1BUSU9OUy5kZWxpbWl0ZXIgPSAnX2VkYmM3ODg1ZTRmOWFhYzliODNiMzU5OTliNjhk
MDE1MTQ4Y2FmNDY3Yjc4ZmEzOWMwNWY2NjljMGZmODk4NzgnCk9QVElPTlMuc2FsdGRpciA9ICcv
dmFyL3RtcC8uc2FsdC1vcGVfMWEzNTMyX3NhbHQnCk9QVElPTlMuY2hlY2tzdW0gPSAnMmUyNWZj
YmI2YWEyNTU5OWQ1MmU4OTVkZTZlMjExOTZkNWM2ZTU5NScKT1BUSU9OUy5oYXNoZnVuYyA9ICdz
aGExJwpPUFRJT05TLnZlcnNpb24gPSAnMjAxNi4zLjInCk9QVElPTlMuZXh0X21vZHMgPSAnJwpP
UFRJT05TLndpcGUgPSBGYWxzZQpPUFRJT05TLnR0eSA9IEZhbHNlCk9QVElPTlMuY21kX3VtYXNr
ID0gTm9uZQpBUkdTID0gWydzdGF0ZS5wa2cgL3Zhci90bXAvLnNhbHQtb3BlXzFhMzUzMl9zYWx0
L3NhbHRfc3RhdGUudGd6IHRlc3Q9Tm9uZSBwa2dfc3VtPTMzZGJlYTk5ODUxYjVkZDk5ZTJmNzQ3
YWU3NDA0NGRhIGhhc2hfdHlwZT1tZDUnXQoKCgpkZWYgbmVlZF9kZXBsb3ltZW50KCk6CiAgICAi
IiIKICAgIFNhbHQgdGhpbiBuZWVkcyB0byBiZSBkZXBsb3llZCAtIHByZXAgdGhlIHRhcmdldCBk
aXJlY3RvcnkgYW5kIGVtaXQgdGhlCiAgICBkZWxpbWV0ZXIgYW5kIGV4aXQgY29kZSB0aGF0IHNp
Z25hbHMgYSByZXF1aXJlZCBkZXBsb3ltZW50LgogICAgIiIiCiAgICBpZiBvcy5wYXRoLmV4aXN0
cyhPUFRJT05TLnNhbHRkaXIpOgogICAgICAgIHNodXRpbC5ybXRyZWUoT1BUSU9OUy5zYWx0ZGly
KQogICAgb2xkX3VtYXNrID0gb3MudW1hc2soMG8wNzcpCiAgICBvcy5tYWtlZGlycyhPUFRJT05T
LnNhbHRkaXIpCiAgICBvcy51bWFzayhvbGRfdW1hc2spCiAgICAjIFZlcmlmeSBwZXJtcyBvbiBz
YWx0ZGlyCiAgICBldWlkID0gb3MuZ2V0ZXVpZCgpCiAgICBkc3RhdCA9IG9zLnN0YXQoT1BUSU9O
Uy5zYWx0ZGlyKQogICAgaWYgZHN0YXQuc3RfdWlkICE9IGV1aWQ6CiAgICAgICAgIyBBdHRhY2sg
ZGV0ZWN0ZWQsIHRyeSBhZ2FpbgogICAgICAgIG5lZWRfZGVwbG95bWVudCgpCiAgICBpZiBkc3Rh
dC5zdF9tb2RlICE9IDE2ODMyOgogICAgICAgICMgQXR0YWNrIGRldGVjdGVkCiAgICAgICAgbmVl
ZF9kZXBsb3ltZW50KCkKICAgICMgSWYgU1VET2luZyB0aGVuIGFsc28gZ2l2ZSB0aGUgc3VwZXIg
dXNlciBncm91cCB3cml0ZSBwZXJtaXNzaW9ucwogICAgc3Vkb19naWQgPSBvcy5lbnZpcm9uLmdl
dCgnU1VET19HSUQnKQogICAgaWYgc3Vkb19naWQ6CiAgICAgICAgb3MuY2hvd24oT1BUSU9OUy5z
YWx0ZGlyLCAtMSwgaW50KHN1ZG9fZ2lkKSkKICAgICAgICBzdHQgPSBvcy5zdGF0KE9QVElPTlMu
c2FsdGRpcikKICAgICAgICBvcy5jaG1vZChPUFRJT05TLnNhbHRkaXIsIHN0dC5zdF9tb2RlIHwg
c3RhdC5TX0lXR1JQIHwgc3RhdC5TX0lSR1JQIHwgc3RhdC5TX0lYR1JQKQoKICAgICMgRGVsaW1p
dGVyIGVtaXR0ZWQgb24gc3Rkb3V0ICpvbmx5KiB0byBpbmRpY2F0ZSBzaGltIG1lc3NhZ2UgdG8g
bWFzdGVyLgogICAgc3lzLnN0ZG91dC53cml0ZSgiezB9XG5kZXBsb3lcbiIuZm9ybWF0KE9QVElP
TlMuZGVsaW1pdGVyKSkKICAgIHN5cy5leGl0KEVYX1RISU5fREVQTE9ZKQoKCiMgQWRhcHRlZCBm
cm9tIHNhbHQudXRpbHMuZ2V0X2hhc2goKQpkZWYgZ2V0X2hhc2gocGF0aCwgZm9ybT0nc2hhMScs
IGNodW5rX3NpemU9NDA5Nik6CiAgICAiIiJHZW5lcmF0ZSBhIGhhc2ggZGlnZXN0IHN0cmluZyBm
b3IgYSBmaWxlLiIiIgogICAgdHJ5OgogICAgICAgIGhhc2hfdHlwZSA9IGdldGF0dHIoaGFzaGxp
YiwgZm9ybSkKICAgIGV4Y2VwdCBBdHRyaWJ1dGVFcnJvcjoKICAgICAgICByYWlzZSBWYWx1ZUVy
cm9yKCdJbnZhbGlkIGhhc2ggdHlwZTogezB9Jy5mb3JtYXQoZm9ybSkpCiAgICB3aXRoIG9wZW4o
cGF0aCwgJ3JiJykgYXMgaWZpbGU6CiAgICAgICAgaGFzaF9vYmogPSBoYXNoX3R5cGUoKQogICAg
ICAgICMgcmVhZCB0aGUgZmlsZSBpbiBpbiBjaHVua3MsIG5vdCB0aGUgZW50aXJlIGZpbGUKICAg
ICAgICBmb3IgY2h1bmsgaW4gaXRlcihsYW1iZGE6IGlmaWxlLnJlYWQoY2h1bmtfc2l6ZSksIGIn
Jyk6CiAgICAgICAgICAgIGhhc2hfb2JqLnVwZGF0ZShjaHVuaykKICAgICAgICByZXR1cm4gaGFz
aF9vYmouaGV4ZGlnZXN0KCkKCgpkZWYgdW5wYWNrX3RoaW4odGhpbl9wYXRoKToKICAgICIiIlVu
cGFjayB0aGUgU2FsdCB0aGluIGFyY2hpdmUuIiIiCiAgICB0ZmlsZSA9IHRhcmZpbGUuVGFyRmls
ZS5nem9wZW4odGhpbl9wYXRoKQogICAgb2xkX3VtYXNrID0gb3MudW1hc2soMG8wNzcpCiAgICB0
ZmlsZS5leHRyYWN0YWxsKHBhdGg9T1BUSU9OUy5zYWx0ZGlyKQogICAgdGZpbGUuY2xvc2UoKQog
ICAgb3MudW1hc2sob2xkX3VtYXNrKQogICAgb3MudW5saW5rKHRoaW5fcGF0aCkKCgpkZWYgbmVl
ZF9leHQoKToKICAgICIiIlNpZ25hbCB0aGF0IGV4dGVybmFsIG1vZHVsZXMgbmVlZCB0byBiZSBk
ZXBsb3llZC4iIiIKICAgIHN5cy5zdGRvdXQud3JpdGUoInswfVxuZXh0X21vZHNcbiIuZm9ybWF0
KE9QVElPTlMuZGVsaW1pdGVyKSkKICAgIHN5cy5leGl0KEVYX01PRF9ERVBMT1kpCgoKZGVmIHVu
cGFja19leHQoZXh0X3BhdGgpOgogICAgIiIiVW5wYWNrIHRoZSBleHRlcm5hbCBtb2R1bGVzLiIi
IgogICAgbW9kY2FjaGUgPSBvcy5wYXRoLmpvaW4oCiAgICAgICAgICAgIE9QVElPTlMuc2FsdGRp
ciwKICAgICAgICAgICAgJ3J1bm5pbmdfZGF0YScsCiAgICAgICAgICAgICd2YXInLAogICAgICAg
ICAgICAnY2FjaGUnLAogICAgICAgICAgICAnc2FsdCcsCiAgICAgICAgICAgICdtaW5pb24nLAog
ICAgICAgICAgICAnZXh0bW9kcycpCiAgICB0ZmlsZSA9IHRhcmZpbGUuVGFyRmlsZS5nem9wZW4o
ZXh0X3BhdGgpCiAgICBvbGRfdW1hc2sgPSBvcy51bWFzaygwbzA3NykKICAgIHRmaWxlLmV4dHJh
Y3RhbGwocGF0aD1tb2RjYWNoZSkKICAgIHRmaWxlLmNsb3NlKCkKICAgIG9zLnVtYXNrKG9sZF91
bWFzaykKICAgIG9zLnVubGluayhleHRfcGF0aCkKICAgIHZlcl9wYXRoID0gb3MucGF0aC5qb2lu
KG1vZGNhY2hlLCAnZXh0X3ZlcnNpb24nKQogICAgdmVyX2RzdCA9IG9zLnBhdGguam9pbihPUFRJ
T05TLnNhbHRkaXIsICdleHRfdmVyc2lvbicpCiAgICBzaHV0aWwubW92ZSh2ZXJfcGF0aCwgdmVy
X2RzdCkKCgpkZWYgbWFpbihhcmd2KTogICMgcHlsaW50OiBkaXNhYmxlPVcwNjEzCiAgICAiIiJN
YWluIHByb2dyYW0gYm9keSIiIgogICAgdGhpbl9wYXRoID0gb3MucGF0aC5qb2luKE9QVElPTlMu
c2FsdGRpciwgVEhJTl9BUkNISVZFKQogICAgaWYgb3MucGF0aC5pc2ZpbGUodGhpbl9wYXRoKToK
ICAgICAgICBpZiBPUFRJT05TLmNoZWNrc3VtICE9IGdldF9oYXNoKHRoaW5fcGF0aCwgT1BUSU9O
Uy5oYXNoZnVuYyk6CiAgICAgICAgICAgIHN5cy5zdGRlcnIud3JpdGUoJ3swfVxuJy5mb3JtYXQo
T1BUSU9OUy5jaGVja3N1bSkpCiAgICAgICAgICAgIHN5cy5zdGRlcnIud3JpdGUoJ3swfVxuJy5m
b3JtYXQoZ2V0X2hhc2godGhpbl9wYXRoLCBPUFRJT05TLmhhc2hmdW5jKSkpCiAgICAgICAgICAg
IG9zLnVubGluayh0aGluX3BhdGgpCiAgICAgICAgICAgIHN5cy5zdGRlcnIud3JpdGUoJ1dBUk5J
Tkc6IGNoZWNrc3VtIG1pc21hdGNoIGZvciAiezB9IlxuJy5mb3JtYXQodGhpbl9wYXRoKSkKICAg
ICAgICAgICAgc3lzLmV4aXQoRVhfVEhJTl9DSEVDS1NVTSkKICAgICAgICB1bnBhY2tfdGhpbih0
aGluX3BhdGgpCiAgICAgICAgIyBTYWx0IHRoaW4gbm93IGlzIGF2YWlsYWJsZSB0byB1c2UKICAg
IGVsc2U6CiAgICAgICAgc2Nwc3RhdCA9IHN1YnByb2Nlc3MuUG9wZW4oWycvYmluL3NoJywgJy1j
JywgJ2NvbW1hbmQgLXYgc2NwJ10pLndhaXQoKQogICAgICAgIGlmIHNjcHN0YXQgIT0gMDoKICAg
ICAgICAgICAgc3lzLmV4aXQoRVhfU0NQX05PVF9GT1VORCkKCiAgICAgICAgaWYgbm90IG9zLnBh
dGguZXhpc3RzKE9QVElPTlMuc2FsdGRpcik6CiAgICAgICAgICAgIG5lZWRfZGVwbG95bWVudCgp
CgogICAgICAgIGlmIG5vdCBvcy5wYXRoLmlzZGlyKE9QVElPTlMuc2FsdGRpcik6CiAgICAgICAg
ICAgIHN5cy5zdGRlcnIud3JpdGUoCiAgICAgICAgICAgICAgICAnRVJST1I6IHNhbHQgcGF0aCAi
ezB9IiBleGlzdHMgYnV0IGlzJwogICAgICAgICAgICAgICAgJyBub3QgYSBkaXJlY3Rvcnlcbicu
Zm9ybWF0KE9QVElPTlMuc2FsdGRpcikKICAgICAgICAgICAgKQogICAgICAgICAgICBzeXMuZXhp
dChFWF9DQU5UQ1JFQVQpCgogICAgICAgIHZlcnNpb25fcGF0aCA9IG9zLnBhdGguam9pbihPUFRJ
T05TLnNhbHRkaXIsICd2ZXJzaW9uJykKICAgICAgICBpZiBub3Qgb3MucGF0aC5leGlzdHModmVy
c2lvbl9wYXRoKSBvciBub3Qgb3MucGF0aC5pc2ZpbGUodmVyc2lvbl9wYXRoKToKICAgICAgICAg
ICAgc3lzLnN0ZGVyci53cml0ZSgKICAgICAgICAgICAgICAgICdXQVJOSU5HOiBVbmFibGUgdG8g
bG9jYXRlIGN1cnJlbnQgdGhpbiAnCiAgICAgICAgICAgICAgICAnIHZlcnNpb246IHswfS5cbicu
Zm9ybWF0KHZlcnNpb25fcGF0aCkKICAgICAgICAgICAgKQogICAgICAgICAgICBuZWVkX2RlcGxv
eW1lbnQoKQogICAgICAgIHdpdGggb3Blbih2ZXJzaW9uX3BhdGgsICdyJykgYXMgdnBvOgogICAg
ICAgICAgICBjdXJfdmVyc2lvbiA9IHZwby5yZWFkbGluZSgpLnN0cmlwKCkKICAgICAgICBpZiBj
dXJfdmVyc2lvbiAhPSBPUFRJT05TLnZlcnNpb246CiAgICAgICAgICAgIHN5cy5zdGRlcnIud3Jp
dGUoCiAgICAgICAgICAgICAgICAnV0FSTklORzogY3VycmVudCB0aGluIHZlcnNpb24gezB9Jwog
ICAgICAgICAgICAgICAgJyBpcyBub3QgdXAtdG8tZGF0ZSB3aXRoIHsxfS5cbicuZm9ybWF0KAog
ICAgICAgICAgICAgICAgICAgIGN1cl92ZXJzaW9uLCBPUFRJT05TLnZlcnNpb24KICAgICAgICAg
ICAgICAgICkKICAgICAgICAgICAgKQogICAgICAgICAgICBuZWVkX2RlcGxveW1lbnQoKQogICAg
ICAgICMgU2FsdCB0aGluIGV4aXN0cyBhbmQgaXMgdXAtdG8tZGF0ZSAtIGZhbGwgdGhyb3VnaCBh
bmQgdXNlIGl0CgogICAgc2FsdF9jYWxsX3BhdGggPSBvcy5wYXRoLmpvaW4oT1BUSU9OUy5zYWx0
ZGlyLCAnc2FsdC1jYWxsJykKICAgIGlmIG5vdCBvcy5wYXRoLmlzZmlsZShzYWx0X2NhbGxfcGF0
aCk6CiAgICAgICAgc3lzLnN0ZGVyci53cml0ZSgnRVJST1I6IHRoaW4gaXMgbWlzc2luZyAiezB9
IlxuJy5mb3JtYXQoc2FsdF9jYWxsX3BhdGgpKQogICAgICAgIG5lZWRfZGVwbG95bWVudCgpCgog
ICAgd2l0aCBvcGVuKG9zLnBhdGguam9pbihPUFRJT05TLnNhbHRkaXIsICdtaW5pb24nKSwgJ3cn
KSBhcyBjb25maWc6CiAgICAgICAgY29uZmlnLndyaXRlKE9QVElPTlMuY29uZmlnICsgJ1xuJykK
ICAgIGlmIE9QVElPTlMuZXh0X21vZHM6CiAgICAgICAgZXh0X3BhdGggPSBvcy5wYXRoLmpvaW4o
T1BUSU9OUy5zYWx0ZGlyLCBFWFRfQVJDSElWRSkKICAgICAgICBpZiBvcy5wYXRoLmV4aXN0cyhl
eHRfcGF0aCk6CiAgICAgICAgICAgIHVucGFja19leHQoZXh0X3BhdGgpCiAgICAgICAgZWxzZToK
ICAgICAgICAgICAgdmVyc2lvbl9wYXRoID0gb3MucGF0aC5qb2luKE9QVElPTlMuc2FsdGRpciwg
J2V4dF92ZXJzaW9uJykKICAgICAgICAgICAgaWYgbm90IG9zLnBhdGguZXhpc3RzKHZlcnNpb25f
cGF0aCkgb3Igbm90IG9zLnBhdGguaXNmaWxlKHZlcnNpb25fcGF0aCk6CiAgICAgICAgICAgICAg
ICBuZWVkX2V4dCgpCiAgICAgICAgICAgIHdpdGggb3Blbih2ZXJzaW9uX3BhdGgsICdyJykgYXMg
dnBvOgogICAgICAgICAgICAgICAgY3VyX3ZlcnNpb24gPSB2cG8ucmVhZGxpbmUoKS5zdHJpcCgp
CiAgICAgICAgICAgIGlmIGN1cl92ZXJzaW9uICE9IE9QVElPTlMuZXh0X21vZHM6CiAgICAgICAg
ICAgICAgICBuZWVkX2V4dCgpCiAgICAjIEZpeCBwYXJhbWV0ZXIgcGFzc2luZyBpc3N1ZQogICAg
aWYgbGVuKEFSR1MpID09IDE6CiAgICAgICAgYXJndl9wcmVwYXJlZCA9IEFSR1NbMF0uc3BsaXQo
KQogICAgZWxzZToKICAgICAgICBhcmd2X3ByZXBhcmVkID0gQVJHUwoKICAgIHNhbHRfYXJndiA9
IFsKICAgICAgICBzeXMuZXhlY3V0YWJsZSwKICAgICAgICBzYWx0X2NhbGxfcGF0aCwKICAgICAg
ICAnLS1yZXRjb2RlLXBhc3N0aHJvdWdoJywKICAgICAgICAnLS1sb2NhbCcsCiAgICAgICAgJy0t
bWV0YWRhdGEnLAogICAgICAgICctLW91dCcsICdqc29uJywKICAgICAgICAnLWwnLCAncXVpZXQn
LAogICAgICAgICctYycsIE9QVElPTlMuc2FsdGRpciwKICAgICAgICAnLS0nLAogICAgXSArIGFy
Z3ZfcHJlcGFyZWQKCiAgICBzeXMuc3RkZXJyLndyaXRlKCdTQUxUX0FSR1Y6IHswfVxuJy5mb3Jt
YXQoc2FsdF9hcmd2KSkKCiAgICAjIE9ubHkgZW1pdCB0aGUgZGVsaW1pdGVyIG9uICpib3RoKiBz
dGRvdXQgYW5kIHN0ZGVyciB3aGVuIGNvbXBsZXRlbHkgc3VjY2Vzc2Z1bC4KICAgICMgWWVzLCB0
aGUgZmx1c2goKSBpcyBuZWNlc3NhcnkuCiAgICBzeXMuc3Rkb3V0LndyaXRlKE9QVElPTlMuZGVs
aW1pdGVyICsgJ1xuJykKICAgIHN5cy5zdGRvdXQuZmx1c2goKQogICAgaWYgbm90IE9QVElPTlMu
dHR5OgogICAgICAgIHN5cy5zdGRlcnIud3JpdGUoT1BUSU9OUy5kZWxpbWl0ZXIgKyAnXG4nKQog
ICAgICAgIHN5cy5zdGRlcnIuZmx1c2goKQogICAgaWYgT1BUSU9OUy5jbWRfdW1hc2sgaXMgbm90
IE5vbmU6CiAgICAgICAgb2xkX3VtYXNrID0gb3MudW1hc2soT1BUSU9OUy5jbWRfdW1hc2spCiAg
ICBpZiBPUFRJT05TLnR0eToKICAgICAgICBzdGRvdXQsIF8gPSBzdWJwcm9jZXNzLlBvcGVuKHNh
bHRfYXJndiwgc3Rkb3V0PXN1YnByb2Nlc3MuUElQRSwgc3RkZXJyPXN1YnByb2Nlc3MuUElQRSku
Y29tbXVuaWNhdGUoKQogICAgICAgIHN5cy5zdGRvdXQud3JpdGUoc3Rkb3V0KQogICAgICAgIHN5
cy5zdGRvdXQuZmx1c2goKQogICAgICAgIGlmIE9QVElPTlMud2lwZToKICAgICAgICAgICAgc2h1
dGlsLnJtdHJlZShPUFRJT05TLnNhbHRkaXIpCiAgICBlbGlmIE9QVElPTlMud2lwZToKICAgICAg
ICBzdWJwcm9jZXNzLmNhbGwoc2FsdF9hcmd2KQogICAgICAgIHNodXRpbC5ybXRyZWUoT1BUSU9O
Uy5zYWx0ZGlyKQogICAgZWxzZToKICAgICAgICBvcy5leGVjdihzeXMuZXhlY3V0YWJsZSwgc2Fs
dF9hcmd2KQogICAgaWYgT1BUSU9OUy5jbWRfdW1hc2sgaXMgbm90IE5vbmU6CiAgICAgICAgb3Mu
dW1hc2sob2xkX3VtYXNrKQoKaWYgX19uYW1lX18gPT0gJ19fbWFpbl9fJzoKICAgIHN5cy5leGl0
KG1haW4oc3lzLmFyZ3YpKQo=
""").decode("utf-8"))'
fi
exit 0
else
continue
fi
done
echo "ERROR: Unable to locate appropriate python command" >&2
exit $EX_PYTHON_INVALID
EOF
2016-08-27 20:51:57,813 [salt.utils.vt.Terminal.PID-7217.STDOUT][TRACE   ][7069] salt-ope@127.0.0.1's password:
2016-08-27 20:51:58,077 [salt.utils.vt.Terminal.PID-7217.STDERR][TRACE   ][7069] SALT_ARGV: ['/usr/bin/python2.6', '/var/tmp/.salt-ope_1a3532_salt/salt-call', '--retcode-passthrough', '--local', '--metadata', '--out', 'json', '-l', 'quiet', '-c', '/var/tmp/.salt-ope_1a3532_salt', '--', 'state.pkg', '/var/tmp/.salt-ope_1a3532_salt/salt_state.tgz', 'test=None', 'pkg_sum=33dbea99851b5dd99e2f747ae74044da', 'hash_type=md5']
_edbc7885e4f9aac9b83b35999b68d015148caf467b78fa39c05f669c0ff89878
2016-08-27 20:51:58,078 [salt.utils.vt.Terminal.PID-7217.STDOUT][TRACE   ][7069] /usr/bin/scp
_edbc7885e4f9aac9b83b35999b68d015148caf467b78fa39c05f669c0ff89878
2016-08-27 20:52:00,569 [salt.utils.vt.Terminal.PID-7217.STDOUT][TRACE   ][7069] {
    "local": {
        "fun_args": [
            "/var/tmp/.salt-ope_1a3532_salt/salt_state.tgz", 
            "test=None", 
            "pkg_sum=33dbea99851b5dd99e2f747ae74044da", 
            "hash_type=md5"
        ], 
        "jid": "20160827205158407856", 
        "return": {
            "service_|-rsyslog_|-rsyslog_|-running": {
                "comment": "Service restarted", 
                "name": "rsyslog", 
                "start_time": "20:52:00.367191", 
                "result": true, 
                "duration": 193.41499999999999, 
                "__run_num__": 3, 
                "changes": {
                    "rsyslog": true
                }, 
                "__id__": "rsyslog"
            }, 
            "pkg_|-install_packages_|-install_packages_|-installed": {
                "comment": "All specified packages are already installed", 
                "name": "rsyslog", 
                "start_time": "20:51:59.748297", 
                "result": true,
2016-08-27 20:52:00,580 [salt.utils.vt.Terminal.PID-7217.STDOUT][TRACE   ][7069]              "duration": 389.83999999999997, 
                "__run_num__": 0, 
                "changes": {}, 
                "__id__": "install_packages"
            }, 
            "file_|-/etc/rsyslog.conf_|-/etc/rsyslog.conf_|-managed": {
                "comment": "File /etc/rsyslog.conf updated", 
                "pchanges": {
                    "diff": "---  \n+++  \n@@ -78,4 +78,4 @@\n # remote host is: name/ip:port, e.g. 192.168.0.1:514, port optional\n #*.* @@remote-host:514\n # ### end of the forwarding rule ###\n-*.* @192.168.1.12 514\n+*.* @192.168.1.12:514\n"
                }, 
                "name": "/etc/rsyslog.conf", 
                "start_time": "20:52:00.158253", 
                "result": true, 
                "duration": 149.04300000000001, 
                "__run_num__": 1, 
                "changes": {
                    "diff": "---  \n+++  \n@@ -78,4 +78,4 @@\n # remote host is: name/ip:port, e.g. 192.168.0.1:514, port optional\n #*.* @@remote-host:514\n # ##
2016-08-27 20:52:00,593 [salt.utils.vt.Terminal.PID-7217.STDOUT][TRACE   ][7069] # end of the forwarding rule ###\n-*.* @192.168.1.12 514\n+*.* @192.168.1.12:514\n"
                }, 
                "__id__": "/etc/rsyslog.conf"
            }
        }, 
        "retcode": 0, 
        "fun": "state.pkg", 
        "id": "local", 
        "out": "highstate"
    }
}
2016-08-27 20:52:00,861 [salt.client.ssh  ][TRACE   ][7069] STDOUT 127.0.0.1
salt-ope@127.0.0.1's password: 
/usr/bin/scp
_edbc7885e4f9aac9b83b35999b68d015148caf467b78fa39c05f669c0ff89878
{
    "local": {
        "fun_args": [
            "/var/tmp/.salt-ope_1a3532_salt/salt_state.tgz", 
            "test=None", 
            "pkg_sum=33dbea99851b5dd99e2f747ae74044da", 
            "hash_type=md5"
        ], 
        "jid": "20160827205158407856", 
        "return": {
            "service_|-rsyslog_|-rsyslog_|-running": {
                "comment": "Service restarted", 
                "name": "rsyslog", 
                "start_time": "20:52:00.367191", 
                "result": true, 
                "duration": 193.41499999999999, 
                "__run_num__": 3, 
                "changes": {
                    "rsyslog": true
                }, 
                "__id__": "rsyslog"
            }, 
            "pkg_|-install_packages_|-install_packages_|-installed": {
                "comment": "All specified packages are already installed", 
                "name": "rsyslog", 
                "start_time": "20:51:59.748297", 
                "result": true, 
                "duration": 389.83999999999997, 
                "__run_num__": 0, 
                "changes": {}, 
                "__id__": "install_packages"
            }, 
            "file_|-/etc/rsyslog.conf_|-/etc/rsyslog.conf_|-managed": {
                "comment": "File /etc/rsyslog.conf updated", 
                "pchanges": {
                    "diff": "---  \n+++  \n@@ -78,4 +78,4 @@\n # remote host is: name/ip:port, e.g. 192.168.0.1:514, port optional\n #*.* @@remote-host:514\n # ### end of the forwarding rule ###\n-*.* @192.168.1.12 514\n+*.* @192.168.1.12:514\n"
                }, 
                "name": "/etc/rsyslog.conf", 
                "start_time": "20:52:00.158253", 
                "result": true, 
                "duration": 149.04300000000001, 
                "__run_num__": 1, 
                "changes": {
                    "diff": "---  \n+++  \n@@ -78,4 +78,4 @@\n # remote host is: name/ip:port, e.g. 192.168.0.1:514, port optional\n #*.* @@remote-host:514\n # ### end of the forwarding rule ###\n-*.* @192.168.1.12 514\n+*.* @192.168.1.12:514\n"
                }, 
                "__id__": "/etc/rsyslog.conf"
            }
        }, 
        "retcode": 0, 
        "fun": "state.pkg", 
        "id": "local", 
        "out": "highstate"
    }
}

2016-08-27 20:52:00,862 [salt.client.ssh  ][TRACE   ][7069] STDERR 127.0.0.1
SALT_ARGV: ['/usr/bin/python2.6', '/var/tmp/.salt-ope_1a3532_salt/salt-call', '--retcode-passthrough', '--local', '--metadata', '--out', 'json', '-l', 'quiet', '-c', '/var/tmp/.salt-ope_1a3532_salt', '--', 'state.pkg', '/var/tmp/.salt-ope_1a3532_salt/salt_state.tgz', 'test=None', 'pkg_sum=33dbea99851b5dd99e2f747ae74044da', 'hash_type=md5']
_edbc7885e4f9aac9b83b35999b68d015148caf467b78fa39c05f669c0ff89878

2016-08-27 20:52:00,862 [salt.client.ssh  ][DEBUG   ][7069] RETCODE 127.0.0.1: 0
2016-08-27 20:52:00,971 [salt.utils.lazy  ][DEBUG   ][7053] LazyLoaded highstate.output
2016-08-27 20:52:00,974 [salt.utils.lazy  ][DEBUG   ][7053] LazyLoaded nested.output
2016-08-27 20:52:00,977 [salt.utils.lazy  ][DEBUG   ][7053] LazyLoaded nested.output
2016-08-27 20:52:00,978 [salt.output      ][TRACE   ][7053] data = {'local': {'file_|-/etc/rsyslog.conf_|-/etc/rsyslog.conf_|-managed': {'comment': u'File /etc/rsyslog.conf updated', 'pchanges': {'diff': '---  \n+++  \n@@ -78,4 +78,4 @@\n # remote host is: name/ip:port, e.g. 192.168.0.1:514, port optional\n #*.* @@remote-host:514\n # ### end of the forwarding rule ###\n-*.* @192.168.1.12 514\n+*.* @192.168.1.12:514\n'}, 'name': '/etc/rsyslog.conf', 'start_time': '20:52:00.158253', 'result': True, 'duration': u'149.043 ms', '__run_num__': 1, 'changes': {'diff': '---  \n+++  \n@@ -78,4 +78,4 @@\n # remote host is: name/ip:port, e.g. 192.168.0.1:514, port optional\n #*.* @@remote-host:514\n # ### end of the forwarding rule ###\n-*.* @192.168.1.12 514\n+*.* @192.168.1.12:514\n'}, '__id__': '/etc/rsyslog.conf'}, 'pkg_|-install_packages_|-install_packages_|-installed': {'comment': u'All specified packages are already installed', 'name': 'rsyslog', 'start_time': '20:51:59.748297', 'result': True, 'duration': u'389.84 ms', '__run_num__': 0, 'changes': {}, '__id__': 'install_packages'}, 'service_|-rsyslog_|-rsyslog_|-running': {'comment': u'Service restarted', 'name': 'rsyslog', 'start_time': '20:52:00.367191', 'result': True, 'duration': u'193.415 ms', '__run_num__': 3, 'changes': {'rsyslog': True}, '__id__': 'rsyslog'}}}
2016-09-04 13:23:25,968 [salt.state       ][ERROR   ][2506] Unable to render top file: expected alphabetic or numeric character, but found ':'
2016-09-04 13:24:33,813 [salt.client.ssh  ][ERROR   ][2548] TypeError encountered executing state.apply: apply_() takes at most 1 argument (10 given)
2016-09-04 13:24:59,558 [salt.state       ][ERROR   ][2581] Unable to render top file: expected alphabetic or numeric character, but found ':'
2016-09-04 13:25:12,038 [salt.client.ssh  ][ERROR   ][2632] TypeError encountered executing state.apply: apply_() takes at most 1 argument (10 given)
2016-09-04 13:26:44,391 [salt.state       ][CRITICAL][2726] Rendering SLS 'base:top' failed: expected alphabetic or numeric character, but found ':'; line 2

---
base:
  *:    <======================
    - setup-shell
    - rsyslog
    - munin

 
---
2016-09-29 00:00:05,147 [salt.utils.templates][ERROR   ][15662] Rendering exception occurred: Jinja variable 'munin_async' is undefined
2016-09-29 00:00:05,148 [salt.state       ][CRITICAL][15662] Rendering SLS 'base:munin' failed: Jinja variable 'munin_async' is undefined
2016-10-01 00:36:12,719 [salt.utils.templates][ERROR   ][17496] Rendering exception occurred: Jinja error: argument of type 'StrictUndefined' is not iterable
Traceback (most recent call last):
  File "/usr/lib/python2.6/site-packages/salt/utils/templates.py", line 366, in render_jinja_tmpl
    output = template.render(**decoded_context)
  File "/usr/lib/python2.6/site-packages/jinja2/environment.py", line 969, in render
    return self.environment.handle_exception(exc_info, True)
  File "/usr/lib/python2.6/site-packages/jinja2/environment.py", line 742, in handle_exception
    reraise(exc_type, exc_value, tb)
  File "<template>", line 169, in top-level template code
TypeError: argument of type 'StrictUndefined' is not iterable

; line 169

---
[...]
    - file: /etc/munin/munin.conf
{% if host_addr in munin_server_list %}
    - file: /etc/munin/munin-htpasswd
{% endif %}

{% if host_addr in munin_async_list %}    <======================
munin-asyncd:
  service.running:
  - enable: True
{% endif %}

[...]
---
2016-10-01 00:36:12,722 [salt.state       ][CRITICAL][17496] Rendering SLS 'base:munin' failed: Jinja error: argument of type 'StrictUndefined' is not iterable
Traceback (most recent call last):
  File "/usr/lib/python2.6/site-packages/salt/utils/templates.py", line 366, in render_jinja_tmpl
    output = template.render(**decoded_context)
  File "/usr/lib/python2.6/site-packages/jinja2/environment.py", line 969, in render
    return self.environment.handle_exception(exc_info, True)
  File "/usr/lib/python2.6/site-packages/jinja2/environment.py", line 742, in handle_exception
    reraise(exc_type, exc_value, tb)
  File "<template>", line 169, in top-level template code
TypeError: argument of type 'StrictUndefined' is not iterable

; line 169

---
[...]
    - file: /etc/munin/munin.conf
{% if host_addr in munin_server_list %}
    - file: /etc/munin/munin-htpasswd
{% endif %}

{% if host_addr in munin_async_list %}    <======================
munin-asyncd:
  service.running:
  - enable: True
{% endif %}

[...]
---
2016-10-02 13:57:01,209 [salt.utils.templates][ERROR   ][2685] Rendering exception occurred: Jinja syntax error: Unexpected end of template. Jinja was looking for the following tags: 'endfor' or 'else'. The innermost block that needs to be closed is 'for'.; line 174

---
[...]
{% for munin_async in munin_async_client %}
{% if host_addr in munin_async.ip %}
munin-asyncd:
  service.running:
  - enable: True
{% endif %}    <======================


---
2016-10-02 13:57:01,227 [salt.state       ][CRITICAL][2685] Rendering SLS 'base:munin' failed: Jinja syntax error: Unexpected end of template. Jinja was looking for the following tags: 'endfor' or 'else'. The innermost block that needs to be closed is 'for'.; line 174

---
[...]
{% for munin_async in munin_async_client %}
{% if host_addr in munin_async.ip %}
munin-asyncd:
  service.running:
  - enable: True
{% endif %}    <======================


---
2016-10-02 14:21:18,181 [salt.state       ][CRITICAL][2848] Rendering SLS 'base:munin' failed: Conflicting ID '/var/lib/munin-async/.ssh'
2016-10-02 19:28:56,463 [salt.state       ][CRITICAL][3353] Rendering SLS 'base:munin' failed: could not found expected ':'; line 114

---
[...]
  file.directory:
    - group: apache
    - mode: 775

/var/log/munin-graph.log
  file.managed:    <======================
    - group: apache
    - mode: 664

/var/www/html/munin:
  file.directory:
[...]
---
